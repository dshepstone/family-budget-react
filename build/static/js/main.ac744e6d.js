/*! For license information please see main.ac744e6d.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),a=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},684:()=>{Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift})},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")"+u+l+")*"),f="(?:"+[a+r+"?",r,o,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+f+c,"g");e.exports=function(e){return e.match(d)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,a,o,s){var l=-1,u=t.length;for(a||(a=i),s||(s=[]);++l<u;){var c=t[l];n>0&&a(c)?n>1?e(c,n-1,a,o,s):r(s,c):o||(s[s.length]=c)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),a=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),a=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(a.get||a.set)?i(o,n,a):o[n]=e[n]);return o}(e,t)}(n(5043)),i=c(n(5173)),a=c(n(7950)),o=n(1212),s=n(1777),l=n(2447),u=c(n(7768));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let h=p;class m extends r.Component{constructor(){super(...arguments),f(this,"dragging",!1),f(this,"lastX",NaN),f(this,"lastY",NaN),f(this,"touchIdentifier",null),f(this,"mounted",!1),f(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const r=(0,o.getTouchIdentifier)(e);this.touchIdentifier=r;const i=(0,s.getControlPosition)(e,r,this);if(null==i)return;const{x:a,y:l}=i,c=(0,s.createCoreData)(this,a,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart);!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(n),this.dragging=!0,this.lastX=a,this.lastY=l,(0,o.addEvent)(n,h.move,this.handleDrag),(0,o.addEvent)(n,h.stop,this.handleDragStop))}),f(this,"handleDrag",e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const i=(0,s.createCoreData)(this,n,r);(0,u.default)("DraggableCore: handleDrag: %j",i);if(!1!==this.props.onDrag(e,i)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(a){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}}),f(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const i=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,i)||!1===this.mounted)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(a.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,u.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(a.ownerDocument,h.move,this.handleDrag),(0,o.removeEvent)(a.ownerDocument,h.stop,this.handleDragStop))}),f(this,"onMouseDown",e=>(h=p,this.handleDragStart(e))),f(this,"onMouseUp",e=>(h=p,this.handleDragStop(e))),f(this,"onTouchStart",e=>(h=d,this.handleDragStart(e))),f(this,"onTouchEnd",e=>(h=d,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,d.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,d.move,this.handleDrag),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(t,d.stop,this.handleDragStop),(0,o.removeEvent)(e,d.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:a.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,f(m,"displayName","DraggableCore"),f(m,"propTypes",{allowAnyClick:i.default.bool,allowMobileScroll:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),f(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},944:()=>{!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1147:e=>{"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},i=function(e,n){return t({},e,n)};e.exports=function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.preserveFormatting,s=void 0!==o&&o,l=a.escapeMapFn,u=void 0===l?i:l,c=String(e),f="",d=u(t({},n),s?t({},r):{}),p=Object.keys(d),h=function(){var e=!1;p.forEach(function(t,n){e||c.length>=t.length&&c.slice(0,t.length)===t&&(f+=d[p[n]],c=c.slice(t.length,c.length),e=!0)}),e||(f+=c.slice(0,1),c=c.slice(1,c.length))};c;)h();return f}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=s(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},t.createSVGTransform=function(e,t){return s(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=s,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=o,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,n,r){if(!e)return;const i={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var r=n(2447),i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(a.get||a.set)?i(o,n,a):o[n]=e[n]);return o}(e,t)}(n(1561));let a="";function o(e,t){return a||(a=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,r.isFunction)(e[t])})),!!(0,r.isFunction)(e[a])&&e[a](t)}function s(e,t,n){let{x:r,y:i}=e,a=`translate(${r}${n},${i}${n})`;if(t){a=`translate(${`${"string"===typeof t.x?t.x:t.x+n}`}, ${`${"string"===typeof t.y?t.y:t.y+n}`})`+a}return a}function l(e){if(e)try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},1234:()=>{},1268:(e,t,n)=>{var r=n(5428),i=n(7574),a=n(6832),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let r=0;r<n.length;r++)if(i(e,n[r])in t)return n[r];return""}function i(e,t){return t?`${t}${function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)}`:e}t.default=r()},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),a=n(9096);e.exports=function(e,t){var n={};return t=a(t,3),i(e,function(e,i,a){r(n,i,t(e,i,a))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const i=!(0,r.isNum)(e.lastX),o=a(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:o}=e.props;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const s=a(e);if("string"===typeof o){const{ownerDocument:e}=s,t=e.defaultView;let n;if("parent"===o)n=s.parentNode;else{n=s.getRootNode().querySelector(o)}if(!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const a=n,l=t.getComputedStyle(s),u=t.getComputedStyle(a);o={left:-s.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(l.marginTop),right:(0,i.innerWidth)(a)-(0,i.outerWidth)(s)-s.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,i.innerHeight)(a)-(0,i.outerHeight)(s)-s.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const o=a(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(2447),i=n(1212);function a(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},1929:(e,t,n)=>{"use strict";const{default:r,DraggableCore:i}=n(8136);e.exports=r,e.exports.default=r,e.exports.DraggableCore=i},1937:function(e){!function(){"use strict";var t={s:1,n:0,d:1};function n(e,t){if(isNaN(e=parseInt(e,10)))throw u();return e*t}function r(e,t){if(0===t)throw l();var n=Object.create(s.prototype);n.s=e<0?-1:1;var r=o(e=e<0?-e:e,t);return n.n=e/r,n.d=t/r,n}function i(e){for(var t={},n=e,r=2,i=4;i<=n;){for(;n%r===0;)n/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var a=function(e,r){var i,a=0,o=1,s=1,f=0,d=0,p=0,h=1,m=1,g=0,y=1,v=1,b=1,x=1e7;if(void 0===e||null===e);else if(void 0!==r){if(s=(a=e)*(o=r),a%1!==0||o%1!==0)throw c()}else switch(typeof e){case"object":if("d"in e&&"n"in e)a=e.n,o=e.d,"s"in e&&(a*=e.s);else{if(!(0 in e))throw u();a=e[0],1 in e&&(o=e[1])}s=a*o;break;case"number":if(e<0&&(s=e,e=-e),e%1===0)a=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));y<=x&&b<=x;){if(e===(i=(g+v)/(y+b))){y+b<=x?(a=g+v,o=y+b):b>y?(a=v,o=b):(a=g,o=y);break}e>i?(g+=v,y+=b):(v+=g,b+=y),y>x?(a=v,o=b):(a=g,o=y)}a*=m}else(isNaN(e)||isNaN(r))&&(o=a=NaN);break;case"string":if(null===(y=e.match(/\d+|./g)))throw u();if("-"===y[g]?(s=-1,g++):"+"===y[g]&&g++,y.length===g+1?d=n(y[g++],s):"."===y[g+1]||"."===y[g]?("."!==y[g]&&(f=n(y[g++],s)),(++g+1===y.length||"("===y[g+1]&&")"===y[g+3]||"'"===y[g+1]&&"'"===y[g+3])&&(d=n(y[g],s),h=Math.pow(10,y[g].length),g++),("("===y[g]&&")"===y[g+2]||"'"===y[g]&&"'"===y[g+2])&&(p=n(y[g+1],s),m=Math.pow(10,y[g+1].length)-1,g+=3)):"/"===y[g+1]||":"===y[g+1]?(d=n(y[g],s),h=n(y[g+2],1),g+=3):"/"===y[g+3]&&" "===y[g+1]&&(f=n(y[g],s),d=n(y[g+2],s),h=n(y[g+4],1),g+=5),y.length<=g){s=a=p+(o=h*m)*f+m*d;break}default:throw u()}if(0===o)throw l();t.s=s<0?-1:1,t.n=Math.abs(a),t.d=Math.abs(o)};function o(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function s(e,n){if(a(e,n),!(this instanceof s))return r(t.s*t.n,t.d);e=o(t.d,t.n),this.s=t.s,this.n=t.n/e,this.d=t.d/e}var l=function(){return new Error("Division by Zero")},u=function(){return new Error("Invalid argument")},c=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return r(this.n,this.d)},neg:function(){return r(-this.s*this.n,this.d)},add:function(e,n){return a(e,n),r(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(e,n){return a(e,n),r(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(e,n){return a(e,n),r(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(e,n){return a(e,n),r(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return r(this.s*this.n,this.d)},mod:function(e,n){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===e)return r(this.s*this.n%this.d,1);if(a(e,n),0===t.n&&0===this.d)throw l();return r(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(e,n){return a(e,n),r(o(t.n,this.n)*o(t.d,this.d),t.d*this.d)},lcm:function(e,n){return a(e,n),0===t.n&&0===this.n?r(0,1):r(t.n*this.n,o(t.n,this.n)*o(t.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return r(this.s*this.d,this.n)},pow:function(e,n){if(a(e,n),1===t.d)return t.s<0?r(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):r(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var o=i(this.n),s=i(this.d),l=1,u=1;for(var c in o)if("1"!==c){if("0"===c){l=0;break}if(o[c]*=t.n,o[c]%t.d!==0)return null;o[c]/=t.d,l*=Math.pow(c,o[c])}for(var c in s)if("1"!==c){if(s[c]*=t.n,s[c]%t.d!==0)return null;s[c]/=t.d,u*=Math.pow(c,s[c])}return t.s<0?r(u,l):r(l,u)},equals:function(e,n){return a(e,n),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(e,n){a(e,n);var r=this.s*this.n*t.d-t.s*t.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),n=t.toContinued(),i=1;i<n.length;i++){for(var a=r(n[i-1],1),o=i-2;o>=0;o--)a=a.inverse().add(n[o]);if(Math.abs(a.sub(t).valueOf())<e)return a.mul(this.s)}return this},divisible:function(e,n){return a(e,n),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";e=e||15;var r=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,n),i=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),a=0;a<300;a++){if(r===i)return a;r=10*r%t,i=10*i%t}return 0}(0,n,r),a=this.s<0?"-":"";if(a+=t/n|0,t%=n,(t*=10)&&(a+="."),r){for(var o=i;o--;)a+=t/n|0,t%=n,t*=10;a+="(";for(o=r;o--;)a+=t/n|0,t%=n,t*=10;a+=")"}else for(o=e;t&&o--;)a+=t/n|0,t%=n,t*=10;return a}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,e.exports=s}()},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),a=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},2430:function(e,t,n){var r;!function(i,a,o){var s,l=256,u=o.pow(l,6),c=o.pow(2,52),f=2*c,d=255;function p(e,t,n){var r=[],d=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(i.crypto||i.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,v(a)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,y(v(p.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(o.random=e,t):e})(b,d,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);i<l;)o[i]=i++;for(i=0;i<l;i++)o[i]=o[a=d&a+e[i%n]+(t=o[i])],o[a]=t;(r.g=function(e){for(var t,n=0,i=r.i,a=r.j,o=r.S;e--;)t=o[i=d&i+1],n=n*l+o[d&(o[i]=o[a=d&a+t])+(o[a]=t)];return r.i=i,r.j=a,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==i?e:e+"\0"}function y(e,t){for(var n,r=e+"",i=0;i<r.length;)t[d&i]=d&(n^=19*t[d&i])+r.charCodeAt(i++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),a),e.exports){e.exports=p;try{s=n(1234)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),a=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),a=n(9096),o=n(8883),s=n(320),l=n(7574),u=n(5893),c=n(3279),f=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return f(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[c];var d=-1;t=r(t,l(a));var p=o(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++d,value:e}});return s(p,function(e,t){return u(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(h,e)||!f.call(p,e)&&(d.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var I,B=Object.assign;function R(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var z=!1;function L(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function U(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case N:return"Portal";case A:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,Se=null;function Ee(e){if(e=mi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=yi(t),we(e.stateNode,e.type,t))}}function Ae(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function ke(e,t){return e(t)}function _e(){}var De=!1;function Oe(e,t,n){if(De)return e(t,n);De=!0;try{return ke(e,t,n)}finally{De=!1,(null!==Ne||null!==Se)&&(_e(),Ce())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(c)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ec){Me=!1}function Pe(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Ie=null,Be=!1,Re=null,ze={onError:function(e){Fe=!0,Ie=e}};function Le(e,t,n,r,i,a,o,s,l){Fe=!1,Ie=null,Pe.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ue(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ve=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ct(s):0!==(a&=o)&&(r=ct(a))}else 0!==(o=n&~i)?r=ct(o):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,Nt,St,Et,At=!1,Ct=[],kt=null,_t=null,Dt=null,Ot=new Map,jt=new Map,Mt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=hi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Rt(e,t,n){Bt(e)&&n.delete(t)}function zt(){At=!1,null!==kt&&Bt(kt)&&(kt=null),null!==_t&&Bt(_t)&&(_t=null),null!==Dt&&Bt(Dt)&&(Dt=null),Ot.forEach(Rt),jt.forEach(Rt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Lt(t,e)}if(0<Ct.length){Lt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Lt(kt,e),null!==_t&&Lt(_t,e),null!==Dt&&Lt(Dt,e),Ot.forEach(t),jt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)It(n),null===n.blockedOn&&Mt.shift()}var qt=x.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,r){var i=vt,a=qt.transition;qt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=i,qt.transition=a}}function Ht(e,t,n,r){var i=vt,a=qt.transition;qt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=i,qt.transition=a}}function Kt(e,t,n,r){if($t){var i=Yt(e,t,n,r);if(null===i)Lr(e,t,r,Vt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Ft(kt,e,t,n,r,i),!0;case"dragenter":return _t=Ft(_t,e,t,n,r,i),!0;case"mouseover":return Dt=Ft(Dt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,Ft(jt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&Lr(e,t,r,Vt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Lr(e,t,r,null,n)}}var Vt=null;function Yt(e,t,n,r){if(Vt=null,null!==(e=hi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case Qe:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function Qt(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(ln),cn=B({},ln,{view:0,detail:0}),fn=rn(cn),dn=B({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(dn),hn=rn(B({},dn,{dataTransfer:0})),mn=rn(B({},cn,{relatedTarget:0})),gn=rn(B({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=rn(B({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vn=rn(B({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return Nn}var En=rn(B({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=rn(B({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(B({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),kn=rn(B({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=rn(B({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,jn=null;c&&"documentMode"in document&&(jn=document.documentMode);var Mn=c&&"TextEvent"in window&&!jn,Tn=c&&(!On||jn&&8<jn&&11>=jn),Pn=String.fromCharCode(32),Fn=!1;function In(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Un(e,t,n,r){Ae(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,$n=null;function Wn(e){Pr(e,0)}function Hn(e){if(V(gi(e)))return e}function Kn(e,t){if("change"===e)return t}var Vn=!1;if(c){var Yn;if(c){var Gn="oninput"in document;if(!Gn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Gn="function"===typeof Xn.oninput}Yn=Gn}else Yn=!1;Vn=Yn&&(!document.documentMode||9<document.documentMode)}function Jn(){qn&&(qn.detachEvent("onpropertychange",Zn),$n=qn=null)}function Zn(e){if("value"===e.propertyName&&Hn($n)){var t=[];Un(t,$n,e,xe(e)),Oe(Wn,t)}}function Qn(e,t,n){"focusin"===e?(Jn(),$n=n,(qn=t).attachEvent("onpropertychange",Zn)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn($n)}function tr(e,t){if("click"===e)return Hn(t)}function nr(e,t){if("input"===e||"change"===e)return Hn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=or(n,a);var o=or(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,dr=null,pr=null,hr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==dr||dr!==Y(r)||("selectionStart"in(r=dr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&ir(hr,r)||(hr=r,0<(r=qr(pr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},br={},xr={};function wr(e){if(br[e])return br[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var Nr=wr("animationend"),Sr=wr("animationiteration"),Er=wr("animationstart"),Ar=wr("transitionend"),Cr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Cr.set(e,t),l(t,[e])}for(var Dr=0;Dr<kr.length;Dr++){var Or=kr[Dr];_r(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}_r(Nr,"onAnimationEnd"),_r(Sr,"onAnimationIteration"),_r(Er,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Le.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Ie;Fe=!1,Ie=null,Be||(Be=!0,Re=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Tr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Tr(i,s,u),a=l}}}if(Be)throw e=Re,Be=!1,Re=null,e}function Fr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ir(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ir(t,!1,e),Ir(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ir("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Gt(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=hi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe(function(){var r=a,i=xe(n),o=[];e:{var s=Cr.get(e);if(void 0!==s){var l=un,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Nr:case Sr:case Er:l=gn;break;case Ar:l=kn;break;case"scroll":l=fn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=je(h,d))&&c.push(Ur(h,m,p)))),f)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!hi(u)&&!u[ci])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?hi(u):null)&&(u!==(f=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==l?s:gi(l),p=null==u?s:gi(u),(s=new c(m,h+"leave",l,n,i)).target=f,s.relatedTarget=p,m=null,hi(i)===r&&((c=new c(d,h+"enter",u,n,i)).target=p,c.relatedTarget=f,m=c),f=m,l&&u)e:{for(d=u,h=0,p=c=l;p;p=$r(p))h++;for(p=0,m=d;m;m=$r(m))p++;for(;0<h-p;)c=$r(c),h--;for(;0<p-h;)d=$r(d),p--;for(;h--;){if(c===d||null!==d&&c===d.alternate)break e;c=$r(c),d=$r(d)}c=null}else c=null;null!==l&&Wr(o,s,l,c,!1),null!==u&&null!==f&&Wr(o,f,u,c,!0)}if("select"===(l=(s=r?gi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Ln(s))if(Vn)g=nr;else{g=er;var y=Qn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?Un(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?gi(r):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(dr=y,pr=r,hr=null);break;case"focusout":hr=pr=dr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":gr(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Rn&&(v=Qt()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Rn=!0)),0<(y=qr(r,b)).length&&(b=new vn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!On&&In(e,t)?(e=Qt(),Zt=Jt=Xt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Pr(o,t)})}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Ur(e,a,i)),null!=(a=je(e,t))&&r.push(Ur(e,a,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=je(n,a))&&o.unshift(Ur(n,l,s)):i||null!=(l=je(n,a))&&o.push(Ur(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Vr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Kr,"")}function Yr(e,t,n){if(t=Vr(t),Vr(e)!==t&&n)throw Error(a(425))}function Gr(){}var Xr=null,Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Qr;function ri(e){setTimeout(function(){throw e})}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),li="__reactFiber$"+si,ui="__reactProps$"+si,ci="__reactContainer$"+si,fi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function hi(e){var t=e[li];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[li]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[li])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[li]||e[ci])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yi(e){return e[ui]||null}var vi=[],bi=-1;function xi(e){return{current:e}}function wi(e){0>bi||(e.current=vi[bi],vi[bi]=null,bi--)}function Ni(e,t){bi++,vi[bi]=e.current,e.current=t}var Si={},Ei=xi(Si),Ai=xi(!1),Ci=Si;function ki(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){wi(Ai),wi(Ei)}function Oi(e,t,n){if(Ei.current!==Si)throw Error(a(168));Ni(Ei,t),Ni(Ai,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,$(e)||"Unknown",i));return B({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ci=Ei.current,Ni(Ei,e),Ni(Ai,Ai.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,wi(Ai),wi(Ei),Ni(Ei,e)):wi(Ai),Ni(Ai,n)}var Pi=null,Fi=!1,Ii=!1;function Bi(e){null===Pi?Pi=[e]:Pi.push(e)}function Ri(){if(!Ii&&null!==Pi){Ii=!0;var e=0,t=vt;try{var n=Pi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pi=null,Fi=!1}catch(i){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ke(Ze,Ri),i}finally{vt=t,Ii=!1}}return null}var zi=[],Li=0,Ui=null,qi=0,$i=[],Wi=0,Hi=null,Ki=1,Vi="";function Yi(e,t){zi[Li++]=qi,zi[Li++]=Ui,Ui=e,qi=t}function Gi(e,t,n){$i[Wi++]=Ki,$i[Wi++]=Vi,$i[Wi++]=Hi,Hi=e;var r=Ki;e=Vi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-at(t)+i|n<<i|r,Vi=a+e}else Ki=1<<a|n<<i|r,Vi=e}function Xi(e){null!==e.return&&(Yi(e,1),Gi(e,1,0))}function Ji(e){for(;e===Ui;)Ui=zi[--Li],zi[Li]=null,qi=zi[--Li],zi[Li]=null;for(;e===Hi;)Hi=$i[--Wi],$i[Wi]=null,Vi=$i[--Wi],$i[Wi]=null,Ki=$i[--Wi],$i[Wi]=null}var Zi=null,Qi=null,ea=!1,ta=null;function na(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Zi=e,Qi=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Zi=e,Qi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Hi?{id:Ki,overflow:Vi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ku(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Zi=e,Qi=null,!0);default:return!1}}function ia(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function aa(e){if(ea){var t=Qi;if(t){var n=t;if(!ra(e,t)){if(ia(e))throw Error(a(418));t=ai(n.nextSibling);var r=Zi;t&&ra(e,t)?na(r,n):(e.flags=-4097&e.flags|2,ea=!1,Zi=e)}}else{if(ia(e))throw Error(a(418));e.flags=-4097&e.flags|2,ea=!1,Zi=e}}}function oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zi=e}function sa(e){if(e!==Zi)return!1;if(!ea)return oa(e),ea=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Qi)){if(ia(e))throw la(),Error(a(418));for(;t;)na(e,t),t=ai(t.nextSibling)}if(oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Qi=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Qi=null}}else Qi=Zi?ai(e.stateNode.nextSibling):null;return!0}function la(){for(var e=Qi;e;)e=ai(e.nextSibling)}function ua(){Qi=Zi=null,ea=!1}function ca(e){null===ta?ta=[e]:ta.push(e)}var fa=x.ReactCurrentBatchConfig;function da(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function pa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){return(0,e._init)(e._payload)}function ma(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Tu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&ha(a)===t.type)?((r=i(t,n.props)).ref=da(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=da(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=ju(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=da(e,null,t),n.return=e,n;case N:return(t=Pu(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=ju(t,e.mode,n,null)).return=e,t;pa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case N:return n.key===i?c(e,t,n,r):null;case M:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:f(e,t,n,r,null);pa(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);pa(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=p(i,f,s[m],l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,f=g}if(m===s.length)return n(i,f),ea&&Yi(i,m),u;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return ea&&Yi(i,m),u}for(f=r(i,f);m<s.length;m++)null!==(g=h(f,i,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(i,e)}),ea&&Yi(i,m),u}function g(i,s,l,u){var c=F(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,m=y}if(v.done)return n(i,m),ea&&Yi(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(s=o(v,s,g),null===f?c=v:f.sibling=v,f=v);return ea&&Yi(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=h(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===f?c=v:f.sibling=v,f=v);return e&&m.forEach(function(e){return t(i,e)}),ea&&Yi(i,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&ha(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=da(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=ju(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Ou(o.type,o.key,o.props,null,r.mode,l)).ref=da(r,a,o),l.return=r,r=l)}return s(r);case N:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Pu(o,r.mode,l)).return=r,r=a}return s(r);case M:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(F(o))return g(r,a,o,l);pa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Tu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var ga=ma(!0),ya=ma(!1),va=xi(null),ba=null,xa=null,wa=null;function Na(){wa=xa=ba=null}function Sa(e){var t=va.current;wi(va),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){ba=e,wa=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ba)throw Error(a(308));xa=e,ba.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ka=null;function _a(e){null===ka?ka=[e]:ka.push(e)}function Da(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ja=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ra(e,t,n,r){var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var f=i.baseState;for(o=0,c=u=l=null,s=a;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=m.payload)?h.call(p,f,d):h)||void 0===d)break e;f=B({},f,d);break e;case 2:ja=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=f):c=c.next=p,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=f}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var La={},Ua=xi(La),qa=xi(La),$a=xi(La);function Wa(e){if(e===La)throw Error(a(174));return e}function Ha(e,t){switch(Ni($a,t),Ni(qa,e),Ni(Ua,La),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(Ua),Ni(Ua,t)}function Ka(){wi(Ua),wi(qa),wi($a)}function Va(e){Wa($a.current);var t=Wa(Ua.current),n=le(t,e.type);t!==n&&(Ni(qa,e),Ni(Ua,n))}function Ya(e){qa.current===e&&(wi(Ua),wi(qa))}var Ga=xi(0);function Xa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=[];function Za(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var Qa=x.ReactCurrentDispatcher,eo=x.ReactCurrentBatchConfig,to=0,no=null,ro=null,io=null,ao=!1,oo=!1,so=0,lo=0;function uo(){throw Error(a(321))}function co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,o){if(to=o,no=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Go:Xo,e=n(r,i),oo){o=0;do{if(oo=!1,so=0,25<=o)throw Error(a(301));o+=1,io=ro=null,t.updateQueue=null,Qa.current=Jo,e=n(r,i)}while(oo)}if(Qa.current=Yo,t=null!==ro&&null!==ro.next,to=0,io=ro=no=null,ao=!1,t)throw Error(a(300));return e}function po(){var e=0!==so;return so=0,e}function ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===io?no.memoizedState=io=e:io=io.next=e,io}function mo(){if(null===ro){var e=no.alternate;e=null!==e?e.memoizedState:null}else e=ro.next;var t=null===io?no.memoizedState:io.next;if(null!==t)io=t,ro=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ro=e).memoizedState,baseState:ro.baseState,baseQueue:ro.baseQueue,queue:ro.queue,next:null},null===io?no.memoizedState=io=e:io=io.next=e}return io}function go(e,t){return"function"===typeof t?t(e):t}function yo(e){var t=mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ro,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((to&f)===f)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,no.lanes|=f,Ml|=f}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,no.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vo(e){var t=mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);rr(o,t.memoizedState)||(ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bo(){}function xo(e,t){var n=no,r=mo(),i=t(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,ms=!0),r=r.queue,Mo(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==io&&1&io.memoizedState.tag){if(n.flags|=2048,ko(9,No.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(a(349));0!==(30&to)||wo(n,t,i)}return i}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=no.updateQueue)?(t={lastEffect:null,stores:null},no.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&Ao(e)}function So(e,t,n){return n(function(){Eo(t)&&Ao(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Ao(e){var t=Oa(e,1);null!==t&&Zl(t,e,1,-1)}function Co(e){var t=ho();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,no,e),[t.memoizedState,e]}function ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=no.updateQueue)?(t={lastEffect:null,stores:null},no.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _o(){return mo().memoizedState}function Do(e,t,n,r){var i=ho();no.flags|=e,i.memoizedState=ko(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=mo();r=void 0===r?null:r;var a=void 0;if(null!==ro){var o=ro.memoizedState;if(a=o.destroy,null!==r&&co(r,o.deps))return void(i.memoizedState=ko(t,n,a,r))}no.flags|=e,i.memoizedState=ko(1|t,n,a,r)}function jo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function To(e,t){return Oo(4,2,e,t)}function Po(e,t){return Oo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Fo.bind(null,t,e),n)}function Bo(){}function Ro(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lo(e,t,n){return 0===(21&to)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=ht(),no.lanes|=n,Ml|=n,e.baseState=!0),t)}function Uo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=eo.transition;eo.transition={};try{e(!1),t()}finally{vt=n,eo.transition=r}}function qo(){return mo().memoizedState}function $o(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e))Ko(t,n);else if(null!==(n=Da(e,t,n,r))){Zl(n,e,r,Xl()),Vo(n,t,r)}}function Wo(e,t,n){var r=Jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Ko(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,o)){var l=t.interleaved;return null===l?(i.next=i,_a(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Da(e,t,i,r))&&(Zl(n,e,r,i=Xl()),Vo(n,t,r))}}function Ho(e){var t=e.alternate;return e===no||null!==t&&t===no}function Ko(e,t){oo=ao=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yo={readContext:Ca,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useInsertionEffect:uo,useLayoutEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useMutableSource:uo,useSyncExternalStore:uo,useId:uo,unstable_isNewReconciler:!1},Go={readContext:Ca,useCallback:function(e,t){return ho().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=ho();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ho();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,no,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ho().memoizedState=e},useState:Co,useDebugValue:Bo,useDeferredValue:function(e){return ho().memoizedState=e},useTransition:function(){var e=Co(!1),t=e[0];return e=Uo.bind(null,e[1]),ho().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=no,i=ho();if(ea){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&to)||wo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(So.bind(null,r,o,e),[e]),r.flags|=2048,ko(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ho(),t=Al.identifierPrefix;if(ea){var n=Vi;t=":"+t+"R"+(n=(Ki&~(1<<32-at(Ki)-1)).toString(32)+n),0<(n=so++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:Ca,useCallback:Ro,useContext:Ca,useEffect:Mo,useImperativeHandle:Io,useInsertionEffect:To,useLayoutEffect:Po,useMemo:zo,useReducer:yo,useRef:_o,useState:function(){return yo(go)},useDebugValue:Bo,useDeferredValue:function(e){return Lo(mo(),ro.memoizedState,e)},useTransition:function(){return[yo(go)[0],mo().memoizedState]},useMutableSource:bo,useSyncExternalStore:xo,useId:qo,unstable_isNewReconciler:!1},Jo={readContext:Ca,useCallback:Ro,useContext:Ca,useEffect:Mo,useImperativeHandle:Io,useInsertionEffect:To,useLayoutEffect:Po,useMemo:zo,useReducer:vo,useRef:_o,useState:function(){return vo(go)},useDebugValue:Bo,useDeferredValue:function(e){var t=mo();return null===ro?t.memoizedState=e:Lo(t,ro.memoizedState,e)},useTransition:function(){return[vo(go)[0],mo().memoizedState]},useMutableSource:bo,useSyncExternalStore:xo,useId:qo,unstable_isNewReconciler:!1};function Zo(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Qo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Jl(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(Zl(t,e,i,r),Ia(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xl(),i=Jl(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(Zl(t,e,i,r),Ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xl(),r=Jl(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(Zl(t,e,r,n),Ia(t,e,r))}};function ts(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,a))}function ns(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ca(a):(i=_i(t)?Ci:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function rs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function is(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ca(a):(a=_i(t)?Ci:Ei.current,i.context=ki(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Qo(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&es.enqueueReplaceState(i,i.state,null),Ra(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function as(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function os(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ls="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,Ul=r),ss(0,t)},n}function cs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function ds(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var hs=x.ReactCurrentOwner,ms=!1;function gs(e,t,n,r){t.child=null===e?ya(t,null,n,r):ga(t,e.child,n,r)}function ys(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=fo(e,t,n,r,a,i),n=po(),null===e||ms?(ea&&n&&Xi(t),t.flags|=1,gs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i))}function vs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||_u(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,bs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return Ls(e,t,i)}return t.flags|=1,(e=Du(a,r)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ls(e,t,i);0!==(131072&e.flags)&&(ms=!0)}}return Ns(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Dl,_l),_l|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Dl,_l),_l|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ni(Dl,_l),_l|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ni(Dl,_l),_l|=r;return gs(e,t,i,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,i){var a=_i(n)?Ci:Ei.current;return a=ki(t,a),Aa(t,i),n=fo(e,t,n,r,a,i),r=po(),null===e||ms?(ea&&r&&Xi(t),t.flags|=1,gs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ls(e,t,i))}function Ss(e,t,n,r,i){if(_i(n)){var a=!0;Mi(t)}else a=!1;if(Aa(t,i),null===t.stateNode)zs(e,t),ns(t,n,r),is(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ca(u):u=ki(t,u=_i(n)?Ci:Ei.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&rs(t,o,r,u),ja=!1;var d=t.memoizedState;o.state=d,Ra(t,r,o,i),l=t.memoizedState,s!==r||d!==l||Ai.current||ja?("function"===typeof c&&(Qo(t,n,c,r),l=t.memoizedState),(s=ja||ts(t,n,s,r,d,l,u))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ta(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Zo(t.type,s),o.props=u,f=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ca(l):l=ki(t,l=_i(n)?Ci:Ei.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==l)&&rs(t,o,r,l),ja=!1,d=t.memoizedState,o.state=d,Ra(t,r,o,i);var h=t.memoizedState;s!==f||d!==h||Ai.current||ja?("function"===typeof p&&(Qo(t,n,p,r),h=t.memoizedState),(u=ja||ts(t,n,u,r,d,h,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,a,i)}function Es(e,t,n,r,i,a){ws(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ti(t,n,!1),Ls(e,t,a);r=t.stateNode,hs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ga(t,e.child,null,a),t.child=ga(t,null,s,a)):gs(e,t,s,a),t.memoizedState=r.state,i&&Ti(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ha(e,t.containerInfo)}function Cs(e,t,n,r,i){return ua(),ca(i),t.flags|=256,gs(e,t,n,r),t.child}var ks,_s,Ds,Os,js={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ts(e,t,n){var r,i=t.pendingProps,o=Ga.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ni(Ga,1&o),null===e)return aa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mu(l,i,0,null),e=ju(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=js,e):Ps(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=os(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=ju(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ga(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=js,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=os(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),ms||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),Zl(r,e,i,-1))}return fu(),Fs(e,t,s,r=os(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Qi=ai(i.nextSibling),Zi=t,ea=!0,ta=null,null!==e&&($i[Wi++]=Ki,$i[Wi++]=Vi,$i[Wi++]=Hi,Ki=e.id,Vi=e.overflow,Hi=t),t=Ps(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Du(r,s):(s=ju(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=js,i}return e=(s=e.child).sibling,i=Du(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ps(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ca(r),ga(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Is(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Rs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=Ga.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Is(e,n,t);else if(19===e.tag)Is(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(Ga,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Xa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ls(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return _i(t.type)&&Di(),qs(t),null;case 3:return r=t.stateNode,Ka(),wi(Ai),wi(Ei),Za(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(sa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ta&&(nu(ta),ta=null))),_s(e,t),qs(t),null;case 5:Ya(t);var i=Wa($a.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qs(t),null}if(e=Wa(Ua.current),sa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[li]=t,r[ui]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Fr(jr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Q(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Gr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[li]=t,e[ui]=r,ks(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Fr(jr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=G(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":K(e),Q(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Wa($a.current),Wa(Ua.current),sa(t)){if(r=t.stateNode,n=t.memoizedProps,r[li]=t,(o=r.nodeValue!==n)&&null!==(e=Zi))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[li]=t,t.stateNode=r}return qs(t),null;case 13:if(wi(Ga),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ea&&null!==Qi&&0!==(1&t.mode)&&0===(128&t.flags))la(),ua(),t.flags|=98560,o=!1;else if(o=sa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[li]=t}else ua(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else null!==ta&&(nu(ta),ta=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ga.current)?0===Ol&&(Ol=3):fu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Ka(),_s(e,t),null===e&&Rr(t.stateNode.containerInfo),qs(t),null;case 10:return Sa(t.type._context),qs(t),null;case 19:if(wi(Ga),null===(o=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Us(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Xa(e))){for(t.flags|=128,Us(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Ga,1&Ga.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Rl&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Xa(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Us(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ea)return qs(t),null}else 2*Xe()-o.renderingStartTime>Rl&&1073741824!==n&&(t.flags|=128,r=!0,Us(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Ga.current,Ni(Ga,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return su(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_l)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ws(e,t){switch(Ji(t),t.tag){case 1:return _i(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ka(),wi(Ai),wi(Ei),Za(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ya(t),null;case 13:if(wi(Ga),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(Ga),null;case 4:return Ka(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return su(),null;default:return null}}ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_s=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wa(Ua.current);var a,o=null;switch(n){case"input":i=G(e,i),r=G(e,r),o=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Gr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Hs=!1,Ks=!1,Vs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Gs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function Xs(e,t,n){try{n()}catch(r){xu(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xs(t,n,a)}i=i.next}while(i!==r)}}function Qs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function tl(e){var t=e.alternate;null!==t&&(e.alternate=null,tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[li],delete t[ui],delete t[fi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Gr));else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}var ol=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Gs(n,t);case 6:var r=ol,i=sl;ol=null,ll(e,t,n),sl=i,null!==(ol=r)&&(sl?(e=ol,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ol.removeChild(n.stateNode));break;case 18:null!==ol&&(sl?(e=ol,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),Ut(e)):ii(ol,n.stateNode));break;case 4:r=ol,i=sl,ol=n.stateNode.containerInfo,sl=!0,ll(e,t,n),ol=r,sl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xs(n,t,o),i=i.next}while(i!==r)}ll(e,t,n);break;case 1:if(!Ks&&(Gs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xu(n,t,s)}ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,ll(e,t,n),Ks=r):ll(e,t,n);break;default:ll(e,t,n)}}function cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Vs),t.forEach(function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ol=l.stateNode,sl=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===ol)throw Error(a(160));ul(o,s,i),ol=null,sl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){xu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)dl(t,e),t=t.sibling}function dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),pl(e),4&r){try{Zs(3,e,e.return),Qs(3,e)}catch(g){xu(e,e.return,g)}try{Zs(5,e,e.return)}catch(g){xu(e,e.return,g)}}break;case 1:fl(t,e),pl(e),512&r&&null!==n&&Gs(n,n.return);break;case 5:if(fl(t,e),pl(e),512&r&&null!==n&&Gs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){xu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),ve(l,s);var c=ve(l,o);for(s=0;s<u.length;s+=2){var f=u[s],d=u[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?ce(i,d):"children"===f?fe(i,d):b(i,f,d,c)}switch(l){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(i,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[ui]=o}catch(g){xu(e,e.return,g)}}break;case 6:if(fl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xu(e,e.return,g)}}break;case 3:if(fl(t,e),pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){xu(e,e.return,g)}break;case 4:default:fl(t,e),pl(e);break;case 13:fl(t,e),pl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&cl(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||f,fl(t,e),Ks=c):fl(t,e),pl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ys=e,f=e.child;null!==f;){for(d=Ys=f;null!==Ys;){switch(h=(p=Ys).child,p.tag){case 0:case 11:case 14:case 15:Zs(4,p,p.return);break;case 1:Gs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xu(r,n,g)}}break;case 5:Gs(p,p.return);break;case 22:if(null!==p.memoizedState){yl(d);continue}}null!==h?(h.return=p,Ys=h):yl(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=he("display",s))}catch(g){xu(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){xu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(t,e),pl(e),4&r&&cl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),al(e,rl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;il(e,rl(e),o);break;default:throw Error(a(161))}}catch(s){xu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function hl(e,t,n){Ys=e,ml(e,t,n)}function ml(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Hs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Hs;var u=Ks;if(Hs=o,(Ks=l)&&!u)for(Ys=i;null!==Ys;)l=(o=Ys).child,22===o.tag&&null!==o.memoizedState?vl(i):null!==l?(l.return=o,Ys=l):vl(i);for(;null!==a;)Ys=a,ml(a,t,n),a=a.sibling;Ys=i,Hs=s,Ks=u}gl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):gl(e)}}function gl(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||Qs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&za(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(a(163))}Ks||512&t.flags&&el(t)}catch(p){xu(t,t.return,p)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function yl(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function vl(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qs(4,t)}catch(l){xu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xu(t,i,l)}}var a=t.return;try{el(t)}catch(l){xu(t,a,l)}break;case 5:var o=t.return;try{el(t)}catch(l){xu(t,o,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bl,xl=Math.ceil,wl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,Sl=x.ReactCurrentBatchConfig,El=0,Al=null,Cl=null,kl=0,_l=0,Dl=xi(0),Ol=0,jl=null,Ml=0,Tl=0,Pl=0,Fl=null,Il=null,Bl=0,Rl=1/0,zl=null,Ll=!1,Ul=null,ql=null,$l=!1,Wl=null,Hl=0,Kl=0,Vl=null,Yl=-1,Gl=0;function Xl(){return 0!==(6&El)?Xe():-1!==Yl?Yl:Yl=Xe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==kl?kl&-kl:null!==fa.transition?(0===Gl&&(Gl=ht()),Gl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function Zl(e,t,n,r){if(50<Kl)throw Kl=0,Vl=null,Error(a(185));gt(e,n,r),0!==(2&El)&&e===Al||(e===Al&&(0===(2&El)&&(Tl|=n),4===Ol&&ru(e,kl)),Ql(e,r),1===n&&0===El&&0===(1&t.mode)&&(Rl=Xe()+500,Fi&&Ri()))}function Ql(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Al?kl:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Fi=!0,Bi(e)}(iu.bind(null,e)):Bi(iu.bind(null,e)),ni(function(){0===(6&El)&&Ri()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=Qe;break;case 16:default:n=et;break;case 536870912:n=nt}n=Au(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if(Yl=-1,Gl=0,0!==(6&El))throw Error(a(327));var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=ft(e,e===Al?kl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=du(e,r);else{t=r;var i=El;El|=2;var o=cu();for(Al===e&&kl===t||(zl=null,Rl=Xe()+500,lu(e,t));;)try{hu();break}catch(l){uu(e,l)}Na(),wl.current=o,El=i,null!==Cl?t=0:(Al=null,kl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=tu(e,i))),1===t)throw n=jl,lu(e,0),ru(e,r),Ql(e,Xe()),n;if(6===t)ru(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!rr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=du(e,r))&&(0!==(o=pt(e))&&(r=o,t=tu(e,o))),1===t))throw n=jl,lu(e,0),ru(e,r),Ql(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:yu(e,Il,zl);break;case 3:if(ru(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qr(yu.bind(null,e,Il,zl),t);break}yu(e,Il,zl);break;case 4:if(ru(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=Qr(yu.bind(null,e,Il,zl),r);break}yu(e,Il,zl);break;default:throw Error(a(329))}}}return Ql(e,Xe()),e.callbackNode===n?eu.bind(null,e):null}function tu(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(lu(e,t).flags|=256),2!==(e=du(e,t))&&(t=Il,Il=n,null!==t&&nu(t)),e}function nu(e){null===Il?Il=e:Il.push.apply(Il,e)}function ru(e,t){for(t&=~Pl,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function iu(e){if(0!==(6&El))throw Error(a(327));vu();var t=ft(e,0);if(0===(1&t))return Ql(e,Xe()),null;var n=du(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=tu(e,r))}if(1===n)throw n=jl,lu(e,0),ru(e,t),Ql(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yu(e,Il,zl),Ql(e,Xe()),null}function au(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Rl=Xe()+500,Fi&&Ri())}}function ou(e){null!==Wl&&0===Wl.tag&&0===(6&El)&&vu();var t=El;El|=1;var n=Sl.transition,r=vt;try{if(Sl.transition=null,vt=1,e)return e()}finally{vt=r,Sl.transition=n,0===(6&(El=t))&&Ri()}}function su(){_l=Dl.current,wi(Dl)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Ka(),wi(Ai),wi(Ei),Za();break;case 5:Ya(r);break;case 4:Ka();break;case 13:case 19:wi(Ga);break;case 10:Sa(r.type._context);break;case 22:case 23:su()}n=n.return}if(Al=e,Cl=e=Du(e.current,null),kl=_l=t,Ol=0,jl=null,Pl=Tl=Ml=0,Il=Fl=null,null!==ka){for(t=0;t<ka.length;t++)if(null!==(r=(n=ka[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ka=null}return e}function uu(e,t){for(;;){var n=Cl;try{if(Na(),Qa.current=Yo,ao){for(var r=no.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ao=!1}if(to=0,io=ro=no=null,oo=!1,so=0,Nl.current=null,null===n||null===n.return){Ol=1,jl=t,Cl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=kl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,f=l,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ds(s);if(null!==h){h.flags&=-257,ps(h,s,l,0,t),1&h.mode&&fs(o,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){fs(o,c,t),fu();break e}u=Error(a(426))}else if(ea&&1&l.mode){var y=ds(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ps(y,s,l,0,t),ca(as(u,l));break e}}o=u=as(u,l),4!==Ol&&(Ol=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,us(0,u,t));break e;case 1:l=u;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,cs(o,l,t));break e}}o=o.return}while(null!==o)}gu(n)}catch(x){t=x,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function cu(){var e=wl.current;return wl.current=Yo,null===e?Yo:e}function fu(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Ml)&&0===(268435455&Tl)||ru(Al,kl)}function du(e,t){var n=El;El|=2;var r=cu();for(Al===e&&kl===t||(zl=null,lu(e,t));;)try{pu();break}catch(i){uu(e,i)}if(Na(),El=n,wl.current=r,null!==Cl)throw Error(a(261));return Al=null,kl=0,Ol}function pu(){for(;null!==Cl;)mu(Cl)}function hu(){for(;null!==Cl&&!Ye();)mu(Cl)}function mu(e){var t=bl(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?gu(e):Cl=t,Nl.current=null}function gu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,_l)))return void(Cl=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Ol=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Ol&&(Ol=5)}function yu(e,t,n){var r=vt,i=Sl.transition;try{Sl.transition=null,vt=1,function(e,t,n,r){do{vu()}while(null!==Wl);if(0!==(6&El))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Al&&(Cl=Al=null,kl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Au(et,function(){return vu(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Sl.transition,Sl.transition=null;var s=vt;vt=1;var l=El;El|=4,Nl.current=null,function(e,t){if(Xr=$t,ur(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(l=s),p===o&&++f===r&&(u=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},$t=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Zo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){xu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}m=Js,Js=!1}(e,n),dl(n,e),cr(Jr),$t=!!Xr,Jr=Xr=null,e.current=n,hl(n,e,i),Ge(),El=l,vt=s,Sl.transition=o}else e.current=n;if($l&&($l=!1,Wl=e,Hl=i),o=e.pendingLanes,0===o&&(ql=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ql(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ll)throw Ll=!1,e=Ul,Ul=null,e;0!==(1&Hl)&&0!==e.tag&&vu(),o=e.pendingLanes,0!==(1&o)?e===Vl?Kl++:(Kl=0,Vl=e):Kl=0,Ri()}(e,t,n,r)}finally{Sl.transition=i,vt=r}return null}function vu(){if(null!==Wl){var e=bt(Hl),t=Sl.transition,n=vt;try{if(Sl.transition=null,vt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Hl=0,0!==(6&El))throw Error(a(331));var i=El;for(El|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ys=c;null!==Ys;){var f=Ys;switch(f.tag){case 0:case 11:case 15:Zs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ys=d;else for(;null!==Ys;){var p=(f=Ys).sibling,h=f.return;if(tl(f),f===c){Ys=null;break}if(null!==p){p.return=h,Ys=p;break}Ys=h}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ys=v;break e}Ys=o.return}}var b=e.current;for(Ys=b;null!==Ys;){var x=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Ys=x;else e:for(s=b;null!==Ys;){if(0!==(2048&(l=Ys).flags))try{switch(l.tag){case 0:case 11:case 15:Qs(9,l)}}catch(N){xu(l,l.return,N)}if(l===s){Ys=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ys=w;break e}Ys=l.return}}if(El=i,Ri(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(N){}r=!0}return r}finally{vt=n,Sl.transition=t}}return!1}function bu(e,t,n){e=Fa(e,t=us(0,t=as(n,t),1),1),t=Xl(),null!==e&&(gt(e,1,t),Ql(e,t))}function xu(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Fa(t,e=cs(t,e=as(n,e),1),1),e=Xl(),null!==t&&(gt(t,1,e),Ql(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xl(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(kl&n)===n&&(4===Ol||3===Ol&&(130023424&kl)===kl&&500>Xe()-Bl?lu(e,0):Pl|=n),Ql(e,t)}function Nu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Xl();null!==(e=Oa(e,t))&&(gt(e,t,n),Ql(e,n))}function Su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nu(e,n)}function Au(e,t){return Ke(e,t)}function Cu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(e,t,n,r){return new Cu(e,t,n,r)}function _u(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)_u(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return ju(n.children,i,o,t);case E:s=8,i|=8;break;case A:return(e=ku(12,n,t,2|i)).elementType=A,e.lanes=o,e;case D:return(e=ku(13,n,t,i)).elementType=D,e.lanes=o,e;case O:return(e=ku(19,n,t,i)).elementType=O,e.lanes=o,e;case T:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case k:s=9;break e;case _:s=11;break e;case j:s=14;break e;case M:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ju(e,t,n,r){return(e=ku(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=ku(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Tu(e,t,n){return(e=ku(6,e,null,t)).lanes=n,e}function Pu(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,i,a,o,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=ku(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Bu(e){if(!e)return Si;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(_i(n))return ji(e,n,t)}return t}function Ru(e,t,n,r,i,a,o,s,l){return(e=Iu(n,r,!0,e,0,a,0,s,l)).context=Bu(null),n=e.current,(a=Pa(r=Xl(),i=Jl(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,gt(e,i,r),Ql(e,r),e}function zu(e,t,n,r){var i=t.current,a=Xl(),o=Jl(i);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,o))&&(Zl(e,i,o,a),Ia(e,i,o)),o}function Lu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Uu(e,t),(e=e.alternate)&&Uu(e,t)}bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:As(t),ua();break;case 5:Va(t);break;case 1:_i(t.type)&&Mi(t);break;case 4:Ha(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(Ga,1&Ga.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ts(e,t,n):(Ni(Ga,1&Ga.current),null!==(e=Ls(e,t,n))?e.sibling:null);Ni(Ga,1&Ga.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Rs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Ga,Ga.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Ls(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ea&&0!==(1048576&t.flags)&&Gi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=ki(t,Ei.current);Aa(t,n),i=fo(null,t,r,e,i,n);var o=po();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ma(t),i.updater=es,t.stateNode=i,i._reactInternals=t,is(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ea&&o&&Xi(t),gs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return _u(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===j)return 14}return 2}(r),e=Zo(r,e),i){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=vs(null,t,r,Zo(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Zo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Zo(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ta(e,t),Ra(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,r,n,i=as(Error(a(423)),t));break e}if(r!==i){t=Cs(e,t,r,n,i=as(Error(a(424)),t));break e}for(Qi=ai(t.stateNode.containerInfo.firstChild),Zi=t,ea=!0,ta=null,n=ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ua(),r===i){t=Ls(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return Va(t),null===e&&aa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==o&&Zr(r,o)&&(t.flags|=32),ws(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&aa(t),null;case 13:return Ts(e,t,n);case 4:return Ha(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ga(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ys(e,t,r,i=t.elementType===r?i:Zo(r,i),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ni(va,r._currentValue),r._currentValue=s,null!==o)if(rr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Ls(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Pa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ea(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}gs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Ca(i)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return i=Zo(r=t.type,t.pendingProps),vs(e,t,r,i=Zo(r.type,i),n);case 15:return bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zo(r,i),zs(e,t),t.tag=1,_i(r)?(e=!0,Mi(t)):e=!1,Aa(t,n),ns(t,r,i),is(t,r,i,n),Es(null,t,r,!0,e,n);case 19:return Rs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var $u="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Hu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Vu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Gu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Lu(o);s.call(e)}}zu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Lu(o);a.call(e)}}var o=Ru(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=o,e[ci]=o.current,Rr(8===e.nodeType?e.parentNode:e),ou(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Lu(l);s.call(e)}}var l=Iu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=l,e[ci]=l.current,Rr(8===e.nodeType?e.parentNode:e),ou(function(){zu(t,l,n,r)}),l}(n,t,e,i,r);return Lu(o)}Hu.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zu(e,t,null,null)},Hu.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ou(function(){zu(null,e,null,null)}),t[ci]=null}},Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&It(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(yt(t,1|n),Ql(t,Xe()),0===(6&El)&&(Rl=Xe()+500,Ri()))}break;case 13:ou(function(){var t=Oa(e,1);if(null!==t){var n=Xl();Zl(t,e,1,n)}}),qu(e,1)}},wt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)Zl(t,e,134217728,Xl());qu(e,134217728)}},Nt=function(e){if(13===e.tag){var t=Jl(e),n=Oa(e,t);if(null!==n)Zl(n,e,t,Xl());qu(e,t)}},St=function(){return vt},Et=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(a(90));V(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=au,_e=ou;var Xu={usingClientEntryPoint:!1,Events:[mi,gi,yi,Ae,Ce,au]},Ju={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zu={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{rt=Qu.inject(Zu),it=Qu}catch(ec){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(a(299));var n=!1,r="",i=$u;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Iu(e,1,!1,null,0,n,0,r,i),e[ci]=t.current,Rr(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ou(e)},t.hydrate=function(e,t,n){if(!Vu(t))throw Error(a(200));return Gu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=$u;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ru(t,null,e,1,null!=n?n:null,i,0,o,s),e[ci]=t.current,Rr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hu(t)},t.render=function(e,t,n){if(!Vu(t))throw Error(a(200));return Gu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(a(40));return!!e._reactRootContainer&&(ou(function(){Gu(null,null,e,!1,function(){e._reactRootContainer=null,e[ci]=null})}),!0)},t.unstable_batchedUpdates=au,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Gu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),i=n(7498),a=n(9096);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2949:e=>{function t(e){var n,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(r=t(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function n(){for(var e,n,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(n=t(e))&&(i&&(i+=" "),i+=n);return i}e.exports=n,e.exports.clsx=n},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},2999:(e,t,n)=>{var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,a;switch(n=n||{},i.util.type(t)){case"Object":if(a=i.util.objId(t),n[a])return n[a];for(var o in r={},n[a]=r,t)t.hasOwnProperty(o)&&(r[o]=e(t[o],n));return r;case"Array":return a=i.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach(function(t,i){r[i]=e(t,n)}),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"===typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var a=(r=r||i.languages)[e],o={};for(var s in a)if(a.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);n.hasOwnProperty(s)||(o[s]=a[s])}var u=r[e];return r[e]=o,i.languages.DFS(i.languages,function(t,n){n===u&&t!=e&&(this[t]=o)}),o},DFS:function e(t,n,r,a){a=a||{};var o=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],u=i.util.type(l);"Object"!==u||a[o(l)]?"Array"!==u||a[o(l)]||(a[o(l)]=!0,e(l,n,s,a)):(a[o(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var a,o=0;a=r.elements[o++];)i.highlightElement(a,!0===t,r.callback)},highlightElement:function(t,n,r){var a=i.util.getLanguage(t),o=i.languages[a];i.util.setLanguage(t,a);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,a);var l={element:t,language:a,grammar:o,code:t.textContent};function u(e){l.highlightedCode=e,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i.hooks.run("after-highlight",l),i.hooks.run("complete",l),r&&r.call(l.element)}if(i.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return i.hooks.run("complete",l),void(r&&r.call(l.element));if(i.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var c=new Worker(i.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else u(i.highlight(l.code,l.grammar,l.language));else u(i.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),a.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new l;return u(i,i.head,e),s(e,i,t,i.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,a=0;r=n[a++];)r(t)}},Token:a};function a(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function o(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var a=i[1].length;i.index+=a,i[0]=i[0].slice(a)}return i}function s(e,t,n,r,l,f){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(f&&f.cause==d+","+h)return;var m=p[h],g=m.inside,y=!!m.lookbehind,v=!!m.greedy,b=m.alias;if(v&&!m.pattern.global){var x=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,x+"g")}for(var w=m.pattern||m,N=r.next,S=l;N!==t.tail&&!(f&&S>=f.reach);S+=N.value.length,N=N.next){var E=N.value;if(t.length>e.length)return;if(!(E instanceof a)){var A,C=1;if(v){if(!(A=o(w,S,e,y))||A.index>=e.length)break;var k=A.index,_=A.index+A[0].length,D=S;for(D+=N.value.length;k>=D;)D+=(N=N.next).value.length;if(S=D-=N.value.length,N.value instanceof a)continue;for(var O=N;O!==t.tail&&(D<_||"string"===typeof O.value);O=O.next)C++,D+=O.value.length;C--,E=e.slice(S,D),A.index-=S}else if(!(A=o(w,0,E,y)))continue;k=A.index;var j=A[0],M=E.slice(0,k),T=E.slice(k+j.length),P=S+E.length;f&&P>f.reach&&(f.reach=P);var F=N.prev;if(M&&(F=u(t,F,M),S+=M.length),c(t,F,C),N=u(t,F,new a(d,g?i.tokenize(j,g):j,b,j)),T&&u(t,N,T),C>1){var I={cause:d+","+h,reach:P};s(e,t,n,N.prev,S,I),f&&I.reach>f.reach&&(f.reach=I.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function c(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach(function(t){r+=e(t,n)}),r}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(a.classes,o):a.classes.push(o)),i.hooks.run("wrap",a);var s="";for(var l in a.attributes)s+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+s+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,a=n.code,o=n.immediateClose;e.postMessage(i.highlight(a,i.languages[r],r)),o&&e.close()},!1),i):i;var f=i.util.currentScript();function d(){i.manual||i.highlightAll()}if(f&&(i.filename=f.src,f.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var p=document.readyState;"loading"===p||"interactive"===p&&f&&f.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return i}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),"undefined"!==typeof n.g&&(n.g.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};i["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},r.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if("undefined"!==typeof r&&"undefined"!==typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",n="loading",i="loaded",a="pre[data-src]:not(["+t+'="'+i+'"]):not(['+t+'="'+n+'"])';r.hooks.add("before-highlightall",function(e){e.selector+=", "+a}),r.hooks.add("before-sanity-check",function(o){var s=o.element;if(s.matches(a)){o.code="",s.setAttribute(t,n);var l=s.appendChild(document.createElement("CODE"));l.textContent="Loading\u2026";var u=s.getAttribute("data-src"),c=o.language;if("none"===c){var f=(/\.(\w+)$/.exec(u)||[,"none"])[1];c=e[f]||f}r.util.setLanguage(l,c),r.util.setLanguage(s,c);var d=r.plugins.autoloader;d&&d.loadLanguages(c),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n("\u2716 Error "+r.status+" while fetching file: "+r.statusText):n("\u2716 Error: File does not exist or is empty"))},r.send(null)}(u,function(e){s.setAttribute(t,i);var n=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],i=t[3];return r?i?[n,Number(i)]:[n,void 0]:[n,n]}}(s.getAttribute("data-range"));if(n){var a=e.split(/\r\n?|\n/g),o=n[0],u=null==n[1]?a.length:n[1];o<0&&(o+=a.length),o=Math.max(0,Math.min(o-1,a.length)),u<0&&(u+=a.length),u=Math.max(0,Math.min(u,a.length)),e=a.slice(o,u).join("\n"),s.hasAttribute("data-start")||s.setAttribute("data-start",String(o+1))}l.textContent=e,r.highlightElement(l)},function(e){s.setAttribute(t,"failed"),l.textContent=e})}}),r.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(a),i=0;t=n[i++];)r.highlightElement(t)}};var o=!1;r.fileHighlight=function(){o||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),o=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),a=n(4052),o=n(4543),s=n(9194),l=n(1268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),f=!n&&!c&&o(e),d=!n&&!c&&!f&&l(e),p=n||c||f||d,h=p?r(e.length,String):[],m=h.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3241:()=>{Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),a=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),a=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3636:()=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},3668:(e,t,n)=>{var r=n(8902),i=n(2587),a=n(8114);e.exports=function(e,t,n,o,s,l){var u=1&n,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var h=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var y=e[h],v=t[h];if(o)var b=u?o(v,y,h,t,e,l):o(y,v,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,function(e,t){if(!a(g,t)&&(y===e||s(y,e,n,o,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},3782:()=>{!function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)},3817:()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),a=n(2597),o=n(914);e.exports=function(e){return a(e)?r(o(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),a=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,f,d,p,h=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,h=t,f=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-h>=c}function x(){var e=i();if(b(e))return w(e);d=setTimeout(x,function(e){var n=t-(e-p);return g?s(n,c-(e-h)):n}(e))}function w(e){return d=void 0,y&&l?v(e):(l=u=void 0,f)}function N(){var e=i(),n=b(e);if(l=arguments,u=this,p=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(x,t),m?v(e):f}(p);if(g)return clearTimeout(d),d=setTimeout(x,t),v(p)}return void 0===d&&(d=setTimeout(x,t)),f}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?o(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),N.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=u=d=void 0},N.flush=function(){return void 0===d?f:w(i())},N}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)N.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+_(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),D(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+_(s=e[u],u);l+=D(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=D(s=s.value,t,i,c=a+_(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return D(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:S};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)N.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},4334:(e,t,n)=>{var r=n(7359),i=n(7066),a=n(9016),o=n(9538),s=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=i,u.xorwow=a,u.xorshift7=o,u.xor4096=s,u.tychei=l,e.exports=u},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),a=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var u=-1,c=i,f=e.length,d=!0,p=[],h=p;if(n)d=!1,c=a;else if(f>=200){var m=t?null:s(e);if(m)return l(m);d=!1,c=o,h=new r}else h=t?[]:p;e:for(;++u<f;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var v=h.length;v--;)if(h[v]===y)continue e;t&&h.push(y),p.push(g)}else c(h,y,n)||(h!==p&&h.push(y),p.push(g))}return p}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),a=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,i){return n=!!t(e,r,i)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),a=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),a=n(3366),o=n(2597),s=n(9417),l=n(1310),u=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(u(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5262:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),a=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5422:function(e){e.exports=function(){"use strict";function e(){return!0}function t(){return!1}function n(){}const r="Argument is not a typed-function.";function i(){function a(e){return"object"===typeof e&&null!==e&&e.constructor===Object}const o=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:a},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],s={name:"any",test:e,isAny:!0};let l,u,c=0,f={createCount:0};function d(e){const t=l.get(e);if(t)return t;let n='Unknown type "'+e+'"';const r=e.toLowerCase();let i;for(i of u)if(i.toLowerCase()===r){n+='. Did you mean "'+i+'" ?';break}throw new TypeError(n)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=t?d(t).index:u.length,r=[];for(let a=0;a<e.length;++a){if(!e[a]||"string"!==typeof e[a].name||"function"!==typeof e[a].test)throw new TypeError("Object with properties {name: string, test: function} expected");const t=e[a].name;if(l.has(t))throw new TypeError('Duplicate type name "'+t+'"');r.push(t),l.set(t,{name:t,test:e[a].test,isAny:e[a].isAny,index:n+a,conversionsTo:[]})}const i=u.slice(n);u=u.slice(0,n).concat(r).concat(i);for(let a=n+r.length;a<u.length;++a)l.get(u[a]).index=a}function h(){l=new Map,u=[],c=0,p([s],!1)}function m(){let e;for(e of u)l.get(e).conversionsTo=[];c=0}function g(e){const t=u.filter(t=>{const n=l.get(t);return!n.isAny&&n.test(e)});return t.length?t:["any"]}function y(e){return e&&"function"===typeof e&&"_typedFunctionData"in e}function v(e,t,n){if(!y(e))throw new TypeError(r);const i=n&&n.exact,a=A(Array.isArray(t)?t.join(","):t),o=w(a);if(!i||o in e.signatures){const t=e._typedFunctionData.signatureMap.get(o);if(t)return t}const s=a.length;let l,u;if(i){let t;for(t in l=[],e.signatures)l.push(e._typedFunctionData.signatureMap.get(t))}else l=e._typedFunctionData.signatures;for(let r=0;r<s;++r){const e=a[r],t=[];let n;for(n of l){const i=D(n.params,r);if(i&&(!e.restParam||i.restParam)){if(!i.hasAny){const t=E(i);if(e.types.some(e=>!t.has(e.name)))continue}t.push(n)}}if(l=t,0===l.length)break}for(u of l)if(u.params.length<=s)return u;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+w(a,", ")+"))")}function b(e,t,n){return v(e,t,n).implementation}function x(e,t){const n=d(t);if(n.test(e))return e;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+t+" defined.");for(let i=0;i<r.length;i++)if(d(r[i].from).test(e))return r[i].convert(e);throw new Error("Cannot convert "+e+" to "+t)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map(e=>e.name).join(t)}function N(e){const t=0===e.indexOf("..."),n=(t?e.length>3?e.slice(3):"any":e).split("|").map(e=>d(e.trim()));let r=!1,i=t?"...":"";return{types:n.map(function(e){return r=e.isAny||r,i+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}}),name:i.slice(0,-1),hasAny:r,hasConversion:!1,restParam:t}}function S(e){const t=R(e.types.map(e=>e.name));let n=e.hasAny,r=e.name;const i=t.map(function(e){const t=d(e.from);return n=t.isAny||n,r+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}});return{types:e.types.concat(i),name:r,hasAny:n,hasConversion:i.length>0,restParam:e.restParam}}function E(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach(t=>e.typeSet.add(t.name))),e.typeSet}function A(e){const t=[];if("string"!==typeof e)throw new TypeError("Signatures must be strings");const n=e.trim();if(""===n)return t;const r=n.split(",");for(let i=0;i<r.length;++i){const e=N(r[i].trim());if(e.restParam&&i!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[i]+'": only allowed for the last parameter');if(0===e.types.length)return null;t.push(e)}return t}function C(e){const t=X(e);return!!t&&t.restParam}function k(t){if(t&&0!==t.types.length){if(1===t.types.length)return d(t.types[0].name).test;if(2===t.types.length){const e=d(t.types[0].name).test,n=d(t.types[1].name).test;return function(t){return e(t)||n(t)}}{const e=t.types.map(function(e){return d(e.name).test});return function(t){for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}}return e}function _(e){let t,n,r;if(C(e)){t=G(e).map(k);const n=t.length,r=k(X(e)),i=function(e){for(let t=n;t<e.length;t++)if(!r(e[t]))return!1;return!0};return function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return i(e)&&e.length>=n+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=k(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=k(e[0]),r=k(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(k),function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function D(e,t){return t<e.length?e[t]:C(e)?X(e):null}function O(e,t){const n=D(e,t);return n?E(n):new Set}function j(e){return null===e.conversion||void 0===e.conversion}function M(e,t){const n=new Set;return e.forEach(e=>{const r=O(e.params,t);let i;for(i of r)n.add(i)}),n.has("any")?["any"]:Array.from(n)}function T(e,t,n){let r,i;const a=e||"unnamed";let o,s=n;for(o=0;o<t.length;o++){const e=[];if(s.forEach(n=>{const r=k(D(n.params,o));(o<n.params.length||C(n.params))&&r(t[o])&&e.push(n)}),0===e.length){if(i=M(s,o),i.length>0){const e=g(t[o]);return r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+e.join(" | ")+", index: "+o+")"),r.data={category:"wrongType",fn:a,index:o,actual:e,expected:i},r}}else s=e}const l=s.map(function(e){return C(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,l))return i=M(s,o),r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")"),r.data={category:"tooFewArgs",fn:a,index:t.length,expected:i},r;const u=Math.max.apply(null,l);if(t.length>u)return r=new TypeError("Too many arguments in function "+a+" (expected: "+u+", actual: "+t.length+")"),r.data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:u},r;const c=[];for(let f=0;f<t.length;++f)c.push(g(t[f]).join("|"));return r=new TypeError('Arguments of type "'+c.join(", ")+'" do not match any of the defined signatures of function '+a+"."),r.data={category:"mismatch",actual:c},r}function P(e){let t=u.length+1;for(let n=0;n<e.types.length;n++)j(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function F(e){let t=c+1;for(let n=0;n<e.types.length;n++)j(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function I(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return-1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return-1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return-1;const n=P(e)-P(t);if(n<0)return-1;if(n>0)return 1;const r=F(e)-F(t);return r<0?-1:r>0?1:0}function B(e,t){const n=e.params,r=t.params,i=X(n),a=X(r),o=C(n),s=C(r);if(o&&i.hasAny){if(!s||!a.hasAny)return 1}else if(s&&a.hasAny)return-1;let l,u=0,c=0;for(l of n)l.hasAny&&++u,l.hasConversion&&++c;let f=0,d=0;for(l of r)l.hasAny&&++f,l.hasConversion&&++d;if(u!==f)return u-f;if(o&&i.hasConversion){if(!s||!a.hasConversion)return 1}else if(s&&a.hasConversion)return-1;if(c!==d)return c-d;if(o){if(!s)return 1}else if(s)return-1;const p=(n.length-r.length)*(o?-1:1);if(0!==p)return p;const h=[];let m,g=0;for(let y=0;y<n.length;++y){const e=I(n[y],r[y]);h.push(e),g+=e}if(0!==g)return g;for(m of h)if(0!==m)return m;return 0}function R(e){if(0===e.length)return[];const t=e.map(d);e.length>1&&t.sort((e,t)=>e.index-t.index);let n=t[0].conversionsTo;if(1===e.length)return n;n=n.concat([]);const r=new Set(e);for(let i=1;i<t.length;++i){let e;for(e of t[i].conversionsTo)r.has(e.from)||(n.push(e),r.add(e.from))}return n}function z(e,t){let n=t;if(e.some(e=>e.hasConversion)){const r=C(e),i=e.map(L);n=function(){const e=[],n=r?arguments.length-1:arguments.length;for(let t=0;t<n;t++)e[t]=i[t](arguments[t]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(this,e)}}let r=n;if(C(e)){const t=e.length-1;r=function(){return n.apply(this,J(arguments,0,t).concat([J(arguments,t)]))}}return r}function L(e){let t,n,r,i;const a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(d(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],r=o[0],function(e){return t(e)?r(e):e};case 2:return t=a[0],n=a[1],r=o[0],i=o[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(let t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function U(e){function t(e,n,r){if(n<e.length){const i=e[n];let a=[];if(i.restParam){const e=i.types.filter(j);e.length<i.types.length&&a.push({types:e,name:"..."+e.map(e=>e.name).join("|"),hasAny:e.some(e=>e.isAny),hasConversion:!1,restParam:!0}),a.push(i)}else a=i.types.map(function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}});return Q(a,function(i){return t(e,n+1,r.concat([i]))})}return[r]}return t(e,0,[])}function q(e,t){const n=Math.max(e.length,t.length);for(let s=0;s<n;s++){const n=O(e,s),r=O(t,s);let i,a=!1;for(i of r)if(n.has(i)){a=!0;break}if(!a)return!1}const r=e.length,i=t.length,a=C(e),o=C(t);return a?o?r===i:i>=r:o?r>=i:r===i}function $(e){return e.map(e=>ie(e)?ne(e.referToSelf.callback):re(e)?te(e.referTo.references,e.referTo.callback):e)}function W(e,t,n){const r=[];let i;for(i of e){let e=n[i];if("number"!==typeof e)throw new TypeError('No definition for referenced signature "'+i+'"');if(e=t[e],"function"!==typeof e)return!1;r.push(e)}return r}function H(e,t,n){const r=$(e),i=new Array(r.length).fill(!1);let a=!0;for(;a;){a=!1;let e=!0;for(let o=0;o<r.length;++o){if(i[o])continue;const s=r[o];if(ie(s))r[o]=s.referToSelf.callback(n),r[o].referToSelf=s.referToSelf,i[o]=!0,e=!1;else if(re(s)){const n=W(s.referTo.references,r,t);n?(r[o]=s.referTo.callback.apply(this,n),r[o].referTo=s.referTo,i[o]=!0,e=!1):a=!0}}if(e&&a)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function K(e){const t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach(n=>{const r=e[n];if(t.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function V(e,r){if(f.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&K(r);const i=[],a=[],o={},s=[];let l;for(l in r){if(!Object.prototype.hasOwnProperty.call(r,l))continue;const e=A(l);if(!e)continue;i.forEach(function(t){if(q(t,e))throw new TypeError('Conflicting signatures "'+w(t)+'" and "'+w(e)+'".')}),i.push(e);const t=a.length;a.push(r[l]);const n=e.map(S);let u;for(u of U(n)){const e=w(u);s.push({params:u,name:e,fn:t}),u.every(e=>!e.hasConversion)&&(o[e]=t)}}s.sort(B);const u=H(a,o,le);let c;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(o[c]=u[o[c]]);const d=[],p=new Map;for(c of s)p.has(c.name)||(c.fn=u[c.fn],d.push(c),p.set(c.name,c));const h=d[0]&&d[0].params.length<=2&&!C(d[0].params),m=d[1]&&d[1].params.length<=2&&!C(d[1].params),g=d[2]&&d[2].params.length<=2&&!C(d[2].params),y=d[3]&&d[3].params.length<=2&&!C(d[3].params),v=d[4]&&d[4].params.length<=2&&!C(d[4].params),b=d[5]&&d[5].params.length<=2&&!C(d[5].params),x=h&&m&&g&&y&&v&&b;for(let t=0;t<d.length;++t)d[t].test=_(d[t].params);const N=h?k(d[0].params[0]):t,E=m?k(d[1].params[0]):t,D=g?k(d[2].params[0]):t,O=y?k(d[3].params[0]):t,j=v?k(d[4].params[0]):t,M=b?k(d[5].params[0]):t,T=h?k(d[0].params[1]):t,P=m?k(d[1].params[1]):t,F=g?k(d[2].params[1]):t,I=y?k(d[3].params[1]):t,R=v?k(d[4].params[1]):t,L=b?k(d[5].params[1]):t;for(let t=0;t<d.length;++t)d[t].implementation=z(d[t].params,d[t].fn);const $=h?d[0].implementation:n,W=m?d[1].implementation:n,V=g?d[2].implementation:n,Y=y?d[3].implementation:n,G=v?d[4].implementation:n,X=b?d[5].implementation:n,J=h?d[0].params.length:-1,Z=m?d[1].params.length:-1,Q=g?d[2].params.length:-1,ee=y?d[3].params.length:-1,te=v?d[4].params.length:-1,ne=b?d[5].params.length:-1,re=x?6:0,ie=d.length,ae=d.map(e=>e.test),oe=d.map(e=>e.implementation),se=function(){for(let e=re;e<ie;e++)if(ae[e](arguments))return oe[e].apply(this,arguments);return f.onMismatch(e,arguments,d)};function le(e,t){return arguments.length===J&&N(e)&&T(t)?$.apply(this,arguments):arguments.length===Z&&E(e)&&P(t)?W.apply(this,arguments):arguments.length===Q&&D(e)&&F(t)?V.apply(this,arguments):arguments.length===ee&&O(e)&&I(t)?Y.apply(this,arguments):arguments.length===te&&j(e)&&R(t)?G.apply(this,arguments):arguments.length===ne&&M(e)&&L(t)?X.apply(this,arguments):se.apply(this,arguments)}try{Object.defineProperty(le,"name",{value:e})}catch(ue){}return le.signatures=o,le._typedFunctionData={signatures:d,signatureMap:p},le}function Y(e,t,n){throw T(e,t,n)}function G(e){return J(e,0,e.length-1)}function X(e){return e[e.length-1]}function J(e,t,n){return Array.prototype.slice.call(e,t,n)}function Z(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Q(e,t){return Array.prototype.concat.apply([],e.map(t))}function ee(){const e=G(arguments).map(e=>w(A(e))),t=X(arguments);if("function"!==typeof t)throw new TypeError("Callback function expected as last argument");return te(e,t)}function te(e,t){return{referTo:{references:e,callback:t}}}function ne(e){if("function"!==typeof e)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function re(e){return e&&"object"===typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"===typeof e.referTo.callback}function ie(e){return e&&"object"===typeof e.referToSelf&&"function"===typeof e.referToSelf.callback}function ae(e,t){if(!e)return t;if(t&&t!==e){const n=new Error("Function names do not match (expected: "+e+", actual: "+t+")");throw n.data={actual:t,expected:e},n}return e}function oe(e){let t;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y(e[n])||"string"===typeof e[n].signature)&&(t=ae(t,e[n].name));return t}function se(e,t){let n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(n in e&&t[n]!==e[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:t[n],destFunction:e[n]},r}e[n]=t[n]}}h(),p(o);const le=f;function ue(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw new SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return f=function(e){const t="string"===typeof e;let n=t?e:"";const r={};for(let i=t?1:0;i<arguments.length;++i){const e=arguments[i];let o,s={};if("function"===typeof e?(o=e.name,"string"===typeof e.signature?s[e.signature]=e:y(e)&&(s=e.signatures)):a(e)&&(s=e,t||(o=oe(e))),0===Object.keys(s).length){const t=new TypeError("Argument to 'typed' at index "+i+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:i,argument:e},t}t||(n=ae(n,o)),se(r,s)}return V(n||"",r)},f.create=i,f.createCount=le.createCount,f.onMismatch=Y,f.throwMismatchError=Y,f.createError=T,f.clear=h,f.clearConversions=m,f.addTypes=p,f._findType=d,f.referTo=ee,f.referToSelf=ne,f.convert=x,f.findSignature=v,f.find=b,f.isTypedFunction=y,f.warnAgainstDeprecatedThis=!0,f.addType=function(e,t){let n="any";!1!==t&&l.has("Object")&&(n="Object"),f.addTypes([e],n)},f.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};ue(e);const n=d(e.to),r=n.conversionsTo.find(t=>t.from===e.from);if(r){if(!t||!t.override)throw new Error('There is already a conversion from "'+e.from+'" to "'+n.name+'"');f.removeConversion({from:r.from,to:e.to,convert:r.convert})}n.conversionsTo.push({from:e.from,convert:e.convert,index:c++})},f.addConversions=function(e,t){e.forEach(e=>f.addConversion(e,t))},f.removeConversion=function(e){ue(e);const t=d(e.to),n=Z(t.conversionsTo,t=>t.from===e.from);if(!n)throw new Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(n.convert!==e.convert)throw new Error("Conversion to remove does not match existing conversion");const r=t.conversionsTo.indexOf(n);t.conversionsTo.splice(r,1)},f.resolve=function(e,t){if(!y(e))throw new TypeError(r);const n=e._typedFunctionData.signatures;for(let r=0;r<n.length;++r)if(n[r].test(t))return n[r];return null},f}return i()}()},5428:(e,t,n)=>{var r=n(6913),i=n(6173),a=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),a=n(793),o=n(7760),s=n(3892),l=n(6788);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=n(l),r(e,this,u)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),a=n(6350);e.exports=function(e,t){return a(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:i.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++f<c;){var y=e[d=u[f]],v=t[d];if(a)var b=l?a(v,y,d,t,e,s):a(y,v,d,e,t,s);if(!(void 0===b?y===v||o(y,v,n,a,s):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5775:()=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5870:e=>{function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=n.length;++i<s;){var u=r(a[i],o[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}},5939:e=>{e.exports=function e(t,n){"use strict";var r,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(o,"")||"",d=c(n).replace(o,"")||"",p=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=d.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l),16)||1!==p.length&&f.match(s)&&Date.parse(f),g=parseInt(d.match(l),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var y=0,v=Math.max(p.length,h.length);y<v;y++){if(r=!(p[y]||"").match(u)&&parseFloat(p[y])||p[y]||0,i=!(h[y]||"").match(u)&&parseFloat(h[y])||h[y]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!==typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6043:()=>{!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6288:function(e,t,n){var r;!function(e,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,a=t.i;return t.w=r=r+1640531527|0,n=i[a+34&127],e=i[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,i,a,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=o,e.X=s,e.i=i}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case d:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case f:case m:case h:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===a}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),a=n(9987),o=n(5752),s=n(6924),l=n(4052),u=n(4543),c=n(1268),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?d:s(e),w=b?d:s(t),N=(x=x==f?p:x)==p,S=(w=w==f?p:w)==p,E=x==w;if(E&&u(e)){if(!u(t))return!1;v=!0,N=!1}if(E&&!N)return y||(y=new r),v||c(e)?i(e,t,n,m,g,y):a(e,t,x,n,m,g,y);if(!(1&n)){var A=N&&h.call(e,"__wrapped__"),C=S&&h.call(t,"__wrapped__");if(A||C){var k=A?e.value():e,_=C?t.value():t;return y||(y=new r),g(k,_,n,m,y)}}return!!E&&(y||(y=new r),o(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var u=n[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var p=new r;if(a)var h=a(f,d,c,e,t,p);if(!(void 0===h?i(d,f,3,a,p):h))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e===e,o=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!a)return 1;if(!i&&!o&&!c&&e<t||c&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!u)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),a=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),a=n(5387),o=n(2070),s=n(6600),l=n(6913),u=n(6996),c="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(r),g=u(i),y=u(a),v=u(o),b=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=h||i&&x(new i)!=c||a&&x(a.resolve())!=f||o&&x(new o)!=d||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return h;case g:return c;case y:return f;case v:return d;case b:return p}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),a=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?d:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),a=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},7066:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),a=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),a=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,d=null,p=3,h=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,T(N);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,v(C),C=-1),h=!0;var a=p;try{for(x(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!D());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&i(u),x(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var f=r(c);null!==f&&P(w,f.startTime-n),l=!1}return l}finally{d=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,A=null,C=-1,k=5,_=-1;function D(){return!(t.unstable_now()-_<k)}function O(){if(null!==A){var e=t.unstable_now();_=e;var n=!0;try{n=A(!0,e)}finally{n?S():(E=!1,A=null)}}else E=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,M=j.port2;j.port1.onmessage=O,S=function(){M.postMessage(null)}}else S=function(){y(O,0)};function T(e){A=e,E||(E=!0,S())}function P(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,T(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,P(w,a-o))):(e.sortIndex=s,n(u,e),m||h||(m=!0,T(N))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,a),!0;case 6:return c.fn.call(c.context,t,r,i,a,o),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var d,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7359:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},7424:(e,t,n)=>{var r=n(755),i=n(2536),a=n(5647),o=n(929),s=a(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7646:()=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},7676:(e,t,n)=>{var r=n(8189),i=n(6311),a=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},7819:()=>{Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7932:()=>{!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7956:()=>{Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},8114:e=>{e.exports=function(e,t){return e.has(t)}},8136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var i,a,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(i=t?r:n){if(i.has(e))return i.get(e);i.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((a=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(a.get||a.set)?i(o,n,a):o[n]=e[n]);return o}(e,t)}(n(5043)),i=d(n(5173)),a=d(n(7950)),o=n(2949),s=n(1212),l=n(1777),u=n(2447),c=d(n(935)),f=d(n(7768));function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),h(this,"onDragStart",(e,t)=>{(0,f.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[i,a]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=i,r.y=a,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)}),h(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,f.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??a.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:i,defaultClassName:a,defaultClassNameDragging:u,defaultClassNameDragged:f,position:d,positionOffset:h,scale:m,...g}=this.props;let y={},v=null;const b=!Boolean(d)||this.state.dragging,x=d||i,w={x:(0,l.canDragX)(this)&&b?this.state.x:x.x,y:(0,l.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(w,h):y=(0,s.createCSSTransform)(w,h);const N=(0,o.clsx)(n.props.className||"",a,{[u]:this.state.dragging,[f]:this.state.dragged});return r.createElement(c.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:N,style:{...n.props.style,...y},transform:v}))}}t.default=m,h(m,"displayName","Draggable"),h(m,"propTypes",{...c.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),h(m,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},8182:(e,t,n)=>{var r=n(2070),i=n(5713),a=n(2074),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",u=l+"Invalid argument: ",c=l+"Exponent out of range: ",f=Math.floor,d=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,m=9007199254740991,g=f(1286742750677284.5),y={};function v(e,t){var n,r,i,a,o,l,u,c,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),s?_(t,d):t;if(u=e.d,c=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i){for(a<0?(r=u,a=-a,l=c.length):(r=c,i=o,l=u.length),a>(l=(o=Math.ceil(d/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=u.length)-(a=c.length)<0&&(a=l,r=c,c=u,u=r),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/h|0,u[a]%=h;for(n&&(u.unshift(n),++i),l=u.length;0==u[--l];)u.pop();return t.d=u,t.e=i,s?_(t,d):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(u+e)}function x(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=A(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=A(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(C(n,o),C(e,o),o),s=!0,_(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):_(new r(n),i)},y.naturalExponential=y.exp=function(){return N(this)},y.naturalLogarithm=y.ln=function(){return C(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):D(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(l+"NaN")}for(e=S(u),s=!1,0==(i=Math.sqrt(+u))||i==1/0?(((t=x(u.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=f((e+1)/2)-(e<0||e%2),r=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(i.toString()),i=o=(n=c.precision)+3;;)if(r=(a=r).plus(w(u,a,o+2)).times(.5),x(a.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(_(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,_(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,o,l,u,c,f=this,d=f.constructor,p=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,n=f.e+e.e,(u=p.length)<(c=m.length)&&(a=p,p=m,m=a,o=u,u=c,c=o),a=[],r=o=u+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+m[r]*p[i-r-1]+t,a[i--]=l%h|0,t=l/h|0;a[i]=(a[i]+t)%h|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?_(e,d.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),_(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=O(r=_(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?O(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=O((r=_(new o(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return _(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,o,u,c=this,d=c.constructor,p=+(e=new d(e));if(!e.s)return new d(i);if(!(c=new d(c)).s){if(e.s<1)throw Error(l+"Infinity");return c}if(c.eq(i))return c;if(r=d.precision,e.eq(i))return _(c,r);if(u=(t=e.e)>=(n=e.d.length-1),o=c.s,u){if((n=p<0?-p:p)<=m){for(a=new d(i),t=Math.ceil(r/7+4),s=!1;n%2&&j((a=a.times(c)).d,t),0!==(n=f(n/2));)j((c=c.times(c)).d,t);return s=!0,e.s<0?new d(i).div(a):_(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,s=!1,a=e.times(C(c,r+12)),s=!0,(a=N(a)).s=o,a},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=O(i,(n=S(i))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),r=O(i=_(new o(i),e,t),e<=(n=S(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),_(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,u,c,f,d,p,m,g,y,v,b,x,w,N,E,A,C,k,D=r.constructor,O=r.s==i.s?1:-1,j=r.d,M=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(l+"Division by zero");for(u=r.e-i.e,C=M.length,E=j.length,g=(m=new D(O)).d=[],c=0;M[c]==(j[c]||0);)++c;if(M[c]>(j[c]||0)&&--u,(x=null==a?a=D.precision:o?a+(S(r)-S(i))+1:a)<0)return new D(0);if(x=x/7+2|0,c=0,1==C)for(f=0,M=M[0],x++;(c<E||f)&&x--;c++)w=f*h+(j[c]||0),g[c]=w/M|0,f=w%M|0;else{for((f=h/(M[0]+1)|0)>1&&(M=e(M,f),j=e(j,f),C=M.length,E=j.length),N=C,v=(y=j.slice(0,C)).length;v<C;)y[v++]=0;(k=M.slice()).unshift(0),A=M[0],M[1]>=h/2&&++A;do{f=0,(s=t(M,y,C,v))<0?(b=y[0],C!=v&&(b=b*h+(y[1]||0)),(f=b/A|0)>1?(f>=h&&(f=h-1),1==(s=t(d=e(M,f),y,p=d.length,v=y.length))&&(f--,n(d,C<p?k:M,p))):(0==f&&(s=f=1),d=M.slice()),(p=d.length)<v&&d.unshift(0),n(y,d,v),-1==s&&(s=t(M,y,C,v=y.length))<1&&(f++,n(y,C<v?k:M,v)),v=y.length):0===s&&(f++,y=[0]),g[c++]=f,s&&y[0]?y[v++]=j[N]||0:(y=[j[N]],v=1)}while((N++<E||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=u,_(m,o?a+S(m)+1:a)}}();function N(e,t){var n,r,a,o,l,u=0,f=0,p=e.constructor,h=p.precision;if(S(e)>16)throw Error(c+S(e));if(!e.s)return new p(i);for(null==t?(s=!1,l=h):l=t,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(l+=Math.log(d(2,f))/Math.LN10*2+5|0,n=r=a=new p(i),p.precision=l;;){if(r=_(r.times(e),l),n=n.times(++u),x((o=a.plus(w(r,n,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;f--;)a=_(a.times(a),l);return p.precision=h,null==t?(s=!0,_(a,h)):a}a=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function C(e,t){var n,r,a,o,u,c,f,d,p,h=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,d=v):d=t,m.eq(10))return null==t&&(s=!0),E(y,d);if(d+=10,y.precision=d,r=(n=x(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return f=E(y,d+2,v).times(o+""),m=C(new y(r+"."+n.slice(1)),d-10).plus(f),y.precision=v,null==t?(s=!0,_(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),h++;for(o=S(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),c=u=m=w(m.minus(i),m.plus(i),d),p=_(m.times(m),d),a=3;;){if(u=_(u.times(p),d),x((f=c.plus(w(u,new y(a),d))).d).slice(0,d)===x(c.d).slice(0,d))return c=c.times(2),0!==o&&(c=c.plus(E(y,d+2,v).times(o+""))),c=w(c,new y(h),d),y.precision=v,null==t?(s=!0,_(c,v)):c;c=f,a+=2}}function k(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=f(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(c+n)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,n){var r,i,a,o,l,u,p,m,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,p=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(p=a=y[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=p/(a=d(10,o-i-1))%10|0,u=t<0||void 0!==y[m+1]||p%a,u=n<4?(l||u)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||u||6==n&&(r>0?i>0?p/d(10,o-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return u?(a=S(e),y.length=1,t=t-a-1,y[0]=d(10,(7-t%7)%7),e.e=f(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=d(10,7-r),y[m]=i>0?(p/d(10,o-i)%d(10,i)|0)*a:0),u)for(;;){if(0==m){(y[0]+=a)==h&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=h)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(c+S(e));return e}function D(e,t){var n,r,i,a,o,l,u,c,f,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?_(t,m):t;if(u=e.d,d=t.d,r=t.e,c=e.e,u=u.slice(),o=c-r){for((f=o<0)?(n=u,o=-o,l=d.length):(n=d,r=c,l=u.length),o>(i=Math.max(Math.ceil(m/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((f=(i=u.length)<(l=d.length))&&(l=i),i=0;i<l;i++)if(u[i]!=d[i]){f=u[i]<d[i];break}o=0}for(f&&(n=u,u=d,d=n,t.s=-t.s),l=u.length,i=d.length-l;i>0;--i)u[l++]=0;for(i=d.length;i>o;){if(u[--i]<d[i]){for(a=i;a&&0===u[--a];)u[a]=h-1;--u[a],u[i]+=h}u[i]-=d[i]}for(;0===u[--l];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,s?_(t,m):t):new p(0)}function O(e,t,n){var r,i=S(e),a=x(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+A(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+A(-i-1)+a,n&&(r=n-o)>0&&(a+=A(r))):i>=o?(a+=A(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+A(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=A(r))),e.s<0?"-"+a:a}function j(e,t){if(e.length>t)return e.length=t,!0}function M(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(f(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(u+e);k(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=M,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),a=n(3279),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},8466:()=>{!function(e){var t=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}}(Prism)},8468:(e,t,n)=>{var r=n(5816),i=n(644),a=n(4020);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,i,n)}},8486:()=>{!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+a+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+a+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(t){["url","bold","italic","strike","code-snippet"].forEach(function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])})}),e.hooks.add("after-tokenize",function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!==typeof t)for(var n=0,r=t.length;n<r;n++){var i=t[n];if("code"===i.type){var a=i.content[1],o=i.content[3];if(a&&o&&"code-language"===a.type&&"code-block"===o.type&&"string"===typeof a.content){var s=a.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());o.alias?"string"===typeof o.alias?o.alias=[o.alias,l]:o.alias.push(l):o.alias=[l]}}else e(i.content)}}(e.tokens)}),e.hooks.add("wrap",function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var a=t.classes[r],u=/language-(.+)/.exec(a);if(u){n=u[1];break}}var c=e.languages[n];if(c)t.content=e.highlight(function(e){var t=e.replace(o,"");return t=t.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(e,t){var n;if("#"===(t=t.toLowerCase())[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n);var r=s[t];return r||e})}(t.content),c,n);else if(n&&"none"!==n&&e.plugins.autoloader){var f="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=f,e.plugins.autoloader.loadLanguages(n,function(){var t=document.getElementById(f);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))})}}});var o=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism)},8541:(e,t,n)=>{var r=n(9812),i=n(149),a=n(4052),o=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),a=n(6571);e.exports=function(e){return a(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),a=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,function(e,r,i){a[++n]=t(e,r,i)}),a}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),a=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9016:function(e,t,n){var r;!function(e,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},9057:(e,t,n)=>{var r=n(5324),i=n(2777),a=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&o(d,c)&&(a(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),a=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),a=n(715);e.exports=function(e){return i(e)?a(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),a=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),a=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),a=n(8673);e.exports=function(e){return r(e,a,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9538:function(e,t,n){var r;!function(e,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&o(r,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,i))||(i.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},9621:(e,t,n)=>{var r=n(7529),i=n(7828),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return a.call(e,t)}))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,a){for(var o=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=o}return u}},9765:()=>{!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),a=n(3211),o=n(3668),s=n(4160),l=n(2074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=o(p(e),p(t),r,u,f,d);return d.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),a=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!i(t)){var l=r(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,o);return u>-1?s[l?t[u]:u]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".38c8711d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="family-budget-react:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfamily_budget_react=self.webpackChunkfamily_budget_react||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>xa,scaleDiverging:()=>Zc,scaleDivergingLog:()=>Qc,scaleDivergingPow:()=>tf,scaleDivergingSqrt:()=>nf,scaleDivergingSymlog:()=>ef,scaleIdentity:()=>Ks,scaleImplicit:()=>va,scaleLinear:()=>Hs,scaleLog:()=>tl,scaleOrdinal:()=>ba,scalePoint:()=>Na,scalePow:()=>cl,scaleQuantile:()=>Nl,scaleQuantize:()=>Sl,scaleRadial:()=>pl,scaleSequential:()=>Hc,scaleSequentialLog:()=>Kc,scaleSequentialPow:()=>Yc,scaleSequentialQuantile:()=>Xc,scaleSequentialSqrt:()=>Gc,scaleSequentialSymlog:()=>Vc,scaleSqrt:()=>fl,scaleSymlog:()=>al,scaleThreshold:()=>El,scaleTime:()=>Uc,scaleUtc:()=>qc,tickFormat:()=>$s});var t={};n.r(t),n.d(t,{createAbs:()=>$A,createAccessorNode:()=>VM,createAcos:()=>uj,createAcosh:()=>_j,createAcot:()=>Oj,createAcoth:()=>Mj,createAcsc:()=>Pj,createAcsch:()=>Ij,createAdd:()=>TM,createAddScalar:()=>YA,createAnd:()=>aO,createApply:()=>HA,createApplyTransform:()=>UB,createArg:()=>Ok,createArrayNode:()=>GM,createAsec:()=>Rj,createAsech:()=>Lj,createAsin:()=>qj,createAsinh:()=>$j,createAssignmentNode:()=>nT,createAtan:()=>Wj,createAtan2:()=>Kj,createAtanh:()=>Yj,createAtomicMass:()=>vB,createAvogadro:()=>bB,createBellNumbers:()=>HF,createBigNumberClass:()=>tE,createBignumber:()=>aA,createBin:()=>gD,createBitAnd:()=>Nk,createBitNot:()=>Ek,createBitOr:()=>Ck,createBitXor:()=>Dk,createBlockNode:()=>iT,createBohrMagneton:()=>ZI,createBohrRadius:()=>iB,createBoltzmann:()=>xB,createBoolean:()=>iA,createCatalan:()=>VF,createCbrt:()=>ZA,createCeil:()=>aC,createChain:()=>wP,createChainClass:()=>hP,createClassicalElectronRadius:()=>aB,createClone:()=>xE,createColumn:()=>Kk,createColumnTransform:()=>qB,createCombinations:()=>lF,createCombinationsWithRep:()=>fF,createCompare:()=>sO,createCompareNatural:()=>fO,createCompareText:()=>hO,createCompile:()=>BT,createComplex:()=>oA,createComplexClass:()=>cE,createComposition:()=>GF,createConcat:()=>Wk,createConcatTransform:()=>rR,createConditionalNode:()=>oT,createConductanceQuantum:()=>QI,createConj:()=>Mk,createConstantNode:()=>mT,createCorr:()=>iF,createCos:()=>Xj,createCosh:()=>Zj,createCot:()=>Qj,createCoth:()=>tM,createCoulomb:()=>XI,createCount:()=>Yk,createCreateUnit:()=>sj,createCross:()=>Xk,createCsc:()=>nM,createCsch:()=>iM,createCtranspose:()=>W_,createCube:()=>sC,createCumSum:()=>HP,createCumSumTransform:()=>cR,createDeepEqual:()=>TO,createDenseMatrixClass:()=>vE,createDerivative:()=>fI,createDet:()=>NP,createDeuteronMass:()=>fB,createDiag:()=>Zk,createDiff:()=>g_,createDiffTransform:()=>aR,createDistance:()=>UP,createDivide:()=>zP,createDivideScalar:()=>_D,createDot:()=>RM,createDotDivide:()=>UD,createDotMultiply:()=>ik,createDotPow:()=>zD,createE:()=>OI,createEfimovFactor:()=>yB,createEigs:()=>_P,createElectricConstant:()=>YI,createElectronMass:()=>oB,createElementaryCharge:()=>JI,createEqual:()=>gO,createEqualScalar:()=>ZE,createEqualText:()=>bO,createErf:()=>tD,createEvaluate:()=>zT,createExp:()=>lC,createExpm:()=>OP,createExpm1:()=>cC,createFactorial:()=>EF,createFalse:()=>EI,createFaraday:()=>wB,createFermiCoupling:()=>sB,createFft:()=>V_,createFibonacciHeapClass:()=>KO,createFilter:()=>e_,createFilterTransform:()=>WB,createFineStructure:()=>lB,createFirstRadiation:()=>NB,createFix:()=>hC,createFlatten:()=>r_,createFloor:()=>vC,createForEach:()=>a_,createForEachTransform:()=>KB,createFormat:()=>mD,createFraction:()=>sA,createFractionClass:()=>dE,createFreqz:()=>yI,createFunctionAssignmentNode:()=>yT,createFunctionNode:()=>TT,createGamma:()=>xF,createGasConstant:()=>EB,createGcd:()=>TC,createGetMatrixDataType:()=>l_,createGravitationConstant:()=>WI,createGravity:()=>TB,createHartreeEnergy:()=>uB,createHasNumericValue:()=>LE,createHelp:()=>bP,createHelpClass:()=>dP,createHex:()=>vD,createHypot:()=>FM,createI:()=>RI,createIdentity:()=>c_,createIfft:()=>G_,createIm:()=>Tk,createImmutableDenseMatrixClass:()=>$O,createIndex:()=>UM,createIndexClass:()=>WO,createIndexNode:()=>bT,createIndexTransform:()=>VB,createInfinity:()=>CI,createIntersect:()=>qP,createInv:()=>SP,createInverseConductanceQuantum:()=>eB,createInvmod:()=>tk,createIsInteger:()=>DE,createIsNaN:()=>KE,createIsNegative:()=>IE,createIsNumeric:()=>RE,createIsPositive:()=>qE,createIsPrime:()=>AD,createIsZero:()=>WE,createKldivergence:()=>CF,createKlitzing:()=>rB,createKron:()=>d_,createLN10:()=>TI,createLN2:()=>MI,createLOG10E:()=>FI,createLOG2E:()=>PI,createLarger:()=>kO,createLargerEq:()=>OO,createLcm:()=>FC,createLeafCount:()=>JF,createLeftShift:()=>eO,createLgamma:()=>NF,createLog:()=>TD,createLog10:()=>BC,createLog1p:()=>FD,createLog2:()=>zC,createLoschmidt:()=>SB,createLsolve:()=>WD,createLsolveAll:()=>YD,createLup:()=>$T,createLusolve:()=>sP,createLyap:()=>RP,createMad:()=>XP,createMagneticConstant:()=>VI,createMagneticFluxQuantum:()=>tB,createMap:()=>p_,createMapTransform:()=>YB,createMatrix:()=>uA,createMatrixClass:()=>hE,createMatrixFromColumns:()=>mA,createMatrixFromFunction:()=>fA,createMatrixFromRows:()=>pA,createMax:()=>UO,createMaxTransform:()=>JB,createMean:()=>VP,createMeanTransform:()=>ZB,createMedian:()=>GP,createMin:()=>qO,createMinTransform:()=>QB,createMod:()=>AC,createMode:()=>cD,createMolarMass:()=>jB,createMolarMassC12:()=>MB,createMolarPlanckConstant:()=>AB,createMolarVolume:()=>CB,createMultinomial:()=>_F,createMultiply:()=>qC,createMultiplyScalar:()=>LC,createNaN:()=>kI,createNeutronMass:()=>dB,createNode:()=>$M,createNorm:()=>BM,createNot:()=>Lk,createNthRoot:()=>WC,createNthRoots:()=>BD,createNuclearMagneton:()=>nB,createNull:()=>AI,createNumber:()=>eA,createNumeric:()=>CD,createObjectNode:()=>wT,createOct:()=>yD,createOnes:()=>y_,createOperatorNode:()=>ST,createOr:()=>Uk,createParenthesisNode:()=>AT,createParse:()=>FT,createParser:()=>qT,createParserClass:()=>LT,createPartitionSelect:()=>RO,createPermutations:()=>OF,createPhi:()=>jI,createPi:()=>_I,createPickRandom:()=>IF,createPinv:()=>AP,createPlanckCharge:()=>BB,createPlanckConstant:()=>HI,createPlanckLength:()=>PB,createPlanckMass:()=>FB,createPlanckTemperature:()=>RB,createPlanckTime:()=>IB,createPolynomialRoot:()=>cP,createPow:()=>DD,createPrint:()=>wD,createPrintTransform:()=>hR,createProd:()=>pD,createProtonMass:()=>cB,createQr:()=>WT,createQuantileSeq:()=>tF,createQuantileSeqTransform:()=>lR,createQuantumOfCirculation:()=>pB,createRandom:()=>zF,createRandomInt:()=>UF,createRange:()=>N_,createRangeClass:()=>pE,createRangeNode:()=>kT,createRangeTransform:()=>eR,createRationalize:()=>pI,createRe:()=>Pk,createReducedPlanckConstant:()=>KI,createRelationalNode:()=>DT,createReplacer:()=>bI,createReshape:()=>E_,createResize:()=>A_,createResolve:()=>sI,createResultSet:()=>bN,createReviver:()=>vI,createRightArithShift:()=>nO,createRightLogShift:()=>iO,createRotate:()=>k_,createRotationMatrix:()=>D_,createRound:()=>MD,createRow:()=>O_,createRowTransform:()=>tR,createRydberg:()=>hB,createSQRT1_2:()=>II,createSQRT2:()=>BI,createSackurTetrode:()=>kB,createSchur:()=>IP,createSec:()=>aM,createSech:()=>sM,createSecondRadiation:()=>_B,createSetCartesian:()=>hM,createSetDifference:()=>gM,createSetDistinct:()=>vM,createSetIntersect:()=>xM,createSetIsSubset:()=>NM,createSetMultiplicity:()=>EM,createSetPowerset:()=>CM,createSetSize:()=>_M,createSetSymDifference:()=>OM,createSetUnion:()=>MM,createSign:()=>KC,createSimplify:()=>rI,createSimplifyConstant:()=>iI,createSimplifyCore:()=>oI,createSin:()=>lM,createSinh:()=>cM,createSize:()=>M_,createSlu:()=>rP,createSmaller:()=>wO,createSmallerEq:()=>EO,createSolveODE:()=>eD,createSort:()=>LO,createSpaClass:()=>VO,createSparse:()=>aj,createSparseMatrixClass:()=>QE,createSpeedOfLight:()=>$I,createSplitUnit:()=>yA,createSqrt:()=>VC,createSqrtm:()=>MP,createSquare:()=>GC,createSqueeze:()=>P_,createStd:()=>nF,createStdTransform:()=>oR,createStefanBoltzmann:()=>DB,createStirlingS2:()=>$F,createString:()=>nA,createSubset:()=>I_,createSubsetTransform:()=>nR,createSubtract:()=>JC,createSubtractScalar:()=>XA,createSum:()=>$P,createSumTransform:()=>sR,createSylvester:()=>PP,createSymbolNode:()=>OT,createSymbolicEqual:()=>uI,createTan:()=>fM,createTanh:()=>dM,createTau:()=>DI,createThomsonCrossSection:()=>mB,createTo:()=>SD,createTrace:()=>zM,createTranspose:()=>q_,createTrue:()=>SI,createTypeOf:()=>YE,createTyped:()=>pN,createUnaryMinus:()=>LA,createUnaryPlus:()=>qA,createUnequal:()=>FO,createUnitClass:()=>tj,createUnitFunction:()=>rj,createUppercaseE:()=>LI,createUppercasePi:()=>zI,createUsolve:()=>KD,createUsolveAll:()=>XD,createVacuumImpedance:()=>GI,createVariance:()=>QP,createVarianceTransform:()=>dR,createVersion:()=>UI,createWeakMixingAngle:()=>gB,createWienDisplacement:()=>OB,createXgcd:()=>QC,createXor:()=>qk,createZeros:()=>K_,createZeta:()=>lD,createZpk2tf:()=>mI});var r=n(5043),i=n(4391);const a="2.0.0",o={MONTHLY:[{key:"housing",name:"\ud83c\udfe0 Housing",icon:"\ud83c\udfe0"},{key:"taxes",name:"\ud83d\udcb8 Taxes",icon:"\ud83d\udcb8"},{key:"utilities",name:"\u26a1 Utilities",icon:"\u26a1"},{key:"insurance",name:"\ud83d\udee1\ufe0f Insurance",icon:"\ud83d\udee1\ufe0f"},{key:"banking",name:"\ud83c\udfe6 Banking",icon:"\ud83c\udfe6"},{key:"loans",name:"\ud83d\udcb3 Loans",icon:"\ud83d\udcb3"},{key:"credit",name:"\ud83d\udcb0 Credit",icon:"\ud83d\udcb0"},{key:"subscriptions",name:"\ud83d\udcf1 Subscriptions",icon:"\ud83d\udcf1"},{key:"food",name:"\ud83c\udf54 Food",icon:"\ud83c\udf54"},{key:"transportation",name:"\ud83d\ude97 Transportation",icon:"\ud83d\ude97"},{key:"medical",name:"\u2695\ufe0f Medical",icon:"\u2695\ufe0f"},{key:"personal",name:"\ud83d\udc64 Personal",icon:"\ud83d\udc64"},{key:"shopping",name:"\ud83d\uded2 Shopping",icon:"\ud83d\uded2"},{key:"dog",name:"\ud83d\udc15 Pet Care",icon:"\ud83d\udc15"},{key:"maintenance",name:"\ud83d\udd27 Maintenance",icon:"\ud83d\udd27"},{key:"gifts",name:"\ud83c\udf81 Gifts",icon:"\ud83c\udf81"}],ANNUAL:[{key:"yearly-subs",name:"\ud83d\udcc5 Annual Subscriptions",icon:"\ud83d\udcc5"},{key:"yearly-car",name:"\ud83d\ude99 Annual Car Expenses",icon:"\ud83d\ude99"},{key:"yearly-bank",name:"\ud83c\udfdb\ufe0f Annual Banking",icon:"\ud83c\udfdb\ufe0f"},{key:"yearly-insurance",name:"\ud83d\udee1\ufe0f Annual Insurance",icon:"\ud83d\udee1\ufe0f"},{key:"yearly-taxes",name:"\ud83d\udcca Annual Taxes",icon:"\ud83d\udcca"},{key:"yearly-travel",name:"\u2708\ufe0f Travel & Vacation",icon:"\u2708\ufe0f"},{key:"yearly-education",name:"\ud83c\udf93 Education",icon:"\ud83c\udf93"},{key:"yearly-professional",name:"\ud83d\udcbc Professional Development",icon:"\ud83d\udcbc"}]},s=0,l=7,u={PRIMARY:["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#e67e22","#95a5a6","#f1c40f"],EXPENSES:["#e74c3c","#c0392b","#a93226","#922b21","#7b241c","#641e16","#58181a","#4a1c1d","#3b1f20","#2d2223"],INCOME:["#2ecc71","#27ae60","#229954","#1e8449","#196f3d","#145a32","#0f4c26","#0a3d1b","#052e0f","#001f04"]};function c(){const e={},t={};return o.MONTHLY.forEach(t=>{e[t.key]=[]}),o.ANNUAL.forEach(e=>{t[e.key]=[]}),{income:[],monthly:e,annual:t,accounts:[],plannerState:{weeklyIncome:[0,0,0,0],weeklyExpenses:[0,0,0,0],monthlyTargets:{}},links:{},exportVersion:1,preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",theme:"light",notifications:!0}}}function f(e){return"string"!==typeof e?e:e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"")}function d(e){try{if("object"!==typeof e||null===e)return{valid:!1,error:"Invalid data format"};const t=e.data||e;if(!function(e){if(!e||"object"!==typeof e)return!1;const t=["income","monthly","annual","accounts"];for(const n of t)if(!e.hasOwnProperty(n))return console.warn(`Missing required property: ${n}`),!1;return Array.isArray(e.income)?"object"!==typeof e.monthly||"object"!==typeof e.annual?(console.warn("Monthly and annual expenses must be objects"),!1):!!Array.isArray(e.accounts)||(console.warn("Accounts must be an array"),!1):(console.warn("Income must be an array"),!1)}(t))return{valid:!1,error:"Invalid budget data structure"};let n=0;return t.monthly&&Object.values(t.monthly).forEach(e=>{Array.isArray(e)&&(n+=e.length)}),t.annual&&Object.values(t.annual).forEach(e=>{Array.isArray(e)&&(n+=e.length)}),{valid:!0,data:t,stats:{totalExpenses:n,hasIncome:Array.isArray(t.income)&&t.income.length>0,hasAccounts:Array.isArray(t.accounts)&&t.accounts.length>0}}}catch(t){return{valid:!1,error:t.message}}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";const r=parseFloat(e)||0;try{return new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(i){return`$${r.toFixed(2)}`}}function h(e){if(null===e||void 0===e||""===e)return 0;if("string"===typeof e){const t=e.replace(/[$,\s]/g,""),n=parseFloat(t);return isNaN(n)?0:n}const t=parseFloat(e);return isNaN(t)?0:t}function m(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getTime()-n.getTime(),i=Math.ceil(r/864e5);return 0===i?"Today":1===i?"Tomorrow":-1===i?"Yesterday":i>0?`In ${i} days`:i<0?`${Math.abs(i)} days ago`:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";if(!e)return"";const n=new Date(e);if(isNaN(n.getTime()))return"";const r={"MM/DD/YYYY":{month:"2-digit",day:"2-digit",year:"numeric"},"DD/MM/YYYY":{day:"2-digit",month:"2-digit",year:"numeric"},"YYYY-MM-DD":{year:"numeric",month:"2-digit",day:"2-digit"},"MMM DD, YYYY":{month:"short",day:"numeric",year:"numeric"},"MMMM DD, YYYY":{month:"long",day:"numeric",year:"numeric"}};try{return"YYYY-MM-DD"===t?n.toISOString().split("T")[0]:new Intl.DateTimeFormat("en-US",r[t]||r["MM/DD/YYYY"]).format(n)}catch(i){return n.toLocaleDateString()}}(e)}function g(e){return e?e.replace(/-/g," ").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return`${e}_${(new Date).toISOString().slice(0,19).replace(/[T:]/g,"-")}.${t}`}var v=n(579);const b=(0,r.createContext)(),x="LOAD_DATA",w="UPDATE_DATA",N="UPDATE_INCOME",S="UPDATE_MONTHLY_EXPENSE",E="REMOVE_MONTHLY_EXPENSE",A="UPDATE_ANNUAL_EXPENSE",C="REMOVE_ANNUAL_EXPENSE",k="ADD_ACCOUNT",_="UPDATE_ACCOUNT",D="REMOVE_ACCOUNT",O="UPDATE_PLANNER",j="SET_CURRENT_PAGE",M="RESET_DATA",T="TOGGLE_THEME",P="TOGGLE_CALCULATOR",F="UPDATE_LINKS",I="UPDATE_LINK_CATEGORIES",B="ADD_LINK_CATEGORY",R="REMOVE_LINK_CATEGORY",z={data:{...c(),links:{},linkCategories:{banking:{name:"Banking & Finance",icon:"\ud83c\udfe6",color:"#27ae60",createdDate:(new Date).toISOString()},utilities:{name:"Utilities",icon:"\u26a1",color:"#f39c12",createdDate:(new Date).toISOString()},government:{name:"Government",icon:"\ud83c\udfdb\ufe0f",color:"#9b59b6",createdDate:(new Date).toISOString()}}},currentPage:"home",theme:"light",isLoading:!1,lastUpdated:(new Date).toISOString(),plannerState:{},currentWeek:1,isCalculatorOpen:!1};function L(e,t){switch(t.type){case x:return{...e,data:{...e.data,...t.payload,linkCategories:t.payload.linkCategories||e.data.linkCategories,links:t.payload.links||{}},lastUpdated:(new Date).toISOString()};case w:return{...e,data:{...e.data,...t.payload},lastUpdated:(new Date).toISOString()};case F:return{...e,data:{...e.data,links:t.payload},lastUpdated:(new Date).toISOString()};case I:return{...e,data:{...e.data,linkCategories:t.payload},lastUpdated:(new Date).toISOString()};case B:return{...e,data:{...e.data,linkCategories:{...e.data.linkCategories,[t.categoryKey]:{...t.payload,createdDate:(new Date).toISOString()}}},lastUpdated:(new Date).toISOString()};case R:const{[t.categoryKey]:n,...r}=e.data.linkCategories,{[t.categoryKey]:i,...a}=e.data.links;return{...e,data:{...e.data,linkCategories:r,links:a},lastUpdated:(new Date).toISOString()};case N:return{...e,data:{...e.data,income:t.payload},lastUpdated:(new Date).toISOString()};case S:const o=[...e.data.monthly[t.category]||[]];return t.index>=0&&t.index<o.length?o[t.index]=t.payload:o.push(t.payload),{...e,data:{...e.data,monthly:{...e.data.monthly,[t.category]:o}},lastUpdated:(new Date).toISOString()};case E:const s=(e.data.monthly[t.category]||[]).filter((e,n)=>n!==t.index);return{...e,data:{...e.data,monthly:{...e.data.monthly,[t.category]:s}},lastUpdated:(new Date).toISOString()};case A:const l=[...e.data.annual[t.category]||[]];return t.index>=0&&t.index<l.length?l[t.index]=t.payload:l.push(t.payload),{...e,data:{...e.data,annual:{...e.data.annual,[t.category]:l}},lastUpdated:(new Date).toISOString()};case C:const u=(e.data.annual[t.category]||[]).filter((e,n)=>n!==t.index);return{...e,data:{...e.data,annual:{...e.data.annual,[t.category]:u}},lastUpdated:(new Date).toISOString()};case k:const f=Array.isArray(e.data.accounts)?[...e.data.accounts]:[];return f.push(t.payload),{...e,data:{...e.data,accounts:f},lastUpdated:(new Date).toISOString()};case _:const d=Array.isArray(e.data.accounts)?e.data.accounts.map(e=>e.id===t.payload.id?{...e,...t.payload}:e):[];return{...e,data:{...e.data,accounts:d},lastUpdated:(new Date).toISOString()};case D:const p=Array.isArray(e.data.accounts)?e.data.accounts.filter(e=>e.id!==t.id):[];return{...e,data:{...e.data,accounts:p},lastUpdated:(new Date).toISOString()};case O:return{...e,data:{...e.data,plannerState:t.payload},lastUpdated:(new Date).toISOString()};case j:return{...e,currentPage:t.payload};case M:return{...z,data:c()};case T:return{...e,theme:"light"===e.theme?"dark":"light"};case P:return{...e,isCalculatorOpen:!e.isCalculatorOpen};default:return e}}function U(e){let{children:t}=e;const[n,i]=(0,r.useReducer)(L,z);(0,r.useEffect)(()=>{try{const e=localStorage.getItem("family-budget-data");if(e){const t=JSON.parse(e);t&&"object"===typeof t&&i({type:x,payload:t})}}catch(e){0}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem("family-budget-data",JSON.stringify(n.data))}catch(e){0}},[n.data]);const a={loadData:e=>{i({type:x,payload:e})},updateData:e=>{i({type:w,payload:e})},updateIncome:e=>{i({type:N,payload:e})},updateMonthlyExpense:(e,t,n)=>{i({type:S,payload:t,category:e,index:n})},removeMonthlyExpense:(e,t)=>{i({type:E,category:e,index:t})},updateAnnualExpense:(e,t,n)=>{i({type:A,payload:t,category:e,index:n})},removeAnnualExpense:(e,t)=>{i({type:C,category:e,index:t})},addAccount:e=>{i({type:k,payload:e})},updateAccount:e=>{i({type:_,payload:e})},removeAccount:e=>{i({type:D,id:e})},updatePlanner:e=>{i({type:O,payload:e})},setCurrentPage:e=>{i({type:j,payload:e})},resetData:()=>{i({type:M})},toggleTheme:()=>{i({type:T})},toggleCalculator:()=>{i({type:P})},updateLinks:e=>{i({type:F,payload:e})},updateLinkCategories:e=>{i({type:I,payload:e})},addLinkCategory:(e,t)=>{i({type:B,categoryKey:e,payload:t})},removeLinkCategory:e=>{i({type:R,categoryKey:e})},addLink:(e,t)=>{const r=n.data.links||{},a=r[e]||[],o={...t,id:t.id||`link-${Date.now()}`,addedDate:t.addedDate||(new Date).toISOString()},s={...r,[e]:[...a,o]};i({type:F,payload:s})},updateLink:(e,t,r)=>{const a=n.data.links||{},o=(a[e]||[]).map(e=>e.id===t?{...e,...r}:e),s={...a,[e]:o};i({type:F,payload:s})},removeLink:(e,t)=>{const r=n.data.links||{},a=(r[e]||[]).filter(e=>e.id!==t),o={...r,[e]:a};i({type:F,payload:o})},distributeMonthlyToWeekly:(e,t,r)=>{const a=n.data.plannerState[e]||{weeks:Array(5).fill(0),transferred:Array(5).fill(!1),paid:Array(5).fill(!1)};if(r){const o=new Date(r).getDate();let s=Math.ceil(o/7)-1;s=Math.max(0,Math.min(4,s));const l=[...a.weeks];l[s]=t;const u={...a,weeks:l},c={...n.data.plannerState,[e]:u};i({type:O,payload:c})}},autoPopulatePlanner:()=>{const e={...n.data.plannerState};n.data.monthly&&Object.values(n.data.monthly).flat().forEach(t=>{if(t.name&&t.name.trim()&&!e[t.name]){const n=parseFloat(t.actual||t.amount||0);if(n>0){let r=Array(5).fill(0);if(t.date){const e=new Date(t.date).getDate();let i=Math.ceil(e/7)-1;i=Math.max(0,Math.min(4,i)),r[i]=n}else{const e=n/5;r=Array(5).fill(e)}e[t.name]={weeks:r,transferred:t.transferred?Array(5).fill(t.transferred):Array(5).fill(!1),paid:t.paid?Array(5).fill(t.paid):Array(5).fill(!1)}}}}),n.data.annual&&Object.values(n.data.annual).flat().forEach(t=>{if(t.name&&t.name.trim()&&!e[t.name]){const n=parseFloat(t.actual||t.amount||0);if(n>0){const r=n/12;let i=Array(5).fill(0);if(t.date){const e=new Date(t.date).getDate();let n=Math.ceil(e/7)-1;n=Math.max(0,Math.min(4,n)),i[n]=r}else{const e=r/5;i=Array(5).fill(e)}e[t.name]={weeks:i,transferred:t.transferred?Array(5).fill(t.transferred):Array(5).fill(!1),paid:t.paid?Array(5).fill(t.paid):Array(5).fill(!1)}}}}),i({type:O,payload:e})},updateExpenseStatus:(e,t,r,a,o,s)=>{let l={...n.data.monthly},u={...n.data.annual},c={...n.data.plannerState};if(t&&c[t]){const e={...c[t]};e[a]||(e[a]=Array(5).fill(!1)),e[a]=[...e[a]],e[a][r]=o,c[t]=e}"monthly"===s&&e&&Object.keys(l).forEach(t=>{const n=(l[t]||[]).findIndex(t=>t.id===e);-1!==n&&(l[t][n]={...l[t][n],[a]:o})}),"annual"===s&&e&&Object.keys(u).forEach(t=>{const n=(u[t]||[]).findIndex(t=>t.id===e);-1!==n&&(u[t][n]={...u[t][n],[a]:o})}),i({type:w,payload:{...n.data,monthly:l,annual:u,plannerState:c}})}},o={getTotalIncome:()=>Array.isArray(n.data.income)?n.data.income.reduce((e,t)=>e+(parseFloat(t.amount)||0),0):0,getTotalMonthlyExpenses:()=>{let e=0;return Object.values(n.data.monthly||{}).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{e+=parseFloat(t.actual||t.amount||0)})}),e},getTotalAnnualExpenses:()=>{let e=0;return Object.values(n.data.annual||{}).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{e+=parseFloat(t.actual||t.amount||0)})}),e},getMonthlyBalance:()=>o.getTotalIncome()-o.getTotalMonthlyExpenses()-o.getTotalAnnualExpenses()/12,getNetMonthlyIncome:()=>o.getMonthlyBalance(),getAnnualSavings:()=>12*o.getMonthlyBalance(),getCashFlow:()=>{const e=o.getTotalIncome(),t=o.getTotalMonthlyExpenses()+o.getTotalAnnualExpenses()/12;return{income:e,expenses:t,netIncome:e-t,savingsRate:e>0?(e-t)/e*100:0}},getSavingsRate:()=>{const e=o.getTotalIncome(),t=o.getTotalMonthlyExpenses()+o.getTotalAnnualExpenses()/12;return e<=0?0:(e-t)/e*100},getUpcomingExpenses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const t=[],r=new Date,i=new Date(r.getTime()+24*e*60*60*1e3);return Object.entries(n.data.monthly||{}).forEach(e=>{let[n,a]=e;a.forEach(e=>{if(e.date&&e.name){const a=new Date(e.date);a>=r&&a<=i&&t.push({...e,category:n,type:"monthly",daysUntilDue:Math.ceil((a-r)/864e5)})}})}),Object.entries(n.data.annual||{}).forEach(e=>{let[n,a]=e;a.forEach(e=>{if(e.date&&e.name){const a=new Date(e.date);a>=r&&a<=i&&t.push({...e,category:n,type:"annual",daysUntilDue:Math.ceil((a-r)/864e5)})}})}),t.sort((e,t)=>e.daysUntilDue-t.daysUntilDue)},getOverdueExpenses:()=>{const e=[],t=new Date;return Object.entries(n.data.monthly||{}).forEach(n=>{let[r,i]=n;i.forEach(n=>{if(n.date&&n.name&&!n.paid){const i=new Date(n.date);i<t&&e.push({...n,category:r,type:"monthly",daysOverdue:Math.ceil((t-i)/864e5)})}})}),Object.entries(n.data.annual||{}).forEach(n=>{let[r,i]=n;i.forEach(n=>{if(n.date&&n.name&&!n.paid){const i=new Date(n.date);i<t&&e.push({...n,category:r,type:"annual",daysOverdue:Math.ceil((t-i)/864e5)})}})}),e.sort((e,t)=>t.daysOverdue-e.daysOverdue)},getExpensesByStatus:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unpaid";const t=[];return Object.entries(n.data.monthly||{}).forEach(n=>{let[r,i]=n;i.forEach(n=>{if(n.name){const i=n.paid||!1,a=n.transferred||!1;"paid"===e&&i||"transferred"===e&&a?t.push({...n,category:r,type:"monthly"}):"unpaid"!==e||i||t.push({...n,category:r,type:"monthly"})}})}),Object.entries(n.data.annual||{}).forEach(n=>{let[r,i]=n;i.forEach(n=>{if(n.name){const i=n.paid||!1,a=n.transferred||!1;"paid"===e&&i||"transferred"===e&&a?t.push({...n,category:r,type:"annual"}):"unpaid"!==e||i||t.push({...n,category:r,type:"annual"})}})}),t},getWeeklyPlannerTotals:()=>{const e=[0,0,0,0,0],t=o.getWeeklyIncome(),r=n.data.plannerState||{};return Object.values(r).forEach(t=>{t.weeks&&Array.isArray(t.weeks)&&t.weeks.forEach((t,n)=>{n<5&&(e[n]+=parseFloat(t)||0)})}),e.map((e,n)=>({week:n+1,income:t[n]||0,expenses:e,balance:(t[n]||0)-e,expenseCount:Object.values(r).filter(e=>e.weeks&&e.weeks[n]&&parseFloat(e.weeks[n])>0).length}))},getPlannerExpensesByWeek:e=>{if(e<0||e>=5)return[];const t=[],r=n.data.plannerState||{};return Object.entries(r).forEach(n=>{let[r,i]=n;if(i.weeks&&i.weeks[e]){const n=parseFloat(i.weeks[e])||0;n>0&&t.push({name:r,amount:n,paid:!!i.paid&&i.paid[e],transferred:!!i.transferred&&i.transferred[e],week:e+1})}}),t.sort((e,t)=>t.amount-e.amount)},getTotalPlannedIncome:()=>o.getWeeklyIncome().reduce((e,t)=>e+t,0),getTotalPlannedExpenses:()=>{let e=0;const t=n.data.plannerState||{};return Object.values(t).forEach(t=>{t.weeks&&Array.isArray(t.weeks)&&t.weeks.forEach(t=>{e+=parseFloat(t)||0})}),e},getPlannerBalance:()=>o.getTotalPlannedIncome()-o.getTotalPlannedExpenses(),getCategoryTotal:function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?n.data.annual:n.data.monthly;return((null===t||void 0===t?void 0:t[e])||[]).reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0)},getMonthlyAnnualImpact:()=>o.getTotalAnnualExpenses()/12,getExpenseById:e=>{for(const[t,r]of Object.entries(n.data.monthly||{})){const n=r.find(t=>t.id===e);if(n)return{...n,category:t,type:"monthly"}}for(const[t,r]of Object.entries(n.data.annual||{})){const n=r.find(t=>t.id===e);if(n)return{...n,category:t,type:"annual"}}return null},getWeeklyIncome:()=>{const e=o.getTotalIncome();return Array(5).fill(e/4.33)},getTotalPlannedForWeek:e=>{if(e<0||e>=5)return 0;let t=0;return Object.values(n.data.plannerState||{}).forEach(n=>{n.weeks&&n.weeks[e]&&(t+=parseFloat(n.weeks[e])||0)}),t},getWeeklyBalance:e=>(o.getWeeklyIncome()[e]||0)-o.getTotalPlannedForWeek(e),getTotalLinksCount:()=>Object.values(n.data.links||{}).reduce((e,t)=>e+(Array.isArray(t)?t.length:0),0),getLinksCategoriesCount:()=>Object.keys(n.data.linkCategories||{}).length,getLargestLinkCategory:()=>{let e={name:"",count:0};return Object.entries(n.data.links||{}).forEach(t=>{let[r,i]=t;const a=Array.isArray(i)?i.length:0;if(a>e.count){var o;const t=null===(o=n.data.linkCategories)||void 0===o?void 0:o[r];e={name:(null===t||void 0===t?void 0:t.name)||r,count:a}}}),e}},s={state:n,actions:a,calculations:o,formatCurrency:p,parseAmount:h};return(0,v.jsx)(b.Provider,{value:s,children:t})}function q(){const e=(0,r.useContext)(b);if(!e)throw new Error("useBudget must be used within a BudgetProvider");return e}const $=()=>{const{state:e,actions:t}=q();return(0,v.jsxs)("nav",{className:"nav-bar",children:[[{id:"home",label:"Home",icon:"\ud83c\udfe0"},{id:"income",label:"Income",icon:"\ud83d\udcb5"},{id:"monthly",label:"Monthly Expenses",icon:"\ud83d\udcb3"},{id:"annual",label:"Annual Expenses",icon:"\ud83d\udcc5"},{id:"planner",label:"Weekly Planner",icon:"\ud83d\udccb"},{id:"notes",label:"Notes",icon:"\ud83d\udcdd"},{id:"import",label:"Import/Export",icon:"\ud83d\udcc2"},{id:"links",label:"Links",icon:"\ud83d\udd17"}].map(n=>(0,v.jsxs)("button",{className:"nav-btn "+(e.currentPage===n.id?"active":""),onClick:()=>{return e=n.id,void t.setCurrentPage(e);var e},"aria-label":`Navigate to ${n.label}`,children:[(0,v.jsx)("span",{className:"nav-icon",children:n.icon}),(0,v.jsx)("span",{className:"nav-label",children:n.label})]},n.id)),(0,v.jsxs)("button",{className:"nav-btn calculator-nav-btn",onClick:t.toggleCalculator,"aria-label":"Open Calculator",title:"Calculator (Ctrl+Shift+C)",children:[(0,v.jsx)("span",{className:"nav-icon",children:"\ud83e\uddee"}),(0,v.jsx)("span",{className:"nav-label",children:"Calculator"})]})]})},W=()=>{const{state:e,actions:t,calculations:n,formatCurrency:i}=q(),[o,s]=(0,r.useState)((new Date).getMonth()),[l,u]=(0,r.useState)(!1);r.useEffect(()=>{localStorage.getItem("privacy-notice-acknowledged")||u(!0)},[]);const c=(()=>{try{const t=(e.data.income||[]).reduce((e,t)=>{var n;const r=Array.isArray(t.payDates)&&t.payDates.length>0,a=parseFloat(t.projectedAmount||t.amount||0);let o=0;switch(t.frequency){case"weekly":o=r?a*t.payDates.length:a*(52/12);break;case"bi-weekly":o=r?a*t.payDates.length:a*(26/12);break;case"monthly":default:o=a;break;case"quarterly":o=a/3;break;case"semi-annual":o=a/6;break;case"annual":o=a/12;break;case"one-time":o=0}return console.log(`Header Income Calculation: ${t.name}\n          - Per Check: ${i(a)}\n          - Frequency: ${t.frequency}\n          - Pay Dates: ${(null===(n=t.payDates)||void 0===n?void 0:n.length)||0}\n          - Monthly Total: ${i(o)}`),e+o},0),r=n.getTotalMonthlyExpenses(),a=n.getMonthlyAnnualImpact();console.log(`Header Final Calculations:\n        - Total Projected Income: ${i(t)}\n        - Monthly Expenses: ${i(r)}\n        - Annual Impact (Monthly): ${i(a)}\n        - Net Income: ${i(t-r-a)}`);return{netIncome:t-r-a,totalIncome:t}}catch(t){return console.error("Error calculating projected net monthly income:",t),{netIncome:0,totalIncome:0}}})(),f=c.netIncome,d=c.totalIncome,p=(()=>{try{return n.getTotalMonthlyExpenses()+n.getMonthlyAnnualImpact()}catch(e){return 0}})();return(0,v.jsxs)(v.Fragment,{children:[l&&(0,v.jsx)("div",{className:"privacy-notice-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:(0,v.jsxs)("div",{className:"privacy-notice-modal",style:{backgroundColor:"white",borderRadius:"12px",padding:"2rem",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[(0,v.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,v.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,v.jsx)("h2",{style:{color:"#2563eb",marginBottom:"0.5rem"},children:"Your Privacy is Protected"}),(0,v.jsx)("p",{style:{color:"#6b7280",fontSize:"1.1rem"},children:"This budget application respects your privacy"})]}),(0,v.jsxs)("div",{style:{textAlign:"left",marginBottom:"2rem"},children:[(0,v.jsx)("h3",{style:{color:"#1f2937",marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83d\udee1\ufe0f Complete Privacy Guarantee"}),(0,v.jsxs)("div",{style:{backgroundColor:"#f0f9ff",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #0ea5e9"},children:[(0,v.jsx)("strong",{style:{color:"#0369a1"},children:"\u2705 Your data NEVER leaves your device"}),(0,v.jsxs)("ul",{style:{margin:"0.5rem 0 0 1rem",color:"#374151"},children:[(0,v.jsx)("li",{children:"All budget data is stored locally in your browser only"}),(0,v.jsx)("li",{children:"No accounts, registrations, or cloud storage"}),(0,v.jsx)("li",{children:"No data transmission to external servers"}),(0,v.jsx)("li",{children:"No cookies or tracking"})]})]}),(0,v.jsxs)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #22c55e"},children:[(0,v.jsx)("strong",{style:{color:"#15803d"},children:"\ud83d\udd12 Local Storage Only"}),(0,v.jsxs)("ul",{style:{margin:"0.5rem 0 0 1rem",color:"#374151"},children:[(0,v.jsx)("li",{children:"Data stays in your browser's local storage"}),(0,v.jsx)("li",{children:"Only you can access your financial information"}),(0,v.jsx)("li",{children:"Clear your browser data to remove all information"})]})]}),(0,v.jsxs)("div",{style:{backgroundColor:"#fef3c7",padding:"1rem",borderRadius:"8px",border:"1px solid #f59e0b"},children:[(0,v.jsx)("strong",{style:{color:"#d97706"},children:"\ud83d\udcf1 Device Recommendations"}),(0,v.jsxs)("ul",{style:{margin:"0.5rem 0 0 1rem",color:"#374151"},children:[(0,v.jsx)("li",{children:"Use on your personal devices for maximum security"}),(0,v.jsx)("li",{children:"Avoid public computers for sensitive financial data"}),(0,v.jsx)("li",{children:"Regular browser backups recommended for data safety"})]})]})]}),(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)("button",{onClick:()=>{localStorage.setItem("privacy-notice-acknowledged","true"),u(!1)},style:{backgroundColor:"#2563eb",color:"white",padding:"0.75rem 2rem",borderRadius:"8px",border:"none",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="#1d4ed8",onMouseOut:e=>e.target.style.backgroundColor="#2563eb",children:"I Understand - Continue to Budget App"})})]})}),(0,v.jsxs)("header",{className:"app-header",children:[(0,v.jsx)("div",{className:"privacy-badge",style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"#059669",color:"white",padding:"0.375rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:1e3,cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.2)"},onClick:()=>u(!0),onMouseOver:e=>{e.target.style.backgroundColor="#047857",e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)"},onMouseOut:e=>{e.target.style.backgroundColor="#059669",e.target.style.transform="translateY(0px)",e.target.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:"\ud83d\udd12 Private"}),(0,v.jsxs)("div",{className:"header-content",children:[(0,v.jsxs)("button",{className:"theme-toggle",onClick:()=>{t.toggleTheme()},"aria-label":"Toggle theme",children:[(0,v.jsx)("span",{className:"theme-icon",children:"light"===e.theme?"\ud83c\udf19":"\u2600\ufe0f"}),(0,v.jsx)("span",{className:"theme-toggle-text",children:"light"===e.theme?"Dark":"Light"})]}),(0,v.jsxs)("div",{className:"app-title-section",children:[(0,v.jsx)("div",{className:"app-logo",children:"\ud83d\udcb0"}),(0,v.jsxs)("div",{className:"title-info",children:[(0,v.jsx)("h1",{className:"app-title",children:"Family Budget"}),(0,v.jsx)("div",{className:"app-subtitle",children:"Complete Budget Management"})]})]}),(0,v.jsxs)("div",{className:"month-selector",children:[(0,v.jsx)("label",{htmlFor:"budget-month",className:"month-label",children:"Budget Month:"}),(0,v.jsx)("select",{id:"budget-month",value:o,onChange:e=>{s(parseInt(e.target.value))},className:"month-select",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,t)=>(0,v.jsx)("option",{value:t,children:e},t))})]}),(0,v.jsxs)("div",{className:"header-stats",children:[(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-label",children:"Net Monthly:"}),(0,v.jsx)("span",{className:"stat-value "+(f>=0?"positive":"negative"),children:i(f)})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-label",children:"Projected Income:"}),(0,v.jsx)("span",{className:"stat-value income-value",children:i(d)})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-label",children:"Total Expenses:"}),(0,v.jsx)("span",{className:"stat-value expense-value",children:i(p)})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-label",children:"Budget Health:"}),(0,v.jsx)("span",{className:"stat-value health-indicator "+(f>=0?"positive":"negative"),children:f>=0?"\u2705 Good":"\u26a0\ufe0f Alert"})]})]}),(0,v.jsxs)("div",{className:"version-info",children:[(0,v.jsxs)("span",{className:"version-number",children:["v",a]}),(0,v.jsx)("span",{className:"file-name",children:"Family Budget"})]})]})]})]})},H=()=>{const{calculations:e,formatCurrency:t}=q(),n=e.getTotalIncome(),r=e.getTotalMonthlyExpenses(),i=e.getMonthlyAnnualImpact(),a=e.getNetMonthlyIncome(),o=[{id:"net-income",label:"Net Monthly Cash",value:a,className:a>=0?"positive":"negative",icon:"\ud83d\udcb0",description:"Income minus all expenses"},{id:"total-income",label:"Total Monthly Income",value:n,className:"income",icon:"\ud83d\udcb5",description:"All income sources combined"},{id:"monthly-expenses",label:"Monthly Expenses",value:r,className:"expense",icon:"\ud83d\udcb3",description:"Recurring monthly expenses"},{id:"annual-impact",label:"Annual Impact (Monthly)",value:i,className:"annual",icon:"\ud83d\udcc5",description:"Annual expenses divided by 12"}];return(0,v.jsx)("div",{className:"summary-section",children:(0,v.jsx)("div",{className:"summary-grid",children:o.map(e=>(0,v.jsxs)("div",{className:`summary-card ${e.className}`,children:[(0,v.jsx)("div",{className:"summary-icon",children:e.icon}),(0,v.jsxs)("div",{className:"summary-content",children:[(0,v.jsx)("div",{className:"summary-label",children:e.label}),(0,v.jsx)("div",{className:`summary-amount ${e.className}`,children:t(e.value)}),(0,v.jsx)("div",{className:"summary-description",children:e.description})]}),(0,v.jsx)("div",{className:"summary-trend",children:(0,v.jsx)("span",{className:"trend-indicator",children:e.value>0&&"positive"===e.className?"\u2197\ufe0f":e.value<0&&"negative"===e.className?"\u2198\ufe0f":""})})]},e.id))})})},K=e=>{let{children:t,variant:n="primary",size:r="medium",onClick:i,disabled:a=!1,className:o="",type:s="button",...l}=e;const u=["btn",`btn-${n}`,`btn-${r}`,a?"btn-disabled":"",o].filter(Boolean).join(" ");return(0,v.jsx)("button",{type:s,className:u,onClick:i,disabled:a,...l,children:t})},V=e=>{let{expenses:t=[],maxDisplay:n=5}=e;const{formatCurrency:r,state:i}=q();if(!t||0===t.length)return(0,v.jsx)("div",{className:"upcoming-expenses empty",children:(0,v.jsxs)("div",{className:"empty-state",children:[(0,v.jsx)("span",{className:"empty-icon",children:"\u2705"}),(0,v.jsx)("h4",{children:"All Caught Up!"}),(0,v.jsx)("p",{children:"No upcoming expenses in the next 30 days."})]})});const a=t.sort((e,t)=>e.daysUntil<0&&t.daysUntil>=0?-1:t.daysUntil<0&&e.daysUntil>=0?1:e.daysUntil-t.daysUntil).slice(0,n);return(0,v.jsxs)("div",{className:"upcoming-expenses",children:[(0,v.jsx)("div",{className:"expenses-list",children:a.map((e,t)=>{const n=(a=e.daysUntil)<0?"overdue":a<=3?"urgent":a<=7?"soon":"upcoming";var a;const o=(e=>e<0?"\ud83d\udea8":e<=3?"\u26a0\ufe0f":e<=7?"\ud83d\udcc5":"\ud83d\udccb")(e.daysUntil),s=(e=>{if(e<0){const t=Math.abs(e);return`${t} day${1===t?"":"s"} overdue`}return 0===e?"Due today":1===e?"Due tomorrow":`Due in ${e} days`})(e.daysUntil),l=(Array.isArray(i.data.accounts)?i.data.accounts:[]).find(t=>t.id===e.accountId);return(0,v.jsxs)("div",{className:`expense-item ${n}`,children:[(0,v.jsxs)("div",{className:"expense-content",children:[(0,v.jsxs)("div",{className:"expense-header",children:[(0,v.jsxs)("div",{className:"expense-info",children:[(0,v.jsx)("span",{className:"urgency-icon",children:o}),(0,v.jsxs)("div",{className:"expense-details",children:[(0,v.jsx)("div",{className:"expense-name",children:e.name}),(0,v.jsxs)("div",{className:"expense-metadata",children:[(0,v.jsx)("span",{className:"expense-type",children:"monthly"===e.type?"Monthly":"Annual"}),l&&(0,v.jsxs)("span",{className:"expense-account",children:["\u2022 ",l.name]})]})]})]}),(0,v.jsx)("div",{className:"expense-amount",children:r(e.actual||e.amount||0)})]}),(0,v.jsxs)("div",{className:"expense-footer",children:[(0,v.jsxs)("div",{className:"timing-info",children:[(0,v.jsx)("span",{className:`timing-text ${n}`,children:s}),e.date&&(0,v.jsxs)("span",{className:"due-date",children:["(",m(e.date),")"]})]}),(0,v.jsxs)("div",{className:"expense-actions",children:[(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>(e=>{alert(`Mark "${e.name}" as paid? This feature would update the expense status.`)})(e),children:"Mark Paid"}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>(e=>{alert(`Navigate to ${"monthly"===e.type?"Monthly":"Annual"} Expenses page to edit "${e.name}"`)})(e),children:"View"})]})]})]}),(0,v.jsx)("div",{className:"urgency-bar",children:(0,v.jsx)("div",{className:`urgency-fill ${n}`,style:{width:e.daysUntil<0?"100%":e.daysUntil<=3?"90%":e.daysUntil<=7?"60%":"30%"}})})]},`${e.name}-${t}`)})}),t.length>n&&(0,v.jsxs)("div",{className:"expenses-footer",children:[(0,v.jsx)("div",{className:"more-expenses",children:(0,v.jsxs)("span",{children:["+",t.length-n," more upcoming expenses"]})}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>alert("Navigate to full expenses view"),children:"View All"})]}),(0,v.jsx)("div",{className:"expenses-stats",children:(0,v.jsxs)("div",{className:"stats-grid",children:[(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-value overdue",children:t.filter(e=>e.daysUntil<0).length}),(0,v.jsx)("span",{className:"stat-label",children:"Overdue"})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-value urgent",children:t.filter(e=>e.daysUntil>=0&&e.daysUntil<=3).length}),(0,v.jsx)("span",{className:"stat-label",children:"This Week"})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-value total",children:r(t.reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0))}),(0,v.jsx)("span",{className:"stat-label",children:"Total Due"})]})]})})]})};function Y(){const{state:e,actions:t}=q(),n=()=>{const t=[["Category","Name","Amount","Account","Date","Paid","Notes"].join(",")];return Object.entries(e.data.monthly).forEach(e=>{let[n,r]=e;r.forEach(e=>{const r=[n,e.name||"",e.actual||e.amount||0,e.accountId||"",e.date||"",e.paid?"Yes":"No",e.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);t.push(r.join(","))})}),t.join("\n")},r=()=>{const t=[["Category","Name","Amount","Account","Due Date","Frequency","Paid","Notes"].join(",")];return Object.entries(e.data.annual).forEach(e=>{let[n,r]=e;r.forEach(e=>{const r=[n,e.name||"",e.actual||e.amount||0,e.accountId||"",e.date||"",e.frequency||"annual",e.paid?"Yes":"No",e.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);t.push(r.join(","))})}),t.join("\n")},i=()=>{const t=[["Source","Amount","Frequency","Account","Notes"].join(",")];return e.data.income.forEach(e=>{const n=[e.name||"",e.amount||0,e.frequency||"monthly",e.account||"",e.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);t.push(n.join(","))}),t.join("\n")},o=()=>["# INCOME DATA",i(),"","# MONTHLY EXPENSES",n(),"","# ANNUAL EXPENSES",r()].join("\n");return{exportToJSON:async t=>{try{const r={exportDate:(new Date).toISOString(),version:a,appName:"Family Budget React",data:e.data},i=JSON.stringify(r,null,2),o=new Blob([i],{type:"application/json"}),s=t||y("family-budget","json");if(!("showSaveFilePicker"in window)){const e=URL.createObjectURL(o),t=document.createElement("a");return t.href=e,t.download=s,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e),{success:!0,filename:s}}try{const e=await window.showSaveFilePicker({suggestedName:s,types:[{description:"JSON files",accept:{"application/json":[".json"]}}]}),t=await e.createWritable();return await t.write(o),await t.close(),{success:!0,filename:e.name}}catch(n){if("AbortError"===n.name)return{success:!1,cancelled:!0};throw n}}catch(n){throw console.error("Export failed:",n),new Error(`Export failed: ${n.message}`)}},importFromJSON:async e=>{try{if(!e)throw new Error("No file provided");if(!e.name.toLowerCase().endsWith(".json"))throw new Error("Invalid file type. Please select a JSON file.");const n=await e.text(),r=d(JSON.parse(n));if(!r.valid)throw new Error(r.error);const i=`Import budget data from ${e.name}?\n\nStats:\n- Total Expenses: ${r.stats.totalExpenses}\n- Has Income Data: ${r.stats.hasIncome?"Yes":"No"}\n- Has Account Data: ${r.stats.hasAccounts?"Yes":"No"}\n\nThis will replace your current budget data.`;return window.confirm(i)?(t.loadData(r.data),{success:!0,filename:e.name,stats:r.stats}):{success:!1,cancelled:!0}}catch(n){throw console.error("Import failed:",n),new Error(`Import failed: ${n.message}`)}},exportToCSV:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{let t=[],a="";switch(e){case"monthly":t=n(),a=y("monthly-expenses","csv");break;case"annual":t=r(),a=y("annual-expenses","csv");break;case"income":t=i(),a=y("income","csv");break;default:t=o(),a=y("complete-budget","csv")}const s=new Blob([t],{type:"text/csv"});if("showSaveFilePicker"in window){const e=await window.showSaveFilePicker({suggestedName:a,types:[{description:"CSV files",accept:{"text/csv":[".csv"]}}]}),t=await e.createWritable();return await t.write(s),await t.close(),{success:!0,filename:e.name}}{const e=URL.createObjectURL(s),t=document.createElement("a");return t.href=e,t.download=a,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e),{success:!0,filename:a}}}catch(t){throw console.error("CSV export failed:",t),new Error(`CSV export failed: ${t.message}`)}},getCurrentState:()=>({exportDate:(new Date).toISOString(),version:a,data:e.data})}}const G=()=>{const{actions:e}=q(),{exportToJSON:t,importFromJSON:n}=Y(),i=(0,r.useRef)(null),a=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=()=>{if(a.current){a.current.querySelectorAll("button, .btn, .action-btn").forEach(e=>{const t=e.textContent||"",n=t.includes("\ud83d\udcc1"),r=t.includes("\ud83d\udcc2"),i=t.toLowerCase().includes("export"),a=t.toLowerCase().includes("import");(n||i)&&(e.classList.add("js-export-btn"),e.setAttribute("data-action","export"),console.log("Applied export styling to:",t)),(r||a)&&(e.classList.add("js-import-btn"),e.setAttribute("data-action","import"),console.log("Applied import styling to:",t))})}};e();const t=setTimeout(e,100);return()=>clearTimeout(t)},[]);return(0,v.jsxs)("div",{className:"quick-actions",ref:a,children:[(0,v.jsx)("style",{jsx:!0,children:'\n        /* Inline styles to ensure styling is applied */\n        .quick-actions .js-export-btn,\n        .quick-actions [data-action="export"] {\n          background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%) !important;\n          color: white !important;\n          font-weight: 600 !important;\n          border: 2px solid #7c3aed !important;\n          box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3) !important;\n        }\n        \n        .quick-actions .js-export-btn:hover,\n        .quick-actions [data-action="export"]:hover {\n          background: linear-gradient(135deg, #6d28d9 0%, #7c3aed 100%) !important;\n          transform: translateY(-3px) !important;\n          box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4) !important;\n        }\n        \n        .quick-actions .js-import-btn,\n        .quick-actions [data-action="import"] {\n          background: linear-gradient(135deg, #059669 0%, #10b981 100%) !important;\n          color: white !important;\n          font-weight: 600 !important;\n          border: 2px solid #059669 !important;\n          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3) !important;\n        }\n        \n        .quick-actions .js-import-btn:hover,\n        .quick-actions [data-action="import"]:hover {\n          background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;\n          transform: translateY(-3px) !important;\n          box-shadow: 0 6px 20px rgba(5, 150, 105, 0.4) !important;\n        }\n      '}),(0,v.jsxs)("div",{className:"actions-header",children:[(0,v.jsx)("h3",{children:"Quick Actions"}),(0,v.jsx)("p",{children:"Common tasks and shortcuts"})]}),(0,v.jsxs)("div",{className:"actions-grid",children:[(0,v.jsxs)(K,{variant:"primary",onClick:()=>{e.setCurrentPage("income")},className:"action-btn","data-action":"add-income",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb5"}),"Add Income"]}),(0,v.jsxs)(K,{variant:"primary",onClick:()=>{e.setCurrentPage("monthly")},className:"action-btn","data-action":"add-expense",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb3"}),"Add Expense"]}),(0,v.jsxs)(K,{variant:"secondary",onClick:()=>{e.setCurrentPage("planner")},className:"action-btn","data-action":"view-planner",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udccb"}),"Weekly Planner"]}),(0,v.jsxs)(K,{variant:"secondary",onClick:async()=>{try{await t()}catch(e){console.error("Export failed:",e),alert("Export failed. Please try again.")}},className:"action-btn export-data-btn js-export-btn","data-action":"export",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc1"}),"Export Data"]}),(0,v.jsxs)(K,{variant:"secondary",onClick:()=>{var e;null===(e=i.current)||void 0===e||e.click()},className:"action-btn import-data-btn js-import-btn","data-action":"import",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc2"}),"Import Data"]}),(0,v.jsxs)(K,{variant:"secondary",onClick:e.toggleCalculator,className:"action-btn","data-action":"calculator",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83e\uddee"}),"Calculator"]})]}),(0,v.jsx)("input",{ref:i,type:"file",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t)try{await n(t),e.target.value=""}catch(r){console.error("Import failed:",r),alert("Import failed. Please check the file format and try again.")}},style:{display:"none"}})]})};function X(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=X(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const J=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=X(e))&&(r&&(r+=" "),r+=t);return r};var Z=n(9889),Q=n.n(Z),ee=n(620),te=n.n(ee),ne=n(5268),re=n.n(ne),ie=n(3097),ae=n.n(ie),oe=n(9160),se=n.n(oe),le=n(9686),ue=n.n(le),ce=function(e){return 0===e?0:e>0?1:-1},fe=function(e){return te()(e)&&e.indexOf("%")===e.length-1},de=function(e){return se()(e)&&!re()(e)},pe=function(e){return de(e)||te()(e)},he=0,me=function(e){var t=++he;return"".concat(e||"").concat(t)},ge=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!de(e)&&!te()(e))return r;if(fe(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return re()(n)&&(n=r),i&&n>t&&(n=t),n},ye=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ve=function(e,t){return de(e)&&de(t)?function(n){return e+n*(t-e)}:function(){return t}};function be(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):ae()(e,t))===n}):null}var xe=function(e,t){return de(e)&&de(t)?e-t:te()(e)&&te()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},we=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Ne=n(1629),Se=n.n(Ne),Ee=n(6686),Ae=n.n(Ee),Ce=n(9062);function ke(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}var De=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Oe=["points","pathLength"],je={svg:["viewBox","children"],polygon:Oe,polyline:Oe},Me=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Te=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!Ae()(n))return null;var i={};return Object.keys(n).forEach(function(e){Me.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})}),i},Pe=function(e,t,n){if(!Ae()(e)||"object"!==_e(e))return null;var r=null;return Object.keys(e).forEach(function(i){var a=e[i];Me.includes(i)&&"function"===typeof a&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))}),r},Fe=["children"],Ie=["children"];function Be(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}var ze={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Le=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},Ue=null,qe=null,$e=function e(t){if(t===Ue&&Array.isArray(qe))return qe;var n=[];return r.Children.forEach(t,function(t){ue()(t)||((0,Ce.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),qe=n,Ue=t,n};function We(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return Le(e)}):[Le(t)],$e(e).forEach(function(e){var t=ae()(e,"type.displayName")||ae()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function He(e,t){var n=We(e,t);return n&&n[0]}var Ke=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!de(n)||n<=0||!de(r)||r<=0)},Ve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ye=function(e){return e&&e.type&&te()(e.type)&&Ve.indexOf(e.type)>=0},Ge=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!Ae()(i))return null;var a={};return Object.keys(i).forEach(function(e){var r;(function(e,t,n,r){var i,a=null!==(i=null===je||void 0===je?void 0:je[r])&&void 0!==i?i:[];return t.startsWith("data-")||!Se()(e)&&(r&&a.includes(t)||De.includes(t))||n&&Me.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(a[e]=i[e])}),a},Xe=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return Je(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<i;a++){var o=t[a],s=n[a];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!Je(o,s))return!1}return!0},Je=function(e,t){if(ue()(e)&&ue()(t))return!0;if(!ue()(e)&&!ue()(t)){var n=e.props||{},r=n.children,i=Be(n,Fe),a=t.props||{},o=a.children,s=Be(a,Ie);return r&&o?ke(i,s)&&Xe(r,o):!r&&!o&&ke(i,s)}return!1},Ze=function(e,t){var n=[],r={};return $e(e).forEach(function(e,i){if(Ye(e))n.push(e);else if(e){var a=Le(e.type),o=t[a]||{},s=o.handler,l=o.once;if(s&&(!l||!r[a])){var u=s(e,a,i);n.push(u),r[a]=!0}}}),n};function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach(function(t){nt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Qe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var at=(0,r.forwardRef)(function(e,t){var n=e.aspect,i=e.initialDimension,a=void 0===i?{width:-1,height:-1}:i,o=e.width,s=void 0===o?"100%":o,l=e.height,u=void 0===l?"100%":l,c=e.minWidth,f=void 0===c?0:c,d=e.minHeight,p=e.maxHeight,h=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,N=(0,r.useRef)(null),S=(0,r.useRef)();S.current=b,(0,r.useImperativeHandle)(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var E=rt((0,r.useState)({containerWidth:a.width,containerHeight:a.height}),2),A=E[0],C=E[1],k=(0,r.useCallback)(function(e,t){C(function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);(0,r.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;k(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};g>0&&(e=Q()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=N.current.getBoundingClientRect(),r=n.width,i=n.height;return k(r,i),t.observe(N.current),function(){t.disconnect()}},[k,g]);var _=(0,r.useMemo)(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;we(fe(s)||fe(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,u),we(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=fe(s)?e:s,a=fe(u)?t:u;n&&n>0&&(i?a=i/n:a&&(i=a*n),p&&a>p&&(a=p)),we(i>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,a,s,u,f,d,n);var o=!Array.isArray(h)&&Le(h.type).endsWith("Chart");return r.Children.map(h,function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,tt({width:i,height:a},o?{style:tt({height:"100%",width:"100%",maxHeight:a,maxWidth:i},e.props.style)}:{})):e})},[n,h,u,p,d,f,A,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:J("recharts-responsive-container",v),style:tt(tt({},w),{},{width:s,height:u,minWidth:f,minHeight:d,maxHeight:p}),ref:N},_)}),ot=n(6604),st=n.n(ot),lt=n(7424),ut=n.n(lt),ct="Invariant failed";function ft(e,t){if(!e)throw new Error(ct)}var dt=["children","width","height","viewBox","className","style","title","desc"];function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}function ht(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mt(e){var t=e.children,n=e.width,i=e.height,a=e.viewBox,o=e.className,s=e.style,l=e.title,u=e.desc,c=ht(e,dt),f=a||{width:n,height:i,x:0,y:0},d=J("recharts-surface",o);return r.createElement("svg",pt({},Ge(c,!0,"svg"),{className:d,width:n,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),r.createElement("title",null,l),r.createElement("desc",null,u),t)}var gt=["children","className"];function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var bt=r.forwardRef(function(e,t){var n=e.children,i=e.className,a=vt(e,gt),o=J("recharts-layer",i);return r.createElement("g",yt({className:o},Ge(a,!0),{ref:t}),n)});function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach(function(t){Ct(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ct(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){return Array.isArray(e)&&pe(e[0])&&pe(e[1])?e.join(" ~ "):e}var _t=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,a=void 0===i?{}:i,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,u=void 0===l?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=At({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=At({margin:0},u),w=!ue()(m),N=w?m:"",S=J("recharts-default-tooltip",p),E=J("recharts-tooltip-label",h);w&&g&&void 0!==c&&null!==c&&(N=g(m,c));var A=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",wt({className:S,style:b},A),r.createElement("p",{className:E,style:x},r.isValidElement(N)?N:"".concat(N)),function(){if(c&&c.length){var e=(d?ut()(c,d):c).map(function(e,t){if("none"===e.type)return null;var i=At({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||f||kt,o=e.value,l=e.name,u=o,d=l;if(a&&null!=u&&null!=d){var p=a(o,l,e,t,c);if(Array.isArray(p)){var h=Nt(p,2);u=h[0],d=h[1]}else u=p}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},pe(d)?r.createElement("span",{className:"recharts-tooltip-item-name"},d):null,pe(d)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},u),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Ot(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt="recharts-tooltip-wrapper",Mt={visibility:"hidden"};function Tt(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return J(jt,Ot(Ot(Ot(Ot({},"".concat(jt,"-right"),de(n)&&t&&de(t.x)&&n>=t.x),"".concat(jt,"-left"),de(n)&&t&&de(t.x)&&n<t.x),"".concat(jt,"-bottom"),de(r)&&t&&de(t.y)&&r>=t.y),"".concat(jt,"-top"),de(r)&&t&&de(t.y)&&r<t.y))}function Pt(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&de(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;return t[r]?o[r]?c:f:o[r]?c<l[r]?Math.max(f,l[r]):Math.max(c,l[r]):f+s>l[r]+u?Math.max(c,l[r]):Math.max(f,l[r])}function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach(function(t){$t(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wt(r.key),r)}}function zt(e,t,n){return t=Ut(t),function(e,t){if(t&&("object"===Ft(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lt()?Reflect.construct(t,n||[],Ut(e).constructor):t.apply(e,n))}function Lt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Lt=function(){return!!e})()}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function qt(e,t){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qt(e,t)}function $t(e,t,n){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){var t=function(e,t){if("object"!=Ft(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ft(t)?t:t+""}var Ht=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return $t(e=zt(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$t(e,"handleKeyDown",function(t){var n,r,i,a;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(a=e.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==i?i:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(t,e),n=t,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,u=t.hasPayload,c=t.isAnimationActive,f=t.offset,d=t.position,p=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,a=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,c=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=Pt({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),translateY:n=Pt({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),useTranslate3d:u}):Mt,cssClasses:Tt({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:f,position:d,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=Bt(Bt({transition:c&&n?"transform ".concat(a,"ms ").concat(o):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&u?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&Rt(n.prototype,i),a&&Rt(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent),Kt={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Kt[e]},set:function(e,t){if("string"===typeof e)Kt[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){Kt[t]=e[t]})}}},Vt=n(977),Yt=n.n(Vt);function Gt(e,t,n){return!0===t?Yt()(e,n):Se()(t)?Yt()(e,t):e}function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach(function(t){an(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,on(r.key),r)}}function en(e,t,n){return t=nn(t),function(e,t){if(t&&("object"===Xt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tn()?Reflect.construct(t,n||[],nn(e).constructor):t.apply(e,n))}function tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tn=function(){return!!e})()}function nn(e){return nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nn(e)}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}function an(e,t,n){return(t=on(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e){var t=function(e,t){if("object"!=Xt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xt(t)?t:t+""}function sn(e){return e.dataKey}var ln=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,u=t.filterNull,c=t.isAnimationActive,f=t.offset,d=t.payload,p=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==d&&void 0!==d?d:[];u&&b.length&&(b=Gt(d.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,sn));var x=b.length>0;return r.createElement(Ht,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:c,active:n,coordinate:l,hasPayload:x,offset:f,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(_t,t)}(s,Zt(Zt({},this.props),{},{payload:b})))}}])&&Qt(n.prototype,i),a&&Qt(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);an(ln,"displayName","Tooltip"),an(ln,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Kt.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var un=n(643),cn=n.n(un);Math.abs,Math.atan2;const fn=Math.cos,dn=(Math.max,Math.min,Math.sin),pn=Math.sqrt,hn=Math.PI,mn=2*hn;const gn={draw(e,t){const n=pn(t/hn);e.moveTo(n,0),e.arc(0,0,n,0,mn)}},yn={draw(e,t){const n=pn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},vn=pn(1/3),bn=2*vn,xn={draw(e,t){const n=pn(t/bn),r=n*vn;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},wn={draw(e,t){const n=pn(t),r=-n/2;e.rect(r,r,n,n)}},Nn=dn(hn/10)/dn(7*hn/10),Sn=dn(mn/10)*Nn,En=-fn(mn/10)*Nn,An={draw(e,t){const n=pn(.8908130915292852*t),r=Sn*n,i=En*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=mn*a/5,o=fn(t),s=dn(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},Cn=pn(3),kn={draw(e,t){const n=-pn(t/(3*Cn));e.moveTo(0,2*n),e.lineTo(-Cn*n,-n),e.lineTo(Cn*n,-n),e.closePath()}},_n=-.5,Dn=pn(3)/2,On=1/pn(12),jn=3*(On/2+1),Mn={draw(e,t){const n=pn(t/jn),r=n/2,i=n*On,a=r,o=n*On+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(_n*r-Dn*i,Dn*r+_n*i),e.lineTo(_n*a-Dn*o,Dn*a+_n*o),e.lineTo(_n*s-Dn*l,Dn*s+_n*l),e.lineTo(_n*r+Dn*i,_n*i-Dn*r),e.lineTo(_n*a+Dn*o,_n*o-Dn*a),e.lineTo(_n*s+Dn*l,_n*l-Dn*s),e.closePath()}};function Tn(e){return function(){return e}}const Pn=Math.PI,Fn=2*Pn,In=1e-6,Bn=Fn-In;function Rn(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class zn{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Rn:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Rn;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,l=r-t,u=a-e,c=o-t,f=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(f>In)if(Math.abs(c*s-l*u)>In&&i){let d=n-a,p=r-o,h=s*s+l*l,m=d*d+p*p,g=Math.sqrt(h),y=Math.sqrt(f),v=i*Math.tan((Pn-Math.acos((h+f-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>In&&this._append`L${e+b*u},${t+b*c}`,this._append`A${i},${i},0,0,${+(c*d>u*p)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,u=t+s,c=1^a,f=a?r-i:i-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>In||Math.abs(this._y1-u)>In)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%Fn+Fn),f>Bn?this._append`A${n},${n},0,1,${c},${e-o},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:f>In&&this._append`A${n},${n},0,${+(f>=Pn)},${c},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ln(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new zn(t)}pn(3),pn(3);function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}var qn=["type","size","sizeType"];function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$n.apply(this,arguments)}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach(function(t){Kn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Kn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Un(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Yn={symbolCircle:gn,symbolCross:yn,symbolDiamond:xn,symbolSquare:wn,symbolStar:An,symbolTriangle:kn,symbolWye:Mn},Gn=Math.PI/180,Xn=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,a=void 0===i?64:i,o=e.sizeType,s=void 0===o?"area":o,l=Hn(Hn({},Vn(e,qn)),{},{type:n,size:a,sizeType:s}),u=l.className,c=l.cx,f=l.cy,d=Ge(l,!0);return c===+c&&f===+f&&a===+a?r.createElement("path",$n({},d,{className:J("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(f,")"),d:function(){var e=function(e){var t="symbol".concat(cn()(e));return Yn[t]||gn}(n),t=function(e,t){let n=null,r=Ln(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Tn(e||gn),t="function"===typeof t?t:Tn(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Tn(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Tn(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Gn;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,s,n));return t()}()})):null};function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,or(r.key),r)}}function tr(e,t,n){return t=rr(t),function(e,t){if(t&&("object"===Jn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nr()?Reflect.construct(t,n||[],rr(e).constructor):t.apply(e,n))}function nr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nr=function(){return!!e})()}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}function ir(e,t){return ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ir(e,t)}function ar(e,t,n){return(t=or(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e){var t=function(e,t){if("object"!=Jn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jn(t)?t:t+""}Xn.registerSymbol=function(e,t){Yn["symbol".concat(cn()(e))]=t};var sr=32,lr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ir(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=sr/6,a=sr/3,o=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:sr,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(sr,"M").concat(2*a,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(sr,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach(function(t){ar(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(Xn,{fill:o,cx:n,cy:n,size:sr,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,a=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:sr,height:sr},u={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var a=t.formatter||o,f=J(ar(ar({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=Se()(t.value)?null:t.value;we(!Se()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return r.createElement("li",Zn({className:f,style:u,key:"legend-item-".concat(n)},Pe(e.props,t,n)),r.createElement(mt,{width:i,height:i,viewBox:l,style:c},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},a?a(d,t,n):d))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],i&&er(n.prototype,i),a&&er(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}ar(lr,"displayName","Legend"),ar(lr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cr=["ref"];function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach(function(t){vr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,br(r.key),r)}}function hr(e,t,n){return t=gr(t),function(e,t){if(t&&("object"===ur(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mr()?Reflect.construct(t,n||[],gr(e).constructor):t.apply(e,n))}function mr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mr=function(){return!!e})()}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}function yr(e,t){return yr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yr(e,t)}function vr(e,t,n){return(t=br(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e){var t=function(e,t){if("object"!=ur(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ur(t)?t:t+""}function xr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wr(e){return e.value}var Nr=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return vr(e=hr(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yr(e,t)}(t,e),n=t,a=[{key:"getWithHeight",value:function(e,t){var n=dr(dr({},this.defaultProps),e.props).layout;return"vertical"===n&&de(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?dr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,a=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((u||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),dr(dr({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,a=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,u=dr(dr({position:"absolute",width:i||"auto",height:a||"auto"},this.getDefaultPosition(o)),o);return r.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=xr(t,cr);return r.createElement(lr,n)}(n,dr(dr({},this.props),{},{payload:Gt(l,s,wr)})))}}])&&pr(n.prototype,i),a&&pr(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function Sr(){return Sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sr.apply(this,arguments)}vr(Nr,"displayName","Legend"),vr(Nr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Er=function(e){var t=e.cx,n=e.cy,i=e.r,a=e.className,o=J("recharts-dot",a);return t===+t&&n===+n&&i===+i?r.createElement("circle",Sr({},Ge(e,!1),Te(e),{className:o,cx:t,cy:n,r:i})):null},Ar=n(5173),Cr=n.n(Ar),kr=Object.getOwnPropertyNames,_r=Object.getOwnPropertySymbols,Dr=Object.prototype.hasOwnProperty;function Or(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function jr(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,a=i.get(t),o=i.get(n);if(a&&o)return a===n&&o===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function Mr(e){return kr(e).concat(_r(e))}var Tr=Object.hasOwn||function(e,t){return Dr.call(e,t)};function Pr(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Fr=Object.getOwnPropertyDescriptor,Ir=Object.keys;function Br(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Rr(e,t){return Pr(e.getTime(),t.getTime())}function zr(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Lr(e,t){return e===t}function Ur(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,o=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var u=t.entries(),c=!1,f=0;(a=u.next())&&!a.done;)if(o[f])f++;else{var d=i.value,p=a.value;if(n.equals(d[0],p[0],l,f,e,t,n)&&n.equals(d[1],p[1],d[0],p[0],e,t,n)){c=o[f]=!0;break}f++}if(!c)return!1;l++}return!0}var qr=Pr;function $r(e,t,n){var r=Ir(e),i=r.length;if(Ir(t).length!==i)return!1;for(;i-- >0;)if(!Xr(e,t,n,r[i]))return!1;return!0}function Wr(e,t,n){var r,i,a,o=Mr(e),s=o.length;if(Mr(t).length!==s)return!1;for(;s-- >0;){if(!Xr(e,t,n,r=o[s]))return!1;if(i=Fr(e,r),a=Fr(t,r),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function Hr(e,t){return Pr(e.valueOf(),t.valueOf())}function Kr(e,t){return e.source===t.source&&e.flags===t.flags}function Vr(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,o=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!o[c]&&n.equals(i.value,a.value,i.value,a.value,e,t,n)){u=o[c]=!0;break}c++}if(!u)return!1}return!0}function Yr(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Gr(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Xr(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||Tr(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Jr=Array.isArray,Zr="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Qr=Object.assign,ei=Object.prototype.toString.call.bind(Object.prototype.toString);var ti=ni();ni({strict:!0}),ni({circular:!0}),ni({circular:!0,strict:!0}),ni({createInternalComparator:function(){return Pr}}),ni({strict:!0,createInternalComparator:function(){return Pr}}),ni({circular:!0,createInternalComparator:function(){return Pr}}),ni({circular:!0,createInternalComparator:function(){return Pr},strict:!0});function ni(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,a=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?Wr:Br,areDatesEqual:Rr,areErrorsEqual:zr,areFunctionsEqual:Lr,areMapsEqual:r?Or(Ur,Wr):Ur,areNumbersEqual:qr,areObjectsEqual:r?Wr:$r,arePrimitiveWrappersEqual:Hr,areRegExpsEqual:Kr,areSetsEqual:r?Or(Vr,Wr):Vr,areTypedArraysEqual:r?Wr:Yr,areUrlsEqual:Gr};if(n&&(i=Qr({},i,n(i))),t){var a=jr(i.areArraysEqual),o=jr(i.areMapsEqual),s=jr(i.areObjectsEqual),l=jr(i.areSetsEqual);i=Qr({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,f=e.areTypedArraysEqual,d=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?o(e,p,h):"function"===m&&i(e,p,h);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(e,p,h);if(Jr(e))return t(e,p,h);if(null!=Zr&&Zr(e))return f(e,p,h);if(g===Date)return n(e,p,h);if(g===RegExp)return u(e,p,h);if(g===Map)return a(e,p,h);if(g===Set)return c(e,p,h);var y=ei(e);return"[object Date]"===y?n(e,p,h):"[object RegExp]"===y?u(e,p,h):"[object Map]"===y?a(e,p,h):"[object Set]"===y?c(e,p,h):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof p.then&&s(e,p,h):"[object URL]"===y?d(e,p,h):"[object Error]"===y?r(e,p,h):"[object Arguments]"===y?s(e,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,p,h)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,u=void 0===l?t?new WeakMap:void 0:l,c=s.meta;return n(e,o,{cache:u,equals:i,meta:c,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(e,t){return n(e,t,o)}}({circular:r,comparator:u,createState:a,equals:i?i(u):(t=u,function(e,n,r,i,a,o,s){return t(e,n,s)}),strict:s})}function ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function ii(e){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(e)}function ai(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function si(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=ai(r),a=i[0],o=i.slice(1);return"number"===typeof a?void ri(n.bind(null,o),a):(n(a),void ri(n.bind(null,o)))}"object"===ii(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function li(e){return li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(e)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach(function(t){fi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==li(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===li(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var di=function(e){return e},pi=function(e,t){return Object.keys(t).reduce(function(n,r){return ci(ci({},n),{},fi({},r,e(r,t[r])))},{})},hi=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function mi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||yi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e){return function(e){if(Array.isArray(e))return vi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){if(e){if("string"===typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bi=1e-4,xi=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},wi=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},Ni=function(e,t){return function(n){var r=xi(e,t);return wi(r,n)}},Si=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,a=1,o=1;break;case"ease":r=.25,i=.1,a=.25,o=1;break;case"ease-in":r=.42,i=0,a=1,o=1;break;case"ease-out":r=.42,i=0,a=.58,o=1;break;case"ease-in-out":r=0,i=0,a=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=mi(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],i=l[1],a=l[2],o=l[3]}}[r,a,i,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,c,f=Ni(r,a),d=Ni(i,o),p=(u=r,c=a,function(e){var t=xi(u,c),n=[].concat(gi(t.map(function(e,t){return e*t}).slice(1)),[0]);return wi(n,e)}),h=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=f(n)-t,a=p(n);if(Math.abs(i-t)<bi||a<bi)return d(n);n=h(n-i/a)}return d(n)};return m.isStepper=!1,m},Ei=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Si(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,o=void 0===a?17:a,s=function(e,t,r){var a=r+(-(e-t)*n-r*i)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<bi&&Math.abs(a)<bi?[t,0]:[s,a]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return Si(r)}return"function"===typeof r?r:null};function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function Ci(e){return function(e){if(Array.isArray(e))return Mi(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ji(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(n),!0).forEach(function(t){Di(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ki(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Di(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ai(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ai(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||ji(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){if(e){if("string"===typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ti=function(e,t,n){return e+(t-e)*n},Pi=function(e){return e.from!==e.to},Fi=function e(t,n,r){var i=pi(function(e,n){if(Pi(n)){var r=Oi(t(n.from,n.to,n.velocity),2),i=r[0],a=r[1];return _i(_i({},n),{},{from:i,velocity:a})}return n},n);return r<1?pi(function(e,t){return Pi(t)?_i(_i({},t),{},{velocity:Ti(t.velocity,i[e].velocity,r),from:Ti(t.from,i[e].from,r)}):t},n):e(t,i,r-1)};const Ii=function(e,t,n,r,i){var a,o,s,l,u=(a=e,o=t,[Object.keys(a),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),c=u.reduce(function(n,r){return _i(_i({},n),{},Di({},r,[e[r],t[r]]))},{}),f=u.reduce(function(n,r){return _i(_i({},n),{},Di({},r,{from:e[r],velocity:0,to:t[r]}))},{}),d=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var a=(r-s)/n.dt;f=Fi(n,f,a),i(_i(_i(_i({},e),t),pi(function(e,t){return t.from},f))),s=r,Object.values(f).filter(Pi).length&&(d=requestAnimationFrame(p))}:function(a){l||(l=a);var o=(a-l)/r,s=pi(function(e,t){return Ti.apply(void 0,Ci(t).concat([n(o)]))},c);if(i(_i(_i(_i({},e),t),s)),o<1)d=requestAnimationFrame(p);else{var u=pi(function(e,t){return Ti.apply(void 0,Ci(t).concat([n(1)]))},c);i(_i(_i(_i({},e),t),u))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}};function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}var Ri=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Li(e){return function(e){if(Array.isArray(e))return Ui(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ui(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach(function(t){Wi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wi(e,t,n){return(t=Ki(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ki(r.key),r)}}function Ki(e){var t=function(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bi(t)?t:String(t)}function Vi(e,t){return Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vi(e,t)}function Yi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Ji(e);if(t){var i=Ji(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gi(this,n)}}function Gi(e,t){if(t&&("object"===Bi(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xi(e)}function Xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ji(e)}var Zi=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vi(e,t)}(o,e);var t,n,i,a=Yi(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=a.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,u=r.to,c=r.steps,f=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Xi(n)),n.changeStyle=n.changeStyle.bind(Xi(n)),!i||d<=0)return n.state={style:{}},"function"===typeof f&&(n.state={style:u}),Gi(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"===typeof f)return n.state={style:l},Gi(n);n.state={style:s?Wi({},s,l):l}}else n.state={style:{}};return n}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(ti(e.to,o)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||a?s:e.to;if(this.state&&l){var f={style:i?Wi({},i,c):c};(i&&l[i]!==c||!i&&l!==c)&&this.setState(f)}this.runAnimation($i($i({},this.props),{},{from:c,begin:0}))}}else{var d={style:i?Wi({},i,o):o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=Ii(n,r,Ei(a),i,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],o=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([i].concat(Li(n.reduce(function(e,r,i){if(0===i)return e;var a=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,u=r.properties,c=r.onAnimationEnd,f=i>0?n[i-1]:r,d=u||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Li(e),[t.runJSAnimation.bind(t,{from:f.style,to:l,duration:a,easing:s}),a]);var p=hi(d,a,s),h=$i($i($i({},f.style),l),{},{transition:p});return[].concat(Li(e),[h,a,c]).filter(di)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=si());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof u&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var f=r?Wi({},r,i):i,d=hi(Object.keys(f),n,a);c.start([o,t,$i($i({},f),{},{transition:d}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,zi(e,Ri)),o=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!i||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,o=t.className;return(0,r.cloneElement)(e,$i($i({},a),{},{style:$i($i({},i),s),className:o}))};return 1===o?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,function(e){return l(e)}))}}],n&&Hi(t.prototype,n),i&&Hi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent);Zi.displayName="Animate",Zi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Zi.propTypes={from:Cr().oneOfType([Cr().object,Cr().string]),to:Cr().oneOfType([Cr().object,Cr().string]),attributeName:Cr().string,duration:Cr().number,begin:Cr().number,easing:Cr().oneOfType([Cr().string,Cr().func]),steps:Cr().arrayOf(Cr().shape({duration:Cr().number.isRequired,style:Cr().object.isRequired,easing:Cr().oneOfType([Cr().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Cr().func]),properties:Cr().arrayOf("string"),onAnimationEnd:Cr().func})),children:Cr().oneOfType([Cr().node,Cr().func]),isActive:Cr().bool,canBegin:Cr().bool,onAnimationEnd:Cr().func,shouldReAnimate:Cr().bool,onAnimationStart:Cr().func,onAnimationReStart:Cr().func};const Qi=Zi;function ea(e){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ea(e)}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ta.apply(this,arguments)}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ra(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach(function(t){oa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ea(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ea(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sa=function(e,t,n,r,i){var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],f=0;f<4;f++)c[f]=i[f]>o?o:i[f];a="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(a+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),a+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(a+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),a+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(a+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),a+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(a+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var d=Math.min(o,i);a="M ".concat(e,",").concat(t+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+l*d,",").concat(t,"\n            L ").concat(e+n-l*d,",").concat(t,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*d,"\n            L ").concat(e+n,",").concat(t+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e+n-l*d,",").concat(t+r,"\n            L ").concat(e+l*d,",").concat(t+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*d," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},la=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,a=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(i,i+o),u=Math.max(i,i+o),c=Math.min(a,a+s),f=Math.max(a,a+s);return n>=l&&n<=u&&r>=c&&r<=f}return!1},ua={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ca=function(e){var t=aa(aa({},ua),e),n=(0,r.useRef)(),i=na((0,r.useState)(-1),2),a=i[0],o=i[1];(0,r.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.width,c=t.height,f=t.radius,d=t.className,p=t.animationEasing,h=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||0===u||0===c)return null;var v=J("recharts-rectangle",d);return y?r.createElement(Qi,{canBegin:a>0,from:{width:u,height:c,x:s,y:l},to:{width:u,height:c,x:s,y:l},duration:h,animationEasing:p,isActive:y},function(e){var i=e.width,o=e.height,s=e.x,l=e.y;return r.createElement(Qi,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:p},r.createElement("path",ta({},Ge(t,!0),{className:v,d:sa(s,l,i,o,f),ref:n})))}):r.createElement("path",ta({},Ge(t,!0),{className:v,d:sa(s,l,u,c,f)}))};function fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function da(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class pa extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ya;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(ha(this,e))}has(e){return super.has(ha(this,e))}set(e,t){return super.set(ma(this,e),t)}delete(e){return super.delete(ga(this,e))}}Set;function ha(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function ma(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function ga(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function ya(e){return null!==e&&"object"===typeof e?e.valueOf():e}const va=Symbol("implicit");function ba(){var e=new pa,t=[],n=[],r=va;function i(i){let a=e.get(i);if(void 0===a){if(r!==va)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new pa;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return ba(t,n).unknown(r)},fa.apply(i,arguments),i}function xa(){var e,t,n=ba().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,u=0,c=.5;function f(){var n=r().length,f=o<a,d=f?o:a,p=f?a:o;e=(p-d)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),d+=(p-d-e*(n-l))*c,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map(function(t){return d+e*t});return i(f?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),f()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,f()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,f()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,f()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),f()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),f()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,f()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),f()):c},n.copy=function(){return xa(r(),[a,o]).round(s).paddingInner(l).paddingOuter(u).align(c)},fa.apply(f(),arguments)}function wa(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wa(t())},e}function Na(){return wa(xa.apply(null,arguments).paddingInner(1))}function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach(function(t){Ca(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ca(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Sa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ka={widthCache:{},cacheCount:0},_a={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Da="recharts_measurement_span";var Oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||Kt.isSsr)return{width:0,height:0};var n=function(e){var t=Aa({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(ka.widthCache[r])return ka.widthCache[r];try{var i=document.getElementById(Da);i||((i=document.createElement("span")).setAttribute("id",Da),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=Aa(Aa({},_a),n);Object.assign(i.style,a),i.textContent="".concat(e);var o=i.getBoundingClientRect(),s={width:o.width,height:o.height};return ka.widthCache[r]=s,++ka.cacheCount>2e3&&(ka.cacheCount=0,ka.widthCache={}),s}catch(l){return{width:0,height:0}}};function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function Ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fa(r.key),r)}}function Fa(e){var t=function(e,t){if("object"!=ja(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ja(t)?t:t+""}var Ia=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ba=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ra=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,za=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,La={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Ua=Object.keys(La),qa="NaN";var $a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||Ra.test(n)||(this.num=NaN,this.unit=""),Ua.includes(n)&&(this.num=function(e,t){return e*La[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=Ma(null!==(n=za.exec(t))&&void 0!==n?n:[],3),i=r[1],a=r[2];return new e(parseFloat(i),null!==a&&void 0!==a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Pa(t.prototype,n),r&&Pa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Wa(e){if(e.includes(qa))return qa;for(var t=e;t.includes("*")||t.includes("/");){var n,r=Ma(null!==(n=Ia.exec(t))&&void 0!==n?n:[],4),i=r[1],a=r[2],o=r[3],s=$a.parse(null!==i&&void 0!==i?i:""),l=$a.parse(null!==o&&void 0!==o?o:""),u="*"===a?s.multiply(l):s.divide(l);if(u.isNaN())return qa;t=t.replace(Ia,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,f=Ma(null!==(c=Ba.exec(t))&&void 0!==c?c:[],4),d=f[1],p=f[2],h=f[3],m=$a.parse(null!==d&&void 0!==d?d:""),g=$a.parse(null!==h&&void 0!==h?h:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return qa;t=t.replace(Ba,y.toString())}return t}var Ha=/\(([^()]*)\)/;function Ka(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=Ma(Ha.exec(t),2)[1];t=t.replace(Ha,Wa(n))}return t}(t),t=Wa(t)}function Va(e){var t=function(e){try{return Ka(e)}catch(t){return qa}}(e.slice(5,-1));return t===qa?"":t}var Ya=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ga=["dx","dy","angle","className","breakAll"];function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(this,arguments)}function Ja(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eo=/[ \f\n\r\t\v\u2028\u2029]+/,to=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return ue()(t)||(i=n?t.toString().split(""):t.toString().split(eo)),{wordsWithComputedWidth:i.map(function(e){return{word:e,width:Oa(e,r).width}}),spaceWidth:n?0:Oa("\xa0",r).width}}catch(a){return null}},no=function(e){return[{words:ue()(e)?[]:e.toString().split(eo)}]},ro=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,a=e.breakAll,o=e.maxLines;if((t||n)&&!Kt.isSsr){var s=to({breakAll:a,children:r,style:i});return s?function(e,t,n,r,i){var a=e.maxLines,o=e.children,s=e.style,l=e.breakAll,u=de(a),c=o,f=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e},[])},d=f(t);if(!u)return d;for(var p,h=function(e){var t=c.slice(0,e),n=to({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=f(n),o=i.length>a||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(i).width>Number(r);return[o,i]},m=0,g=c.length-1,y=0;m<=g&&y<=c.length-1;){var v=Math.floor((m+g)/2),b=Za(h(v-1),2),x=b[0],w=b[1],N=Za(h(v),1)[0];if(x||N||(m=v+1),x&&N&&(g=v-1),!x&&N){p=w;break}y++}return p||d}({breakAll:a,children:r,maxLines:o,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):no(r)}return no(r)},io="#808080",ao=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,u=void 0===l?"0.71em":l,c=e.scaleToFit,f=void 0!==c&&c,d=e.textAnchor,p=void 0===d?"start":d,h=e.verticalAnchor,m=void 0===h?"end":h,g=e.fill,y=void 0===g?io:g,v=Ja(e,Ya),b=(0,r.useMemo)(function(){return ro({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),x=v.dx,w=v.dy,N=v.angle,S=v.className,E=v.breakAll,A=Ja(v,Ga);if(!pe(n)||!pe(a))return null;var C,k=n+(de(x)?x:0),_=a+(de(w)?w:0);switch(m){case"start":C=Va("calc(".concat(u,")"));break;case"middle":C=Va("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=Va("calc(".concat(b.length-1," * -").concat(s,")"))}var D=[];if(f){var O=b[0].width,j=v.width;D.push("scale(".concat((de(j)?j/O:1)/O,")"))}return N&&D.push("rotate(".concat(N,", ").concat(k,", ").concat(_,")")),D.length&&(A.transform=D.join(" ")),r.createElement("text",Xa({},Ge(A,!0),{x:k,y:_,className:J("recharts-text",S),textAnchor:p,fill:y.includes("url")?io:y}),b.map(function(e,t){var n=e.words.join(E?"":" ");return r.createElement("tspan",{x:k,dy:0===t?C:s,key:"".concat(n,"-").concat(t)},n)}))};const oo=Math.sqrt(50),so=Math.sqrt(10),lo=Math.sqrt(2);function uo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=oo?10:a>=so?5:a>=lo?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?uo(e,t,2*n):[s,l,u]}function co(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?uo(t,e,n):uo(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function fo(e,t,n){return uo(e=+e,t=+t,n=+n)[2]}function po(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?fo(t,e,n):fo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ho(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mo(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function go(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=ho,n=(t,n)=>ho(e(t),n),r=(t,n)=>e(t)-n):(t=e===ho||e===mo?e:yo,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function yo(){return 0}function vo(e){return null===e?NaN:+e}const bo=go(ho),xo=bo.right,wo=(bo.left,go(vo).center,xo);function No(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function So(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Eo(){}var Ao=.7,Co=1/Ao,ko="\\s*([+-]?\\d+)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oo=/^#([0-9a-f]{3,8})$/,jo=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),Mo=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),To=new RegExp(`^rgba\\(${ko},${ko},${ko},${_o}\\)$`),Po=new RegExp(`^rgba\\(${Do},${Do},${Do},${_o}\\)$`),Fo=new RegExp(`^hsl\\(${_o},${Do},${Do}\\)$`),Io=new RegExp(`^hsla\\(${_o},${Do},${Do},${_o}\\)$`),Bo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ro(){return this.rgb().formatHex()}function zo(){return this.rgb().formatRgb()}function Lo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Oo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Uo(t):3===n?new Wo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?qo(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?qo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=jo.exec(e))?new Wo(t[1],t[2],t[3],1):(t=Mo.exec(e))?new Wo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=To.exec(e))?qo(t[1],t[2],t[3],t[4]):(t=Po.exec(e))?qo(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Fo.exec(e))?Xo(t[1],t[2]/100,t[3]/100,1):(t=Io.exec(e))?Xo(t[1],t[2]/100,t[3]/100,t[4]):Bo.hasOwnProperty(e)?Uo(Bo[e]):"transparent"===e?new Wo(NaN,NaN,NaN,0):null}function Uo(e){return new Wo(e>>16&255,e>>8&255,255&e,1)}function qo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Wo(e,t,n,r)}function $o(e,t,n,r){return 1===arguments.length?function(e){return e instanceof Eo||(e=Lo(e)),e?new Wo((e=e.rgb()).r,e.g,e.b,e.opacity):new Wo}(e):new Wo(e,t,n,null==r?1:r)}function Wo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ho(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function Ko(){const e=Vo(this.opacity);return`${1===e?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${1===e?")":`, ${e})`}`}function Vo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Go(e){return((e=Yo(e))<16?"0":"")+e.toString(16)}function Xo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zo(e,t,n,r)}function Jo(e){if(e instanceof Zo)return new Zo(e.h,e.s,e.l,e.opacity);if(e instanceof Eo||(e=Lo(e)),!e)return new Zo;if(e instanceof Zo)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Zo(o,s,l,e.opacity)}function Zo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Qo(e){return(e=(e||0)%360)<0?e+360:e}function es(e){return Math.max(0,Math.min(1,e||0))}function ts(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ns(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}No(Eo,Lo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ro,formatHex:Ro,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Jo(this).formatHsl()},formatRgb:zo,toString:zo}),No(Wo,$o,So(Eo,{brighter(e){return e=null==e?Co:Math.pow(Co,e),new Wo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Ao:Math.pow(Ao,e),new Wo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wo(Yo(this.r),Yo(this.g),Yo(this.b),Vo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ho,formatHex:Ho,formatHex8:function(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ko,toString:Ko})),No(Zo,function(e,t,n,r){return 1===arguments.length?Jo(e):new Zo(e,t,n,null==r?1:r)},So(Eo,{brighter(e){return e=null==e?Co:Math.pow(Co,e),new Zo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Ao:Math.pow(Ao,e),new Zo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Wo(ts(e>=240?e-240:e+120,i,r),ts(e,i,r),ts(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zo(Qo(this.h),es(this.s),es(this.l),Vo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vo(this.opacity);return`${1===e?"hsl(":"hsla("}${Qo(this.h)}, ${100*es(this.s)}%, ${100*es(this.l)}%${1===e?")":`, ${e})`}`}}));const rs=e=>()=>e;function is(e,t){return function(n){return e+n*t}}function as(e){return 1===(e=+e)?os:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):rs(isNaN(t)?n:t)}}function os(e,t){var n=t-e;return n?is(e,n):rs(isNaN(e)?t:e)}const ss=function e(t){var n=as(t);function r(e,t){var r=n((e=$o(e)).r,(t=$o(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=os(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function ls(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=$o(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}ls(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return ns((n-r/t)*t,o,i,a,s)}}),ls(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return ns((n-r/t)*t,i,a,o,s)}});function us(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=ys(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function cs(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ds(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=ys(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var ps=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hs=new RegExp(ps.source,"g");function ms(e,t){var n,r,i,a=ps.lastIndex=hs.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=ps.exec(e))&&(r=hs.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:fs(n,r)})),a=hs.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function gs(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function ys(e,t){var n,r=typeof t;return null==t||"boolean"===r?rs(t):("number"===r?fs:"string"===r?(n=Lo(t))?(t=n,ss):ms:t instanceof Lo?ss:t instanceof Date?cs:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?gs:Array.isArray(t)?us:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ds:fs)(e,t)}function vs(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bs(e){return+e}var xs=[0,1];function ws(e){return e}function Ns(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function Ss(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Ns(i,r),a=n(o,a)):(r=Ns(r,i),a=n(a,o)),function(e){return a(r(e))}}function Es(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Ns(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=wo(e,t,1,r)-1;return a[n](i[n](t))}}function As(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cs(){var e,t,n,r,i,a,o=xs,s=xs,l=ys,u=ws;function c(){var e=Math.min(o.length,s.length);return u!==ws&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?Es:Ss,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(u(t)))}return f.invert=function(n){return u(t((a||(a=r(s,o.map(e),fs)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,bs),c()):o.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),l=vs,c()},f.clamp=function(e){return arguments.length?(u=!!e||ws,c()):u!==ws},f.interpolate=function(e){return arguments.length?(l=e,c()):l},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function ks(){return Cs()(ws,ws)}var _s,Ds=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Os(e){if(!(t=Ds.exec(e)))throw new Error("invalid format: "+e);var t;return new js({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function js(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Ms(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ts(e){return(e=Ms(Math.abs(e)))?e[1]:NaN}function Ps(e,t){var n=Ms(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Os.prototype=js.prototype,js.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Fs={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ps(100*e,t),r:Ps,s:function(e,t){var n=Ms(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(_s=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ms(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Is(e){return e}var Bs,Rs,zs,Ls=Array.prototype.map,Us=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function qs(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Is:(t=Ls.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Is:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Ls.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Os(e)).fill,n=e.align,f=e.sign,d=e.symbol,p=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Fs[v]||(void 0===g&&(g=12),y=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?a:/[%p]/.test(v)?l:"",w=Fs[v],N=/[defgprs%]/.test(v);function S(e){var i,a,l,d=b,S=x;if("c"===v)S=w(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==f&&(E=!1),d=(E?"("===f?f:u:"-"===f||"("===f?"":f)+d,S=("s"===v?Us[8+_s/3]:"")+S+(E&&"("===f?")":""),N)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var A=d.length+e.length+S.length,C=A<h?new Array(h-A+1).join(t):"";switch(m&&p&&(e=r(C+e,C.length?h-S.length:1/0),C=""),n){case"<":e=d+e+S+C;break;case"=":e=d+C+e+S;break;case"^":e=C.slice(0,A=C.length>>1)+d+e+S+C.slice(A);break;default:e=C+d+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n=f(((e=Os(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Ts(t)/3))),i=Math.pow(10,-r),a=Us[8+r/3];return function(e){return n(i*e)+a}}}}function $s(e,t,n,r){var i,a=po(e,t,n);switch((r=Os(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ts(t)/3)))-Ts(Math.abs(e)))}(a,o))||(r.precision=i),zs(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ts(t)-Ts(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-Ts(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return Rs(r)}function Ws(e){var t=e.domain;return e.ticks=function(e){var n=t();return co(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return $s(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=fo(l,u,n))===r)return a[o]=l,a[s]=u,t(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function Hs(){var e=ks();return e.copy=function(){return As(e,Hs())},fa.apply(e,arguments),Ws(e)}function Ks(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,bs),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Ks(e).unknown(t)},e=arguments.length?Array.from(e,bs):[0,1],Ws(n)}function Vs(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Ys(e){return Math.log(e)}function Gs(e){return Math.exp(e)}function Xs(e){return-Math.log(-e)}function Js(e){return-Math.exp(-e)}function Zs(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qs(e){return(t,n)=>-e(-t,n)}function el(e){const t=e(Ys,Gs),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?Zs:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=Qs(r),i=Qs(i),e(Xs,Js)):e(Ys,Gs),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let u,c,f=r(o),d=r(s);const p=null==e?10:+e;let h=[];if(!(a%1)&&d-f<p){if(f=Math.floor(f),d=Math.ceil(d),o>0){for(;f<=d;++f)for(u=1;u<a;++u)if(c=f<0?u/i(-f):u*i(f),!(c<o)){if(c>s)break;h.push(c)}}else for(;f<=d;++f)for(u=a-1;u>=1;--u)if(c=f>0?u/i(-f):u*i(f),!(c<o)){if(c>s)break;h.push(c)}2*h.length<p&&(h=co(o,s,p))}else h=co(f,d,Math.min(d-f,p)).map(i);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=Os(n)).precision||(n.trim=!0),n=Rs(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(Vs(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function tl(){const e=el(Cs()).domain([1,10]);return e.copy=()=>As(e,tl()).base(e.base()),fa.apply(e,arguments),e}function nl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function il(e){var t=1,n=e(nl(t),rl(t));return n.constant=function(n){return arguments.length?e(nl(t=+n),rl(t)):t},Ws(n)}function al(){var e=il(Cs());return e.copy=function(){return As(e,al()).constant(e.constant())},fa.apply(e,arguments)}function ol(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sl(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ll(e){return e<0?-e*e:e*e}function ul(e){var t=e(ws,ws),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(ws,ws):.5===n?e(sl,ll):e(ol(n),ol(1/n)):n},Ws(t)}function cl(){var e=ul(Cs());return e.copy=function(){return As(e,cl()).exponent(e.exponent())},fa.apply(e,arguments),e}function fl(){return cl.apply(null,arguments).exponent(.5)}function dl(e){return Math.sign(e)*e*e}function pl(){var e,t=ks(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(dl(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,bs)).map(dl)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return pl(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},fa.apply(i,arguments),Ws(i)}function hl(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ml(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function gl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho;if(e===ho)return yl;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function yl(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function vl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?yl:gl(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);vl(e,t,Math.max(n,Math.floor(t-o*l/a+u)),Math.min(r,Math.floor(t+(a-o)*l/a+u)),i)}const a=e[t];let o=n,s=r;for(bl(e,n,t),i(e[r],a)>0&&bl(e,n,r);o<s;){for(bl(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?bl(e,n,s):(++s,bl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function bl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function xl(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return ml(e);if(t>=1)return hl(e);var r,i=(r-1)*t,a=Math.floor(i),o=hl(vl(e,a).subarray(0,a+1));return o+(ml(e.subarray(a+1))-o)*(i-a)}}function wl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vo;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function Nl(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=wl(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[wo(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(ho),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return Nl().domain(t).range(n).unknown(e)},fa.apply(a,arguments)}function Sl(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[wo(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return Sl().domain([t,n]).range(a).unknown(e)},fa.apply(Ws(o),arguments)}function El(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[wo(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return El().domain(t).range(n).unknown(e)},fa.apply(i,arguments)}Bs=qs({thousands:",",grouping:[3],currency:["$",""]}),Rs=Bs.format,zs=Bs.formatPrefix;const Al=1e3,Cl=6e4,kl=36e5,_l=864e5,Dl=6048e5,Ol=2592e6,jl=31536e6,Ml=new Date,Tl=new Date;function Pl(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>Pl(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(Ml.setTime(+t),Tl.setTime(+r),e(Ml),e(Tl),Math.floor(n(Ml,Tl))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const Fl=Pl(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fl.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Pl(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Fl:null);Fl.range;const Il=Pl(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Al)},(e,t)=>(t-e)/Al,e=>e.getUTCSeconds()),Bl=(Il.range,Pl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Al)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getMinutes())),Rl=(Bl.range,Pl(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCMinutes())),zl=(Rl.range,Pl(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Al-e.getMinutes()*Cl)},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getHours())),Ll=(zl.range,Pl(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCHours())),Ul=(Ll.range,Pl(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cl)/_l,e=>e.getDate()-1)),ql=(Ul.range,Pl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_l,e=>e.getUTCDate()-1)),$l=(ql.range,Pl(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_l,e=>Math.floor(e/_l)));$l.range;function Wl(e){return Pl(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cl)/Dl)}const Hl=Wl(0),Kl=Wl(1),Vl=Wl(2),Yl=Wl(3),Gl=Wl(4),Xl=Wl(5),Jl=Wl(6);Hl.range,Kl.range,Vl.range,Yl.range,Gl.range,Xl.range,Jl.range;function Zl(e){return Pl(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Dl)}const Ql=Zl(0),eu=Zl(1),tu=Zl(2),nu=Zl(3),ru=Zl(4),iu=Zl(5),au=Zl(6),ou=(Ql.range,eu.range,tu.range,nu.range,ru.range,iu.range,au.range,Pl(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),su=(ou.range,Pl(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),lu=(su.range,Pl(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));lu.every=e=>isFinite(e=Math.floor(e))&&e>0?Pl(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;lu.range;const uu=Pl(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());uu.every=e=>isFinite(e=Math.floor(e))&&e>0?Pl(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;uu.range;function cu(e,t,n,r,i,a){const o=[[Il,1,Al],[Il,5,5e3],[Il,15,15e3],[Il,30,3e4],[a,1,Cl],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,kl],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,_l],[r,2,1728e5],[n,1,Dl],[t,1,Ol],[t,3,7776e6],[e,1,jl]];function s(t,n,r){const i=Math.abs(n-t)/r,a=go(e=>{let[,,t]=e;return t}).right(o,i);if(a===o.length)return e.every(po(t/jl,n/jl,r));if(0===a)return Fl.every(Math.max(po(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[fu,du]=cu(uu,su,Ql,$l,Ll,Rl),[pu,hu]=cu(lu,ou,Hl,Ul,zl,Bl);function mu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var vu,bu,xu,wu={"-":"",_:" ",0:"0"},Nu=/^\s*\d+/,Su=/^%/,Eu=/[\\^$*+?|[\]().{}]/g;function Au(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Cu(e){return e.replace(Eu,"\\$&")}function ku(e){return new RegExp("^(?:"+e.map(Cu).join("|")+")","i")}function _u(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Du(e,t,n){var r=Nu.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Ou(e,t,n){var r=Nu.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ju(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Mu(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Tu(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Pu(e,t,n){var r=Nu.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Fu(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Iu(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bu(e,t,n){var r=Nu.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Ru(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zu(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Lu(e,t,n){var r=Nu.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Uu(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qu(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $u(e,t,n){var r=Nu.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Wu(e,t,n){var r=Nu.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Hu(e,t,n){var r=Nu.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ku(e,t,n){var r=Su.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Vu(e,t,n){var r=Nu.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yu(e,t,n){var r=Nu.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Gu(e,t){return Au(e.getDate(),t,2)}function Xu(e,t){return Au(e.getHours(),t,2)}function Ju(e,t){return Au(e.getHours()%12||12,t,2)}function Zu(e,t){return Au(1+Ul.count(lu(e),e),t,3)}function Qu(e,t){return Au(e.getMilliseconds(),t,3)}function ec(e,t){return Qu(e,t)+"000"}function tc(e,t){return Au(e.getMonth()+1,t,2)}function nc(e,t){return Au(e.getMinutes(),t,2)}function rc(e,t){return Au(e.getSeconds(),t,2)}function ic(e){var t=e.getDay();return 0===t?7:t}function ac(e,t){return Au(Hl.count(lu(e)-1,e),t,2)}function oc(e){var t=e.getDay();return t>=4||0===t?Gl(e):Gl.ceil(e)}function sc(e,t){return e=oc(e),Au(Gl.count(lu(e),e)+(4===lu(e).getDay()),t,2)}function lc(e){return e.getDay()}function uc(e,t){return Au(Kl.count(lu(e)-1,e),t,2)}function cc(e,t){return Au(e.getFullYear()%100,t,2)}function fc(e,t){return Au((e=oc(e)).getFullYear()%100,t,2)}function dc(e,t){return Au(e.getFullYear()%1e4,t,4)}function pc(e,t){var n=e.getDay();return Au((e=n>=4||0===n?Gl(e):Gl.ceil(e)).getFullYear()%1e4,t,4)}function hc(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Au(t/60|0,"0",2)+Au(t%60,"0",2)}function mc(e,t){return Au(e.getUTCDate(),t,2)}function gc(e,t){return Au(e.getUTCHours(),t,2)}function yc(e,t){return Au(e.getUTCHours()%12||12,t,2)}function vc(e,t){return Au(1+ql.count(uu(e),e),t,3)}function bc(e,t){return Au(e.getUTCMilliseconds(),t,3)}function xc(e,t){return bc(e,t)+"000"}function wc(e,t){return Au(e.getUTCMonth()+1,t,2)}function Nc(e,t){return Au(e.getUTCMinutes(),t,2)}function Sc(e,t){return Au(e.getUTCSeconds(),t,2)}function Ec(e){var t=e.getUTCDay();return 0===t?7:t}function Ac(e,t){return Au(Ql.count(uu(e)-1,e),t,2)}function Cc(e){var t=e.getUTCDay();return t>=4||0===t?ru(e):ru.ceil(e)}function kc(e,t){return e=Cc(e),Au(ru.count(uu(e),e)+(4===uu(e).getUTCDay()),t,2)}function _c(e){return e.getUTCDay()}function Dc(e,t){return Au(eu.count(uu(e)-1,e),t,2)}function Oc(e,t){return Au(e.getUTCFullYear()%100,t,2)}function jc(e,t){return Au((e=Cc(e)).getUTCFullYear()%100,t,2)}function Mc(e,t){return Au(e.getUTCFullYear()%1e4,t,4)}function Tc(e,t){var n=e.getUTCDay();return Au((e=n>=4||0===n?ru(e):ru.ceil(e)).getUTCFullYear()%1e4,t,4)}function Pc(){return"+0000"}function Fc(){return"%"}function Ic(e){return+e}function Bc(e){return Math.floor(+e/1e3)}function Rc(e){return new Date(e)}function zc(e){return e instanceof Date?+e:+new Date(+e)}function Lc(e,t,n,r,i,a,o,s,l,u){var c=ks(),f=c.invert,d=c.domain,p=u(".%L"),h=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(e){return(l(e)<e?p:s(e)<e?h:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?d(Array.from(e,zc)):d().map(Rc)},c.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:u(t)},c.nice=function(e){var n=d();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(Vs(n,e)):c},c.copy=function(){return As(c,Lc(e,t,n,r,i,a,o,s,l,u))},c}function Uc(){return fa.apply(Lc(pu,hu,lu,ou,Hl,Ul,zl,Bl,Il,bu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qc(){return fa.apply(Lc(fu,du,uu,su,Ql,ql,Ll,Rl,Il,xu).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $c(){var e,t,n,r,i,a=0,o=1,s=ws,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),u):[a,o]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(ys),u.rangeRound=c(vs),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),u}}function Wc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Hc(){var e=Ws($c()(ws));return e.copy=function(){return Wc(e,Hc())},da.apply(e,arguments)}function Kc(){var e=el($c()).domain([1,10]);return e.copy=function(){return Wc(e,Kc()).base(e.base())},da.apply(e,arguments)}function Vc(){var e=il($c());return e.copy=function(){return Wc(e,Vc()).constant(e.constant())},da.apply(e,arguments)}function Yc(){var e=ul($c());return e.copy=function(){return Wc(e,Yc()).exponent(e.exponent())},da.apply(e,arguments)}function Gc(){return Yc.apply(null,arguments).exponent(.5)}function Xc(){var e=[],t=ws;function n(n){if(null!=n&&!isNaN(n=+n))return t((wo(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(ho),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>xl(e,r/t))},n.copy=function(){return Xc(t).domain(e)},da.apply(n,arguments)}function Jc(){var e,t,n,r,i,a,o,s=0,l=.5,u=1,c=1,f=ws,d=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(c*e<c*t?r:i),f(d?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,f=function(e,t){void 0===t&&(t=e,e=ys);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),p):[f(0),f(.5),f(1)]}}return p.domain=function(o){return arguments.length?([s,l,u]=o,e=a(s=+s),t=a(l=+l),n=a(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,p):[s,l,u]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(f=e,p):f},p.range=h(ys),p.rangeRound=h(vs),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(s),t=o(l),n=o(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,p}}function Zc(){var e=Ws(Jc()(ws));return e.copy=function(){return Wc(e,Zc())},da.apply(e,arguments)}function Qc(){var e=el(Jc()).domain([.1,1,10]);return e.copy=function(){return Wc(e,Qc()).base(e.base())},da.apply(e,arguments)}function ef(){var e=il(Jc());return e.copy=function(){return Wc(e,ef()).constant(e.constant())},da.apply(e,arguments)}function tf(){var e=ul(Jc());return e.copy=function(){return Wc(e,tf()).exponent(e.exponent())},da.apply(e,arguments)}function nf(){return tf.apply(null,arguments).exponent(.5)}function rf(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){vu=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=ku(i),c=_u(i),f=ku(a),d=_u(a),p=ku(o),h=_u(o),m=ku(s),g=_u(s),y=ku(l),v=_u(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Gu,e:Gu,f:ec,g:fc,G:pc,H:Xu,I:Ju,j:Zu,L:Qu,m:tc,M:nc,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Ic,s:Bc,S:rc,u:ic,U:ac,V:sc,w:lc,W:uc,x:null,X:null,y:cc,Y:dc,Z:hc,"%":Fc},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:mc,e:mc,f:xc,g:jc,G:Tc,H:gc,I:yc,j:vc,L:bc,m:wc,M:Nc,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Ic,s:Bc,S:Sc,u:Ec,U:Ac,V:kc,w:_c,W:Dc,x:null,X:null,y:Oc,Y:Mc,Z:Pc,"%":Fc},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:zu,e:zu,f:Hu,g:Fu,G:Pu,H:Uu,I:Uu,j:Lu,L:Wu,m:Ru,M:qu,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:Bu,Q:Vu,s:Yu,S:$u,u:Ou,U:ju,V:Mu,w:Du,W:Tu,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:Fu,Y:Pu,Z:Iu,"%":Ku};function N(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=wu[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,i,a=yu(1900,void 0,1);if(E(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=gu(yu(a.y,0,1))).getUTCDay(),r=i>4||0===i?eu.ceil(r):eu(r),r=ql.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=mu(yu(a.y,0,1))).getDay(),r=i>4||0===i?Kl.ceil(r):Kl(r),r=Ul.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?gu(yu(a.y,0,1)).getUTCDay():mu(yu(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,gu(a)):mu(a)}}function E(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in wu?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=N(n,b),b.X=N(r,b),b.c=N(t,b),x.x=N(n,x),x.X=N(r,x),x.c=N(t,x),{format:function(e){var t=N(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=N(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),bu=vu.format,vu.parse,xu=vu.utcFormat,vu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function af(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function of(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sf(e,t){return e[t]}function lf(e){const t=[];return t.key=e,t}var uf=n(539),cf=n.n(uf),ff=n(6745),df=n.n(ff),pf=n(3538),hf=n.n(pf),mf=n(9853),gf=n.n(mf),yf=n(8210),vf=n.n(yf);function bf(e){return function(e){if(Array.isArray(e))return xf(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xf(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wf=function(e){return e},Nf={"@@functional/placeholder":!0},Sf=function(e){return e===Nf},Ef=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Sf(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Af=function e(t,n){return 1===t?n:Ef(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(e){return e!==Nf}).length;return o>=t?n.apply(void 0,i):e(t-o,Ef(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=i.map(function(e){return Sf(e)?t.shift():e});return n.apply(void 0,bf(a).concat(t))}))})},Cf=function(e){return Af(e.length,e)},kf=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},_f=Cf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Df=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return wf;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce(function(e,t){return t(e)},i.apply(void 0,arguments))}},Of=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jf=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every(function(e,n){return e===t[n]})?n:(t=i,n=e.apply(void 0,i))}};const Mf={rangeStep:function(e,t,n){for(var r=new(vf())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new(vf())(e).abs().log(10).toNumber())+1},interpolateNumber:Cf(function(e,t,n){var r=+e;return r+n*(+t-r)}),uninterpolateNumber:Cf(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),uninterpolateTruncation:Cf(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})};function Tf(e){return function(e){if(Array.isArray(e))return If(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ff(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||Ff(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(e,t){if(e){if("string"===typeof e)return If(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?If(e,t):void 0}}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bf(e){var t=Pf(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Rf(e,t,n){if(e.lte(0))return new(vf())(0);var r=Mf.getDigitCount(e.toNumber()),i=new(vf())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(vf())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?s:new(vf())(Math.ceil(s))}function zf(e,t,n){var r=1,i=new(vf())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(vf())(10).pow(Mf.getDigitCount(e)-1),i=new(vf())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(vf())(Math.floor(e)))}else 0===e?i=new(vf())(Math.floor((t-1)/2)):n||(i=new(vf())(Math.floor(e)));var o=Math.floor((t-1)/2);return Df(_f(function(e){return i.add(new(vf())(e-o).mul(r)).toNumber()}),kf)(0,t)}function Lf(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(vf())(0),tickMin:new(vf())(0),tickMax:new(vf())(0)};var a,o=Rf(new(vf())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(vf())(0):(a=new(vf())(e).add(t).div(2)).sub(new(vf())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(vf())(t).sub(a).div(o).toNumber()),u=s+l+1;return u>n?Lf(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:a.sub(new(vf())(s).mul(o)),tickMax:a.add(new(vf())(l).mul(o))})}var Uf=jf(function(e){var t=Pf(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),s=Pf(Bf([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0){var c=u===1/0?[l].concat(Tf(kf(0,i-1).map(function(){return 1/0}))):[].concat(Tf(kf(0,i-1).map(function(){return-1/0})),[u]);return n>r?Of(c):c}if(l===u)return zf(l,i,a);var f=Lf(l,u,o,a),d=f.step,p=f.tickMin,h=f.tickMax,m=Mf.rangeStep(p,h.add(new(vf())(.1).mul(d)),d);return n>r?Of(m):m}),qf=(jf(function(e){var t=Pf(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),s=Pf(Bf([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,r];if(l===u)return zf(l,i,a);var c=Rf(new(vf())(u).sub(l).div(o-1),a,0),f=Df(_f(function(e){return new(vf())(l).add(new(vf())(e).mul(c)).toNumber()}),kf)(0,o).filter(function(e){return e>=l&&e<=u});return n>r?Of(f):f}),jf(function(e,t){var n=Pf(e,2),r=n[0],i=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Pf(Bf([r,i]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var u=Math.max(t,2),c=Rf(new(vf())(l).sub(s).div(u-1),a,0),f=[].concat(Tf(Mf.rangeStep(new(vf())(s),new(vf())(l).sub(new(vf())(.99).mul(c)),c)),[l]);return r>i?Of(f):f})),$f=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wf(e){return Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(this,arguments)}function Kf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,td(r.key),r)}}function Xf(e,t,n){return t=Zf(t),function(e,t){if(t&&("object"===Wf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jf()?Reflect.construct(t,n||[],Zf(e).constructor):t.apply(e,n))}function Jf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jf=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zf(e)}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qf(e,t)}function ed(e,t,n){return(t=td(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function td(e){var t=function(e,t){if("object"!=Wf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wf(t)?t:t+""}var nd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xf(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,i=e.width,a=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=Yf(e,$f),f=Ge(c,!1);"x"===this.props.direction&&"number"!==l.type&&ft(!1);var d=o.map(function(e){var o=s(e,a),c=o.x,d=o.y,p=o.value,h=o.errorVal;if(!h)return null;var m,g,y=[];if(Array.isArray(h)){var v=Kf(h,2);m=v[0],g=v[1]}else m=g=h;if("vertical"===n){var b=l.scale,x=d+t,w=x+i,N=x-i,S=b(p-m),E=b(p+g);y.push({x1:E,y1:w,x2:E,y2:N}),y.push({x1:S,y1:x,x2:E,y2:x}),y.push({x1:S,y1:w,x2:S,y2:N})}else if("horizontal"===n){var A=u.scale,C=c+t,k=C-i,_=C+i,D=A(p-m),O=A(p+g);y.push({x1:k,y1:O,x2:_,y2:O}),y.push({x1:C,y1:D,x2:C,y2:O}),y.push({x1:k,y1:D,x2:_,y2:D})}return r.createElement(bt,Hf({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},f),y.map(function(e){return r.createElement("line",Hf({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return r.createElement(bt,{className:"recharts-errorBars"},d)}}],i&&Gf(n.prototype,i),a&&Gf(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function rd(e){return rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(e)}function id(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?id(Object(n),!0).forEach(function(t){od(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function od(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ed(nd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),ed(nd,"displayName","ErrorBar");var sd=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,a=He(t,Nr);if(!a)return null;var o,s=Nr.defaultProps,l=void 0!==s?ad(ad({},s),a.props):{};return o=a.props&&a.props.payload?a.props&&a.props.payload:"children"===i?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map(function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?ad(ad({},n),t.props):{},i=r.dataKey,a=r.name,o=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||o||"square",color:gd(t),value:a||i,payload:r}}),ad(ad(ad({},l),Nr.getWithHeight(a,r)),{},{payload:o,item:a})};function ld(e){return ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(e)}function ud(e){return function(e){if(Array.isArray(e))return cd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(n),!0).forEach(function(t){pd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ld(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ld(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ld(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hd(e,t,n){return ue()(e)||ue()(t)?n:pe(t)?ae()(e,t,n):Se()(t)?t(e):n}function md(e,t,n,r){var i=hf()(e,function(e){return hd(e,t)});if("number"===n){var a=i.filter(function(e){return de(e)||parseFloat(e)});return a.length?[df()(a),cf()(a)]:[1/0,-1/0]}return(r?i.filter(function(e){return!ue()(e)}):i).map(function(e){return pe(e)||e instanceof Date?e:""})}var gd=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?dd(dd({},e.type.defaultProps),e.props):e.props,a=i.stroke,o=i.fill;switch(r){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:o;break;default:n=o}return n},yd=function(e,t,n,r,i){var a=We(t.props.children,nd).filter(function(e){return function(e,t,n){return!!ue()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)});if(a&&a.length){var o=a.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=hd(t,n);if(ue()(r))return e;var i=Array.isArray(r)?[df()(r),cf()(r)]:[r,r],a=o.reduce(function(e,n){var r=hd(t,n,0),a=i[0]-Math.abs(Array.isArray(r)?r[0]:r),o=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0])}return null},vd=function(e,t,n,r,i){var a=t.map(function(t){var a=t.props.dataKey;return"number"===n&&a&&yd(e,t,a,r)||md(e,a,n,i)});if("number"===n)return a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return a.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},bd=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},xd=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var i,a,o=e.map(function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate});return i||o.push(t),a||o.push(n),o},wd=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,a=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*ce(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!re()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}})},Nd=new WeakMap,Sd=function(e,t){if("function"!==typeof t)return e;Nd.has(e)||Nd.set(e,new WeakMap);var n=Nd.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},Ed=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if("auto"===i)return"radial"===o&&"radiusAxis"===s?{scale:xa(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:Hs(),realScaleType:"linear"}:"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Na(),realScaleType:"point"}:"category"===a?{scale:xa(),realScaleType:"band"}:{scale:Hs(),realScaleType:"linear"};if(te()(i)){var l="scale".concat(cn()(i));return{scale:(e[l]||Na)(),realScaleType:e[l]?l:"point"}}return Se()(i)?{scale:i}:{scale:Na(),realScaleType:"point"}},Ad=1e-4,Cd=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Ad,a=Math.max(r[0],r[1])+Ad,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},kd={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=re()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}rf(e,t)}},none:rf,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}rf(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],f=c[o][1]||0,d=(f-(c[o-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];d+=(h[o][1]||0)-(h[o-1][1]||0)}l+=f,u+=d*f}n[o-1][1]+=n[o-1][0]=a,l&&(a-=u/l)}n[o-1][1]+=n[o-1][0]=a,rf(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=re()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},_d=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),i=kd[n],a=function(){var e=Tn([]),t=of,n=rf,r=sf;function i(i){var a,o,s=Array.from(e.apply(this,arguments),lf),l=s.length,u=-1;for(const e of i)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(e,s[a].key,u,i)]).data=e;for(a=0,o=af(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Tn(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Tn(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?of:"function"===typeof e?e:Tn(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?rf:e,i):n},i}().keys(r).value(function(e,t){return+hd(e,t,0)}).order(of).offset(i);return a(e)},Dd=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,a=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var u=Uf(l,i,o);return e.domain([df()(u),cf()(u)]),{niceTicks:u}}if(i&&"number"===r){var c=e.domain();return{niceTicks:qf(c,i,o)}}return null};function Od(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ue()(i[t.dataKey])){var s=be(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=hd(i,ue()(o)?t.dataKey:o);return ue()(l)?null:t.scale(l)}var jd=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,a=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=hd(a,t.dataKey,t.domain[o]);return ue()(s)?null:t.scale(s)-i/2+r},Md=function(e,t,n){return Object.keys(e).reduce(function(r,i){var a=e[i].stackedData.reduce(function(e,r){var i=r.slice(t,n+1).reduce(function(e,t){return[df()(t.concat([e[0]]).filter(de)),cf()(t.concat([e[1]]).filter(de))]},[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},Td=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pd=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fd=function(e,t,n){if(Se()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(de(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(Td.test(e[0])){var i=+Td.exec(e[0])[1];r[0]=t[0]-i}else Se()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(de(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(Pd.test(e[1])){var a=+Pd.exec(e[1])[1];r[1]=t[1]+a}else Se()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},Id=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=ut()(t,function(e){return e.coordinate}),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},Bd=function(e,t,n){return e&&e.length?gf()(e,ae()(n,"type.defaultProps.domain"))?t:e:t},Rd=function(e,t){var n=e.type.defaultProps?dd(dd({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,a=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,u=n.hide;return dd(dd({},Ge(e,!1)),{},{dataKey:r,unit:a,formatter:o,name:i||r,color:gd(e),value:hd(t,r),type:s,payload:t,chartType:l,hide:u})};function zd(e){return zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(e)}function Ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ld(Object(n),!0).forEach(function(t){qd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=zd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zd(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $d=["Webkit","Moz","O","ms"];function Wd(e){return Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(e)}function Hd(){return Hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(this,arguments)}function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(n),!0).forEach(function(t){Qd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ep(r.key),r)}}function Gd(e,t,n){return t=Jd(t),function(e,t){if(t&&("object"===Wd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xd()?Reflect.construct(t,n||[],Jd(e).constructor):t.apply(e,n))}function Xd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xd=function(){return!!e})()}function Jd(e){return Jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jd(e)}function Zd(e,t){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zd(e,t)}function Qd(e,t,n){return(t=ep(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e){var t=function(e,t){if("object"!=Wd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wd(t)?t:t+""}var tp=function(e){return e.changedTouches&&!!e.changedTouches.length},np=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qd(n=Gd(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),Qd(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),Qd(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})}),n.detachDragEndListener()}),Qd(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qd(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qd(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qd(n,"handleSlideDragStart",function(e){var t=tp(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zd(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,a=this.props,o=a.gap,s=a.data.length-1,l=Math.min(n,r),u=Math.max(n,r),c=t.getIndexInRange(i,l),f=t.getIndexInRange(i,u);return{startIndex:c-c%o,endIndex:f===s?s:f-f%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,a=hd(n[e],i,e);return Se()(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,a=this.props,o=a.x,s=a.width,l=a.travellerWidth,u=a.startIndex,c=a.endIndex,f=a.onChange,d=e.pageX-n;d>0?d=Math.min(d,o+s-l-i,o+s-l-r):d<0&&(d=Math.max(d,o-r,o-i));var p=this.getIndex({startX:r+d,endX:i+d});p.startIndex===u&&p.endIndex===c||!f||f(p),this.setState({startX:r+d,endX:i+d,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=tp(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,a=t.startX,o=this.state[r],s=this.props,l=s.x,u=s.width,c=s.travellerWidth,f=s.onChange,d=s.gap,p=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+u-c-o):m<0&&(m=Math.max(m,l-o)),h[r]=o+m;var g=this.getIndex(h),y=g.startIndex,v=g.endIndex;this.setState(Qd(Qd({},r,o+m),"brushMoveStartX",e.pageX),function(){f&&function(){var e=p.length-1;return"startX"===r&&(i>a?y%d===0:v%d===0)||i<a&&v===e||"endX"===r&&(i>a?v%d===0:y%d===0)||i>a&&v===e}()&&f(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,a=r.startX,o=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var u=l+e;if(!(-1===u||u>=i.length)){var c=i[u];"startX"===t&&c>=o||"endX"===t&&c<=a||this.setState(Qd({},t,c),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:o,x:t,y:n,width:i,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.data,s=e.children,l=e.padding,u=r.Children.only(s);return u?r.cloneElement(u,{x:t,y:n,width:i,height:a,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var i,a,o=this,s=this.props,l=s.y,u=s.travellerWidth,c=s.height,f=s.traveller,d=s.ariaLabel,p=s.data,h=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=Vd(Vd({},Ge(this.props,!1)),{},{x:g,y:l,width:u,height:c}),v=d||"Min value: ".concat(null===(i=p[h])||void 0===i?void 0:i.name,", Max value: ").concat(null===(a=p[m])||void 0===a?void 0:a.name);return r.createElement(bt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,a=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:i,width:u,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,a=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,f={pointerEvents:"none",fill:s};return r.createElement(bt,{className:"recharts-brush-texts"},r.createElement(ao,Hd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:i+a/2},f),this.getTextOfTick(t)),r.createElement(ao,Hd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+o+5,y:i+a/2},f),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,a=e.x,o=e.y,s=e.width,l=e.height,u=e.alwaysShowText,c=this.state,f=c.startX,d=c.endX,p=c.isTextActive,h=c.isSlideMoving,m=c.isTravellerMoving,g=c.isTravellerFocused;if(!t||!t.length||!de(a)||!de(o)||!de(s)||!de(l)||s<=0||l<=0)return null;var y=J("recharts-brush",n),v=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=$d.reduce(function(e,r){return Ud(Ud({},e),{},qd({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return r.createElement(bt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(f,d),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(d,"endX"),(p||h||m||g||u)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,o=e.stroke,s=Math.floor(n+a/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:a,fill:o,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):Se()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,a=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return Vd({prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Na().domain(st()(0,s)).range([i,i+a-o]),u=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:a,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([i,i+r-a]);var u=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&Yd(n.prototype,i),a&&Yd(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function rp(e){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(e)}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(n),!0).forEach(function(t){op(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function op(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Qd(np,"displayName","Brush"),Qd(np,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var up=Math.PI/180,cp=function(e){return 180*e/Math.PI},fp=function(e,t,n,r){return{x:e+Math.cos(-up*r)*n,y:t+Math.sin(-up*r)*n}},dp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},pp=function(e,t){var n=e.x,r=e.y,i=t.cx,a=t.cy,o=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-a,2))}({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:cp(l),angleInRadian:l}},hp=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},mp=function(e,t){var n=e.x,r=e.y,i=pp({x:n,y:r},t),a=i.radius,o=i.angle,s=t.innerRadius,l=t.outerRadius;if(a<s||a>l)return!1;if(0===a)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}}(t),f=c.startAngle,d=c.endAngle,p=o;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;u=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;u=p>=d&&p<=f}return u?ap(ap({},t),{},{radius:a,angle:hp(p,t)}):null},gp=function(e){return(0,r.isValidElement)(e)||Se()(e)||"boolean"===typeof e?"":e.className};function yp(e){return yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(e)}var vp=["offset"];function bp(e){return function(e){if(Array.isArray(e))return xp(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xp(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Np(Object(n),!0).forEach(function(t){Ep(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Np(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ep(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=yp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ap.apply(this,arguments)}var Cp=function(e,t,n){var i,a,o=e.position,s=e.viewBox,l=e.offset,u=e.className,c=s,f=c.cx,d=c.cy,p=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,y=c.clockWise,v=(p+h)/2,b=function(e,t){return ce(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===o?(i=m+x*l,a=y):"insideEnd"===o?(i=g-x*l,a=!y):"end"===o&&(i=g+x*l,a=y),a=b<=0?a:!a;var w=fp(f,d,v,i),N=fp(f,d,v,i+359*(a?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(N.x,",").concat(N.y),E=ue()(e.id)?me("recharts-radial-line-"):e.id;return r.createElement("text",Ap({},n,{dominantBaseline:"central",className:J("recharts-radial-bar-label",u)}),r.createElement("defs",null,r.createElement("path",{id:E,d:S})),r.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function kp(e){var t,n=e.offset,i=Sp({offset:void 0===n?5:n},wp(e,vp)),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=void 0===c?"":c,d=i.textBreakAll;if(!a||ue()(s)&&ue()(l)&&!(0,r.isValidElement)(u)&&!Se()(u))return null;if((0,r.isValidElement)(u))return(0,r.cloneElement)(u,i);if(Se()(u)){if(t=(0,r.createElement)(u,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=ue()(e.children)?t:e.children;return Se()(n)?n(r):r}(i);var p=function(e){return"cx"in e&&de(e.cx)}(a),h=Ge(i,!0);if(p&&("insideStart"===o||"insideEnd"===o||"end"===o))return Cp(i,t,h);var m=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,a=i.cx,o=i.cy,s=i.innerRadius,l=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var c=fp(a,o,l+n,u),f=c.x;return{x:f,y:c.y,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var d=fp(a,o,(s+l)/2,u);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,a=t,o=a.x,s=a.y,l=a.width,u=a.height,c=u>=0?1:-1,f=c*r,d=c>0?"end":"start",p=c>0?"start":"end",h=l>=0?1:-1,m=h*r,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===i)return Sp(Sp({},{x:o+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return Sp(Sp({},{x:o+l/2,y:s+u+f,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===i){var v={x:o-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return Sp(Sp({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===i){var b={x:o+l+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return Sp(Sp({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:u}:{})}var x=n?{width:l,height:u}:{};return"insideLeft"===i?Sp({x:o+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===i?Sp({x:o+l-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?Sp({x:o+l/2,y:s+f,textAnchor:"middle",verticalAnchor:p},x):"insideBottom"===i?Sp({x:o+l/2,y:s+u-f,textAnchor:"middle",verticalAnchor:d},x):"insideTopLeft"===i?Sp({x:o+m,y:s+f,textAnchor:y,verticalAnchor:p},x):"insideTopRight"===i?Sp({x:o+l-m,y:s+f,textAnchor:g,verticalAnchor:p},x):"insideBottomLeft"===i?Sp({x:o+m,y:s+u-f,textAnchor:y,verticalAnchor:d},x):"insideBottomRight"===i?Sp({x:o+l-m,y:s+u-f,textAnchor:g,verticalAnchor:d},x):Ae()(i)&&(de(i.x)||fe(i.x))&&(de(i.y)||fe(i.y))?Sp({x:o+ge(i.x,l),y:s+ge(i.y,u),textAnchor:"end",verticalAnchor:"end"},x):Sp({x:o+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(i);return r.createElement(ao,Ap({className:J("recharts-label",f)},h,m,{breakAll:d}),t)}kp.displayName="Label";var _p=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,a=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,f=e.y,d=e.top,p=e.left,h=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(de(h)&&de(m)){if(de(c)&&de(f))return{x:c,y:f,width:h,height:m};if(de(d)&&de(p))return{x:d,y:p,width:h,height:m}}return de(c)&&de(f)?{x:c,y:f,width:0,height:0}:de(t)&&de(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:u||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};kp.parseViewBox=_p,kp.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=_p(e),o=We(i,kp).map(function(e,n){return(0,r.cloneElement)(e,{viewBox:t||a,key:"label-".concat(n)})});if(!n)return o;var s=function(e,t){return e?!0===e?r.createElement(kp,{key:"label-implicit",viewBox:t}):pe(e)?r.createElement(kp,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===kp?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(kp,{key:"label-implicit",content:e,viewBox:t}):Se()(e)?r.createElement(kp,{key:"label-implicit",content:e,viewBox:t}):Ae()(e)?r.createElement(kp,Ap({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(bp(o))};var Dp=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},Op=n(1733),jp=n.n(Op),Mp=n(7002),Tp=n.n(Mp),Pp=function(e){return null};Pp.displayName="Cell";var Fp=n(4065),Ip=n.n(Fp);function Bp(e){return Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(e)}var Rp=["valueAccessor"],zp=["data","dataKey","clockWise","id","textBreakAll"];function Lp(e){return function(e){if(Array.isArray(e))return Up(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Up(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(this,arguments)}function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$p(Object(n),!0).forEach(function(t){Hp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hp(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Bp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kp(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Vp=function(e){return Array.isArray(e.value)?Ip()(e.value):e.value};function Yp(e){var t=e.valueAccessor,n=void 0===t?Vp:t,i=Kp(e,Rp),a=i.data,o=i.dataKey,s=i.clockWise,l=i.id,u=i.textBreakAll,c=Kp(i,zp);return a&&a.length?r.createElement(bt,{className:"recharts-label-list"},a.map(function(e,t){var i=ue()(o)?n(e,t):hd(e&&e.payload,o),a=ue()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(kp,qp({},Ge(e,!0),c,a,{parentViewBox:e.parentViewBox,value:i,textBreakAll:u,viewBox:kp.parseViewBox(ue()(s)?e:Wp(Wp({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}Yp.displayName="LabelList",Yp.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=We(e.children,Yp).map(function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?r.createElement(Yp,{key:"labelList-implicit",data:t}):r.isValidElement(e)||Se()(e)?r.createElement(Yp,{key:"labelList-implicit",data:t,content:e}):Ae()(e)?r.createElement(Yp,qp({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Lp(i)):i};var Gp=n(2322),Xp=n.n(Gp),Jp=n(6361),Zp=n.n(Jp);function Qp(e){return Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(e)}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(this,arguments)}function th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rh(Object(n),!0).forEach(function(t){ah(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ah(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Qp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oh=function(e,t,n,r,i){var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},sh={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lh=function(e){var t=ih(ih({},sh),e),n=(0,r.useRef)(),i=th((0,r.useState)(-1),2),a=i[0],o=i[1];(0,r.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.upperWidth,c=t.lowerWidth,f=t.height,d=t.className,p=t.animationEasing,h=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||f!==+f||0===u&&0===c||0===f)return null;var y=J("recharts-trapezoid",d);return g?r.createElement(Qi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:l},to:{upperWidth:u,lowerWidth:c,height:f,x:s,y:l},duration:h,animationEasing:p,isActive:g},function(e){var i=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,u=e.y;return r.createElement(Qi,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:p},r.createElement("path",eh({},Ge(t,!0),{className:y,d:oh(l,u,i,o,s),ref:n})))}):r.createElement("g",null,r.createElement("path",eh({},Ge(t,!0),{className:y,d:oh(s,l,u,c,f)})))};function uh(e){return uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(this,arguments)}function fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fh(Object(n),!0).forEach(function(t){ph(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ph(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=uh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uh(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hh=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,a=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(o?1:-1)+r,c=Math.asin(s/u)/up,f=l?i:i+a*c,d=l?i-a*c:i;return{center:fp(t,n,u,f),circleTangency:fp(t,n,r,f),lineTangency:fp(t,n,u*Math.cos(c*up),d),theta:c}},mh=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.startAngle,o=function(e,t){return ce(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),s=a+o,l=fp(t,n,i,a),u=fp(t,n,i,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var f=fp(t,n,r,a),d=fp(t,n,r,s);c+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=s),",\n            ").concat(f.x,",").concat(f.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},gh={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yh=function(e){var t=dh(dh({},gh),e),n=t.cx,i=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,c=t.startAngle,f=t.endAngle,d=t.className;if(o<a||c===f)return null;var p,h=J("recharts-sector",d),m=o-a,g=ge(s,m,0,!0);return p=g>0&&Math.abs(c-f)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=ce(u-l),f=hh({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),d=f.circleTangency,p=f.lineTangency,h=f.theta,m=hh({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-u):Math.abs(l-u)-h-v;if(b<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):mh({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=hh({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),N=w.circleTangency,S=w.lineTangency,E=w.theta,A=hh({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),C=A.circleTangency,k=A.lineTangency,_=A.theta,D=s?Math.abs(l-u):Math.abs(l-u)-E-_;if(D<0&&0===a)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(c>0),",").concat(N.x,",").concat(N.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):mh({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),r.createElement("path",ch({},Ge(t,!0),{className:h,d:p,role:"img"}))},vh=["option","shapeType","propTransformer","activeClassName","isActive"];function bh(e){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(e)}function xh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wh(Object(n),!0).forEach(function(t){Sh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bh(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eh(e,t){return Nh(Nh({},t),e)}function Ah(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(ca,n);case"trapezoid":return r.createElement(lh,n);case"sector":return r.createElement(yh,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(Xn,n);break;default:return null}}function Ch(e){var t,n=e.option,i=e.shapeType,a=e.propTransformer,o=void 0===a?Eh:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,u=e.isActive,c=xh(e,vh);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,Nh(Nh({},c),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(Se()(n))t=n(c);else if(Xp()(n)&&!Zp()(n)){var f=o(n,c);t=r.createElement(Ah,{shapeType:i,elementProps:f})}else{var d=c;t=r.createElement(Ah,{shapeType:i,elementProps:d})}return u?r.createElement(bt,{className:l},t):t}function kh(e,t){return null!=t&&"trapezoids"in e.props}function _h(e,t){return null!=t&&"sectors"in e.props}function Dh(e,t){return null!=t&&"points"in e.props}function Oh(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&a}function jh(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Mh(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Th(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return kh(e,t)?n="trapezoids":_h(e,t)?n="sectors":Dh(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,r;return kh(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:_h(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:Dh(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=gf()(a,e),s=n.props[i].filter(function(e){var r=function(e,t){var n;return kh(e,t)?n=Oh:_h(e,t)?n=jh:Dh(e,t)&&(n=Mh),n}(n,t);return r(e,t)}),l=n.props[i].indexOf(s[s.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var Ph=["x","y"];function Fh(e){return Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(this,arguments)}function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach(function(t){zh(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Fh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fh(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uh(e,t){var n=e.x,r=e.y,i=Lh(e,Ph),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),d=parseInt(f,10);return Rh(Rh(Rh(Rh(Rh({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:d,name:t.name,radius:t.radius})}function qh(e){return r.createElement(Ch,Ih({shapeType:"rectangle",propTransformer:Uh,activeClassName:"recharts-active-bar"},e))}var $h,Wh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i=de(n)||function(e){return ue()(e)}(n);return i?e(n,r):(i||ft(!1),t)}},Hh=["value","background"];function Kh(e){return Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(e)}function Vh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(this,arguments)}function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(n),!0).forEach(function(t){nm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rm(r.key),r)}}function Zh(e,t,n){return t=em(t),function(e,t){if(t&&("object"===Kh(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Qh()?Reflect.construct(t,n||[],em(e).constructor):t.apply(e,n))}function Qh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Qh=function(){return!!e})()}function em(e){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},em(e)}function tm(e,t){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tm(e,t)}function nm(e,t,n){return(t=rm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rm(e){var t=function(e,t){if("object"!=Kh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kh(t)?t:t+""}var im=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return nm(e=Zh(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),nm(e,"id",me("recharts-bar-")),nm(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),nm(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}(t,e),n=t,i=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,a=n.dataKey,o=n.activeIndex,s=n.activeBar,l=Ge(this.props,!1);return e&&e.map(function(e,n){var u=n===o,c=u?s:i,f=Xh(Xh(Xh({},l),e),{},{isActive:u,option:c,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(bt,Yh({className:"recharts-bar-rectangle"},Pe(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),r.createElement(qh,f))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,a=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,u=t.animationId,c=this.state.prevData;return r.createElement(Qi,{begin:o,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,o=n.map(function(e,t){var n=c&&c[t];if(n){var r=ve(n.x,e.x),o=ve(n.y,e.y),s=ve(n.width,e.width),l=ve(n.height,e.height);return Xh(Xh({},e),{},{x:r(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===i){var u=ve(0,e.height)(a);return Xh(Xh({},e),{},{y:e.y+e.height-u,height:u})}var f=ve(0,e.width)(a);return Xh(Xh({},e),{},{width:f})});return r.createElement(bt,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&gf()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,a=t.activeIndex,o=Ge(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,l=Vh(t,Hh);if(!s)return null;var u=Xh(Xh(Xh(Xh(Xh({},l),{},{fill:"#eee"},s),o),Pe(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(qh,Yh({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},u))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,a=n.xAxis,o=n.yAxis,s=n.layout,l=We(n.children,nd);if(!l)return null;var u="vertical"===s?i[0].height/2:i[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:hd(e,t)}},f={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(bt,f,l.map(function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:a,yAxis:o,layout:s,offset:u,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,a=e.xAxis,o=e.yAxis,s=e.left,l=e.top,u=e.width,c=e.height,f=e.isAnimationActive,d=e.background,p=e.id;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,m=J("recharts-bar",i),g=a&&a.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,b=ue()(p)?this.id:p;return r.createElement(bt,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-u/2,y:y?l:l-c/2,width:g?u:2*u,height:y?c:2*c}))):null,r.createElement(bt,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!f||h)&&Yp.renderCallByParent(this.props,n))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&Jh(n.prototype,i),a&&Jh(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function am(e){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(e)}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cm(r.key),r)}}function sm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sm(Object(n),!0).forEach(function(t){um(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function um(e,t,n){return(t=cm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cm(e){var t=function(e,t){if("object"!=am(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==am(t)?t:t+""}$h=im,nm(im,"displayName","Bar"),nm(im,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Kt.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),nm(im,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,d=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,m=n.type.defaultProps,g=void 0!==m?Xh(Xh({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===h?o:a,w=u?x.scale.domain():null,N=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),S=We(v,Pp),E=f.map(function(e,t){var r,f,d,m,g,v;u?r=function(e,t){if(!t||2!==t.length||!de(t[0])||!de(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!de(e[0])||e[0]<n)&&(i[0]=n),(!de(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(u[c+t],w):(r=hd(e,y),Array.isArray(r)||(r=[N,r]));var x=Wh(b,$h.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var E,A=[o.scale(r[0]),o.scale(r[1])],C=A[0],k=A[1];f=jd({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:e,index:t}),d=null!==(E=null!==k&&void 0!==k?k:C)&&void 0!==E?E:void 0,m=p.size;var _=C-k;if(g=Number.isNaN(_)?0:_,v={x:f,y:o.y,width:m,height:o.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var D=ce(g||x)*(Math.abs(x)-Math.abs(g));d-=D,g+=D}}else{var O=[a.scale(r[0]),a.scale(r[1])],j=O[0],M=O[1];if(f=j,d=jd({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:e,index:t}),m=M-j,g=p.size,v={x:a.x,y:d,width:a.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=ce(m||x)*(Math.abs(x)-Math.abs(m))}return Xh(Xh(Xh({},e),{},{x:f,y:d,width:m,height:g,value:u?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[Rd(n,e)],tooltipPosition:{x:f+m/2,y:d+g/2}})});return Xh({data:E,layout:h},d)});var fm=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},dm=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&om(t.prototype,n),r&&om(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();um(dm,"EPS",1e-4);var pm=function(e){var t=Object.keys(e).reduce(function(t,n){return lm(lm({},t),{},um({},n,dm.create(e[n])))},{});return lm(lm({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return jp()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:i})})},isInRange:function(e){return Tp()(e,function(e,n){return t[n].isInRange(e)})}})};function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hm.apply(this,arguments)}function mm(e){return mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(e)}function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(n),!0).forEach(function(t){Sm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Em(r.key),r)}}function bm(e,t,n){return t=wm(t),function(e,t){if(t&&("object"===mm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xm()?Reflect.construct(t,n||[],wm(e).constructor):t.apply(e,n))}function xm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xm=function(){return!!e})()}function wm(e){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wm(e)}function Nm(e,t){return Nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nm(e,t)}function Sm(e,t,n){return(t=Em(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e){var t=function(e,t){if("object"!=mm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mm(t)?t:t+""}var Am=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bm(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nm(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,n=e.x,i=e.y,a=e.r,o=e.alwaysShow,s=e.clipPathId,l=pe(n),u=pe(i);if(we(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,a=pm({x:r.scale,y:i.scale}),o=a.apply({x:t,y:n},{bandAware:!0});return Dp(e,"discard")&&!a.isInRange(o)?null:o}(this.props);if(!c)return null;var f=c.x,d=c.y,p=this.props,h=p.shape,m=p.className,g=ym(ym({clipPath:Dp(this.props,"hidden")?"url(#".concat(s,")"):void 0},Ge(this.props,!0)),{},{cx:f,cy:d});return r.createElement(bt,{className:J("recharts-reference-dot",m)},t.renderDot(h,g),kp.renderCallByParent(this.props,{x:f-a,y:d-a,width:2*a,height:2*a}))}}])&&vm(n.prototype,i),a&&vm(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);Sm(Am,"displayName","ReferenceDot"),Sm(Am,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Sm(Am,"renderDot",function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):Se()(e)?e(t):r.createElement(Er,hm({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var Cm=n(4597),km=n.n(Cm),_m=n(8990),Dm=n.n(_m),Om=n(5797),jm=n.n(Om)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var Mm=(0,r.createContext)(void 0),Tm=(0,r.createContext)(void 0),Pm=(0,r.createContext)(void 0),Fm=(0,r.createContext)({}),Im=(0,r.createContext)(void 0),Bm=(0,r.createContext)(0),Rm=(0,r.createContext)(0),zm=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,a=t.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=jm(a);return r.createElement(Mm.Provider,{value:n},r.createElement(Tm.Provider,{value:i},r.createElement(Fm.Provider,{value:a},r.createElement(Pm.Provider,{value:c},r.createElement(Im.Provider,{value:o},r.createElement(Bm.Provider,{value:u},r.createElement(Rm.Provider,{value:l},s)))))))};var Lm=function(e){var t=(0,r.useContext)(Mm);null==t&&ft(!1);var n=t[e];return null==n&&ft(!1),n},Um=function(e){var t=(0,r.useContext)(Tm);null==t&&ft(!1);var n=t[e];return null==n&&ft(!1),n},qm=function(){return(0,r.useContext)(Rm)},$m=function(){return(0,r.useContext)(Bm)};function Wm(e){return Wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(e)}function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qm(r.key),r)}}function Km(e,t,n){return t=Ym(t),function(e,t){if(t&&("object"===Wm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vm()?Reflect.construct(t,n||[],Ym(e).constructor):t.apply(e,n))}function Vm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vm=function(){return!!e})()}function Ym(e){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ym(e)}function Gm(e,t){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gm(e,t)}function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach(function(t){Zm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zm(e,t,n){return(t=Qm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e){var t=function(e,t){if("object"!=Wm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wm(t)?t:t+""}function eg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ng.apply(this,arguments)}function rg(e){var t=e.x,n=e.y,i=e.segment,a=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,u=e.alwaysShow,c=(0,r.useContext)(Im),f=Lm(a),d=Um(o),p=(0,r.useContext)(Pm);if(!c||!p)return null;we(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,i,a,o,s,l){var u=i.x,c=i.y,f=i.width,d=i.height;if(n){var p=l.y,h=e.y.apply(p,{position:a});if(Dp(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:u+f,y:h},{x:u,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:a});if(Dp(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:c+d},{x:y,y:c}];return"top"===o?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:a})});return Dp(l,"discard")&&km()(b,function(t){return!e.isInRange(t)})?null:b}return null}(pm({x:f.scale,y:d.scale}),pe(t),pe(n),i&&2===i.length,p,e.position,f.orientation,d.orientation,e);if(!h)return null;var m=eg(h,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,N=Jm(Jm({clipPath:Dp(e,"hidden")?"url(#".concat(c,")"):void 0},Ge(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return r.createElement(bt,{className:J("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):Se()(e)?e(t):r.createElement("line",ng({},t,{className:"recharts-reference-line-line"}))}(s,N),kp.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return fm({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:x,y2:w})))}var ig=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Km(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gm(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(rg,this.props)}}])&&Hm(n.prototype,i),a&&Hm(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(this,arguments)}function og(e){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(e)}function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach(function(t){hg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mg(r.key),r)}}function cg(e,t,n){return t=dg(t),function(e,t){if(t&&("object"===og(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fg()?Reflect.construct(t,n||[],dg(e).constructor):t.apply(e,n))}function fg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fg=function(){return!!e})()}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dg(e)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pg(e,t)}function hg(e,t,n){return(t=mg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mg(e){var t=function(e,t){if("object"!=og(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=og(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==og(t)?t:t+""}Zm(ig,"displayName","ReferenceLine"),Zm(ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var gg=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cg(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,n=e.x1,i=e.x2,a=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,u=e.clipPathId;we(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=pe(n),f=pe(i),d=pe(a),p=pe(o),h=this.props.shape;if(!c&&!f&&!d&&!p&&!h)return null;var m=function(e,t,n,r,i){var a=i.x1,o=i.x2,s=i.y1,l=i.y2,u=i.xAxis,c=i.yAxis;if(!u||!c)return null;var f=pm({x:u.scale,y:c.scale}),d={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(s,{position:"start"}):f.y.rangeMin},p={x:t?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:r?f.y.apply(l,{position:"end"}):f.y.rangeMax};return!Dp(i,"discard")||f.isInRange(d)&&f.isInRange(p)?fm(d,p):null}(c,f,d,p,this.props);if(!m&&!h)return null;var g=Dp(this.props,"hidden")?"url(#".concat(u,")"):void 0;return r.createElement(bt,{className:J("recharts-reference-area",s)},t.renderRect(h,lg(lg({clipPath:g},Ge(this.props,!0)),m)),kp.renderCallByParent(this.props,m))}}])&&ug(n.prototype,i),a&&ug(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function yg(e){return function(e){if(Array.isArray(e))return vg(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}hg(gg,"displayName","ReferenceArea"),hg(gg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),hg(gg,"renderRect",function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):Se()(e)?e(t):r.createElement(ca,ag({},t,{className:"recharts-reference-area-rect"}))});var bg=function(e,t,n,r,i){var a=We(e,ig),o=We(e,Am),s=[].concat(yg(a),yg(o)),l=We(e,gg),u="".concat(r,"Id"),c=r[0],f=t;if(s.length&&(f=s.reduce(function(e,t){if(t.props[u]===n&&Dp(t.props,"extendDomain")&&de(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},f)),l.length){var d="".concat(c,"1"),p="".concat(c,"2");f=l.reduce(function(e,t){if(t.props[u]===n&&Dp(t.props,"extendDomain")&&de(t.props[d])&&de(t.props[p])){var r=t.props[d],i=t.props[p];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e},f)}return i&&i.length&&(f=i.reduce(function(e,t){return de(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},f)),f},xg=n(7283),wg=new(n.n(xg)()),Ng="recharts.syncMouseEvents";function Sg(e){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(e)}function Eg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cg(r.key),r)}}function Ag(e,t,n){return(t=Cg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cg(e){var t=function(e,t){if("object"!=Sg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sg(t)?t:t+""}var kg=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ag(this,"activeIndex",0),Ag(this,"coordinateList",[]),Ag(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,a=void 0===i?null:i,o=e.layout,s=void 0===o?null:o,l=e.offset,u=void 0===l?null:l,c=e.mouseHandlerCallback,f=void 0===c?null:c;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==a&&void 0!==a?a:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==u&&void 0!==u?u:this.offset,this.mouseHandlerCallback=null!==f&&void 0!==f?f:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,a=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,u=r+o+s,c=i+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:u,pageY:c})}}}])&&Eg(e.prototype,t),n&&Eg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function _g(){}function Dg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Og(e){this._context=e}function jg(e){this._context=e}function Mg(e){this._context=e}Og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},jg.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Dg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class Tg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function Pg(e){this._context=e}function Fg(e){this._context=e}function Ig(e){return new Fg(e)}function Bg(e){return e<0?-1:1}function Rg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Bg(a)+Bg(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lg(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Ug(e){this._context=e}function qg(e){this._context=new $g(e)}function $g(e){this._context=e}function Wg(e){this._context=e}function Hg(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Kg(e,t){this._context=e,this._t=t}function Vg(e){return e[0]}function Yg(e){return e[1]}function Gg(e,t){var n=Tn(!0),r=null,i=Ig,a=null,o=Ln(s);function s(s){var l,u,c,f=(s=af(s)).length,d=!1;for(null==r&&(a=i(c=o())),l=0;l<=f;++l)!(l<f&&n(u=s[l],l,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,l,s),+t(u,l,s));if(c)return a=null,c+""||null}return e="function"===typeof e?e:void 0===e?Vg:Tn(e),t="function"===typeof t?t:void 0===t?Yg:Tn(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Tn(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Tn(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Tn(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function Xg(e,t,n){var r=null,i=Tn(!0),a=null,o=Ig,s=null,l=Ln(u);function u(u){var c,f,d,p,h,m=(u=af(u)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=o(h=l())),c=0;c<=m;++c){if(!(c<m&&i(p=u[c],c,u))===g)if(g=!g)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=c-1;d>=f;--d)s.point(y[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+e(p,c,u),v[c]=+t(p,c,u),s.point(r?+r(p,c,u):y[c],n?+n(p,c,u):v[c]))}if(h)return s=null,h+""||null}function c(){return Gg().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?Vg:Tn(+e),t="function"===typeof t?t:Tn(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?Yg:Tn(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:Tn(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:Tn(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Tn(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:Tn(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:Tn(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Tn(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:Tn(!!e),u):i},u.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),u):o},u.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),u):a},u}function Jg(e){return Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(e)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(this,arguments)}function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qg(Object(n),!0).forEach(function(t){ty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ty(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Jg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jg(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pg.prototype={areaStart:_g,areaEnd:_g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lg(this,this._t0,zg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lg(this,zg(this,n=Rg(this,e,t)),n);break;default:Lg(this,this._t0,n=Rg(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(qg.prototype=Object.create(Ug.prototype)).point=function(e,t){Ug.prototype.point.call(this,t,e)},$g.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Hg(e),i=Hg(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var ny={curveBasisClosed:function(e){return new jg(e)},curveBasisOpen:function(e){return new Mg(e)},curveBasis:function(e){return new Og(e)},curveBumpX:function(e){return new Tg(e,!0)},curveBumpY:function(e){return new Tg(e,!1)},curveLinearClosed:function(e){return new Pg(e)},curveLinear:Ig,curveMonotoneX:function(e){return new Ug(e)},curveMonotoneY:function(e){return new qg(e)},curveNatural:function(e){return new Wg(e)},curveStep:function(e){return new Kg(e,.5)},curveStepAfter:function(e){return new Kg(e,1)},curveStepBefore:function(e){return new Kg(e,0)}},ry=function(e){return e.x===+e.x&&e.y===+e.y},iy=function(e){return e.x},ay=function(e){return e.y},oy=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,a=void 0===i?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=void 0!==l&&l,c=function(e,t){if(Se()(e))return e;var n="curve".concat(cn()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?ny[n]||Ig:ny["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),f=u?a.filter(function(e){return ry(e)}):a;if(Array.isArray(o)){var d=u?o.filter(function(e){return ry(e)}):o,p=f.map(function(e,t){return ey(ey({},e),{},{base:d[t]})});return(t="vertical"===s?Xg().y(ay).x1(iy).x0(function(e){return e.base.x}):Xg().x(iy).y1(ay).y0(function(e){return e.base.y})).defined(ry).curve(c),t(p)}return(t="vertical"===s&&de(o)?Xg().y(ay).x1(iy).x0(o):de(o)?Xg().x(iy).y1(ay).y0(o):Gg().x(iy).y(ay)).defined(ry).curve(c),t(f)},sy=function(e){var t=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?oy(e):i;return r.createElement("path",Zg({},Ge(e,!1),Te(e),{className:J("recharts-curve",t),d:o,ref:a}))};function ly(e){return ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(e)}var uy=["x","y","top","left","width","height","className"];function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cy.apply(this,arguments)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ly(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ly(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ly(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function py(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hy=function(e,t,n,r,i,a){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},my=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i,o=e.top,s=void 0===o?0:o,l=e.left,u=void 0===l?0:l,c=e.width,f=void 0===c?0:c,d=e.height,p=void 0===d?0:d,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(t){dy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:a,top:s,left:u,width:f,height:p},py(e,uy));return de(n)&&de(a)&&de(f)&&de(p)&&de(s)&&de(u)?r.createElement("path",cy({},Ge(m,!0),{className:J("recharts-cross",h),d:hy(n,a,f,p,s,u)})):null};function gy(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle;return{points:[fp(t,n,r,i),fp(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function yy(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return gy(t);var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,d=fp(s,l,u,f),p=fp(s,l,c,f);r=d.x,i=d.y,a=p.x,o=p.y}return[{x:r,y:i},{x:a,y:o}]}function vy(e){return vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(e)}function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?by(Object(n),!0).forEach(function(t){wy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vy(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ny(e){var t,n,i,a=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,u=e.activePayload,c=e.offset,f=e.activeTooltipIndex,d=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!m||!s||!l||"ScatterChart"!==h&&"axis"!==o)return null;var g=sy;if("ScatterChart"===h)i=l,g=my;else if("BarChart"===h)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,c,d),g=ca;else if("radial"===p){var y=gy(l),v=y.cx,b=y.cy,x=y.radius;i={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=yh}else i={points:yy(p,l,c)},g=sy;var w=xy(xy(xy(xy({stroke:"#ccc",pointerEvents:"none"},c),i),Ge(m,!1)),{},{payload:u,payloadIndex:f,className:J("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,w):(0,r.createElement)(g,w)}var Sy=["item"],Ey=["children","className","width","height","style","compact","title","desc"];function Ay(e){return Ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(this,arguments)}function ky(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||Fy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ly(r.key),r)}}function Oy(e,t,n){return t=My(t),function(e,t){if(t&&("object"===Ay(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jy()?Reflect.construct(t,n||[],My(e).constructor):t.apply(e,n))}function jy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jy=function(){return!!e})()}function My(e){return My=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},My(e)}function Ty(e,t){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ty(e,t)}function Py(e){return function(e){if(Array.isArray(e))return Iy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fy(e,t){if(e){if("string"===typeof e)return Iy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iy(e,t):void 0}}function Iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function By(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?By(Object(n),!0).forEach(function(t){zy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zy(e,t,n){return(t=Ly(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ly(e){var t=function(e,t){if("object"!=Ay(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ay(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ay(t)?t:t+""}var Uy={xAxis:["bottom","top"],yAxis:["left","right"]},qy={width:"100%",height:"100%"},$y={x:0,y:0};function Wy(e){return e}var Hy=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,a=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(Py(e),Py(n)):e},[]);return a.length>0?a:e&&e.length&&de(r)&&de(i)?e.slice(r,i+1):[]};function Ky(e){return"number"===e?[0,"auto"]:void 0}var Vy=function(e,t,n,r){var i=e.graphicalItems,a=e.tooltipAxis,o=Hy(t,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(i,s){var l,u,c=null!==(l=s.props.data)&&void 0!==l?l:t;(c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?u=be(void 0===c?o:c,a.dataKey,r):u=c&&c[n]||o[n];return u?[].concat(Py(i),[Rd(s,u)]):i},[])},Yy=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(ce(c-u)!==ce(f-c)){var p=[];if(ce(f-c)===ce(s[1]-s[0])){d=f;var h=c+s[1]-s[0];p[0]=Math.min(h,(h+u)/2),p[1]=Math.max(h,(h+u)/2)}else{d=u;var m=f+s[1]-s[0];p[0]=Math.min(c,(m+c)/2),p[1]=Math.max(c,(m+c)/2)}var g=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){a=r[l].index;break}}else{var y=Math.min(u,f),v=Math.max(u,f);if(e>(y+c)/2&&e<=(v+c)/2){a=r[l].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){a=n[b].index;break}return a}(a,o,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,f=Vy(e,t,u,c),d=function(e,t,n,r){var i=t.find(function(e){return e&&e.index===n});if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,o=r.radius;return Ry(Ry(Ry({},r),fp(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,l=r.angle;return Ry(Ry(Ry({},r),fp(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return $y}(n,o,u,i);return{activeTooltipIndex:u,activeLabel:c,activePayload:f,activeCoordinate:d}}return null},Gy=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,f=e.stackOffset,d=bd(u,i);return n.reduce(function(t,n){var p,h=void 0!==n.type.defaultProps?Ry(Ry({},n.type.defaultProps),n.props):n.props,m=h.type,g=h.dataKey,y=h.allowDataOverflow,v=h.allowDuplicatedCategory,b=h.scale,x=h.ticks,w=h.includeHidden,N=h[a];if(t[N])return t;var S,E,A,C=Hy(e.data,{graphicalItems:r.filter(function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===N}),dataStartIndex:s,dataEndIndex:l}),k=C.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&de(r)&&de(i))return!0}return!1})(h.domain,y,m)&&(S=Fd(h.domain,null,y),!d||"number"!==m&&"auto"===b||(A=md(C,g,"category")));var _=Ky(m);if(!S||0===S.length){var D,O=null!==(D=h.domain)&&void 0!==D?D:_;if(g){if(S=md(C,g,m),"category"===m&&d){var j=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&j?(E=S,S=st()(0,k)):v||(S=Bd(O,S,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(Py(e),[t])},[]))}else if("category"===m)S=v?S.filter(function(e){return""!==e&&!ue()(e)}):Bd(O,S,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ue()(t)?e:[].concat(Py(e),[t])},[]);else if("number"===m){var M=function(e,t,n,r,i){var a=t.map(function(t){return yd(e,t,n,i,r)}).filter(function(e){return!ue()(e)});return a&&a.length?a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,r.filter(function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===N&&(w||!i)}),g,i,u);M&&(S=M)}!d||"number"!==m&&"auto"===b||(A=md(C,g,"category"))}else S=d?st()(0,k):o&&o[N]&&o[N].hasStack&&"number"===m?"expand"===f?[0,1]:Md(o[N].stackGroups,s,l):vd(C,r.filter(function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===N&&(w||!n)}),m,u,!0);if("number"===m)S=bg(c,S,N,i,x),O&&(S=Fd(O,S,y));else if("category"===m&&O){var T=O;S.every(function(e){return T.indexOf(e)>=0})&&(S=T)}}return Ry(Ry({},t),{},zy({},N,Ry(Ry({},h),{},{axisType:i,domain:S,categoricalDomain:A,duplicateDomain:E,originalDomain:null!==(p=h.domain)&&void 0!==p?p:_,isCategorical:d,layout:u})))},{})},Xy=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),f=We(u,i),d={};return f&&f.length?d=Gy(e,{axes:f,graphicalItems:a,axisType:r,axisIdKey:c,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):a&&a.length&&(d=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,f=Hy(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),d=f.length,p=bd(u,i),h=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?Ry(Ry({},t.type.defaultProps),t.props):t.props)[a],y=Ky("number");return e[g]?e:(h++,p?m=st()(0,d):o&&o[g]&&o[g].hasStack?(m=Md(o[g].stackGroups,s,l),m=bg(c,m,g,i)):(m=Fd(y,vd(f,n.filter(function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i}),"number",u),r.defaultProps.allowDataOverflow),m=bg(c,m,g,i)),Ry(Ry({},e),{},zy({},g,Ry(Ry({axisType:i},r.defaultProps),{},{hide:!0,orientation:ae()(Uy,"".concat(i,".").concat(h%2),null),domain:m,originalDomain:y,isCategorical:p,layout:u}))))},{})}(e,{Axis:i,graphicalItems:a,axisType:r,axisIdKey:c,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),d},Jy=function(e){var t=e.children,n=e.defaultShowTooltip,r=He(t,np),i=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},Zy=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Qy=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,a=e.yAxisMap,o=void 0===a?{}:a,s=n.width,l=n.height,u=n.children,c=n.margin||{},f=He(u,np),d=He(u,Nr),p=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:Ry(Ry({},e),{},zy({},r,e[r]+n.width))},{left:c.left||0,right:c.right||0}),h=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:Ry(Ry({},e),{},zy({},r,ae()(e,"".concat(r))+n.height))},{top:c.top||0,bottom:c.bottom||0}),m=Ry(Ry({},h),p),g=m.bottom;f&&(m.bottom+=f.props.height||np.defaultProps.height),d&&t&&(m=function(e,t,n,r){var i=n.children,a=n.width,o=n.margin,s=a-(o.left||0)-(o.right||0),l=sd({children:i,legendWidth:s});if(l){var u=r||{},c=u.width,f=u.height,d=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==d&&de(e[d]))return dd(dd({},e),{},pd({},d,e[d]+(c||0)));if(("horizontal"===h||"vertical"===h&&"center"===d)&&"middle"!==p&&de(e[p]))return dd(dd({},e),{},pd({},p,e[p]+(f||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return Ry(Ry({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},ev=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},tv=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=void 0===i?"axis":i,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,a=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,u=e.barSize,c=e.layout,f=e.barGap,d=e.barCategoryGap,p=e.maxBarSize,h=Zy(c),m=h.numericAxisName,g=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=Le(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,h){var b=Hy(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),x=void 0!==n.type.defaultProps?Ry(Ry({},n.type.defaultProps),n.props):n.props,w=x.dataKey,N=x.maxBarSize,S=x["".concat(m,"Id")],E=x["".concat(g,"Id")],A=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||ft(!1);var a=r[i];return Ry(Ry({},e),{},zy(zy({},n.axisType,a),"".concat(n.axisType,"Ticks"),wd(a)))},{}),C=A[g],k=A["".concat(g,"Ticks")],_=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?dd(dd({},e.type.defaultProps),e.props):e.props).stackId;if(pe(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null}(n,r[S].stackGroups),D=Le(n.type).indexOf("Bar")>=0,O=Id(C,k),j=[],M=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),s=0,l=o.length;s<l;s++)for(var u=i[o[s]].stackGroups,c=Object.keys(u),f=0,d=c.length;f<d;f++){var p=u[c[f]],h=p.items,m=p.cateAxisId,g=h.filter(function(e){return Le(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?dd(dd({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];a[x]||(a[x]=[]);var w=ue()(b)?t:b;a[x].push({item:g[0],stackList:g.slice(1),barSize:ue()(w)?void 0:ge(w,n,0)})}}return a}({barSize:u,stackGroups:r,totalSize:ev(A,g)});if(D){var T,P,F=ue()(N)?p:N,I=null!==(T=null!==(P=Id(C,k,!0))&&void 0!==P?P:F)&&void 0!==T?T:0;j=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,a=void 0===i?[]:i,o=e.maxBarSize,s=a.length;if(s<1)return null;var l,u=ge(t,r,0,!0),c=[];if(a[0].barSize===+a[0].barSize){var f=!1,d=r/s,p=a.reduce(function(e,t){return e+t.barSize||0},0);(p+=(s-1)*u)>=r&&(p-=(s-1)*u,u=0),p>=r&&d>0&&(f=!0,p=s*(d*=.9));var h={offset:((r-p)/2|0)-u,size:0};l=a.reduce(function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+u,size:f?d:t.barSize}},r=[].concat(ud(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:h})}),r},c)}else{var m=ge(n,r,0,!0);r-2*m-(s-1)*u<=0&&(u=0);var g=(r-2*m-(s-1)*u)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=a.reduce(function(e,t,n){var r=[].concat(ud(e),[{item:t.item,position:{offset:m+(g+u)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},c)}return l}({barGap:f,barCategoryGap:d,bandSize:I!==O?I:O,sizeList:M[E],maxBarSize:F}),I!==O&&(j=j.map(function(e){return Ry(Ry({},e),{},{position:Ry(Ry({},e.position),{},{offset:e.position.offset-I/2})})}))}var B,R,z=n&&n.type&&n.type.getComposedData;z&&v.push({props:Ry(Ry({},z(Ry(Ry({},A),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:O,barPosition:j,offset:i,stackedData:_,layout:c,dataStartIndex:o,dataEndIndex:s}))),{},zy(zy(zy({key:n.key||"item-".concat(h)},m,A[m]),g,A[g]),"animationId",a)),childIndex:(B=n,R=e.children,$e(R).indexOf(B)),item:n})}),v},p=function(e,r){var i=e.props,a=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Ke({props:i}))return null;var u=i.children,f=i.layout,p=i.stackOffset,h=i.data,m=i.reverseStackOrder,g=Zy(f),y=g.numericAxisName,v=g.cateAxisName,b=We(u,n),x=function(e,t,n,r,i,a){if(!e)return null;var o=(a?t.reverse():t).reduce(function(e,t){var i,a=null!==(i=t.type)&&void 0!==i&&i.defaultProps?dd(dd({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(a.hide)return e;var s=a[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(pe(o)){var u=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(t),l.hasStack=!0,l.stackGroups[o]=u}else l.stackGroups[me("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return dd(dd({},e),{},pd({},s,l))},{});return Object.keys(o).reduce(function(t,a){var s=o[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,a){var o=s.stackGroups[a];return dd(dd({},t),{},pd({},a,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:_d(e,o.items,i)}))},{})),dd(dd({},t),{},pd({},a,s))},{})}(h,b,"".concat(y,"Id"),"".concat(v,"Id"),p,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return Ry(Ry({},e),{},zy({},n,Xy(i,Ry(Ry({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:a,dataEndIndex:o}))))},{}),N=Qy(Ry(Ry({},w),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=c(i,w[e],N,e.replace("Map",""),t)});var S=function(e){var t=ye(e),n=wd(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ut()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Id(t,n)}}(w["".concat(v,"Map")]),E=d(i,Ry(Ry({},w),{},{dataStartIndex:a,dataEndIndex:o,updateId:s,graphicalItems:b,stackGroups:x,offset:N}));return Ry(Ry({formattedGraphicalItems:E,graphicalItems:b,offset:N,stackGroups:x},S),w)},h=function(e){function n(e){var i,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),zy(o=Oy(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zy(o,"accessibilityManager",new kg),zy(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(Ry({legendBBox:e},p({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},Ry(Ry({},o.state),{},{legendBBox:e}))))}}),zy(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),zy(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return Ry({dataStartIndex:t,dataEndIndex:n},p({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),zy(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=Ry(Ry({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;Se()(r)&&r(n,e)}}),zy(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?Ry(Ry({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;Se()(r)&&r(n,e)}),zy(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),zy(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),zy(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),zy(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;Se()(n)&&n(t,e)}),zy(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&ze[t]?ze[t]:null}(e),r=ae()(o.props,"".concat(n));n&&Se()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),zy(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=Ry(Ry({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;Se()(r)&&r(n,e)}}),zy(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;Se()(t)&&t(o.getMouseInfo(e),e)}),zy(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;Se()(t)&&t(o.getMouseInfo(e),e)}),zy(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),zy(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),zy(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),zy(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;Se()(t)&&t(o.getMouseInfo(e),e)}),zy(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;Se()(t)&&t(o.getMouseInfo(e),e)}),zy(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&wg.emit(Ng,o.props.syncId,e,o.eventEmitterSymbol)}),zy(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(Ry({dataStartIndex:a,dataEndIndex:s},p({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,u=e.chartY,c=e.activeTooltipIndex,f=o.state,d=f.offset,h=f.tooltipTicks;if(!d)return;if("function"===typeof r)c=r(h,e);else if("value"===r){c=-1;for(var m=0;m<h.length;m++)if(h[m].value===e.activeLabel){c=m;break}}var g=Ry(Ry({},d),{},{x:d.left,y:d.top}),y=Math.min(l,g.x+g.width),v=Math.min(u,g.y+g.height),b=h[c]&&h[c].value,x=Vy(o.state,o.props.data,c),w=h[c]?{x:"horizontal"===n?h[c].coordinate:y,y:"horizontal"===n?v:h[c].coordinate}:$y;o.setState(Ry(Ry({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:c}))}else o.setState(e)}),zy(o,"renderCursor",function(e){var n,i=o.state,a=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,u=i.offset,c=i.activeTooltipIndex,f=i.tooltipAxisBandSize,d=o.getTooltipEventType(),p=null!==(n=e.props.active)&&void 0!==n?n:a,h=o.props.layout,m=e.key||"_recharts-cursor";return r.createElement(Ny,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:c,chartName:t,element:e,isActive:p,layout:h,offset:u,tooltipAxisBandSize:f,tooltipEventType:d})}),zy(o,"renderPolarAxis",function(e,t,n){var i=ae()(e,"type.axisType"),a=ae()(o.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?Ry(Ry({},s),e.props):e.props,u=a&&a[l["".concat(i,"Id")]];return(0,r.cloneElement)(e,Ry(Ry({},u),{},{className:J(i,u.className),key:e.key||"".concat(t,"-").concat(n),ticks:wd(u,!0)}))}),zy(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,a=t.polarRadius,s=o.state,l=s.radiusAxisMap,u=s.angleAxisMap,c=ye(l),f=ye(u),d=f.cx,p=f.cy,h=f.innerRadius,m=f.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:wd(f,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:wd(c,!0).map(function(e){return e.coordinate}),cx:d,cy:p,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),zy(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,i=t.width,a=t.height,s=o.props.margin||{},l=i-(s.left||0)-(s.right||0),c=sd({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var f=c.item,d=_y(c,Sy);return(0,r.cloneElement)(f,Ry(Ry({},d),{},{chartWidth:i,chartHeight:a,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),zy(o,"renderTooltip",function(){var e,t=o.props,n=t.children,i=t.accessibilityLayer,a=He(n,ln);if(!a)return null;var s=o.state,l=s.isTooltipActive,u=s.activeCoordinate,c=s.activePayload,f=s.activeLabel,d=s.offset,p=null!==(e=a.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(a,{viewBox:Ry(Ry({},d),{},{x:d.left,y:d.top}),active:p,label:f,payload:p?c:[],coordinate:u,accessibilityLayer:i})}),zy(o,"renderBrush",function(e){var t=o.props,n=t.margin,i=t.data,a=o.state,s=a.offset,l=a.dataStartIndex,u=a.dataEndIndex,c=a.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:Sd(o.handleBrushChange,e.props.onChange),data:i,x:de(e.props.x)?e.props.x:s.left,y:de(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:de(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:u,updateId:"brush-".concat(c)})}),zy(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var i=o.clipPathId,a=o.state,s=a.xAxisMap,l=a.yAxisMap,u=a.offset,c=e.type.defaultProps||{},f=e.props,d=f.xAxisId,p=void 0===d?c.xAxisId:d,h=f.yAxisId,m=void 0===h?c.yAxisId:h;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[p],yAxis:l[m],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:i})}),zy(o,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,i=e.basePoint,a=e.childIndex,o=e.isRange,s=[],l=t.props.key,u=void 0!==t.item.type.defaultProps?Ry(Ry({},t.item.type.defaultProps),t.item.props):t.item.props,c=u.activeDot,f=Ry(Ry({index:a,dataKey:u.dataKey,cx:r.x,cy:r.y,r:4,fill:gd(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},Ge(c,!1)),Te(c));return s.push(n.renderActiveDot(c,f,"".concat(l,"-activePoint-").concat(a))),i?s.push(n.renderActiveDot(c,Ry(Ry({},f),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(a))):o&&s.push(null),s}),zy(o,"renderGraphicChild",function(e,t,n){var i=o.filterFormatItem(e,t,n);if(!i)return null;var a=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,u=s.tooltipAxis,c=s.activeTooltipIndex,f=s.activeLabel,d=He(o.props.children,ln),p=i.props,h=p.points,m=p.isRange,g=p.baseLine,y=void 0!==i.item.type.defaultProps?Ry(Ry({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,N=Boolean(!b&&l&&d&&(v||x||w)),S={};"axis"!==a&&d&&"click"===d.props.trigger?S={onClick:Sd(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(S={onMouseLeave:Sd(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:Sd(o.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,r.cloneElement)(e,Ry(Ry({},i.props),S));if(N){if(!(c>=0)){var A,C=(null!==(A=o.getItemByXY(o.state.activeCoordinate))&&void 0!==A?A:{graphicalItem:E}).graphicalItem,k=C.item,_=void 0===k?e:k,D=C.childIndex,O=Ry(Ry(Ry({},i.props),S),{},{activeIndex:D});return[(0,r.cloneElement)(_,O),null,null]}var j,M;if(u.dataKey&&!u.allowDuplicatedCategory){var T="function"===typeof u.dataKey?function(e){return"function"===typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());j=be(h,T,f),M=m&&g&&be(g,T,f)}else j=null===h||void 0===h?void 0:h[c],M=m&&g&&g[c];if(w||x){var P=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[(0,r.cloneElement)(e,Ry(Ry(Ry({},i.props),S),{},{activeIndex:P})),null,null]}if(!ue()(j))return[E].concat(Py(o.renderActivePoints({item:i,activePoint:j,basePoint:M,childIndex:c,isRange:m})))}return m?[E,null,null]:[E,null]}),zy(o,"renderCustomized",function(e,t,n){return(0,r.cloneElement)(e,Ry(Ry({key:"recharts-customized-".concat(n)},o.props),o.state))}),zy(o,"renderMap",{CartesianGrid:{handler:Wy,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:Wy},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:Wy},YAxis:{handler:Wy},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:me("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Q()(o.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ty(e,t)}(n,e),i=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,a=He(t,ln);if(a){var o=a.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=Vy(this.state,n,o,s),u=this.state.tooltipTicks[o].coordinate,c=(this.state.offset.top+r)/2,f="horizontal"===i?{x:u,y:c}:{y:u,x:c},d=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});d&&(f=Ry(Ry({},f),d.props.points[o].tooltipPosition),l=d.props.points[o].tooltipPayload);var p={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:f};this.setState(p),this.renderCursor(a),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){Xe([He(e.children,ln)],[He(this.props.children,ln)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=He(this.props.children,ln);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},o=r.width/n.offsetWidth||1,s=this.inRange(a.chartX,a.chartY,o);if(!s)return null;var l=this.state,u=l.xAxisMap,c=l.yAxisMap,f=this.getTooltipEventType(),d=Yy(this.state,this.props.data,this.props.layout,s);if("axis"!==f&&u&&c){var p=ye(u).scale,h=ye(c).scale,m=p&&p.invert?p.invert(a.chartX):null,g=h&&h.invert?h.invert(a.chartY):null;return Ry(Ry({},a),{},{xValue:m,yValue:g},d)}return d?Ry(Ry({},a),d):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,a=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return i>=o.left&&i<=o.left+o.width&&a>=o.top&&a<=o.top+o.height?{x:i,y:a}:null}var s=this.state,l=s.angleAxisMap,u=s.radiusAxisMap;if(l&&u){var c=ye(l);return mp({x:i,y:a},c)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=He(e,ln),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),Ry(Ry({},Te(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){wg.on(Ng,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wg.removeListener(Ng,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,a=r.length;i<a;i++){var o=r[i];if(o.item===e||o.props.key===e.key||t===Le(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,a=t.height,o=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:a,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=ky(t,2),r=n[0],i=n[1];return Ry(Ry({},e),{},zy({},r,i.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=ky(t,2),r=n[0],i=n[1];return Ry(Ry({},e),{},zy({},r,i.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,a=n.length;i<a;i++){var o=n[i],s=o.props,l=o.item,u=void 0!==l.type.defaultProps?Ry(Ry({},l.type.defaultProps),l.props):l.props,c=Le(l.type);if("Bar"===c){var f=(s.data||[]).find(function(t){return la(e,t)});if(f)return{graphicalItem:o,payload:f}}else if("RadialBar"===c){var d=(s.data||[]).find(function(t){return mp(e,t)});if(d)return{graphicalItem:o,payload:d}}else if(kh(o,r)||_h(o,r)||Dh(o,r)){var p=Th({graphicalItem:o,activeTooltipItem:r,itemData:u.data}),h=void 0===u.activeIndex?p:u.activeIndex;return{graphicalItem:Ry(Ry({},o),{},{childIndex:h}),payload:Dh(o,r)?u.data[p]:o.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Ke(this))return null;var t,n,i=this.props,a=i.children,o=i.className,s=i.width,l=i.height,u=i.style,c=i.compact,f=i.title,d=i.desc,p=_y(i,Ey),h=Ge(p,!1);if(c)return r.createElement(zm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(mt,Cy({},h,{width:s,height:l,title:f,desc:d}),this.renderClipPath(),Ze(a,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(zm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",Cy({className:J("recharts-wrapper",o),style:Ry({position:"relative",cursor:"default",width:s,height:l},u)},m,{ref:function(t){e.container=t}}),r.createElement(mt,Cy({},h,{width:s,height:l,title:f,desc:d,style:qy}),this.renderClipPath(),Ze(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&Dy(i.prototype,o),l&&Dy(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,l}(r.Component);zy(h,"displayName",t),zy(h,"defaultProps",Ry({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),zy(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,i=e.children,a=e.width,o=e.height,s=e.layout,l=e.stackOffset,u=e.margin,c=t.dataStartIndex,f=t.dataEndIndex;if(void 0===t.updateId){var d=Jy(e);return Ry(Ry(Ry({},d),{},{updateId:0},p(Ry(Ry({props:e},d),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ke(u,t.prevMargin)){var h=Jy(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=Ry(Ry({},Yy(t,r,s)),{},{updateId:t.updateId+1}),y=Ry(Ry(Ry({},h),m),g);return Ry(Ry(Ry({},y),p(Ry({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:i})}if(!Xe(i,t.prevChildren)){var v,b,x,w,N=He(i,np),S=N&&null!==(v=null===(b=N.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:c,E=N&&null!==(x=null===(w=N.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:f,A=S!==c||E!==f,C=!ue()(r)&&!A?t.updateId:t.updateId+1;return Ry(Ry({updateId:C},p(Ry(Ry({props:e},t),{},{updateId:C,dataStartIndex:S,dataEndIndex:E}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:E})}return null}),zy(h,"renderActiveDot",function(e,t,n){var i;return i=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):Se()(e)?e(t):r.createElement(Er,t),r.createElement(bt,{className:"recharts-active-dot",key:n},i)});var m=(0,r.forwardRef)(function(e,t){return r.createElement(h,Cy({},e,{ref:t}))});return m.displayName=h.displayName,m},nv=["type","layout","connectNulls","ref"],rv=["key"];function iv(e){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(e)}function av(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ov.apply(this,arguments)}function sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sv(Object(n),!0).forEach(function(t){gv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uv(e){return function(e){if(Array.isArray(e))return cv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yv(r.key),r)}}function dv(e,t,n){return t=hv(t),function(e,t){if(t&&("object"===iv(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pv()?Reflect.construct(t,n||[],hv(e).constructor):t.apply(e,n))}function pv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pv=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hv(e)}function mv(e,t){return mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mv(e,t)}function gv(e,t,n){return(t=yv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yv(e){var t=function(e,t){if("object"!=iv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iv(t)?t:t+""}var vv=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return gv(e=dv(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),gv(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),gv(e,"getStrokeDasharray",function(n,r,i){var a=i.reduce(function(e,t){return e+t});if(!a)return e.generateSimpleStrokeDasharray(r,n);for(var o=Math.floor(n/a),s=n%a,l=r-n,u=[],c=0,f=0;c<i.length;f+=i[c],++c)if(f+i[c]>s){u=[].concat(uv(i.slice(0,c)),[s-f]);break}var d=u.length%2===0?[0,l]:[l];return[].concat(uv(t.repeat(i,o)),uv(u),d).map(function(e){return"".concat(e,"px")}).join(", ")}),gv(e,"id",me("recharts-line-")),gv(e,"pathRef",function(t){e.mainCurve=t}),gv(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),gv(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mv(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(uv(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(uv(r),uv(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(Se()(e))n=e(t);else{var i=t.key,a=av(t,rv),o=J("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(Er,ov({key:i},a,{className:o}))}return n}}],(i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,a=n.xAxis,o=n.yAxis,s=n.layout,l=We(n.children,nd);if(!l)return null;var u=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:hd(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(bt,c,l.map(function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:a,yAxis:o,layout:s,dataPointFormatter:u})}))}},{key:"renderDots",value:function(e,n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.dot,s=a.points,l=a.dataKey,u=Ge(this.props,!1),c=Ge(o,!0),f=s.map(function(e,n){var r=lv(lv(lv({key:"dot-".concat(n),r:3},u),c),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(o,r)}),d={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(bt,ov({className:"recharts-line-dots",key:"dots"},d),f)}},{key:"renderCurveStatically",value:function(e,t,n,i){var a=this.props,o=a.type,s=a.layout,l=a.connectNulls,u=(a.ref,av(a,nv)),c=lv(lv(lv({},Ge(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:o,layout:s,connectNulls:l});return r.createElement(sy,ov({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,a=i.points,o=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=i.animateNewValues,p=i.width,h=i.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(Qi,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var i=r.t;if(g){var s=g.length/a.length,l=a.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],a=ve(r.x,e.x),o=ve(r.y,e.y);return lv(lv({},e),{},{x:a(i),y:o(i)})}if(d){var l=ve(2*p,e.x),u=ve(h/2,e.y);return lv(lv({},e),{},{x:l(i),y:u(i)})}return lv(lv({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var u,c=ve(0,y)(i);if(o){var f="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});u=n.getStrokeDasharray(c,y,f)}else u=n.generateSimpleStrokeDasharray(y,c);return n.renderCurveStatically(a,e,t,{strokeDasharray:u})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,a=this.state,o=a.prevPoints,s=a.totalLength;return i&&r&&r.length&&(!o&&s>0||!gf()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,a=t.points,o=t.className,s=t.xAxis,l=t.yAxis,u=t.top,c=t.left,f=t.width,d=t.height,p=t.isAnimationActive,h=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=J("recharts-line",o),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=ue()(h)?this.id:h,N=null!==(e=Ge(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=N.r,E=void 0===S?3:S,A=N.strokeWidth,C=void 0===A?2:A,k=(function(e){return e&&"object"===Re(e)&&"clipDot"in e}(i)?i:{}).clipDot,_=void 0===k||k,D=2*E+C;return r.createElement(bt,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:v?c:c-f/2,y:b?u:u-d/2,width:v?f:2*f,height:b?d:2*d})),!_&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:c-D/2,y:u-D/2,width:f+D,height:d+D}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||i)&&this.renderDots(x,_,w),(!p||m)&&Yp.renderCallByParent(this.props,a))}}])&&fv(n.prototype,i),a&&fv(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function bv(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function xv(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function wv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Nv(e){return Nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(e)}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach(function(t){Av(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Av(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Nv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nv(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cv(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(de(l)||Kt.isSsr)return function(e,t){return bv(e,t+1)}(i,"number"===typeof l&&de(l)?l:0);var d=[],p="top"===s||"bottom"===s?"width":"height",h=c&&"width"===p?Oa(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=Se()(u)?u(e.value,r):e.value;return"width"===p?xv(Oa(i,{fontSize:t,letterSpacing:n}),h,f):Oa(i,{fontSize:t,letterSpacing:n})[p]},g=i.length>=2?ce(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,a=e.y,o=e.width,s=e.height;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(a,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),s=t.start,l=t.end,u=0,c=1,f=s,d=function(){var t=null===r||void 0===r?void 0:r[u];if(void 0===t)return{v:bv(r,c)};var a,o=u,d=function(){return void 0===a&&(a=n(t,o)),a},p=t.coordinate,h=0===u||wv(e,p,d,f,l);h||(u=0,f=s,c+=1),h&&(f=p+e*(d()/2+i),u+=c)};c<=o.length;)if(a=d())return a.v;return[]}(g,y,m,i,o):(d="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,u=t.end;if(a){var c=r[s-1],f=n(c,s-1),d=e*(c.coordinate+e*f/2-u);o[s-1]=c=Ev(Ev({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate}),wv(e,c.tickCoord,function(){return f},l,u)&&(u=c.tickCoord-e*(f/2+i),o[s-1]=Ev(Ev({},c),{},{isShow:!0}))}for(var p=a?s-1:s,h=function(t){var r,a=o[t],s=function(){return void 0===r&&(r=n(a,t)),r};if(0===t){var c=e*(a.coordinate-e*s()/2-l);o[t]=a=Ev(Ev({},a),{},{tickCoord:c<0?a.coordinate-c*e:a.coordinate})}else o[t]=a=Ev(Ev({},a),{},{tickCoord:a.coordinate});wv(e,a.tickCoord,s,l,u)&&(l=a.tickCoord+e*(s()/2+i),o[t]=Ev(Ev({},a),{},{isShow:!0}))},m=0;m<p;m++)h(m);return o}(g,y,m,i,o,"preserveStartEnd"===l):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,u=function(t){var r,u=a[t],c=function(){return void 0===r&&(r=n(u,t)),r};if(t===o-1){var f=e*(u.coordinate+e*c()/2-l);a[t]=u=Ev(Ev({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate})}else a[t]=u=Ev(Ev({},u),{},{tickCoord:u.coordinate});wv(e,u.tickCoord,c,s,l)&&(l=u.tickCoord-e*(c()/2+i),a[t]=Ev(Ev({},u),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}(g,y,m,i,o),d.filter(function(e){return e.isShow}))}gv(vv,"displayName","Line"),gv(vv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Kt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),gv(vv,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,f=l.map(function(e,t){var l=hd(e,o);return"horizontal"===c?{x:Od({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:ue()(l)?null:r.scale(l),value:l,payload:e}:{x:ue()(l)?null:n.scale(l),y:Od({axis:r,ticks:a,bandSize:s,entry:e,index:t}),value:l,payload:e}});return lv({points:f,layout:c},u)});var kv=["viewBox"],_v=["viewBox"],Dv=["ticks"];function Ov(e){return Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(e)}function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}function Mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mv(Object(n),!0).forEach(function(t){Lv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uv(r.key),r)}}function Iv(e,t,n){return t=Rv(t),function(e,t){if(t&&("object"===Ov(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bv()?Reflect.construct(t,n||[],Rv(e).constructor):t.apply(e,n))}function Bv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bv=function(){return!!e})()}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rv(e)}function zv(e,t){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zv(e,t)}function Lv(e,t,n){return(t=Uv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uv(e){var t=function(e,t){if("object"!=Ov(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ov(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ov(t)?t:t+""}var qv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Iv(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zv(e,t)}(t,e),n=t,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=Pv(e,kv),i=this.props,a=i.viewBox,o=Pv(i,_v);return!ke(n,a)||!ke(r,o)||!ke(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,a,o,s=this.props,l=s.x,u=s.y,c=s.width,f=s.height,d=s.orientation,p=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,y=e.tickSize||p,v=de(e.tickCoord)?e.tickCoord:e.coordinate;switch(d){case"top":t=n=e.coordinate,o=(r=(i=u+ +!h*f)-g*y)-g*m,a=v;break;case"left":r=i=e.coordinate,a=(t=(n=l+ +!h*c)-g*y)-g*m,o=v;break;case"right":r=i=e.coordinate,a=(t=(n=l+ +h*c)+g*y)+g*m,o=v;break;default:t=n=e.coordinate,o=(r=(i=u+ +h*f)+g*y)+g*m,a=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,u=Tv(Tv(Tv({},Ge(this.props,!1)),Ge(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!s||"bottom"===o&&s);u=Tv(Tv({},u),{},{x1:t,y1:n+c*a,x2:t+i,y2:n+c*a})}else{var f=+("left"===o&&!s||"right"===o&&s);u=Tv(Tv({},u),{},{x1:t+f*i,y1:n,x2:t+f*i,y2:n+a})}return r.createElement("line",jv({},u,{className:J("recharts-cartesian-axis-line",ae()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,i){var a=this,o=this.props,s=o.tickLine,l=o.stroke,u=o.tick,c=o.tickFormatter,f=o.unit,d=Cv(Tv(Tv({},this.props),{},{ticks:e}),n,i),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ge(this.props,!1),g=Ge(u,!1),y=Tv(Tv({},m),{},{fill:"none"},Ge(s,!1)),v=d.map(function(e,n){var i=a.getTickLineCoord(e),o=i.line,v=i.tick,b=Tv(Tv(Tv(Tv({textAnchor:p,verticalAnchor:h},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:d.length,tickFormatter:c});return r.createElement(bt,jv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Pe(a.props,e,n)),s&&r.createElement("line",jv({},y,o,{className:J("recharts-cartesian-axis-tick-line",ae()(s,"className"))})),u&&t.renderTickItem(u,b,"".concat(Se()(c)?c(e.value,n):e.value).concat(f||"")))});return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,a=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,u=l.ticks,c=Pv(l,Dv),f=u;return Se()(o)&&(f=u&&u.length>0?o(this.props):o(c)),i<=0||a<=0||!f||!f.length?null:r.createElement(bt,{className:J("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(f,this.state.fontSize,this.state.letterSpacing),kp.renderCallByParent(this.props))}}],a=[{key:"renderTickItem",value:function(e,t,n){var i=J(t.className,"recharts-cartesian-axis-tick-value");return r.isValidElement(e)?r.cloneElement(e,Tv(Tv({},t),{},{className:i})):Se()(e)?e(Tv(Tv({},t),{},{className:i})):r.createElement(ao,jv({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&Fv(n.prototype,i),a&&Fv(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function $v(e){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(e)}function Wv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xv(r.key),r)}}function Hv(e,t,n){return t=Vv(t),function(e,t){if(t&&("object"===$v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kv()?Reflect.construct(t,n||[],Vv(e).constructor):t.apply(e,n))}function Kv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kv=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vv(e)}function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yv(e,t)}function Gv(e,t,n){return(t=Xv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xv(e){var t=function(e,t){if("object"!=$v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$v(t)?t:t+""}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(this,arguments)}function Zv(e){var t=e.xAxisId,n=qm(),i=$m(),a=Lm(t);return null==a?null:r.createElement(qv,Jv({},a,{className:J("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return wd(e,!0)}}))}Lv(qv,"displayName","CartesianAxis"),Lv(qv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hv(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(Zv,this.props)}}])&&Wv(n.prototype,i),a&&Wv(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function eb(e){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(e)}function tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sb(r.key),r)}}function nb(e,t,n){return t=ib(t),function(e,t){if(t&&("object"===eb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,rb()?Reflect.construct(t,n||[],ib(e).constructor):t.apply(e,n))}function rb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rb=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ib(e)}function ab(e,t){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ab(e,t)}function ob(e,t,n){return(t=sb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sb(e){var t=function(e,t){if("object"!=eb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eb(t)?t:t+""}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}Gv(Qv,"displayName","XAxis"),Gv(Qv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var ub=function(e){var t=e.yAxisId,n=qm(),i=$m(),a=Um(t);return null==a?null:r.createElement(qv,lb({},a,{className:J("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return wd(e,!0)}}))},cb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nb(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ab(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(ub,this.props)}}])&&tb(n.prototype,i),a&&tb(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);ob(cb,"displayName","YAxis"),ob(cb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var fb=tv({chartName:"LineChart",GraphicalChild:vv,axisComponents:[{axisType:"xAxis",AxisComp:Qv},{axisType:"yAxis",AxisComp:cb}],formatAxisMap:function(e,t,n,r,i){var a=e.width,o=e.height,s=e.layout,l=e.children,u=Object.keys(t),c={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},f=!!He(l,im);return u.reduce(function(a,o){var l,u,d,p,h,m=t[o],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,N="".concat(g).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=y[1]-y[0],E=1/0,A=m.categoricalDomain.sort(xe);if(A.forEach(function(e,t){t>0&&(E=Math.min((e||0)-(A[t-1]||0),E))}),Number.isFinite(E)){var C=E/S,k="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=C*k/2),"no-gap"===m.padding){var _=ge(e.barCategoryGap,C*k),D=C*k/2;l=D-_-(D-_)/k*_}}}u="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(u=[u[1],u[0]]);var O=Ed(m,i,f),j=O.scale,M=O.realScaleType;j.domain(y).range(u),Cd(j);var T=Dd(j,lm(lm({},m),{},{realScaleType:M}));"xAxis"===r?(h="top"===g&&!x||"bottom"===g&&x,d=n.left,p=c[N]-h*m.height):"yAxis"===r&&(h="left"===g&&!x||"right"===g&&x,d=c[N]-h*m.width,p=n.top);var P=lm(lm(lm({},m),T),{},{realScaleType:M,x:d,y:p,scale:j,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return P.bandSize=Id(P,T),m.hide||"xAxis"!==r?m.hide||(c[N]+=(h?-1:1)*P.width):c[N]+=(h?-1:1)*P.height,lm(lm({},a),{},um({},o,P))},{})}}),db=["x1","y1","x2","y2","key"],pb=["offset"];function hb(e){return hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hb(e)}function mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mb(Object(n),!0).forEach(function(t){yb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yb(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=hb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hb(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}function bb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var xb=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return r.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wb(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(Se()(e))n=e(t);else{var i=t.x1,a=t.y1,o=t.x2,s=t.y2,l=t.key,u=bb(t,db),c=Ge(u,!1),f=(c.offset,bb(c,pb));n=r.createElement("line",vb({},f,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function Nb(e){var t=e.x,n=e.width,i=e.horizontal,a=void 0===i||i,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(r,i){var o=gb(gb({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return wb(a,o)});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Sb(e){var t=e.y,n=e.height,i=e.vertical,a=void 0===i||i,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map(function(r,i){var o=gb(gb({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return wb(a,o)});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Eb(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.horizontalPoints,u=e.horizontal;if(!(void 0===u||u)||!t||!t.length)return null;var c=l.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==c[0]&&c.unshift(0);var f=c.map(function(e,l){var u=!c[l+1]?a+s-e:c[l+1]-e;if(u<=0)return null;var f=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:u,width:o,stroke:"none",fill:t[f],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Ab(e){var t=e.vertical,n=void 0===t||t,i=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,l=e.width,u=e.height,c=e.verticalPoints;if(!n||!i||!i.length)return null;var f=c.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==f[0]&&f.unshift(0);var d=f.map(function(e,t){var n=!f[t+1]?o+l-e:f[t+1]-e;if(n<=0)return null;var c=t%i.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:u,stroke:"none",fill:i[c],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Cb=function(e,t){var n=e.xAxis,r=e.width,i=e.height,a=e.offset;return xd(Cv(gb(gb(gb({},qv.defaultProps),n),{},{ticks:wd(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},kb=function(e,t){var n=e.yAxis,r=e.width,i=e.height,a=e.offset;return xd(Cv(gb(gb(gb({},qv.defaultProps),n),{},{ticks:wd(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},_b={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Db(e){var t,n,i,a,o,s,l=qm(),u=$m(),c=(0,r.useContext)(Fm),f=gb(gb({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:_b.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:_b.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:_b.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:_b.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:_b.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:_b.verticalFill,x:de(e.x)?e.x:c.left,y:de(e.y)?e.y:c.top,width:de(e.width)?e.width:c.width,height:de(e.height)?e.height:c.height}),d=f.x,p=f.y,h=f.width,m=f.height,g=f.syncWithTicks,y=f.horizontalValues,v=f.verticalValues,b=function(){var e=(0,r.useContext)(Mm);return ye(e)}(),x=function(){var e=(0,r.useContext)(Tm);return Dm()(e,function(e){return Tp()(e.domain,Number.isFinite)})||ye(e)}();if(!de(h)||h<=0||!de(m)||m<=0||!de(d)||d!==+d||!de(p)||p!==+p)return null;var w=f.verticalCoordinatesGenerator||Cb,N=f.horizontalCoordinatesGenerator||kb,S=f.horizontalPoints,E=f.verticalPoints;if((!S||!S.length)&&Se()(N)){var A=y&&y.length,C=N({yAxis:x?gb(gb({},x),{},{ticks:A?y:x.ticks}):void 0,width:l,height:u,offset:c},!!A||g);we(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hb(C),"]")),Array.isArray(C)&&(S=C)}if((!E||!E.length)&&Se()(w)){var k=v&&v.length,_=w({xAxis:b?gb(gb({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:u,offset:c},!!k||g);we(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hb(_),"]")),Array.isArray(_)&&(E=_)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(xb,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),r.createElement(Nb,vb({},f,{offset:c,horizontalPoints:S,xAxis:b,yAxis:x})),r.createElement(Sb,vb({},f,{offset:c,verticalPoints:E,xAxis:b,yAxis:x})),r.createElement(Eb,vb({},f,{horizontalPoints:S})),r.createElement(Ab,vb({},f,{verticalPoints:E})))}Db.displayName="CartesianGrid";const Ob=(0,r.createContext)();function jb(){const e=(0,r.useContext)(Ob);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const Mb=e=>{let{children:t}=e;const[n,i]=(0,r.useState)("light");(0,r.useEffect)(()=>{const e=localStorage.getItem("family-budget-theme");if(e)i(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;i(e?"dark":"light")}},[]),(0,r.useEffect)(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("family-budget-theme",n)},[n]),(0,r.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem("family-budget-theme")||i(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);const a={theme:n,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")},setTheme:e=>{i(e)},isDark:"dark"===n};return(0,v.jsx)(Ob.Provider,{value:a,children:t})};function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}var Pb=n(5422);function Fb(e){return"number"===typeof e}function Ib(e){return!(!e||"object"!==typeof e||"function"!==typeof e.constructor)&&(!0===e.isBigNumber&&"object"===typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"===typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function Bb(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function Rb(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function zb(e){return e&&!0===e.constructor.prototype.isUnit||!1}function Lb(e){return"string"===typeof e}var Ub=Array.isArray;function qb(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function $b(e){return Array.isArray(e)||qb(e)}function Wb(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Hb(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function Kb(e){return e&&!0===e.constructor.prototype.isRange||!1}function Vb(e){return e&&!0===e.constructor.prototype.isIndex||!1}function Yb(e){return"boolean"===typeof e}function Gb(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function Xb(e){return e&&!0===e.constructor.prototype.isHelp||!1}function Jb(e){return"function"===typeof e}function Zb(e){return e instanceof Date}function Qb(e){return e instanceof RegExp}function ex(e){return!(!e||"object"!==typeof e||e.constructor!==Object||Bb(e)||Rb(e))}function tx(e){return null===e}function nx(e){return void 0===e}function rx(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function ix(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function ax(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function ox(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function sx(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function lx(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function ux(e){return lx(e)||mx(e)&&1===e.args.length&&lx(e.args[0])&&"-+~".includes(e.op)}function cx(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function fx(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function dx(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function px(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function hx(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function mx(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function gx(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function yx(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function vx(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function bx(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function xx(e){return e&&!0===e.constructor.prototype.isChain||!1}function wx(e){var t=typeof e;return"object"===t?null===e?"null":Ib(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Nx(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return Nx(e)});if(e instanceof Date)return new Date(e.valueOf());if(Ib(e))return e;if(ex(e))return Sx(e,Nx);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Sx(e,t){var n={};for(var r in e)Ox(e,r)&&(n[r]=t(e[r]));return n}function Ex(e,t){for(var n in t)Ox(t,n)&&(e[n]=t[n]);return e}function Ax(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(Ox(t,n)&&!(n in Object.prototype)&&!(n in Function.prototype))if(t[n]&&t[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n]&&e[n].constructor===Object?Ax(e[n],t[n]):e[n]=t[n];else{if(Array.isArray(t[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=t[n]}return e}function Cx(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!Cx(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Cx(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function kx(e){var t={};return _x(e,t),t}function _x(e,t){for(var n in e)if(Ox(e,n)){var r=e[n];"object"===typeof r&&null!==r?_x(r,t):t[n]=r}}function Dx(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}function Ox(e,t){return e&&Object.hasOwnProperty.call(e,t)}function jx(e){return Object.keys(e).map(t=>e[t])}var Mx=n(5870);function Tx(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],a=e[i];void 0!==a&&(n[i]=a)}return n}(r,t.map(Fx));return function(e,t,n){var r=t.filter(e=>!function(e){return e&&"?"===e[0]}(e)).every(e=>void 0!==n[e]);if(!r){var i=t.filter(e=>void 0===n[e]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Px(e){return"function"===typeof e&&"string"===typeof e.fn&&Array.isArray(e.dependencies)}function Fx(e){return e&&"?"===e[0]?e.slice(1):e}function Ix(e){return"boolean"===typeof e||!!isFinite(e)&&e===Math.round(e)}var Bx=Math.sign||function(e){return e>0?1:e<0?-1:0},Rx=Math.log2||function(e){return Math.log(e)/Math.LN2},zx=Math.log10||function(e){return Math.log(e)/Math.LN10},Lx=Math.log1p||function(e){return Math.log(e+1)},Ux=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},qx=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function $x(e,t,n){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ix(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Ix(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),i="i".concat(n)}var a="";return e<0&&(e=-e,a="-"),"".concat(a).concat(r).concat(e.toString(t)).concat(i)}function Wx(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r,i="auto";if(t&&(t.notation&&(i=t.notation),Fb(t)?n=t:Fb(t.precision)&&(n=t.precision),t.wordSize&&"number"!==typeof(r=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return Kx(e,n);case"exponential":return Vx(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Hx(e),r=Yx(n,t),i=r.exponent,a=r.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Fb(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);var u=Math.abs(i-o),c=1;for(;u>0;)c++,u--;var f=a.slice(c).join(""),d=Fb(t)&&f.length||f.match(/[1-9]/)?"."+f:"",p=a.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+o.toString();return r.sign+p}(e,n);case"bin":return $x(e,2,r);case"oct":return $x(e,8,r);case"hex":return $x(e,16,r);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,a=Hx(e),o=t?Yx(a,t):a;if(o.exponent<r||o.exponent>=i)return Vx(e,t);var s=o.coefficients,l=o.exponent;s.length<t&&(s=s.concat(Gx(t-s.length))),s=s.concat(Gx(l-s.length+1+(s.length<t?t-s.length:0)));var u=l>0?l:0;return u<(s=Gx(-l).concat(s)).length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Hx(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=-1!==a?a-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:n,coefficients:o,exponent:i}}function Kx(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Hx(e),r="number"===typeof t?Yx(n,n.exponent+1+t):n,i=r.coefficients,a=r.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(Gx(o-i.length))),a<0&&(i=Gx(1-a).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),r.sign+i.join("")}function Vx(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Hx(e),r=t?Yx(n,t):n,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(Gx(t-i.length)));var o=i.shift();return r.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function Yx(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function Gx(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var Xx=Number.EPSILON||2220446049250313e-31;function Jx(e,t,n){if(null===n||void 0===n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<Xx||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var Zx=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},Qx=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},ew=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},tw=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},nw=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},rw=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function iw(e,t,n){var r=new(0,e.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ix(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),i="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function aw(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r,i="auto";if(void 0!==t&&(t.notation&&(i=t.notation),"number"===typeof t?n=t:void 0!==t.precision&&(n=t.precision),t.wordSize&&"number"!==typeof(r=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return ow(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),a=i.toPrecision(t);if(-1!==a.indexOf("e")){a=new(0,e.constructor)(a).toFixed()}return a+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"bin":return iw(e,2,r);case"oct":return iw(e,8,r);case"hex":return iw(e,16,r);case"auto":var a=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.toSignificantDigits(n),l=s.e;return(l>=a&&l<o?s.toFixed():ow(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ow(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function sw(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t}function lw(e,t){var n=function(e,t){if("number"===typeof e)return Wx(e,t);if(Ib(e))return aw(e,t);if(function(e){return e&&"object"===typeof e&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}(e))return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return dw(e,t);if(Lb(e))return uw(e);if("function"===typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===typeof e){return"function"===typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map(n=>uw(n)+": "+lw(e[n],t)).join(", ")+"}"}return String(e)}(e,t);return t&&"object"===typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function uw(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in cw?cw[i]:i,r++}return'"'+n+'"'}var cw={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function fw(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function dw(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=dw(e[i],t);return n+="]"}return lw(e,t)}function pw(e,t){if(!Lb(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+wx(e)+", index: 0)");if(!Lb(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+wx(t)+", index: 1)");return e===t?0:e>t?1:-1}function hw(e,t,n){if(!(this instanceof hw))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function mw(e,t,n){if(!(this instanceof mw))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function gw(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function yw(e,t,n){var r,i=e.length;if(i!==t[n])throw new hw(i,t[n]);if(n<t.length-1){var a=n+1;for(r=0;r<i;r++){var o=e[r];if(!Array.isArray(o))throw new hw(t.length-1,t.length,"<");yw(e[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new hw(t.length+1,t.length,">")}function vw(e,t){if(0===t.length){if(Array.isArray(e))throw new hw(e.length,0)}else yw(e,t,0)}function bw(e,t){var n=e.isMatrix?e._size:gw(e);t._sourceSize.forEach((e,t)=>{if(null!==e&&e!==n[t])throw new hw(e,n[t])})}function xw(e,t){if(void 0!==e){if(!Fb(e)||!Ix(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new mw(e,t)}}function ww(e){for(var t=0;t<e._dimensions.length;++t){var n=e._dimensions[t];if(n._data&&Ub(n._data)){if(0===n._size[0])return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(Lb(n)&&0===n.length)return!0}return!1}function Nw(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!Fb(e)||!Ix(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+lw(t)+")")}),(Fb(e)||Ib(e))&&(e=[e]),Sw(e,t,0,void 0!==n?n:0),e}function Sw(e,t,n,r){var i,a,o=e.length,s=t[n],l=Math.min(o,s);if(e.length=s,n<t.length-1){var u=n+1;for(i=0;i<l;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),Sw(a,t,u,r);for(i=l;i<s;i++)a=[],e[i]=a,Sw(a,t,u,r)}else{for(i=0;i<l;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=l;i<s;i++)e[i]=r}}function Ew(e,t){var n=jw(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new hw(0,r,"!=");var i=Cw(t=Aw(t,r));if(r!==i)throw new hw(i,r,"!=");try{return function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}(n,t)}catch(a){if(a instanceof hw)throw new hw(i,r,"!=");throw a}}function Aw(e,t){var n=Cw(e),r=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(t%n===0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);r[i]=-t/n}return r}function Cw(e){return e.reduce((e,t)=>e*t,1)}function kw(e,t){for(var n=t||gw(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=_w(e,r,0),n.length=r),e}function _w(e,t,n){var r,i;if(n<t){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=_w(e[r],t,a)}else for(;Array.isArray(e);)e=e[0];return e}function Dw(e,t,n,r){var i=r||gw(e);if(n)for(var a=0;a<n;a++)e=[e],i.unshift(1);for(e=Ow(e,t,0);i.length<t;)i.push(1);return e}function Ow(e,t,n){var r,i;if(Array.isArray(e)){var a=n+1;for(r=0,i=e.length;r<i;r++)e[r]=Ow(e[r],t,a)}else for(var o=n;o<t;o++)e=[e];return e}function jw(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(n){Array.isArray(n)?n.forEach(e):t.push(n)}),t}function Mw(e,t){return Array.prototype.map.call(e,t)}function Tw(e,t){Array.prototype.forEach.call(e,t)}function Pw(e,t){if(1!==gw(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Fw(e,t){if(1!==gw(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,e=>t.test(e))}function Iw(e,t){return Array.prototype.join.call(e,t)}function Bw(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function Rw(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function zw(e,t){for(var n,r=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(r=a.length),o&&a.length!==r)return;var s=o?zw(a,t):t(a);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function Lw(e,t){return-1!==e.indexOf(t)}function Uw(e,t,n,r){if(r<n){if(e.length!==t.length)throw new hw(e.length,t.length);for(var i=[],a=0;a<e.length;a++)i[a]=Uw(e[a],t[a],n,r+1);return i}return e.concat(t)}function qw(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(e,n){return Uw(e,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function $w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(e=>e.length),i=Math.max(...r),a=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],l=r[o],u=0;u<l;u++){var c=i-l+u;s[u]>a[c]&&(a[c]=s[u])}for(var f=0;f<t.length;f++)Ww(t[f],a);return a}function Ww(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var a=n-r+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[a]))}}function Hw(e,t){var n=gw(e);if(Cx(n,t))return e;Ww(n,t);var r=$w(n,t),i=r.length,a=[...Array(i-n.length).fill(1),...n],o=function(e){return Tb([],e)}(e);n.length<i&&(n=gw(o=Ew(o,a)));for(var s=0;s<i;s++)n[s]<r[s]&&(n=gw(o=Kw(o,r[s],s)));return o}function Kw(e,t,n){return qw(...Array(t).fill(e),n)}function Vw(e,t,n,r){if(!(this instanceof Vw))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}function Yw(e,t,n,r){function i(t,i,o){if(o.wrap&&"function"===typeof i&&(i=function(e){var t=function(){for(var t=[],r=0,i=arguments.length;r<i;r++){var a=arguments[r];t[r]=a&&a.valueOf()}return e.apply(n,t)};e.transform&&(t.transform=e.transform);return t}(i)),function(e){return"function"===typeof e&&"string"===typeof e.signature}(i)&&(i=e(t,{[i.signature]:i})),e.isTypedFunction(n[t])&&e.isTypedFunction(i))return i=o.override?e(t,i.signatures):e(n[t],i),n[t]=i,delete r[t],a(t,i),void n.emit("import",t,function(){return i});if(void 0===n[t]||o.override)return n[t]=i,delete r[t],a(t,i),void n.emit("import",t,function(){return i});if(!o.silent)throw new Error('Cannot import "'+t+'": already exists')}function a(e,t){t&&"function"===typeof t.transform?(n.expression.transform[e]=t.transform,u(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],u(e)&&(n.expression.mathWithTransform[e]=t))}function o(e){delete n.expression.transform[e],u(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function s(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if(Lw(a,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(a));var s=f(t)?n.expression.transform:n,l=a in n.expression.transform,u=Ox(s,a)?s[a]:void 0,d=function(){var r={};t.dependencies.map(Fx).forEach(e=>{if(Lw(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]});var o=t(r);if(o&&"function"===typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===u||i.override)return o;if(e.isTypedFunction(u)&&e.isTypedFunction(o))return e(u,o);if(i.silent)return u;throw new Error('Cannot import "'+a+'": already exists')};t.meta&&!1===t.meta.lazy?(s[a]=d(),u&&l?o(a):(f(t)||c(t))&&Dx(n.expression.mathWithTransform,a,()=>s[a])):(Dx(s,a,d),u&&l?o(a):(f(t)||c(t))&&Dx(n.expression.mathWithTransform,a,()=>s[a])),r[a]=t,n.emit("import",a,d)}function l(e){return"function"===typeof e||"number"===typeof e||"string"===typeof e||"boolean"===typeof e||null===e||zb(e)||Bb(e)||Ib(e)||Rb(e)||qb(e)||Array.isArray(e)}function u(e){return!Ox(d,e)}function c(e){return-1===e.fn.indexOf(".")&&!Ox(d,e.fn)&&(!e.meta||!e.meta.isClass)}function f(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var d={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new Vw("import",n,1,2);t||(t={});var r={};for(var a in function e(n,r,i){if(Array.isArray(r))r.forEach(t=>e(n,t));else if("object"===typeof r)for(var a in r)Ox(r,a)&&e(n,r[a],a);else if(Px(r)||void 0!==i){var o=Px(r)?f(r)?r.fn+".transform":r.fn:i;if(Ox(n,o)&&n[o]!==r&&!t.silent)throw new Error('Cannot import "'+o+'" twice');n[o]=r}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}(r,e),r)if(Ox(r,a)){var o=r[a];if(Px(o))s(o,t);else if(l(o))i(a,o,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}}hw.prototype=new RangeError,hw.prototype.constructor=RangeError,hw.prototype.name="DimensionError",hw.prototype.isDimensionError=!0,mw.prototype=new RangeError,mw.prototype.constructor=RangeError,mw.prototype.name="IndexError",mw.prototype.isIndexError=!0,Vw.prototype=new Error,Vw.prototype.constructor=Error,Vw.prototype.name="ArgumentsError",Vw.prototype.isArgumentsError=!0;var Gw={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},Xw=["Matrix","Array"],Jw=["number","BigNumber","Fraction"];function Zw(e,t){function n(n){if(n){var r=Sx(e,Nx);Qw(n,"matrix",Xw),Qw(n,"number",Jw),Ax(e,n);var i=Sx(e,Nx),a=Sx(n,Nx);return t("config",i,r,a),i}return Sx(e,Nx)}return n.MATRIX_OPTIONS=Xw,n.NUMBER_OPTIONS=Jw,Object.keys(Gw).forEach(t=>{Object.defineProperty(n,t,{get:()=>e[t],enumerable:!0,configurable:!0})}),n}function Qw(e,t,n){void 0===e[t]||function(e,t){return-1!==e.indexOf(t)}(n,e[t])||console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map(e=>JSON.stringify(e)).join(", ")+".")}function eN(e,t){if(iN(e)&&nN(e,t))return e[t];if("function"===typeof e[t]&&rN(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function tN(e,t,n){if(iN(e)&&nN(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function nN(e,t){return!(!e||"object"!==typeof e)&&(!!Ox(aN,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function rN(e,t){return null!==e&&void 0!==e&&"function"===typeof e[t]&&(!(Ox(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!Ox(oN,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function iN(e){return"object"===typeof e&&e&&e.constructor===Object}var aN={length:!0,name:!0},oN={toString:!0,valueOf:!0,toLocaleString:!0};class sN{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return eN(this.wrappedObject,e)}set(e,t){return tN(this.wrappedObject,e,t),this}has(e){return function(e,t){return t in e}(this.wrappedObject,e)}}function lN(){return new Map}function uN(e){if(!e)return lN();if(cN(e))return e;if(ex(e))return new sN(e);throw new Error("createMap can create maps from objects or Maps")}function cN(e){return!!e&&(e instanceof Map||e instanceof sN||"function"===typeof e.set&&"function"===typeof e.get&&"function"===typeof e.keys&&"function"===typeof e.has)}function fN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i of n)if(i)if(cN(i))for(var a of i.keys())e.set(a,i.get(a));else if(ex(i))for(var o of Object.keys(i))e.set(o,i[o]);return e}var dN=function(){return dN=Pb.create,Pb},pN=Tx("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:i}=e,a=dN();return a.clear(),a.addTypes([{name:"number",test:Fb},{name:"Complex",test:Bb},{name:"BigNumber",test:Ib},{name:"Fraction",test:Rb},{name:"Unit",test:zb},{name:"identifier",test:e=>Lb&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:Lb},{name:"Chain",test:xx},{name:"Array",test:Ub},{name:"Matrix",test:qb},{name:"DenseMatrix",test:Wb},{name:"SparseMatrix",test:Hb},{name:"Range",test:Kb},{name:"Index",test:Vb},{name:"boolean",test:Yb},{name:"ResultSet",test:Gb},{name:"Help",test:Xb},{name:"function",test:Jb},{name:"Date",test:Zb},{name:"RegExp",test:Qb},{name:"null",test:tx},{name:"undefined",test:nx},{name:"AccessorNode",test:rx},{name:"ArrayNode",test:ix},{name:"AssignmentNode",test:ax},{name:"BlockNode",test:ox},{name:"ConditionalNode",test:sx},{name:"ConstantNode",test:lx},{name:"FunctionNode",test:fx},{name:"FunctionAssignmentNode",test:cx},{name:"IndexNode",test:dx},{name:"Node",test:px},{name:"ObjectNode",test:hx},{name:"OperatorNode",test:mx},{name:"ParenthesisNode",test:gx},{name:"RangeNode",test:yx},{name:"RelationalNode",test:vx},{name:"SymbolNode",test:bx},{name:"Map",test:cN},{name:"Object",test:ex}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||hN(e),function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||mN(e),new n(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return n||mN(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||mN(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||gN(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||hN(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||gN(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||mN(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||hN(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||gN(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),a.onMismatch=(e,t,n)=>{var r=a.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&$b(t[0])&&n.some(e=>!e.params.includes(","))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=r.data,i}throw r},a.onMismatch=(e,t,n)=>{var r=a.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&$b(t[0])&&n.some(e=>!e.params.includes(","))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=r.data,i}throw r},a});function hN(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function mN(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function gN(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var yN,vN,bN=Tx("ResultSet",[],()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0}),xN=9e15,wN=1e9,NN="0123456789abcdef",SN="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",EN="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",AN={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-xN,maxE:xN,crypto:!1},CN=!0,kN="[DecimalError] ",_N=kN+"Invalid argument: ",DN=kN+"Precision limit exceeded",ON=kN+"crypto unavailable",jN="[object Decimal]",MN=Math.floor,TN=Math.pow,PN=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,FN=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,IN=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,BN=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,RN=1e7,zN=SN.length-1,LN=EN.length-1,UN={toStringTag:jN};function qN(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=QN(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=QN(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}function $N(e,t,n){if(e!==~~e||e<t||e>n)throw Error(_N+e)}function WN(e,t,n,r){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=TN(10,7-t),s=e[i]%a|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):o=(n<4&&s+1==a||n>3&&s+1==a/2)&&(e[i+1]/a/100|0)==TN(10,t-2)-1||(s==a/2||0==s)&&0==(e[i+1]/a/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(r||n<4)&&9999==s||!r&&n>3&&4999==s):o=((r||n<4)&&s+1==a||!r&&n>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==TN(10,t-3)-1,o}function HN(e,t,n){for(var r,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=NN.indexOf(e.charAt(o++)),r=0;r<a.length;r++)a[r]>n-1&&(void 0===a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}UN.absoluteValue=UN.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),VN(e)},UN.ceil=function(){return VN(new this.constructor(this),this.e+1,2)},UN.clampedTo=UN.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(_N+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},UN.comparedTo=UN.cmp=function(e){var t,n,r,i,a=this,o=a.d,s=(e=new a.constructor(e)).d,l=a.s,u=e.s;if(!o||!s)return l&&u?l!==u?l:o===s?0:!o^l<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(t=0,n=(r=o.length)<(i=s.length)?r:i;t<n;++t)if(o[t]!==s[t])return o[t]>s[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},UN.cosine=UN.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?i=(1/uS(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=lS(e,1,t.times(i),new e(1));for(var a=n;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}(r,cS(r,n)),r.precision=e,r.rounding=t,VN(2==vN||3==vN?n.neg():n,e,t,!0)):new r(1):new r(NaN)},UN.cubeRoot=UN.cbrt=function(){var e,t,n,r,i,a,o,s,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(CN=!1,(a=c.s*TN(c.s*c,1/3))&&Math.abs(a)!=1/0?r=new f(a.toString()):(n=qN(c.d),(a=((e=c.e)-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=TN(n,1/3),e=MN((e+1)/3)-(e%3==(e<0?-1:2)),(r=new f(n=a==1/0?"5e"+e:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),o=(e=f.precision)+3;;)if(u=(l=(s=r).times(s).times(s)).plus(c),r=KN(u.plus(c).times(s),u.plus(l),o+2,1),qN(s.d).slice(0,o)===(n=qN(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(VN(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!i&&(VN(s,e+1,0),s.times(s).times(s).eq(c))){r=s;break}o+=4,i=1}return CN=!0,VN(r,e,f.rounding,t)},UN.decimalPlaces=UN.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-MN(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},UN.dividedBy=UN.div=function(e){return KN(this,new this.constructor(e))},UN.dividedToIntegerBy=UN.divToInt=function(e){var t=this.constructor;return VN(KN(this,new t(e),0,1,1),t.precision,t.rounding)},UN.equals=UN.eq=function(e){return 0===this.cmp(e)},UN.floor=function(){return VN(new this.constructor(this),this.e+1,3)},UN.greaterThan=UN.gt=function(e){return this.cmp(e)>0},UN.greaterThanOrEqualTo=UN.gte=function(e){var t=this.cmp(e);return 1==t||0===t},UN.hyperbolicCosine=UN.cosh=function(){var e,t,n,r,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/uS(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=lS(o,1,a.times(t),new o(1),!0);for(var l,u=e,c=new o(8);u--;)l=a.times(a),a=s.minus(l.times(c.minus(l.times(c))));return VN(a,o.precision=n,o.rounding=r,!0)},UN.hyperbolicSine=UN.sinh=function(){var e,t,n,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=lS(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=lS(a,2,i=i.times(1/uS(5,e)),i,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=t,a.rounding=n,VN(i,t,n,!0)},UN.hyperbolicTangent=UN.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,KN(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},UN.inverseCosine=UN.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,i=t.rounding;return-1!==n?0===n?e.isNeg()?JN(t,r,i):new t(0):new t(NaN):e.isZero()?JN(t,r+4,i).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=i,e.times(2))},UN.inverseHyperbolicCosine=UN.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,CN=!1,n=n.times(n).minus(1).sqrt().plus(n),CN=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},UN.inverseHyperbolicSine=UN.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,CN=!1,n=n.times(n).plus(1).sqrt().plus(n),CN=!0,r.precision=e,r.rounding=t,n.ln())},UN.inverseHyperbolicTangent=UN.atanh=function(){var e,t,n,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?VN(new a(i),e,t,!0):(a.precision=n=r-i.e,i=KN(i.plus(1),new a(1).minus(i),n+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)},UN.inverseSine=UN.asin=function(){var e,t,n,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),n=a.precision,r=a.rounding,-1!==t?0===t?((e=JN(a,n+4,r).times(.5)).s=i.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,i.times(2)))},UN.inverseTangent=UN.atan=function(){var e,t,n,r,i,a,o,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=LN)return(o=JN(c,f+4,d).times(.25)).s=u.s,o}else{if(!u.s)return new c(NaN);if(f+4<=LN)return(o=JN(c,f+4,d).times(.5)).s=u.s,o}for(c.precision=s=f+10,c.rounding=1,e=n=Math.min(28,s/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(CN=!1,t=Math.ceil(s/7),r=1,l=u.times(u),o=new c(u),i=u;-1!==e;)if(i=i.times(l),a=o.minus(i.div(r+=2)),i=i.times(l),void 0!==(o=a.plus(i.div(r+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),CN=!0,VN(o,c.precision=f,c.rounding=d,!0)},UN.isFinite=function(){return!!this.d},UN.isInteger=UN.isInt=function(){return!!this.d&&MN(this.e/7)>this.d.length-2},UN.isNaN=function(){return!this.s},UN.isNegative=UN.isNeg=function(){return this.s<0},UN.isPositive=UN.isPos=function(){return this.s>0},UN.isZero=function(){return!!this.d&&0===this.d[0]},UN.lessThan=UN.lt=function(e){return this.cmp(e)<0},UN.lessThanOrEqualTo=UN.lte=function(e){return this.cmp(e)<1},UN.logarithm=UN.log=function(e){var t,n,r,i,a,o,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(i=n[0];i%10===0;)i/=10;a=1!==i}if(CN=!1,o=iS(u,s=f+5),r=t?XN(c,s+10):iS(e,s),WN((l=KN(o,r,s,1)).d,i=f,d))do{if(o=iS(u,s+=10),r=t?XN(c,s+10):iS(e,s),l=KN(o,r,s,1),!a){+qN(l.d).slice(i+1,i+15)+1==1e14&&(l=VN(l,f+1,0));break}}while(WN(l.d,i+=10,d));return CN=!0,VN(l,f,d)},UN.minus=UN.sub=function(e){var t,n,r,i,a,o,s,l,u,c,f,d,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new h(e.d||p.s!==e.s?p:NaN):e=new h(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(u=p.d,d=e.d,s=h.precision,l=h.rounding,!u[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!u[0])return new h(3===l?-0:0);e=new h(p)}return CN?VN(e,s,l):e}if(n=MN(e.e/7),c=MN(p.e/7),u=u.slice(),a=c-n){for((f=a<0)?(t=u,a=-a,o=d.length):(t=d,n=c,o=u.length),a>(r=Math.max(Math.ceil(s/7),o)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((f=(r=u.length)<(o=d.length))&&(o=r),r=0;r<o;r++)if(u[r]!=d[r]){f=u[r]<d[r];break}a=0}for(f&&(t=u,u=d,d=t,e.s=-e.s),o=u.length,r=d.length-o;r>0;--r)u[o++]=0;for(r=d.length;r>a;){if(u[--r]<d[r]){for(i=r;i&&0===u[--i];)u[i]=RN-1;--u[i],u[r]+=RN}u[r]-=d[r]}for(;0===u[--o];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=GN(u,n),CN?VN(e,s,l):e):new h(3===l?-0:0)},UN.modulo=UN.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?VN(new r(n),r.precision,r.rounding):(CN=!1,9==r.modulo?(t=KN(n,e.abs(),0,3,1)).s*=e.s:t=KN(n,e,0,r.modulo,1),t=t.times(e),CN=!0,n.minus(t))},UN.naturalExponential=UN.exp=function(){return rS(this)},UN.naturalLogarithm=UN.ln=function(){return iS(this)},UN.negated=UN.neg=function(){var e=new this.constructor(this);return e.s=-e.s,VN(e)},UN.plus=UN.add=function(e){var t,n,r,i,a,o,s,l,u,c,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new d(e.d||f.s===e.s?f:NaN)):e=new d(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(u=f.d,c=e.d,s=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(f)),CN?VN(e,s,l):e;if(a=MN(f.e/7),r=MN(e.e/7),u=u.slice(),i=a-r){for(i<0?(n=u,i=-i,o=c.length):(n=c,r=a,o=u.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=u.length)-(i=c.length)<0&&(i=o,n=c,c=u,u=n),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/RN|0,u[i]%=RN;for(t&&(u.unshift(t),++r),o=u.length;0==u[--o];)u.pop();return e.d=u,e.e=GN(u,r),CN?VN(e,s,l):e},UN.precision=UN.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(_N+e);return n.d?(t=ZN(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},UN.round=function(){var e=this,t=e.constructor;return VN(new t(e),e.e+1,t.rounding)},UN.sine=UN.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:lS(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/uS(5,n)),t=lS(e,2,t,t);for(var i,a=new e(5),o=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(r,cS(r,n)),r.precision=e,r.rounding=t,VN(vN>2?n.neg():n,e,t,!0)):new r(NaN)},UN.squareRoot=UN.sqrt=function(){var e,t,n,r,i,a,o=this,s=o.d,l=o.e,u=o.s,c=o.constructor;if(1!==u||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(CN=!1,0==(u=Math.sqrt(+o))||u==1/0?(((t=qN(s)).length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=MN((l+1)/2)-(l<0||l%2),r=new c(t=u==1/0?"5e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(r=(a=r).plus(KN(o,a,n+2,1)).times(.5),qN(a.d).slice(0,n)===(t=qN(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(VN(r,l+1,1),e=!r.times(r).eq(o));break}if(!i&&(VN(a,l+1,0),a.times(a).eq(o))){r=a;break}n+=4,i=1}return CN=!0,VN(r,l,c.rounding,e)},UN.tangent=UN.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=KN(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,VN(2==vN||4==vN?n.neg():n,e,t,!0)):new r(NaN)},UN.times=UN.mul=function(e){var t,n,r,i,a,o,s,l,u,c=this,f=c.constructor,d=c.d,p=(e=new f(e)).d;if(e.s*=c.s,!d||!d[0]||!p||!p[0])return new f(!e.s||d&&!d[0]&&!p||p&&!p[0]&&!d?NaN:d&&p?0*e.s:e.s/0);for(n=MN(c.e/7)+MN(e.e/7),(l=d.length)<(u=p.length)&&(a=d,d=p,p=a,o=l,l=u,u=o),a=[],r=o=l+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*d[i-r-1]+t,a[i--]=s%RN|0,t=s/RN|0;a[i]=(a[i]+t)%RN|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=GN(a,n),CN?VN(e,f.precision,f.rounding):e},UN.toBinary=function(e,t){return fS(this,2,e,t)},UN.toDecimalPlaces=UN.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:($N(e,0,wN),void 0===t?t=r.rounding:$N(t,0,8),VN(n,e+n.e+1,t))},UN.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=YN(r,!0):($N(e,0,wN),void 0===t?t=i.rounding:$N(t,0,8),n=YN(r=VN(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},UN.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return void 0===e?n=YN(i):($N(e,0,wN),void 0===t?t=a.rounding:$N(t,0,8),n=YN(r=VN(new a(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},UN.toFraction=function(e){var t,n,r,i,a,o,s,l,u,c,f,d,p=this,h=p.d,m=p.constructor;if(!h)return new m(p);if(u=n=new m(1),r=l=new m(0),o=(a=(t=new m(r)).e=ZN(h)-p.e-1)%7,t.d[0]=TN(10,o<0?7+o:o),null==e)e=a>0?t:u;else{if(!(s=new m(e)).isInt()||s.lt(u))throw Error(_N+s);e=s.gt(t)?a>0?t:u:s}for(CN=!1,s=new m(qN(h)),c=m.precision,m.precision=a=7*h.length*2;f=KN(s,t,0,1,1),1!=(i=n.plus(f.times(r))).cmp(e);)n=r,r=i,i=u,u=l.plus(f.times(i)),l=i,i=t,t=s.minus(f.times(i)),s=i;return i=KN(e.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=p.s,d=KN(u,r,a,1).minus(p).abs().cmp(KN(l,n,a,1).minus(p).abs())<1?[u,r]:[l,n],m.precision=c,CN=!0,d},UN.toHexadecimal=UN.toHex=function(e,t){return fS(this,16,e,t)},UN.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:$N(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(CN=!1,n=KN(n,e,0,t,1).times(e),CN=!0,VN(n)):(e.s=n.s,n=e),n},UN.toNumber=function(){return+this},UN.toOctal=function(e,t){return fS(this,8,e,t)},UN.toPower=UN.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,u=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(TN(+s,u));if((s=new l(s)).eq(1))return s;if(r=l.precision,a=l.rounding,e.eq(1))return VN(s,r,a);if((t=MN(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return i=eS(l,s,n,r),e.s<0?new l(1).div(i):VN(i,r,a);if((o=s.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(n=TN(+s,u))&&isFinite(n)?new l(n+"").e:MN(u*(Math.log("0."+qN(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(CN=!1,l.rounding=s.s=1,n=Math.min(12,(t+"").length),(i=rS(e.times(iS(s,r+n)),r)).d&&WN((i=VN(i,r+5,1)).d,r,a)&&(t=r+10,+qN((i=VN(rS(e.times(iS(s,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=VN(i,r+1,0))),i.s=o,CN=!0,l.rounding=a,VN(i,r,a))},UN.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=YN(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):($N(e,1,wN),void 0===t?t=i.rounding:$N(t,0,8),n=YN(r=VN(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},UN.toSignificantDigits=UN.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):($N(e,1,wN),void 0===t?t=n.rounding:$N(t,0,8)),VN(new n(this),e,t)},UN.toString=function(){var e=this,t=e.constructor,n=YN(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},UN.truncated=UN.trunc=function(){return VN(new this.constructor(this),this.e+1,1)},UN.valueOf=UN.toJSON=function(){var e=this,t=e.constructor,n=YN(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var KN=function(){function e(e,t,n){var r,i=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+i,e[a]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o,s,l){var u,c,f,d,p,h,m,g,y,v,b,x,w,N,S,E,A,C,k,_,D=r.constructor,O=r.s==i.s?1:-1,j=r.d,M=i.d;if(!j||!j[0]||!M||!M[0])return new D(r.s&&i.s&&(j?!M||j[0]!=M[0]:M)?j&&0==j[0]||!M?0*O:O/0:NaN);for(l?(p=1,c=r.e-i.e):(l=RN,p=7,c=MN(r.e/p)-MN(i.e/p)),k=M.length,A=j.length,v=(y=new D(O)).d=[],f=0;M[f]==(j[f]||0);f++);if(M[f]>(j[f]||0)&&c--,null==a?(N=a=D.precision,o=D.rounding):N=s?a+(r.e-i.e)+1:a,N<0)v.push(1),h=!0;else{if(N=N/p+2|0,f=0,1==k){for(d=0,M=M[0],N++;(f<A||d)&&N--;f++)S=d*l+(j[f]||0),v[f]=S/M|0,d=S%M|0;h=d||f<A}else{for((d=l/(M[0]+1)|0)>1&&(M=e(M,d,l),j=e(j,d,l),k=M.length,A=j.length),E=k,x=(b=j.slice(0,k)).length;x<k;)b[x++]=0;(_=M.slice()).unshift(0),C=M[0],M[1]>=l/2&&++C;do{d=0,(u=t(M,b,k,x))<0?(w=b[0],k!=x&&(w=w*l+(b[1]||0)),(d=w/C|0)>1?(d>=l&&(d=l-1),1==(u=t(m=e(M,d,l),b,g=m.length,x=b.length))&&(d--,n(m,k<g?_:M,g,l))):(0==d&&(u=d=1),m=M.slice()),(g=m.length)<x&&m.unshift(0),n(b,m,x,l),-1==u&&(u=t(M,b,k,x=b.length))<1&&(d++,n(b,k<x?_:M,x,l)),x=b.length):0===u&&(d++,b=[0]),v[f++]=d,u&&b[0]?b[x++]=j[E]||0:(b=[j[E]],x=1)}while((E++<A||void 0!==b[0])&&N--);h=void 0!==b[0]}v[0]||v.shift()}if(1==p)y.e=c,yN=h;else{for(f=1,d=v[0];d>=10;d/=10)f++;y.e=f+c*p-1,VN(y,s?a+y.e+1:a,o,h)}return y}}();function VN(e,t,n,r){var i,a,o,s,l,u,c,f,d,p=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,o=t,l=(c=f[d=0])/TN(10,i-o-1)%10|0;else if((d=Math.ceil((a+1)/7))>=(s=f.length)){if(!r)break e;for(;s++<=d;)f.push(0);c=l=0,i=1,o=(a%=7)-7+1}else{for(c=s=f[d],i=1;s>=10;s/=10)i++;l=(o=(a%=7)-7+i)<0?0:c/TN(10,i-o-1)%10|0}if(r=r||t<0||void 0!==f[d+1]||(o<0?c:c%TN(10,i-o-1)),u=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(a>0?o>0?c/TN(10,i-o):0:f[d-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,u?(t-=e.e+1,f[0]=TN(10,(7-t%7)%7),e.e=-t||0):f[0]=e.e=0,e;if(0==a?(f.length=d,s=1,d--):(f.length=d+1,s=TN(10,7-a),f[d]=o>0?(c/TN(10,i-o)%TN(10,o)|0)*s:0),u)for(;;){if(0==d){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,f[0]==RN&&(f[0]=1));break}if(f[d]+=s,f[d]!=RN)break;f[d--]=0,s=1}for(a=f.length;0===f[--a];)f.pop()}return CN&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function YN(e,t,n){if(!e.isFinite())return aS(e);var r,i=e.e,a=qN(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+QN(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+QN(-i-1)+a,n&&(r=n-o)>0&&(a+=QN(r))):i>=o?(a+=QN(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+QN(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=QN(r))),a}function GN(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function XN(e,t,n){if(t>zN)throw CN=!0,n&&(e.precision=n),Error(DN);return VN(new e(SN),t,1,!0)}function JN(e,t,n){if(t>LN)throw Error(DN);return VN(new e(EN),t,n,!0)}function ZN(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function QN(e){for(var t="";e--;)t+="0";return t}function eS(e,t,n,r){var i,a=new e(1),o=Math.ceil(r/7+4);for(CN=!1;;){if(n%2&&dS((a=a.times(t)).d,o)&&(i=!0),0===(n=MN(n/2))){n=a.d.length-1,i&&0===a.d[n]&&++a.d[n];break}dS((t=t.times(t)).d,o)}return CN=!0,a}function tS(e){return 1&e.d[e.d.length-1]}function nS(e,t,n){for(var r,i,a=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){a=i;break}((r=a.cmp(i))===n||0===r&&a.s===n)&&(a=i)}return a}function rS(e,t){var n,r,i,a,o,s,l,u=0,c=0,f=0,d=e.constructor,p=d.rounding,h=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(CN=!1,l=h):l=t,s=new d(.03125);e.e>-2;)e=e.times(s),f+=5;for(l+=r=Math.log(TN(2,f))/Math.LN10*2+5|0,n=a=o=new d(1),d.precision=l;;){if(a=VN(a.times(e),l,1),n=n.times(++c),qN((s=o.plus(KN(a,n,l,1))).d).slice(0,l)===qN(o.d).slice(0,l)){for(i=f;i--;)o=VN(o.times(o),l,1);if(null!=t)return d.precision=h,o;if(!(u<3&&WN(o.d,l-r,p,u)))return VN(o,d.precision=h,p,CN=!0);d.precision=l+=10,n=a=s=new d(1),c=0,u++}o=s}}function iS(e,t){var n,r,i,a,o,s,l,u,c,f,d,p=1,h=e,m=h.d,g=h.constructor,y=g.rounding,v=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(CN=!1,c=v):c=t,g.precision=c+=10,r=(n=qN(m)).charAt(0),!(Math.abs(a=h.e)<15e14))return u=XN(g,c+2,v).times(a+""),h=iS(new g(r+"."+n.slice(1)),c-10).plus(u),g.precision=v,null==t?VN(h,v,y,CN=!0):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=qN((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,r>1?(h=new g("0."+n),a++):h=new g(r+"."+n.slice(1)),f=h,l=o=h=KN(h.minus(1),h.plus(1),c,1),d=VN(h.times(h),c,1),i=3;;){if(o=VN(o.times(d),c,1),qN((u=l.plus(KN(o,new g(i),c,1))).d).slice(0,c)===qN(l.d).slice(0,c)){if(l=l.times(2),0!==a&&(l=l.plus(XN(g,c+2,v).times(a+""))),l=KN(l,new g(p),c,1),null!=t)return g.precision=v,l;if(!WN(l.d,c-10,y,s))return VN(l,g.precision=v,y,CN=!0);g.precision=c+=10,u=o=h=KN(f.minus(1),f.plus(1),c,1),d=VN(h.times(h),c,1),i=s=1}l=u,i+=2}}function aS(e){return String(e.s*e.s/0)}function oS(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),CN&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function sS(e,t){var n,r,i,a,o,s,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),BN.test(t))return oS(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(FN.test(t))n=16,t=t.toLowerCase();else if(PN.test(t))n=2;else{if(!IN.test(t))throw Error(_N+t);n=8}for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,r=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,i=eS(r,new r(n),a,2*a)),a=c=(u=HN(t,n,RN)).length-1;0===u[a];--a)u.pop();return a<0?new r(0*e.s):(e.e=GN(u,c),e.d=u,CN=!1,o&&(e=KN(e,i,4*s)),l&&(e=e.times(Math.abs(l)<54?TN(2,l):QS.pow(2,l))),CN=!0,e)}function lS(e,t,n,r,i){var a,o,s,l,u=e.precision,c=Math.ceil(u/7);for(CN=!1,l=n.times(n),s=new e(r);;){if(o=KN(s.times(l),new e(t++*t++),u,1),s=i?r.plus(o):r.minus(o),r=KN(o.times(l),new e(t++*t++),u,1),void 0!==(o=s.plus(r)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=r,r=o,o=a}return CN=!0,o.d.length=c+1,o}function uS(e,t){for(var n=e;--t;)n*=e;return n}function cS(e,t){var n,r=t.s<0,i=JN(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return vN=r?4:1,t;if((n=t.divToInt(i)).isZero())vN=r?3:2;else{if((t=t.minus(n.times(i))).lte(a))return vN=tS(n)?r?2:3:r?4:1,t;vN=tS(n)?r?1:4:r?3:2}return t.minus(i).abs()}function fS(e,t,n,r){var i,a,o,s,l,u,c,f,d,p=e.constructor,h=void 0!==n;if(h?($N(n,1,wN),void 0===r?r=p.rounding:$N(r,0,8)):(n=p.precision,r=p.rounding),e.isFinite()){for(h?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(o=(c=YN(e)).indexOf("."))>=0&&(c=c.replace(".",""),(d=new p(1)).e=c.length-o,d.d=HN(YN(d),10,i),d.e=d.d.length),a=l=(f=HN(c,10,i)).length;0==f[--l];)f.pop();if(f[0]){if(o<0?a--:((e=new p(e)).d=f,e.e=a,f=(e=KN(e,d,n,r,0,i)).d,a=e.e,u=yN),o=f[n],s=i/2,u=u||void 0!==f[n+1],u=r<4?(void 0!==o||u)&&(0===r||r===(e.s<0?3:2)):o>s||o===s&&(4===r||u||6===r&&1&f[n-1]||r===(e.s<0?8:7)),f.length=n,u)for(;++f[--n]>i-1;)f[n]=0,n||(++a,f.unshift(1));for(l=f.length;!f[l-1];--l);for(o=0,c="";o<l;o++)c+=NN.charAt(f[o]);if(h){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)c+="0";for(l=(f=HN(c,i,t)).length;!f[l-1];--l);for(o=1,c="1.";o<l;o++)c+=NN.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=aS(e);return e.s<0?"-"+c:c}function dS(e,t){if(e.length>t)return e.length=t,!0}function pS(e){return new this(e).abs()}function hS(e){return new this(e).acos()}function mS(e){return new this(e).acosh()}function gS(e,t){return new this(e).plus(t)}function yS(e){return new this(e).asin()}function vS(e){return new this(e).asinh()}function bS(e){return new this(e).atan()}function xS(e){return new this(e).atanh()}function wS(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,a=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?JN(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=JN(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,n=this.atan(KN(e,t,a,1)),t=JN(this,a,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(KN(e,t,a,1)):(n=JN(this,a,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function NS(e){return new this(e).cbrt()}function SS(e){return VN(e=new this(e),e.e+1,2)}function ES(e,t,n){return new this(e).clamp(t,n)}function AS(e){if(!e||"object"!==typeof e)throw Error(kN+"Object expected");var t,n,r,i=!0===e.defaults,a=["precision",1,wN,"rounding",0,8,"toExpNeg",-xN,0,"toExpPos",0,xN,"maxE",0,xN,"minE",-xN,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],i&&(this[n]=AN[n]),void 0!==(r=e[n])){if(!(MN(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(_N+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=AN[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(_N+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(ON);this[n]=!0}else this[n]=!1}return this}function CS(e){return new this(e).cos()}function kS(e){return new this(e).cosh()}function _S(e,t){return new this(e).div(t)}function DS(e){return new this(e).exp()}function OS(e){return VN(e=new this(e),e.e+1,3)}function jS(){var e,t,n=new this(0);for(CN=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return CN=!0,new this(1/0);n=t}return CN=!0,n.sqrt()}function MS(e){return e instanceof QS||e&&e.toStringTag===jN||!1}function TS(e){return new this(e).ln()}function PS(e,t){return new this(e).log(t)}function FS(e){return new this(e).log(2)}function IS(e){return new this(e).log(10)}function BS(){return nS(this,arguments,-1)}function RS(){return nS(this,arguments,1)}function zS(e,t){return new this(e).mod(t)}function LS(e,t){return new this(e).mul(t)}function US(e,t){return new this(e).pow(t)}function qS(e){var t,n,r,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:$N(e,1,wN),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(ON);for(t=crypto.randomBytes(r*=4);a<r;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=r/4}else for(;a<r;)s[a++]=1e7*Math.random()|0;for(e%=7,(r=s[--a])&&e&&(i=TN(10,7-e),s[a]=(r/i|0)*i);0===s[a];a--)s.pop();if(a<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=s,o}function $S(e){return VN(e=new this(e),e.e+1,this.rounding)}function WS(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function HS(e){return new this(e).sin()}function KS(e){return new this(e).sinh()}function VS(e){return new this(e).sqrt()}function YS(e,t){return new this(e).sub(t)}function GS(){var e=0,t=arguments,n=new this(t[e]);for(CN=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return CN=!0,VN(n,this.precision,this.rounding)}function XS(e){return new this(e).tan()}function JS(e){return new this(e).tanh()}function ZS(e){return VN(e=new this(e),e.e+1,1)}UN[Symbol.for("nodejs.util.inspect.custom")]=UN.toString,UN[Symbol.toStringTag]="Decimal";var QS=UN.constructor=function e(t){var n,r,i;function a(e){var t,n,r,i=this;if(!(i instanceof a))return new a(e);if(i.constructor=a,MS(e))return i.s=e.s,void(CN?!e.d||e.e>a.maxE?(i.e=NaN,i.d=null):e.e<a.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(CN?t>a.maxE?(i.e=NaN,i.d=null):t<a.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!==0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):oS(i,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),BN.test(e)?oS(i,e):sS(i,e);if("bigint"===r)return e<0?(e=-e,i.s=-1):i.s=1,oS(i,e.toString());throw Error(_N+e)}if(a.prototype=UN,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=AS,a.clone=e,a.isDecimal=MS,a.abs=pS,a.acos=hS,a.acosh=mS,a.add=gS,a.asin=yS,a.asinh=vS,a.atan=bS,a.atanh=xS,a.atan2=wS,a.cbrt=NS,a.ceil=SS,a.clamp=ES,a.cos=CS,a.cosh=kS,a.div=_S,a.exp=DS,a.floor=OS,a.hypot=jS,a.ln=TS,a.log=PS,a.log10=IS,a.log2=FS,a.max=BS,a.min=RS,a.mod=zS,a.mul=LS,a.pow=US,a.random=qS,a.round=$S,a.sign=WS,a.sin=HS,a.sinh=KS,a.sqrt=VS,a.sub=YS,a.sum=GS,a.tan=XS,a.tanh=JS,a.trunc=ZS,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(AN);SN=new QS(SN),EN=new QS(EN);const eE=QS;var tE=Tx("BigNumber",["?on","config"],e=>{var{on:t,config:n}=e,r=eE.clone({precision:n.precision,modulo:eE.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})}),r},{isClass:!0});const nE=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},rE=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},iE=function(e,t){return(e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},aE=function(){throw SyntaxError("Invalid Param")};function oE(e,t){const n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):(e*=.5,t*=.5,.5*Math.log(e*e+t*t)+Math.LN2)}const sE={re:0,im:0},lE=function(e,t){const n=sE;if(void 0===e||null===e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return uE.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return uE.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):aE();break;case"string":n.im=n.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,i=0;null===t&&aE();for(let e=0;e<t.length;e++){const a=t[e];" "===a||"\t"===a||"\n"===a||("+"===a?r++:"-"===a?i++:"i"===a||"I"===a?(r+i===0&&aE()," "===t[e+1]||isNaN(t[e+1])?n.im+=parseFloat((i%2?"-":"")+"1"):(n.im+=parseFloat((i%2?"-":"")+t[e+1]),e++),r=i=0):((r+i===0||isNaN(a))&&aE(),"i"===t[e+1]||"I"===t[e+1]?(n.im+=parseFloat((i%2?"-":"")+a),e++):n.re+=parseFloat((i%2?"-":"")+a),r=i=0))}r+i>0&&aE();break;case"number":n.im=0,n.re=e;break;default:aE()}return isNaN(n.re)||isNaN(n.im),n};function uE(e,t){if(!(this instanceof uE))return new uE(e,t);const n=lE(e,t);this.re=n.re,this.im=n.im}uE.prototype={re:0,im:0,sign:function(){const e=iE(this.re,this.im);return new uE(this.re/e,this.im/e)},add:function(e,t){const n=lE(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?uE.NAN:uE.INFINITY:new uE(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=lE(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im));return r||i?r&&i?uE.NAN:uE.INFINITY:new uE(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=lE(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),a=0===this.re&&0===this.im,o=0===n.re&&0===n.im;return r&&o||i&&a?uE.NAN:r||i?uE.INFINITY:0===n.im&&0===this.im?new uE(this.re*n.re,0):new uE(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=lE(e,t),r=this.isInfinite(),i=!(isFinite(n.re)&&isFinite(n.im)),a=0===this.re&&0===this.im,o=0===n.re&&0===n.im;if(a&&o||r&&i)return uE.NAN;if(o||r)return uE.INFINITY;if(a||i)return uE.ZERO;if(0===n.im)return new uE(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const e=n.re/n.im,t=n.re*e+n.im;return new uE((this.re*e+this.im)/t,(this.im*e-this.re)/t)}{const e=n.im/n.re,t=n.im*e+n.re;return new uE((this.re+this.im*e)/t,(this.im-this.re*e)/t)}},pow:function(e,t){const n=lE(e,t),r=0===this.re&&0===this.im;if(0===n.re&&0===n.im)return uE.ONE;if(0===n.im){if(0===this.im&&this.re>0)return new uE(Math.pow(this.re,n.re),0);if(0===this.re)switch((n.re%4+4)%4){case 0:return new uE(Math.pow(this.im,n.re),0);case 1:return new uE(0,Math.pow(this.im,n.re));case 2:return new uE(-Math.pow(this.im,n.re),0);case 3:return new uE(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return uE.ZERO;const i=Math.atan2(this.im,this.re),a=oE(this.re,this.im);let o=Math.exp(n.re*a-n.im*i),s=n.im*a+n.re*i;return new uE(o*Math.cos(s),o*Math.sin(s))},sqrt:function(){const e=this.re,t=this.im;if(0===t)return e>=0?new uE(Math.sqrt(e),0):new uE(0,Math.sqrt(-e));const n=iE(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),i=Math.abs(t)/(2*r);return e>=0?new uE(r,t<0?-i:i):new uE(i,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return 0===this.im?new uE(e,0):new uE(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new uE(Math.expm1(e)*Math.cos(t)+function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return 0===t&&e>0?new uE(Math.log(e),0):new uE(oE(e,t),Math.atan2(t,e))},abs:function(){return iE(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new uE(Math.sin(e)*nE(t),Math.cos(e)*rE(t))},cos:function(){const e=this.re,t=this.im;return new uE(Math.cos(e)*nE(t),-Math.sin(e)*rE(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+nE(t);return new uE(Math.sin(e)/n,rE(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-nE(t);return new uE(-Math.sin(e)/n,rE(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*nE(2*t)+.5*Math.cos(2*e);return new uE(Math.cos(e)*nE(t)/n,Math.sin(e)*rE(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*nE(2*t)-.5*Math.cos(2*e);return new uE(Math.sin(e)*nE(t)/n,-Math.cos(e)*rE(t)/n)},asin:function(){const e=this.re,t=this.im,n=new uE(t*t-e*e+1,-2*e*t).sqrt(),r=new uE(n.re-t,n.im+e).log();return new uE(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new uE(t*t-e*e+1,-2*e*t).sqrt(),r=new uE(n.re-t,n.im+e).log();return new uE(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(0===e){if(1===t)return new uE(0,1/0);if(-1===t)return new uE(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new uE((1-t*t-e*e)/n,-2*e/n).log();return new uE(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(0===t)return new uE(Math.atan2(1,e),0);const n=e*e+t*t;return 0!==n?new uE(e/n,-t/n).atan():new uE(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new uE(0,1/0);const n=e*e+t*t;return 0!==n?new uE(e/n,-t/n).acos():new uE(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new uE(Math.PI/2,1/0);const n=e*e+t*t;return 0!==n?new uE(e/n,-t/n).asin():new uE(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new uE(rE(e)*Math.cos(t),nE(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new uE(nE(e)*Math.cos(t),rE(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=nE(e)+Math.cos(t);return new uE(rE(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=nE(e)-Math.cos(t);return new uE(rE(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-nE(2*e);return new uE(-2*rE(e)*Math.cos(t)/n,2*nE(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+nE(2*e);return new uE(2*nE(e)*Math.cos(t)/n,-2*rE(e)*Math.sin(t)/n)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,a=r*r+t*t,o=0!==a?new uE((i*r-t*t)/a,(t*r+i*t)/a):new uE(-1!==e?e/0:0,0!==t?t/0:0),s=o.re;return o.re=oE(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new uE(0,Math.PI/2);const n=e*e+t*t;return 0!==n?new uE(e/n,-t/n).atanh():new uE(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(0===t)return new uE(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const n=e*e+t*t;return 0!==n?new uE(e/n,-t/n).asinh():new uE(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return uE.INFINITY;const n=e*e+t*t;return 0!==n?new uE(e/n,-t/n).acosh():new uE(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return uE.INFINITY;if(this.isInfinite())return uE.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new uE(e/n,-t/n)},conjugate:function(){return new uE(this.re,-this.im)},neg:function(){return new uE(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new uE(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new uE(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new uE(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=lE(e,t);return Math.abs(n.re-this.re)<=uE.EPSILON&&Math.abs(n.im-this.im)<=uE.EPSILON},clone:function(){return new uE(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<uE.EPSILON&&(e=0),Math.abs(t)<uE.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},uE.ZERO=new uE(0,0),uE.ONE=new uE(1,0),uE.I=new uE(0,1),uE.PI=new uE(Math.PI,0),uE.E=new uE(Math.E,0),uE.INFINITY=new uE(1/0,1/0),uE.NAN=new uE(NaN,NaN),uE.EPSILON=1e-15;var cE=Tx("Complex",[],()=>(Object.defineProperty(uE,"name",{value:"Complex"}),uE.prototype.constructor=uE,uE.prototype.type="Complex",uE.prototype.isComplex=!0,uE.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},uE.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},uE.prototype.format=function(e){var t=this.im,n=this.re,r=Wx(this.re,e),i=Wx(this.im,e),a=Fb(e)?e:e?e.precision:null;if(null!==a){var o=Math.pow(10,-a);Math.abs(n/t)<o&&(n=0),Math.abs(t/n)<o&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},uE.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===typeof t)return uE(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(Fb(n)){if(zb(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Fb(r))return new uE({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},uE.prototype.valueOf=uE.prototype.toString,uE.fromJSON=function(e){return new uE(e)},uE.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},uE),{isClass:!0}),fE=n(1937),dE=Tx("Fraction",[],()=>(Object.defineProperty(fE,"name",{value:"Fraction"}),fE.prototype.constructor=fE,fE.prototype.type="Fraction",fE.prototype.isFraction=!0,fE.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},fE.fromJSON=function(e){return new fE(e)},fE),{isClass:!0}),pE=Tx("Range",[],()=>{function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!==t&&void 0!==t,a=null!==n&&void 0!==n,o=null!==r&&void 0!==r;if(i)if(Ib(t))t=t.toNumber();else if("number"!==typeof t)throw new TypeError("Parameter start must be a number");if(a)if(Ib(n))n=n.toNumber();else if("number"!==typeof n)throw new TypeError("Parameter end must be a number");if(o)if(Ib(r))r=r.toNumber();else if("number"!==typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=a?parseFloat(n):0,this.step=o?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!==typeof t)return null;var n=t.split(":").map(function(e){return parseFloat(e)});if(n.some(function(e){return isNaN(e)}))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end-t;return Bx(n)===Bx(r)?e=Math.ceil(r/n):0===r&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach(function(n,r,i){t[r[0]]=e(n,r,i)}),t},e.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=Wx(this.start,e);return 1!==this.step&&(t+=":"+Wx(this.step,e)),t+=":"+Wx(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e},{isClass:!0}),hE=Tx("Matrix",[],()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function mE(e){var t=0,n=1,r=Object.create(null),i=Object.create(null),a=0,o=function(e){var o=i[e];if(o&&(delete r[o],delete i[e],--t,n===o)){if(!t)return a=0,void(n=1);for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(s){var l=i[s],u=++a;if(r[u]=s,i[s]=u,!l){if(++t<=e)return;return s=r[n],o(s),s}if(delete r[l],n===l)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:o,clear:function(){t=a=0,n=1,r=Object.create(null),i=Object.create(null)}}}function gE(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!==typeof r.cache&&(r.cache={values:new Map,lru:mE(n||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=t(i);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var s=e.apply(e,i);return r.cache.values.set(o,s),r.cache.values.delete(r.cache.lru.hit(o)),s}}function yE(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var vE=Tx("DenseMatrix",["Matrix"],e=>{var{Matrix:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!Lb(t))throw new Error("Invalid datatype: "+t);if(qb(e))"DenseMatrix"===e.type?(this._data=Nx(e._data),this._size=Nx(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&Ub(e.data)&&Ub(e.size))this._data=e.data,this._size=e.size,vw(this._data,this._size),this._datatype=t||e.datatype;else if(Ub(e))this._data=s(e),this._size=gw(this._data),vw(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+wx(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t,n,i){var a=i===n-1,o=t.dimension(i);return a?o.map(function(t){return xw(t,e.length),e[t]}).valueOf():o.map(function(a){return xw(a,e.length),r(e[a],t,n,i+1)}).valueOf()}function i(e,t,n,r,a){var o=a===r-1,s=t.dimension(a);o?s.forEach(function(t,r){xw(t),e[t]=n[r[0]]}):s.forEach(function(o,s){xw(o),i(e[o],t,n[s[0]],r,a+1)})}function a(e,t,n){if(0===t.length){for(var r=e._data;Ub(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Nw(e._data,e._size,n),e}function o(e,t,n){for(var r=e._size.slice(0),i=!1;r.length<t.length;)r.push(0),i=!0;for(var o=0,s=t.length;o<s;o++)t[o]>r[o]&&(r[o]=t[o],i=!0);i&&a(e,r,n)}function s(e){return qb(e)?s(e.valueOf()):Ub(e)?e.map(s):e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return zw(this._data,wx)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,a){switch(arguments.length){case 1:return function(e,t){if(!Vb(t))throw new TypeError("Invalid index");var i=t.isScalar();if(i)return e.get(t.min());var a=t.size();if(a.length!==e._size.length)throw new hw(a.length,e._size.length);for(var o=t.min(),s=t.max(),l=0,u=e._size.length;l<u;l++)xw(o[l],e._size[l]),xw(s[l],e._size[l]);return new n(r(e._data,t,a.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,s=t.size(),l=t.isScalar();qb(n)?(a=n.size(),n=n.valueOf()):a=gw(n);if(l){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(!Cx(a,s))try{a=gw(n=0===a.length?Hw([n],s):Hw(n,s))}catch(h){}if(s.length<e._size.length)throw new hw(s.length,e._size.length,"<");if(a.length<s.length){for(var u=0,c=0;1===s[u]&&1===a[u];)u++;for(;1===s[u];)c++,u++;n=Dw(n,s.length,c,a)}if(!Cx(s,a))throw new hw(s,a,">");var f=t.max().map(function(e){return e+1});o(e,f,r);var d=s.length,p=0;i(e._data,t,n,d,p)}return e}(this,e,t,a);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!Ub(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new hw(e.length,this._size.length);for(var t=0;t<e.length;t++)xw(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var a=e[r];xw(a,n.length),n=n[a]}return n},n.prototype.set=function(e,t,n){if(!Ub(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new hw(e.length,this._size.length,"<");var r,i,a,s=e.map(function(e){return e+1});o(this,s,n);var l=this._data;for(r=0,i=e.length-1;r<i;r++)xw(a=e[r],l.length),l=l[a];return xw(a=e[e.length-1],l.length),l[a]=t,this},n.prototype.resize=function(e,t,n){if(!$b(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return a(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;n._data=Ew(n._data,e);var r=n._size.reduce((e,t)=>e*t);return n._size=Aw(e,r),n},n.prototype.clone=function(){return new n({data:Nx(this._data),size:Nx(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=yE(e),i=function n(i,a){return Ub(i)?i.map(function(e,t){return n(e,a.concat(t))}):1===r?e(i):2===r?e(i,a):e(i,a,t)}(this._data,[]);return new n(i,void 0!==this._datatype?zw(i,wx):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,i){Ub(r)?r.forEach(function(e,t){n(e,i.concat(t))}):e(r,i,t)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*e(t,n){if(Ub(t))for(var r=0;r<t.length;r++)yield*e(t[r],n.concat(r));else yield{value:t,index:n}}(this._data,[])},n.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var r of t)e.push(new n([r],this._datatype));return e},n.prototype.columns=function(){var e=this,t=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,a=function(r){var a=i.map(e=>[e[r]]);t.push(new n(a,e._datatype))},o=0;o<r[1];o++)a(o);return t},n.prototype.toArray=function(){return Nx(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return lw(this._data,e)},n.prototype.toString=function(){return lw(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(Ib(e)&&(e=e.toNumber()),!Fb(e)||!Ix(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,i=this._size[0],a=this._size[1],o=Math.min(i-r,a-t),s=[],l=0;l<o;l++)s[l]=this._data[l+r][l+t];return new n({data:s,size:[o],datatype:this._datatype})},n.diagonal=function(e,t,r,i){if(!Ub(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(Ib(e)&&(e=e.toNumber()),!Fb(e)||!Ix(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(Ib(r)&&(r=r.toNumber()),!Fb(r)||!Ix(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var a,o=r>0?r:0,s=r<0?-r:0,l=e[0],u=e[1],c=Math.min(l-s,u-o);if(Ub(t)){if(t.length!==c)throw new Error("Invalid value array length");a=function(e){return t[e]}}else if(qb(t)){var f=t.size();if(1!==f.length||f[0]!==c)throw new Error("Invalid matrix length");a=function(e){return t.get([e])}}else a=function(){return t};i||(i=Ib(a(0))?a(0).mul(0):0);var d=[];if(e.length>0){d=Nw(d,e,i);for(var p=0;p<c;p++)d[p+s][p+o]=a(p)}return new n({data:d,size:[l,u]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!Fb(e)||!Ix(e)||!Fb(t)||!Ix(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return xw(e,this._size[0]),xw(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n},{isClass:!0}),bE="clone",xE=Tx(bE,["typed"],e=>{var{typed:t}=e;return t(bE,{any:Nx})});function wE(e){var t,n,r=e.length,i=e[0].length,a=[];for(n=0;n<i;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);a.push(o)}return a}function NE(e){for(var t=0;t<e.length;t++)if($b(e[t]))return!0;return!1}function SE(e,t){qb(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?SE(i,t):t(i)}}function EE(e,t,n){return e&&"function"===typeof e.map?e.map(function(e){return EE(e,t,n)}):t(e)}function AE(e,t,n){var r=Array.isArray(e)?gw(e):e.size();if(t<0||t>=r.length)throw new mw(t,r.length);return qb(e)?e.create(CE(e.valueOf(),t,n)):CE(e,t,n)}function CE(e,t,n){var r,i,a,o;if(t<=0){if(Array.isArray(e[0])){for(o=wE(e),i=[],r=0;r<o.length;r++)i[r]=CE(o[r],t-1,n);return i}for(a=e[0],r=1;r<e.length;r++)a=n(a,e[r]);return a}for(i=[],r=0;r<e.length;r++)i[r]=CE(e[r],t-1,n);return i}function kE(e,t,n,r,i,a,o,s,l,u,c){var f,d,p,h,m=e._values,g=e._index,y=e._ptr;if(r)for(d=y[t],p=y[t+1],f=d;f<p;f++)n[h=g[f]]!==a?(n[h]=a,o.push(h),u?(r[h]=l?s(m[f],c):s(c,m[f]),i[h]=a):r[h]=m[f]):(r[h]=l?s(m[f],r[h]):s(r[h],m[f]),i[h]=a);else for(d=y[t],p=y[t+1],f=d;f<p;f++)n[h=g[f]]!==a?(n[h]=a,o.push(h)):i[h]=a}var _E="isInteger",DE=Tx(_E,["typed"],e=>{var{typed:t}=e;return t(_E,{number:Ix,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),OE="number";function jE(e){return e<0}function ME(e){return e>0}function TE(e){return 0===e}function PE(e){return Number.isNaN(e)}jE.signature=OE,ME.signature=OE,TE.signature=OE,PE.signature=OE;var FE="isNegative",IE=Tx(FE,["typed"],e=>{var{typed:t}=e;return t(FE,{number:jE,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),BE="isNumeric",RE=Tx(BE,["typed"],e=>{var{typed:t}=e;return t(BE,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),zE="hasNumericValue",LE=Tx(zE,["typed","isNumeric"],e=>{var{typed:t,isNumeric:n}=e;return t(zE,{boolean:()=>!0,string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return n(e)}})}),UE="isPositive",qE=Tx(UE,["typed"],e=>{var{typed:t}=e;return t(UE,{number:ME,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),$E="isZero",WE=Tx($E,["typed"],e=>{var{typed:t}=e;return t($E,{number:TE,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),HE="isNaN",KE=Tx(HE,["typed"],e=>{var{typed:t}=e;return t(HE,{number:PE,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return EE(e,Number.isNaN)}})}),VE="typeOf",YE=Tx(VE,["typed"],e=>{var{typed:t}=e;return t(VE,{any:wx})});function GE(e,t,n){if(null===n||void 0===n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var XE=Tx("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(e,[n.valueType(),r.valueType()])(n.value,r.value)})}}),JE="equalScalar",ZE=Tx(JE,["typed","config"],e=>{var{typed:t,config:n}=e,r=XE({typed:t});return t(JE,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return Jx(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||GE(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return Jx(e.re,t.re,n)&&Jx(e.im,t.im,n)}(e,t,n.epsilon)}},r)}),QE=(Tx(JE,["typed","config"],e=>{var{typed:t,config:n}=e;return t(JE,{"number, number":function(e,t){return Jx(e,t,n.epsilon)}})}),Tx("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!Lb(t))throw new Error("Invalid datatype: "+t);if(qb(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?Nx(t._values):void 0,e._index=Nx(t._index),e._ptr=Nx(t._ptr),e._size=Nx(t._size),e._datatype=n||t._datatype):a(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&Ub(e.index)&&Ub(e.ptr)&&Ub(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(Ub(e))a(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+wx(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function a(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var a=r.length,o=0,s=n,l=0;if(Lb(i)&&(s=t.find(n,[i,i])||n,l=t.convert(0,i)),a>0){var u=0;do{e._ptr.push(e._index.length);for(var c=0;c<a;c++){var f=r[c];if(Ub(f)){if(0===u&&o<f.length&&(o=f.length),u<f.length){var d=f[u];s(d,l)||(e._values.push(d),e._index.push(c))}}else 0===u&&o<1&&(o=1),s(f,l)||(e._values.push(f),e._index.push(c))}u++}while(u<o)}e._ptr.push(e._index.length),e._size=[a,o]}function o(e,t,n,r){if(n-t===0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function s(e,t,n,r,i,a,o){i.splice(e,0,r),a.splice(e,0,t);for(var s=n+1;s<o.length;s++)o[s]++}function l(e,r,i,a){var o=a||0,s=n,l=0;Lb(e._datatype)&&(s=t.find(n,[e._datatype,e._datatype])||n,l=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var u,c,f,d=!s(o,l),p=e._size[0],h=e._size[1];if(i>h){for(c=h;c<i;c++)if(e._ptr[c]=e._values.length,d)for(u=0;u<p;u++)e._values.push(o),e._index.push(u);e._ptr[i]=e._values.length}else i<h&&(e._ptr.splice(i+1,h-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(h=i,r>p){if(d){var m=0;for(c=0;c<h;c++){e._ptr[c]=e._ptr[c]+m,f=e._ptr[c+1]+m;var g=0;for(u=p;u<r;u++,g++)e._values.splice(f+g,0,o),e._index.splice(f+g,0,u),m++}e._ptr[h]=e._values.length}}else if(r<p){var y=0;for(c=0;c<h;c++){e._ptr[c]=e._ptr[c]-y;var v=e._ptr[c],b=e._ptr[c+1]-y;for(f=v;f<b;f++)(u=e._index[f])>r-1&&(e._values.splice(f,1),e._index.splice(f,1),y++)}e._ptr[c]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function u(e,t,n,r,i){var a,o,s=r[0],l=r[1],u=[];for(a=0;a<s;a++)for(u[a]=[],o=0;o<l;o++)u[a][o]=0;for(o=0;o<l;o++)for(var c=n[o],f=n[o+1],d=c;d<f;d++)u[a=t[d]][o]=e?i?Nx(e[d]):e[d]:1;return u}return i.prototype=new r,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return zw(this._values,wx)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!Vb(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,a,o,s=t.size();if(s.length!==e._size.length)throw new hw(s.length,e._size.length);var l=t.min(),u=t.max();for(n=0,r=e._size.length;n<r;n++)xw(l[n],e._size[n]),xw(u[n],e._size[n]);var c=e._values,f=e._index,d=e._ptr,p=t.dimension(0),h=t.dimension(1),m=[],g=[];p.forEach(function(e,t){g[e]=t[0],m[e]=!0});var y=c?[]:void 0,v=[],b=[];return h.forEach(function(e){for(b.push(v.length),a=d[e],o=d[e+1];a<o;a++)n=f[a],!0===m[n]&&(v.push(g[n]),y&&y.push(c[a]))}),b.push(v.length),new i({values:y,index:v,ptr:b,size:s,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();qb(n)?(i=n.size(),n=n.toArray()):i=gw(n);if(o){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==a.length&&2!==a.length)throw new hw(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,l=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)l++,s++;n=Dw(n,a.length,l,i)}if(!Cx(a,i))throw new hw(a,i,">");if(1===a.length){t.dimension(0).forEach(function(t,i){xw(t),e.set([t,0],n[i[0]],r)})}else{var u=t.dimension(0),c=t.dimension(1);u.forEach(function(t,i){xw(t),c.forEach(function(a,o){xw(a),e.set([t,a],n[i[0]][o[0]],r)})})}}return e}(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!Ub(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new hw(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];xw(t,this._size[0]),xw(n,this._size[1]);var r=o(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},i.prototype.set=function(e,r,i){if(!Ub(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new hw(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var a=e[0],u=e[1],c=this._size[0],f=this._size[1],d=n,p=0;Lb(this._datatype)&&(d=t.find(n,[this._datatype,this._datatype])||n,p=t.convert(0,this._datatype)),(a>c-1||u>f-1)&&(l(this,Math.max(a+1,c),Math.max(u+1,f),i),c=this._size[0],f=this._size[1]),xw(a,c),xw(u,f);var h=o(a,this._ptr[u],this._ptr[u+1],this._index);return h<this._ptr[u+1]&&this._index[h]===a?d(r,p)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(h,u,this._values,this._index,this._ptr):this._values[h]=r:d(r,p)||s(h,a,u,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,n){if(!$b(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach(function(e){if(!Fb(e)||!Ix(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+lw(r)+")")}),l(n?this.clone():this,r[0],r[1],t)},i.prototype.reshape=function(e,t){if(!Ub(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(t){if(!Fb(t)||!Ix(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+lw(e)+")")});var n=this._size[0]*this._size[1];if(n!==(e=Aw(e,n))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var i=[],a=0;a<r._ptr.length;a++)for(var l=0;l<r._ptr[a+1]-r._ptr[a];l++)i.push(a);for(var u=r._values.slice(),c=r._index.slice(),f=0;f<r._index.length;f++){var d=c[f],p=i[f],h=d*r._size[1]+p;i[f]=h%e[1],c[f]=Math.floor(h/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var g=0;g<u.length;g++){var y=c[g],v=i[g],b=u[g];s(o(y,r._ptr[v],r._ptr[v+1],r._index),y,v,b,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?Nx(this._values):void 0,index:Nx(this._index),ptr:Nx(this._ptr),size:Nx(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var a=this,o=this._size[0],s=this._size[1],l=yE(e);return function(e,r,a,o,s,l,u){var c=[],f=[],d=[],p=n,h=0;Lb(e._datatype)&&(p=t.find(n,[e._datatype,e._datatype])||n,h=t.convert(0,e._datatype));for(var m=function(e,t,n){e=l(e,t,n),p(e,h)||(c.push(e),f.push(t))},g=o;g<=s;g++){d.push(c.length);var y=e._ptr[g],v=e._ptr[g+1];if(u)for(var b=y;b<v;b++){var x=e._index[b];x>=r&&x<=a&&m(e._values[b],x-r,g-o)}else{for(var w={},N=y;N<v;N++){w[e._index[N]]=e._values[N]}for(var S=r;S<=a;S++){m(S in w?w[S]:0,S-r,g-o)}}}return d.push(c.length),new i({values:c,index:f,ptr:d,size:[a-r+1,s-o+1]})}(this,0,o-1,0,s-1,function(t,n,r){return 1===l?e(t):2===l?e(t,[n,r]):e(t,[n,r],a)},r)},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var a=this._ptr[i],o=this._ptr[i+1];if(t)for(var s=a;s<o;s++){var l=this._index[s];e(this._values[s],[l,i],this)}else{for(var u={},c=a;c<o;c++){u[this._index[c]]=this._values[c]}for(var f=0;f<n;f++){e(f in u?u[f]:0,[f,i],this)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var n=this._ptr[t],r=this._ptr[t+1],i=n;i<r;i++){var a=this._index[i];yield{value:this._values[i],index:[a,t]}}},i.prototype.toArray=function(){return u(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return u(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+lw(t,e)+" x "+lw(n,e)+"] density: "+lw(r,e)+"\n",a=0;a<n;a++)for(var o=this._ptr[a],s=this._ptr[a+1],l=o;l<s;l++){i+="\n    ("+lw(this._index[l],e)+", "+lw(a,e)+") ==> "+(this._values?lw(this._values[l],e):"X")}return i},i.prototype.toString=function(){return lw(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(Ib(e)&&(e=e.toNumber()),!Fb(e)||!Ix(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],a=this._size[1],o=Math.min(r-n,a-t),s=[],l=[],u=[];u[0]=0;for(var c=t;c<a&&s.length<o;c++)for(var f=this._ptr[c],d=this._ptr[c+1],p=f;p<d;p++){var h=this._index[p];if(h===c-t+n){s.push(this._values[p]),l[s.length-1]=h-n;break}}return u.push(s.length),new i({values:s,index:l,ptr:u,size:[o,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,r,a,o,s){if(!Ub(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(Ib(e)&&(e=e.toNumber()),!Fb(e)||!Ix(e)||e<1)throw new Error("Size values must be positive integers");return e}),a){if(Ib(a)&&(a=a.toNumber()),!Fb(a)||!Ix(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var l=n,u=0;Lb(s)&&(l=t.find(n,[s,s])||n,u=t.convert(0,s));var c,f=a>0?a:0,d=a<0?-a:0,p=e[0],h=e[1],m=Math.min(p-d,h-f);if(Ub(r)){if(r.length!==m)throw new Error("Invalid value array length");c=function(e){return r[e]}}else if(qb(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");c=function(e){return r.get([e])}}else c=function(){return r};for(var y=[],v=[],b=[],x=0;x<h;x++){b.push(y.length);var w=x-f;if(w>=0&&w<m){var N=c(w);l(N,u)||(v.push(w+d),y.push(N))}}return b.push(y.length),new i({values:y,index:v,ptr:b,size:[p,h]})},i.prototype.swapRows=function(e,t){if(!Fb(e)||!Ix(e)||!Fb(t)||!Ix(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return xw(e,this._size[0]),xw(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,n,r,i){for(var a=r[e],o=r[e+1],s=a;s<o;s++)i(n[s],t[s])},i._swapRows=function(e,t,n,r,i,a){for(var s=0;s<n;s++){var l=a[s],u=a[s+1],c=o(e,l,u,i),f=o(t,l,u,i);if(c<u&&f<u&&i[c]===e&&i[f]===t){if(r){var d=r[c];r[c]=r[f],r[f]=d}}else if(c<u&&i[c]===e&&(f>=u||i[f]!==t)){var p=r?r[c]:void 0;i.splice(f,0,t),r&&r.splice(f,0,p),i.splice(f<=c?c+1:c,1),r&&r.splice(f<=c?c+1:c,1)}else if(f<u&&i[f]===t&&(c>=u||i[c]!==e)){var h=r?r[f]:void 0;i.splice(c,0,e),r&&r.splice(c,0,h),i.splice(c<=f?f+1:f,1),r&&r.splice(c<=f?f+1:f,1)}}},i},{isClass:!0}));var eA=Tx("number",["typed"],e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=function(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:e,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(e);if(t)return function(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++)n+=parseInt(e.fractionalPart[r],e.radix)/Math.pow(e.radix,r+1);var i=t+n;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is no valid number');return i}(t);var n=0,r=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);r&&(n=Number(r[2]),e=r[1]);var i=Number(e);if(isNaN(i))throw new SyntaxError('String "'+e+'" is no valid number');if(r){if(i>2**n-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));i>=2**(n-1)&&(i-=2**n)}return i},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))});return n.fromJSON=function(e){return parseFloat(e.value)},n}),tA="string",nA=Tx(tA,["typed"],e=>{var{typed:t}=e;return t(tA,{"":function(){return""},number:Wx,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e)),any:function(e){return String(e)}})}),rA="boolean",iA=Tx(rA,["typed"],e=>{var{typed:t}=e;return t(rA,{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),aA=Tx("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var r=t[2],i=n(t[1]),a=new n(2).pow(Number(r));if(i.gt(a.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));var o=new n(2).pow(Number(r)-1);return i.gte(o)?i.sub(a):i}return new n(e)},BigNumber:function(e){return e},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),oA=Tx("complex",["typed","Complex"],e=>{var{typed:t,Complex:n}=e;return t("complex",{"":function(){return n.ZERO},number:function(e){return new n(e,0)},"number, number":function(e,t){return new n(e,t)},"BigNumber, BigNumber":function(e,t){return new n(e.toNumber(),t.toNumber())},Fraction:function(e){return new n(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return n(e)},null:function(e){return n(0)},Object:function(e){if("re"in e&&"im"in e)return new n(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new n(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),sA=Tx("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),Object:function(e){return new n(e)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),lA="matrix",uA=Tx(lA,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(lA,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,n){if("dense"===t||"default"===t||void 0===t)return new r(e,n);if("sparse"===t)return new i(e,n);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),cA="matrixFromFunction",fA=Tx(cA,["typed","matrix","isZero"],e=>{var{typed:t,matrix:n,isZero:r}=e;return t(cA,{"Array | Matrix, function, string, string":function(e,t,n,r){return i(e,t,n,r)},"Array | Matrix, function, string":function(e,t,n){return i(e,t,n)},"Matrix, function":function(e,t){return i(e,t,"dense")},"Array, function":function(e,t){return i(e,t,"dense").toArray()},"Array | Matrix, string, function":function(e,t,n){return i(e,n,t)},"Array | Matrix, string, string, function":function(e,t,n,r){return i(e,r,t,n)}});function i(e,t,i,a){var o;return(o=void 0!==a?n(i,a):n(i)).resize(e),o.forEach(function(e,n){var i=t(n);r(i)||o.set(n,i)}),o}}),dA="matrixFromRows",pA=Tx(dA,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:n,flatten:r,size:i}=e;return t(dA,{"...Array":function(e){return a(e)},"...Matrix":function(e){return n(a(e.map(e=>e.toArray())))}});function a(e){if(0===e.length)throw new TypeError("At least one row is needed to construct a matrix.");var t=o(e[0]),n=[];for(var i of e){var a=o(i);if(a!==t)throw new TypeError("The vectors had different length: "+(0|t)+" \u2260 "+(0|a));n.push(r(i))}return n}function o(e){var t=i(e);if(1===t.length)return t[0];if(2===t.length){if(1===t[0])return t[1];if(1===t[1])return t[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),hA="matrixFromColumns",mA=Tx(hA,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:n,flatten:r,size:i}=e;return t(hA,{"...Array":function(e){return a(e)},"...Matrix":function(e){return n(a(e.map(e=>e.toArray())))}});function a(e){if(0===e.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var t=o(e[0]),n=[],i=0;i<t;i++)n[i]=[];for(var a of e){var s=o(a);if(s!==t)throw new TypeError("The vectors had different length: "+(0|t)+" \u2260 "+(0|s));for(var l=r(a),u=0;u<t;u++)n[u].push(l[u])}return n}function o(e){var t=i(e);if(1===t.length)return t[0];if(2===t.length){if(1===t[0])return t[1];if(1===t[1])return t[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),gA="splitUnit",yA=Tx(gA,["typed"],e=>{var{typed:t}=e;return t(gA,{"Unit, Array":function(e,t){return e.splitUnit(t)}})}),vA="number",bA="number, number";function xA(e){return Math.abs(e)}function wA(e,t){return e+t}function NA(e,t){return e-t}function SA(e,t){return e*t}function EA(e){return-e}function AA(e){return e}function CA(e){return Ux(e)}function kA(e){return e*e*e}function _A(e){return Math.exp(e)}function DA(e){return qx(e)}function OA(e,t){if(!Ix(e)||!Ix(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function jA(e){return zx(e)}function MA(e){return Rx(e)}function TA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function PA(e){return Bx(e)}function FA(e){return e*e}function IA(e,t){var n,r,i,a=0,o=1,s=1,l=0;if(!Ix(e)||!Ix(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=a,a=o-r*a,o=n,n=s,s=l-r*s,l=n,e=t,t=i;return e<0?[-e,-o,-l]:[e,e?o:0,l]}function BA(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function RA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Ix(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Kx(e,t))}xA.signature=vA,wA.signature=bA,NA.signature=bA,SA.signature=bA,EA.signature=vA,AA.signature=vA,CA.signature=vA,kA.signature=vA,_A.signature=vA,DA.signature=vA,OA.signature=bA,jA.signature=vA,MA.signature=vA,PA.signature=vA,FA.signature=vA,IA.signature=bA,BA.signature=bA;var zA="unaryMinus",LA=Tx(zA,["typed"],e=>{var{typed:t}=e;return t(zA,{number:EA,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:t.referToSelf(e=>n=>{var r=n.clone();return r.value=t.find(e,r.valueType())(n.value),r}),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0))})}),UA="unaryPlus",qA=Tx(UA,["typed","config","BigNumber"],e=>{var{typed:t,config:n,BigNumber:r}=e;return t(UA,{number:AA,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0)),"boolean | string":function(e){return"BigNumber"===n.number?new r(+e):+e}})}),$A=Tx("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:xA,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0))})}),WA="apply",HA=Tx(WA,["typed","isInteger"],e=>{var{typed:t,isInteger:n}=e;return t(WA,{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!n(t))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?gw(e):e.size();if(t<0||t>=i.length)throw new mw(t,i.length);return qb(e)?e.create(KA(e.valueOf(),t,r)):KA(e,t,r)}})});function KA(e,t,n){var r,i,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,n,r=e.length,i=e[0].length,a=[];for(n=0;n<i;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);a.push(o)}return a}(e),i=[],r=0;r<a.length;r++)i[r]=KA(a[r],t-1,n);return i}return n(e)}for(i=[],r=0;r<e.length;r++)i[r]=KA(e[r],t-1,n);return i}var VA="addScalar",YA=Tx(VA,["typed"],e=>{var{typed:t}=e;return t(VA,{"number, number":wA,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(e,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i})})}),GA="subtractScalar",XA=Tx(GA,["typed"],e=>{var{typed:t}=e;return t(GA,{"number, number":NA,"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(e,[i.valueType(),r.valueType()])(i.value,r.value),i.fixPrefix=!1,i})})}),JA="cbrt",ZA=Tx(JA,["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],e=>{var{config:t,typed:n,isNegative:r,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:l}=e;return n(JA,{number:CA,Complex:u,"Complex, boolean":u,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&Bb(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=u(e.value),t}var n,a=r(e.value);a&&(e.value=i(e.value)),n=Ib(e.value)?new s(1).div(3):Rb(e.value)?new l(1,3):1/3;var o=e.pow(n);return a&&(o.value=i(o.value)),o}});function u(e,n){var r=e.arg()/3,i=e.abs(),s=new o(CA(i),0).mul(new o(0,r).exp());if(n){var l=[s,new o(CA(i),0).mul(new o(0,r+2*Math.PI/3).exp()),new o(CA(i),0).mul(new o(0,r-2*Math.PI/3).exp())];return"Array"===t.matrix?l:a(l)}return s}}),QA=Tx("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=u[0],p=u[1],h=n,m=0,g=i;"string"===typeof c&&(f=c,h=t.find(n,[f,f]),m=t.convert(0,f),r=t.convert(r,f),g=t.find(i,[f,f]));for(var y=[],v=[],b=[],x=0;x<p;x++){b[x]=v.length;for(var w=l[x],N=l[x+1],S=w;S<N;S++){var E=s[S],A=a?g(r,o[S]):g(o[S],r);h(A,m)||(v.push(E),y.push(A))}}return b[p]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[d,p],datatype:f})}}),eC=Tx("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=u[0],p=u[1],h=i;"string"===typeof c&&(f=c,r=t.convert(r,f),h=t.find(i,[f,f]));for(var m=[],g=[],y=[],v=0;v<p;v++){for(var b=v+1,x=l[v],w=l[v+1],N=x;N<w;N++){var S=s[N];g[S]=o[N],y[S]=b}for(var E=0;E<d;E++)0===v&&(m[E]=[]),y[E]===b?m[E][v]=a?h(r,g[E]):h(g[E],r):m[E][v]=a?h(r,0):h(0,r)}return new n({data:m,size:[d,p],datatype:f})}}),tC=Tx("matAlgo14xDs",["typed"],e=>{var{typed:t}=e;return function(e,r,i,a){var o,s=e._data,l=e._size,u=e._datatype,c=i;"string"===typeof u&&(o=u,r=t.convert(r,o),c=t.find(i,[o,o]));var f=l.length>0?n(c,0,l,l[0],s,r,a):[];return e.createDenseMatrix({data:f,size:Nx(l),datatype:o})};function n(e,t,r,i,a,o,s){var l=[];if(t===r.length-1)for(var u=0;u<i;u++)l[u]=s?e(o,a[u]):e(a[u],o);else for(var c=0;c<i;c++)l[c]=n(e,t+1,r,r[t+1],a[c],o,s);return l}}),nC="ceil",rC=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],iC=Tx(nC,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(nC,{number:function(e){return Jx(e,r(e),n.epsilon)?r(e):Math.ceil(e)},"number, number":function(e,t){if(Jx(e,r(e,t),n.epsilon))return r(e,t);var[i,a]="".concat(e,"e").split("e"),o=Math.ceil(Number("".concat(i,"e").concat(Number(a)+t)));return[i,a]="".concat(o,"e").split("e"),Number("".concat(i,"e").concat(Number(a)-t))}})}),aC=Tx(nC,rC,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,l=QA({typed:t,equalScalar:a}),u=eC({typed:t,DenseMatrix:s}),c=tC({typed:t}),f=iC({typed:t,config:n,round:r});return t("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},"Complex, BigNumber":function(e,t){return e.ceil(t.toNumber())},BigNumber:function(e){return GE(e,r(e),n.epsilon)?r(e):e.ceil()},"BigNumber, BigNumber":function(e,t){return GE(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),eE.ROUND_CEIL)},Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Fraction, BigNumber":function(e,t){return e.ceil(t.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,n)=>EE(t,t=>e(t,n),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>l(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>c(t,n,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,n)=>c(i(n),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,n)=>a(t,0)?o(n.size(),n.storage()):"dense"===n.storage()?c(n,t,e,!0):u(n,t,e,!0))})}),oC="cube",sC=Tx(oC,["typed"],e=>{var{typed:t}=e;return t(oC,{number:kA,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},Unit:function(e){return e.pow(3)}})}),lC=Tx("exp",["typed"],e=>{var{typed:t}=e;return t("exp",{number:_A,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()}})}),uC="expm1",cC=Tx(uC,["typed","Complex"],e=>{var{typed:t,Complex:n}=e;return t(uC,{number:DA,Complex:function(e){var t=Math.exp(e.re);return new n(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)}})}),fC="fix",dC=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],pC=Tx(fC,["typed","ceil","floor"],e=>{var{typed:t,ceil:n,floor:r}=e;return t(fC,{number:function(e){return e>0?r(e):n(e)},"number, number":function(e,t){return e>0?r(e,t):n(e,t)}})}),hC=Tx(fC,dC,e=>{var{typed:t,Complex:n,matrix:r,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=e,u=eC({typed:t,DenseMatrix:l}),c=tC({typed:t}),f=pC({typed:t,ceil:i,floor:a});return t("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(e){return new n(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number":function(e,t){return new n(e.re>0?a(e.re,t):i(e.re,t),e.im>0?a(e.im,t):i(e.im,t))},"Complex, BigNumber":function(e,t){var r=t.toNumber();return new n(e.re>0?a(e.re,r):i(e.re,r),e.im>0?a(e.im,r):i(e.im,r))},BigNumber:function(e){return e.isNegative()?i(e):a(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?i(e,t):a(e,t)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0?i(e,t):a(e,t)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(e=>(t,n)=>EE(t,t=>e(t,n),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,n)=>c(r(n),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,n)=>o(t,0)?s(n.size(),n.storage()):"dense"===n.storage()?c(n,t,e,!0):u(n,t,e,!0))})}),mC="floor",gC=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],yC=Tx(mC,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(mC,{number:function(e){return Jx(e,r(e),n.epsilon)?r(e):Math.floor(e)},"number, number":function(e,t){if(Jx(e,r(e,t),n.epsilon))return r(e,t);var[i,a]="".concat(e,"e").split("e"),o=Math.floor(Number("".concat(i,"e").concat(Number(a)+t)));return[i,a]="".concat(o,"e").split("e"),Number("".concat(i,"e").concat(Number(a)-t))}})}),vC=Tx(mC,gC,e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,l=QA({typed:t,equalScalar:a}),u=eC({typed:t,DenseMatrix:s}),c=tC({typed:t}),f=yC({typed:t,config:n,round:r});return t("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},"Complex, BigNumber":function(e,t){return e.floor(t.toNumber())},BigNumber:function(e){return GE(e,r(e),n.epsilon)?r(e):e.floor()},"BigNumber, BigNumber":function(e,t){return GE(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),eE.ROUND_FLOOR)},Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Fraction, BigNumber":function(e,t){return e.floor(t.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,n)=>EE(t,t=>e(t,n),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>l(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>c(t,n,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,n)=>c(i(n),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,n)=>a(t,0)?o(n.size(),n.storage()):"dense"===n.storage()?c(n,t,e,!0):u(n,t,e,!0))})}),bC=Tx("matAlgo02xDS0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i,a){var o=e._data,s=e._size,l=e._datatype,u=r._values,c=r._index,f=r._ptr,d=r._size,p=r._datatype;if(s.length!==d.length)throw new hw(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,m=s[0],g=s[1],y=n,v=0,b=i;"string"===typeof l&&l===p&&(h=l,y=t.find(n,[h,h]),v=t.convert(0,h),b=t.find(i,[h,h]));for(var x=[],w=[],N=[],S=0;S<g;S++){N[S]=w.length;for(var E=f[S],A=f[S+1],C=E;C<A;C++){var k=c[C],_=a?b(u[C],o[k][S]):b(o[k][S],u[C]);y(_,v)||(w.push(k),x.push(_))}}return N[g]=w.length,r.createSparseMatrix({values:x,index:w,ptr:N,size:[m,g],datatype:h})}}),xC=Tx("matAlgo03xDSf",["typed"],e=>{var{typed:t}=e;return function(e,n,r,i){var a=e._data,o=e._size,s=e._datatype,l=n._values,u=n._index,c=n._ptr,f=n._size,d=n._datatype;if(o.length!==f.length)throw new hw(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,h=o[0],m=o[1],g=0,y=r;"string"===typeof s&&s===d&&(p=s,g=t.convert(0,p),y=t.find(r,[p,p]));for(var v=[],b=0;b<h;b++)v[b]=[];for(var x=[],w=[],N=0;N<m;N++){for(var S=N+1,E=c[N],A=c[N+1],C=E;C<A;C++){var k=u[C];x[k]=i?y(l[C],a[k][N]):y(a[k][N],l[C]),w[k]=S}for(var _=0;_<h;_++)w[_]===S?v[_][N]=x[_]:v[_][N]=i?y(g,a[_][N]):y(a[_][N],g)}return e.createDenseMatrix({data:v,size:[h,m],datatype:p})}}),wC=Tx("matAlgo05xSfSf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new hw(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var m,g=l[0],y=l[1],v=n,b=0,x=i;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var w,N,S,E,A=a&&c?[]:void 0,C=[],k=[],_=A?[]:void 0,D=A?[]:void 0,O=[],j=[];for(N=0;N<y;N++){k[N]=C.length;var M=N+1;for(S=s[N],E=s[N+1];S<E;S++)w=o[S],C.push(w),O[w]=M,_&&(_[w]=a[S]);for(S=d[N],E=d[N+1];S<E;S++)O[w=f[S]]!==M&&C.push(w),j[w]=M,D&&(D[w]=c[S]);if(A)for(S=k[N];S<C.length;){var T=O[w=C[S]],P=j[w];if(T===M||P===M){var F=x(T===M?_[w]:b,P===M?D[w]:b);v(F,b)?C.splice(S,1):(A.push(F),S++)}}}return k[y]=C.length,e.createSparseMatrix({values:A,index:C,ptr:k,size:[g,y],datatype:m})}}),NC=Tx("matAlgo13xDD",["typed"],e=>{var{typed:t}=e;return function(e,r,i){var a,o=e._data,s=e._size,l=e._datatype,u=r._data,c=r._size,f=r._datatype,d=[];if(s.length!==c.length)throw new hw(s.length,c.length);for(var p=0;p<s.length;p++){if(s[p]!==c[p])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");d[p]=s[p]}var h=i;"string"===typeof l&&l===f&&(a=l,h=t.find(i,[a,a]));var m=d.length>0?n(h,0,d,d[0],o,u):[];return e.createDenseMatrix({data:m,size:d,datatype:a})};function n(e,t,r,i,a,o){var s=[];if(t===r.length-1)for(var l=0;l<i;l++)s[l]=e(a[l],o[l]);else for(var u=0;u<i;u++)s[u]=n(e,t+1,r,r[t+1],a[u],o[u]);return s}}),SC=Tx("broadcast",["concat"],e=>{var{concat:t}=e;return function(e,t){var i=Math.max(e._size.length,t._size.length);if(e._size.length===t._size.length&&e._size.every((e,n)=>e===t._size[n]))return[e,t];for(var a=n(e._size,i,0),o=n(t._size,i,0),s=[],l=0;l<i;l++)s[l]=Math.max(a[l],o[l]);Ww(a,s),Ww(o,s);var u=e.clone(),c=t.clone();u._size.length<i?u.reshape(n(u._size,i,1)):c._size.length<i&&c.reshape(n(c._size,i,1));for(var f=0;f<i;f++)u._size[f]<s[f]&&(u=r(u,s[f],f)),c._size[f]<s[f]&&(c=r(c,s[f],f));return[u,c]};function n(e,t,n){return[...Array(t-e.length).fill(n),...e]}function r(e,n,r){return t(...Array(n).fill(e),r)}}),EC=Tx("matrixAlgorithmSuite",["typed","matrix","concat"],e=>{var{typed:t,matrix:n,concat:r}=e,i=NC({typed:t}),a=tC({typed:t}),o=SC({concat:r});return function(e){var r,s=e.elop,l=e.SD||e.DS;s?(r={"DenseMatrix, DenseMatrix":(e,t)=>i(...o(e,t),s),"Array, Array":(e,t)=>i(...o(n(e),n(t)),s).valueOf(),"Array, DenseMatrix":(e,t)=>i(...o(n(e),t),s),"DenseMatrix, Array":(e,t)=>i(...o(e,n(t)),s)},e.SS&&(r["SparseMatrix, SparseMatrix"]=(t,n)=>e.SS(...o(t,n),s,!1)),e.DS&&(r["DenseMatrix, SparseMatrix"]=(t,n)=>e.DS(...o(t,n),s,!1),r["Array, SparseMatrix"]=(t,r)=>e.DS(...o(n(t),r),s,!1)),l&&(r["SparseMatrix, DenseMatrix"]=(e,t)=>l(...o(t,e),s,!0),r["SparseMatrix, Array"]=(e,t)=>l(...o(n(t),e),s,!0))):(r={"DenseMatrix, DenseMatrix":t.referToSelf(e=>(t,n)=>i(...o(t,n),e)),"Array, Array":t.referToSelf(e=>(t,r)=>i(...o(n(t),n(r)),e).valueOf()),"Array, DenseMatrix":t.referToSelf(e=>(t,r)=>i(...o(n(t),r),e)),"DenseMatrix, Array":t.referToSelf(e=>(t,r)=>i(...o(t,n(r)),e))},e.SS&&(r["SparseMatrix, SparseMatrix"]=t.referToSelf(t=>(n,r)=>e.SS(...o(n,r),t,!1))),e.DS&&(r["DenseMatrix, SparseMatrix"]=t.referToSelf(t=>(n,r)=>e.DS(...o(n,r),t,!1)),r["Array, SparseMatrix"]=t.referToSelf(t=>(r,i)=>e.DS(...o(n(r),i),t,!1))),l&&(r["SparseMatrix, DenseMatrix"]=t.referToSelf(e=>(t,n)=>l(...o(n,t),e,!0)),r["SparseMatrix, Array"]=t.referToSelf(e=>(t,r)=>l(...o(n(r),t),e,!0))));var u=e.scalar||"any";(e.Ds||e.Ss)&&(s?(r["DenseMatrix,"+u]=(e,t)=>a(e,t,s,!1),r[u+", DenseMatrix"]=(e,t)=>a(t,e,s,!0),r["Array,"+u]=(e,t)=>a(n(e),t,s,!1).valueOf(),r[u+", Array"]=(e,t)=>a(n(t),e,s,!0).valueOf()):(r["DenseMatrix,"+u]=t.referToSelf(e=>(t,n)=>a(t,n,e,!1)),r[u+", DenseMatrix"]=t.referToSelf(e=>(t,n)=>a(n,t,e,!0)),r["Array,"+u]=t.referToSelf(e=>(t,r)=>a(n(t),r,e,!1).valueOf()),r[u+", Array"]=t.referToSelf(e=>(t,r)=>a(n(r),t,e,!0).valueOf())));var c=void 0!==e.sS?e.sS:e.Ss;return s?(e.Ss&&(r["SparseMatrix,"+u]=(t,n)=>e.Ss(t,n,s,!1)),c&&(r[u+", SparseMatrix"]=(e,t)=>c(t,e,s,!0))):(e.Ss&&(r["SparseMatrix,"+u]=t.referToSelf(t=>(n,r)=>e.Ss(n,r,t,!1))),c&&(r[u+", SparseMatrix"]=t.referToSelf(e=>(t,n)=>c(n,t,e,!0)))),s&&s.signatures&&Ex(r,s.signatures),r}}),AC=Tx("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}=e,u=vC({typed:t,config:n,round:r,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),c=bC({typed:t,equalScalar:a}),f=xC({typed:t}),d=wC({typed:t,equalScalar:a}),p=QA({typed:t,equalScalar:a}),h=eC({typed:t,DenseMatrix:s});return t("mod",{"number, number":function(e,t){return 0===t?e:e-t*u(e/t)},"BigNumber, BigNumber":function(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t)}},EC({typed:t,matrix:i,concat:l})({SS:d,DS:f,SD:c,Ss:p,sS:h}))}),CC=Tx("matAlgo01xDSid",["typed"],e=>{var{typed:t}=e;return function(e,n,r,i){var a=e._data,o=e._size,s=e._datatype,l=n._values,u=n._index,c=n._ptr,f=n._size,d=n._datatype;if(o.length!==f.length)throw new hw(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,h,m=o[0],g=o[1],y="string"===typeof s&&s===d?s:void 0,v=y?t.find(r,[y,y]):r,b=[];for(p=0;p<m;p++)b[p]=[];var x=[],w=[];for(h=0;h<g;h++){for(var N=h+1,S=c[h],E=c[h+1],A=S;A<E;A++)x[p=u[A]]=i?v(l[A],a[p][h]):v(a[p][h],l[A]),w[p]=N;for(p=0;p<m;p++)w[p]===N?b[p][h]=x[p]:b[p][h]=a[p][h]}return e.createDenseMatrix({data:b,size:[m,g],datatype:y})}}),kC=Tx("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new hw(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var m,g=l[0],y=l[1],v=n,b=0,x=i;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var w,N,S,E,A,C=a&&c?[]:void 0,k=[],_=[],D=a&&c?[]:void 0,O=a&&c?[]:void 0,j=[],M=[];for(N=0;N<y;N++){_[N]=k.length;var T=N+1;for(E=s[N],A=s[N+1],S=E;S<A;S++)w=o[S],k.push(w),j[w]=T,D&&(D[w]=a[S]);for(E=d[N],A=d[N+1],S=E;S<A;S++)if(j[w=f[S]]===T){if(D){var P=x(D[w],c[S]);v(P,b)?j[w]=null:D[w]=P}}else k.push(w),M[w]=T,O&&(O[w]=c[S]);if(D&&O)for(S=_[N];S<k.length;)j[w=k[S]]===T?(C[S]=D[w],S++):M[w]===T?(C[S]=O[w],S++):k.splice(S,1)}return _[y]=k.length,e.createSparseMatrix({values:C,index:k,ptr:_,size:[g,y],datatype:m})}}),_C=Tx("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,i,a){var o=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=u[0],p=u[1],h=i;"string"===typeof c&&(f=c,r=t.convert(r,f),h=t.find(i,[f,f]));for(var m=[],g=[],y=[],v=0;v<p;v++){for(var b=v+1,x=l[v],w=l[v+1],N=x;N<w;N++){var S=s[N];g[S]=o[N],y[S]=b}for(var E=0;E<d;E++)0===v&&(m[E]=[]),y[E]===b?m[E][v]=a?h(r,g[E]):h(g[E],r):m[E][v]=r}return new n({data:m,size:[d,p],datatype:f})}}),DC=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],OC="number | BigNumber | Fraction | Matrix | Array",jC="".concat(OC,", ").concat(OC,", ...").concat(OC);function MC(e){return!e.some(e=>Array.isArray(e))}var TC=Tx("gcd",DC,e=>{var{typed:t,matrix:n,config:r,round:i,equalScalar:a,zeros:o,BigNumber:s,DenseMatrix:l,concat:u}=e,c=AC({typed:t,config:r,round:i,matrix:n,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}),f=CC({typed:t}),d=kC({typed:t,equalScalar:a}),p=_C({typed:t,DenseMatrix:l});return t("gcd",{"number, number":function(e,t){if(!Ix(e)||!Ix(t))throw new Error("Parameters in function gcd must be integer numbers");var n;for(;0!==t;)n=c(e,t),e=t,t=n;return e<0?-e:e},"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var n=new s(0);for(;!t.isZero();){var r=c(e,t);e=t,t=r}return e.lt(n)?e.neg():e},"Fraction, Fraction":(e,t)=>e.gcd(t)},EC({typed:t,matrix:n,concat:u})({SS:d,DS:f,Ss:p}),{[jC]:t.referToSelf(e=>(t,n,r)=>{for(var i=e(t,n),a=0;a<r.length;a++)i=e(i,r[a]);return i}),Array:t.referToSelf(e=>t=>{if(1===t.length&&Array.isArray(t[0])&&MC(t[0]))return e(...t[0]);if(MC(t))return e(...t);throw new Vw("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(e=>t=>e(t.toArray()))})}),PC=Tx("matAlgo06xS0S0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._size,s=e._datatype,l=r._values,u=r._size,c=r._datatype;if(o.length!==u.length)throw new hw(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var f,d=o[0],p=o[1],h=n,m=0,g=i;"string"===typeof s&&s===c&&(f=s,h=t.find(n,[f,f]),m=t.convert(0,f),g=t.find(i,[f,f]));for(var y=a&&l?[]:void 0,v=[],b=[],x=y?[]:void 0,w=[],N=[],S=0;S<p;S++){b[S]=v.length;var E=S+1;if(kE(e,S,w,x,N,E,v,g),kE(r,S,w,x,N,E,v,g),x)for(var A=b[S];A<v.length;){var C=v[A];if(N[C]===E){var k=x[C];h(k,m)?v.splice(A,1):(y.push(k),A++)}else v.splice(A,1)}else for(var _=b[S];_<v.length;){N[v[_]]!==E?v.splice(_,1):_++}}return b[p]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[d,p],datatype:f})}}),FC=Tx("lcm",["typed","matrix","equalScalar","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,concat:i}=e,a=bC({typed:t,equalScalar:r}),o=PC({typed:t,equalScalar:r}),s=QA({typed:t,equalScalar:r}),l=EC({typed:t,matrix:n,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=t.referToSelf(e=>(t,n,r)=>{for(var i=e(t,n),a=0;a<r.length;a++)i=e(i,r[a]);return i}),t("lcm",{"number, number":OA,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var n=e.times(t);for(;!t.isZero();){var r=t;t=e.mod(r),e=r}return n.div(e).abs()},"Fraction, Fraction":(e,t)=>e.lcm(t)},l({SS:o,DS:a,Ss:s}),c)}),IC="log10",BC=Tx(IC,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(IC,{number:function(e){return e>=0||n.predictable?jA(e):new r(e,0).log().div(Math.LN10)},Complex:function(e){return new r(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||n.predictable?e.log():new r(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),RC="log2",zC=Tx(RC,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(RC,{number:function(e){return e>=0||n.predictable?MA(e):i(new r(e,0))},Complex:i,BigNumber:function(e){return!e.isNegative()||n.predictable?e.log(2):i(new r(e.toNumber(),0))},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))});function i(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new r(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}}),LC=Tx("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":SA,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})}),UC="multiply",qC=Tx(UC,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:a,dot:o}=e,s=QA({typed:t,equalScalar:a}),l=tC({typed:t});function u(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function c(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var a,o=e._data,s=e._size,l=e._datatype,u=n._data,c=n._size,f=n._datatype,d=s[0],p=c[1],h=r,m=i;l&&f&&l===f&&"string"===typeof l&&(a=l,h=t.find(r,[a,a]),m=t.find(i,[a,a]));for(var g=[],y=0;y<p;y++){for(var v=m(o[0],u[0][y]),b=1;b<d;b++)v=h(v,m(o[b],u[b][y]));g[y]=v}return e.createDenseMatrix({data:g,size:[p],datatype:a})}(e,n)}var f=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var a,o=e._data,s=e._size,l=e._datatype,u=n._data,c=n._datatype,f=s[0],d=s[1],p=r,h=i;l&&c&&l===c&&"string"===typeof l&&(a=l,p=t.find(r,[a,a]),h=t.find(i,[a,a]));for(var m=[],g=0;g<f;g++){for(var y=o[g],v=h(y[0],u[0]),b=1;b<d;b++)v=p(v,h(y[b],u[b]));m[g]=v}return e.createDenseMatrix({data:m,size:[f],datatype:a})},"SparseMatrix, any":function(e,n){var o=e._values,s=e._index,l=e._ptr,u=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,d=n._datatype,p=e._size[0],h=n._size[0],m=[],g=[],y=[],v=r,b=i,x=a,w=0;u&&d&&u===d&&"string"===typeof u&&(c=u,v=t.find(r,[c,c]),b=t.find(i,[c,c]),x=t.find(a,[c,c]),w=t.convert(0,c));var N=[],S=[];y[0]=0;for(var E=0;E<h;E++){var A=f[E];if(!x(A,w))for(var C=l[E],k=l[E+1],_=C;_<k;_++){var D=s[_];S[D]?N[D]=v(N[D],b(A,o[_])):(S[D]=!0,g.push(D),N[D]=b(A,o[_]))}}for(var O=g.length,j=0;j<O;j++){var M=g[j];m[j]=N[M]}return y[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[p,1],datatype:c})}}),d=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var a,o=e._data,s=e._size,l=e._datatype,u=n._data,c=n._size,f=n._datatype,d=s[0],p=s[1],h=c[1],m=r,g=i;l&&f&&l===f&&"string"===typeof l&&(a=l,m=t.find(r,[a,a]),g=t.find(i,[a,a]));for(var y=[],v=0;v<d;v++){var b=o[v];y[v]=[];for(var x=0;x<h;x++){for(var w=g(b[0],u[0][x]),N=1;N<p;N++)w=m(w,g(b[N],u[N][x]));y[v][x]=w}}return e.createDenseMatrix({data:y,size:[d,h],datatype:a})},"DenseMatrix, SparseMatrix":function(e,n){var o=e._data,s=e._size,l=e._datatype,u=n._values,c=n._index,f=n._ptr,d=n._size,p=n._datatype;if(!u)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var h,m=s[0],g=d[1],y=r,v=i,b=a,x=0;l&&p&&l===p&&"string"===typeof l&&(h=l,y=t.find(r,[h,h]),v=t.find(i,[h,h]),b=t.find(a,[h,h]),x=t.convert(0,h));for(var w=[],N=[],S=[],E=n.createSparseMatrix({values:w,index:N,ptr:S,size:[m,g],datatype:h}),A=0;A<g;A++){S[A]=N.length;var C=f[A],k=f[A+1];if(k>C)for(var _=0,D=0;D<m;D++){for(var O=D+1,j=void 0,M=C;M<k;M++){var T=c[M];_!==O?(j=v(o[D][T],u[M]),_=O):j=y(j,v(o[D][T],u[M]))}_!==O||b(j,x)||(N.push(D),w.push(j))}}return S[g]=N.length,E},"SparseMatrix, DenseMatrix":function(e,n){var o=e._values,s=e._index,l=e._ptr,u=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,d=n._datatype,p=e._size[0],h=n._size[0],m=n._size[1],g=r,y=i,v=a,b=0;u&&d&&u===d&&"string"===typeof u&&(c=u,g=t.find(r,[c,c]),y=t.find(i,[c,c]),v=t.find(a,[c,c]),b=t.convert(0,c));for(var x=[],w=[],N=[],S=e.createSparseMatrix({values:x,index:w,ptr:N,size:[p,m],datatype:c}),E=[],A=[],C=0;C<m;C++){N[C]=w.length;for(var k=C+1,_=0;_<h;_++){var D=f[_][C];if(!v(D,b))for(var O=l[_],j=l[_+1],M=O;M<j;M++){var T=s[M];A[T]!==k?(A[T]=k,w.push(T),E[T]=y(D,o[M])):E[T]=g(E[T],y(D,o[M]))}}for(var P=N[C],F=w.length,I=P;I<F;I++){var B=w[I];x[I]=E[B]}}return N[m]=w.length,S},"SparseMatrix, SparseMatrix":function(e,n){var a,o=e._values,s=e._index,l=e._ptr,u=e._datatype,c=n._values,f=n._index,d=n._ptr,p=n._datatype,h=e._size[0],m=n._size[1],g=o&&c,y=r,v=i;u&&p&&u===p&&"string"===typeof u&&(a=u,y=t.find(r,[a,a]),v=t.find(i,[a,a]));for(var b,x,w,N,S,E,A,C,k=g?[]:void 0,_=[],D=[],O=e.createSparseMatrix({values:k,index:_,ptr:D,size:[h,m],datatype:a}),j=g?[]:void 0,M=[],T=0;T<m;T++){D[T]=_.length;var P=T+1;for(S=d[T],E=d[T+1],N=S;N<E;N++)if(C=f[N],g)for(x=l[C],w=l[C+1],b=x;b<w;b++)M[A=s[b]]!==P?(M[A]=P,_.push(A),j[A]=v(c[N],o[b])):j[A]=y(j[A],v(c[N],o[b]));else for(x=l[C],w=l[C+1],b=x;b<w;b++)M[A=s[b]]!==P&&(M[A]=P,_.push(A));if(g)for(var F=D[T],I=_.length,B=F;B<I;B++){var R=_[B];k[B]=j[R]}}return D[m]=_.length,O}});return t(UC,i,{"Array, Array":t.referTo("Matrix, Matrix",e=>(t,r)=>{u(gw(t),gw(r));var i=e(n(t),n(r));return qb(i)?i.valueOf():i}),"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return u(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,n[0]):c(e,t):1===r.length?f(e,t):d(e,t)},"Matrix, Array":t.referTo("Matrix,Matrix",e=>(t,r)=>e(t,n(r))),"Array, Matrix":t.referToSelf(e=>(t,r)=>e(n(t,r.storage()),r)),"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return l(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return l(t,e,i,!0)},"Array, any":function(e,t){return l(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(e=>(t,n,r)=>{for(var i=e(t,n),a=0;a<r.length;a++)i=e(i,r[a]);return i})})}),$C="nthRoot",WC=Tx($C,["typed","matrix","equalScalar","BigNumber","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i,concat:a}=e,o=CC({typed:t}),s=bC({typed:t,equalScalar:r}),l=PC({typed:t,equalScalar:r}),u=QA({typed:t,equalScalar:r}),c=EC({typed:t,matrix:n,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t($C,{number:TA,"number, number":TA,BigNumber:e=>d(e,new i(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:t.referTo("DenseMatrix,number",e=>t=>e(n(t),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",e=>t=>e(t,2)),SparseMatrix:t.referTo("SparseMatrix,number",e=>t=>e(t,2)),"SparseMatrix, SparseMatrix":t.referToSelf(e=>(t,n)=>{if(1===n.density())return l(t,n,e);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(e=>(t,n)=>{if(1===n.density())return o(t,n,e,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",e=>(t,r)=>e(n(t),r)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>{if(1===n.density())return u(n,t,e,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function d(e,t){var n=i.precision,r=i.clone({precision:n+2}),a=new i(0),o=new r(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new r(1/0):0;if(!e.isFinite())return s?a:e;var l=e.abs().pow(o.div(t));return l=e.isNeg()?l.neg():l,new i((s?o.div(l):l).toPrecision(n))}}),HC="sign",KC=Tx(HC,["typed","BigNumber","Fraction","complex"],e=>{var{typed:t,BigNumber:n,complex:r,Fraction:i}=e;return t(HC,{number:PA,Complex:function(e){return 0===e.im?r(PA(e.re)):e.sign()},BigNumber:function(e){return new n(e.cmp(0))},Fraction:function(e){return new i(e.s,1)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0)),Unit:t.referToSelf(e=>n=>{if(!n._isDerived()&&0!==n.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return t.find(e,n.valueType())(n.value)})})}),VC=Tx("sqrt",["config","typed","Complex"],e=>{var{config:t,typed:n,Complex:r}=e;return n("sqrt",{number:i,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():i(e.toNumber())},Unit:function(e){return e.pow(.5)}});function i(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new r(e,0).sqrt()}}),YC="square",GC=Tx(YC,["typed"],e=>{var{typed:t}=e;return t(YC,{number:FA,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},Unit:function(e){return e.pow(2)}})}),XC="subtract",JC=Tx(XC,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=e,l=CC({typed:t}),u=xC({typed:t}),c=wC({typed:t,equalScalar:r}),f=_C({typed:t,DenseMatrix:o}),d=eC({typed:t,DenseMatrix:o}),p=EC({typed:t,matrix:n,concat:s});return t(XC,{"any, any":i},p({elop:i,SS:c,DS:l,SD:u,Ss:d,sS:f}))}),ZC="xgcd",QC=Tx(ZC,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(ZC,{"number, number":function(e,t){var i=IA(e,t);return"Array"===n.matrix?i:r(i)},"BigNumber, BigNumber":function(e,t){var a,o,s,l,u=new i(0),c=new i(1),f=u,d=c,p=c,h=u;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),s=e.mod(t),a=f,f=d.minus(o.times(f)),d=a,a=p,p=h.minus(o.times(p)),h=a,e=t,t=s;l=e.lt(u)?[e.neg(),d.neg(),h.neg()]:[e,e.isZero()?0:d,h];return"Array"===n.matrix?l:r(l)}})}),ek="invmod",tk=Tx(ek,["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],e=>{var{typed:t,config:n,BigNumber:r,xgcd:i,equal:a,smaller:o,mod:s,add:l,isInteger:u}=e;return t(ek,{"number, number":c,"BigNumber, BigNumber":c});function c(e,t){if(!u(e)||!u(t))throw new Error("Parameters in function invmod must be integer numbers");if(e=s(e,t),a(t,0))throw new Error("Divisor must be non zero");var n=i(e,t);n=n.valueOf();var[c,f]=n;return a(c,r(1))?(f=s(f,t),o(f,r(0))&&(f=l(f,t)),f):NaN}}),nk=Tx("matAlgo09xS0Sf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new hw(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var m,g=l[0],y=l[1],v=n,b=0,x=i;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var w,N,S,E,A,C=a&&c?[]:void 0,k=[],_=[],D=C?[]:void 0,O=[];for(N=0;N<y;N++){_[N]=k.length;var j=N+1;if(D)for(E=d[N],A=d[N+1],S=E;S<A;S++)O[w=f[S]]=j,D[w]=c[S];for(E=s[N],A=s[N+1],S=E;S<A;S++)if(w=o[S],D){var M=O[w]===j?D[w]:b,T=x(a[S],M);v(T,b)||(k.push(w),C.push(T))}else k.push(w)}return _[y]=k.length,e.createSparseMatrix({values:C,index:k,ptr:_,size:[g,y],datatype:m})}}),rk="dotMultiply",ik=Tx(rk,["typed","matrix","equalScalar","multiplyScalar","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,multiplyScalar:i,concat:a}=e,o=bC({typed:t,equalScalar:r}),s=nk({typed:t,equalScalar:r}),l=QA({typed:t,equalScalar:r}),u=EC({typed:t,matrix:n,concat:a});return t(rk,u({elop:i,SS:s,DS:o,Ss:l}))});function ak(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return lk(e,t,function(e,t){return e&t})}function ok(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function sk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?lk(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function lk(e,t,n){var r,i,a,o,s,l=e.constructor,u=+(e.s<0),c=+(t.s<0);if(u){r=uk(ok(e));for(var f=0;f<r.length;++f)r[f]^=1}else r=uk(e);if(c){i=uk(ok(t));for(var d=0;d<i.length;++d)i[d]^=1}else i=uk(t);r.length<=i.length?(a=r,o=i,s=u):(a=i,o=r,s=c);var p=a.length,h=o.length,m=1^n(u,c),g=new l(1^m),y=new l(1),v=new l(2),b=l.precision;for(l.config({precision:1e9});p>0;)n(a[--p],o[--h])===m&&(g=g.plus(y)),y=y.times(v);for(;h>0;)n(s,o[--h])===m&&(g=g.plus(y)),y=y.times(v);return l.config({precision:b}),0===m&&(g.s=-g.s),g}function uk(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",a=7-i.length;a--;)i="0"+i;n+=i}for(var o=n.length;"0"===n.charAt(o);)o--;var s=e.e,l=n.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],f=0;f<l.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(l.charAt(f++));for(var p=0;p<c.length;++p)c[p]>1&&(null!==c[p+1]&&void 0!==c[p+1]||(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function ck(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?ok(t):t.eq(r)?ok(e):e.isFinite()&&t.isFinite()?lk(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new n(e.isNegative()===t.isNegative()?1/0:-1/0):r}function fk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t)):new n(NaN)}function dk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var pk="number, number";function hk(e,t){if(!Ix(e)||!Ix(t))throw new Error("Integers expected in function bitAnd");return e&t}function mk(e){if(!Ix(e))throw new Error("Integer expected in function bitNot");return~e}function gk(e,t){if(!Ix(e)||!Ix(t))throw new Error("Integers expected in function bitOr");return e|t}function yk(e,t){if(!Ix(e)||!Ix(t))throw new Error("Integers expected in function bitXor");return e^t}function vk(e,t){if(!Ix(e)||!Ix(t))throw new Error("Integers expected in function leftShift");return e<<t}function bk(e,t){if(!Ix(e)||!Ix(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function xk(e,t){if(!Ix(e)||!Ix(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}hk.signature=pk,mk.signature="number",gk.signature=pk,yk.signature=pk,vk.signature=pk,bk.signature=pk,xk.signature=pk;var wk="bitAnd",Nk=Tx(wk,["typed","matrix","equalScalar","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,concat:i}=e,a=bC({typed:t,equalScalar:r}),o=PC({typed:t,equalScalar:r}),s=QA({typed:t,equalScalar:r}),l=EC({typed:t,matrix:n,concat:i});return t(wk,{"number, number":hk,"BigNumber, BigNumber":ak},l({SS:o,DS:a,Ss:s}))}),Sk="bitNot",Ek=Tx(Sk,["typed"],e=>{var{typed:t}=e;return t(Sk,{number:mk,BigNumber:ok,"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),Ak="bitOr",Ck=Tx(Ak,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i,concat:a}=e,o=CC({typed:t}),s=kC({typed:t,equalScalar:r}),l=_C({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:n,concat:a});return t(Ak,{"number, number":gk,"BigNumber, BigNumber":sk},u({SS:s,DS:o,Ss:l}))}),kk=Tx("matAlgo07xSSf",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,i,a){var o=e._size,s=e._datatype,l=i._size,u=i._datatype;if(o.length!==l.length)throw new hw(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var c,f,d,p=o[0],h=o[1],m=0,g=a;"string"===typeof s&&s===u&&(c=s,m=t.convert(0,c),g=t.find(a,[c,c]));var y=[];for(f=0;f<p;f++)y[f]=[];var v=[],b=[],x=[],w=[];for(d=0;d<h;d++){var N=d+1;for(r(e,d,x,v,N),r(i,d,w,b,N),f=0;f<p;f++){var S=x[f]===N?v[f]:m,E=w[f]===N?b[f]:m;y[f][d]=g(S,E)}}return new n({data:y,size:[p,h],datatype:c})};function r(e,t,n,r,i){for(var a=e._values,o=e._index,s=e._ptr,l=s[t],u=s[t+1];l<u;l++){var c=o[l];n[c]=i,r[c]=a[l]}}}),_k="bitXor",Dk=Tx(_k,["typed","matrix","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,DenseMatrix:r,concat:i}=e,a=xC({typed:t}),o=kk({typed:t,DenseMatrix:r}),s=eC({typed:t,DenseMatrix:r}),l=EC({typed:t,matrix:n,concat:i});return t(_k,{"number, number":yk,"BigNumber, BigNumber":ck},l({SS:o,DS:a,Ss:s}))}),Ok=Tx("arg",["typed"],e=>{var{typed:t}=e;return t("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),jk="conj",Mk=Tx(jk,["typed"],e=>{var{typed:t}=e;return t(jk,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),Tk=Tx("im",["typed"],e=>{var{typed:t}=e;return t("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),Pk=Tx("re",["typed"],e=>{var{typed:t}=e;return t("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),Fk="number, number";function Ik(e){return!e}function Bk(e,t){return!(!e&&!t)}function Rk(e,t){return!!e!==!!t}function zk(e,t){return!(!e||!t)}Ik.signature="number",Bk.signature=Fk,Rk.signature=Fk,zk.signature=Fk;var Lk=Tx("not",["typed"],e=>{var{typed:t}=e;return t("not",{"null | undefined":()=>!0,number:Ik,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),Uk=Tx("or",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i,concat:a}=e,o=xC({typed:t}),s=wC({typed:t,equalScalar:r}),l=eC({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:n,concat:a});return t("or",{"number, number":Bk,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":t.referToSelf(e=>(t,n)=>e(t.value||0,n.value||0))},u({SS:s,DS:o,Ss:l}))}),qk=Tx("xor",["typed","matrix","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,DenseMatrix:r,concat:i}=e,a=xC({typed:t}),o=kk({typed:t,DenseMatrix:r}),s=eC({typed:t,DenseMatrix:r}),l=EC({typed:t,matrix:n,concat:i});return t("xor",{"number, number":Rk,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!==(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!==(!t.isZero()&&!t.isNaN())},"Unit, Unit":t.referToSelf(e=>(t,n)=>e(t.value||0,n.value||0))},l({SS:o,DS:a,Ss:s}))}),$k="concat",Wk=Tx($k,["typed","matrix","isInteger"],e=>{var{typed:t,matrix:n,isInteger:r}=e;return t($k,{"...Array | Matrix | number | BigNumber":function(e){var t,i,a=e.length,o=-1,s=!1,l=[];for(t=0;t<a;t++){var u=e[t];if(qb(u)&&(s=!0),Fb(u)||Ib(u)){if(t!==a-1)throw new Error("Dimension must be specified as last argument");if(i=o,o=u.valueOf(),!r(o))throw new TypeError("Integer number expected for dimension");if(o<0||t>0&&o>i)throw new mw(o,i+1)}else{var c=Nx(u).valueOf(),f=gw(c);if(l[t]=c,i=o,o=f.length-1,t>0&&o!==i)throw new hw(i+1,o+1)}}if(0===l.length)throw new SyntaxError("At least one matrix expected");for(var d=l.shift();l.length;)d=qw(d,l.shift(),o);return s?n(d):d},"...string":function(e){return e.join("")}})}),Hk="column",Kk=Tx(Hk,["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e;return t(Hk,{"Matrix, number":a,"Array, number":function(e,t){return a(r(Nx(e)),t).valueOf()}});function a(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");xw(t,e.size()[1]);var a=i(0,e.size()[0]),o=new n(a,t),s=e.subset(o);return qb(s)?s:r([[s]])}}),Vk="count",Yk=Tx(Vk,["typed","size","prod"],e=>{var{typed:t,size:n,prod:r}=e;return t(Vk,{string:function(e){return e.length},"Matrix | Array":function(e){return r(n(e))}})}),Gk="cross",Xk=Tx(Gk,["typed","matrix","subtract","multiply"],e=>{var{typed:t,matrix:n,subtract:r,multiply:i}=e;return t(Gk,{"Matrix, Matrix":function(e,t){return n(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(a(e.toArray(),t))},"Array, Matrix":function(e,t){return n(a(e,t.toArray()))},"Array, Array":a});function a(e,t){var n=Math.max(gw(e).length,gw(t).length);e=kw(e),t=kw(t);var a=gw(e),o=gw(t);if(1!==a.length||1!==o.length||3!==a[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+a.join(", ")+"], B = ["+o.join(", ")+"])");var s=[r(i(e[1],t[2]),i(e[2],t[1])),r(i(e[2],t[0]),i(e[0],t[2])),r(i(e[0],t[1]),i(e[1],t[0]))];return n>1?[s]:s}}),Jk="diag",Zk=Tx(Jk,["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(Jk,{Array:function(e){return a(e,0,gw(e),null)},"Array, number":function(e,t){return a(e,t,gw(e),null)},"Array, BigNumber":function(e,t){return a(e,t.toNumber(),gw(e),null)},"Array, string":function(e,t){return a(e,0,gw(e),t)},"Array, number, string":function(e,t,n){return a(e,t,gw(e),n)},"Array, BigNumber, string":function(e,t,n){return a(e,t.toNumber(),gw(e),n)},Matrix:function(e){return a(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return a(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return a(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return a(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return a(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return a(e,t.toNumber(),e.size(),n)}});function a(e,t,a,o){if(!Ix(t))throw new TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,l=t<0?-t:0;switch(a.length){case 1:return function(e,t,n,a,o,s){var l=[a+o,a+s];if(n&&"sparse"!==n&&"dense"!==n)throw new TypeError("Unknown matrix type ".concat(n,'"'));var u="sparse"===n?i.diagonal(l,e,t):r.diagonal(l,e,t);return null!==n?u:u.valueOf()}(e,t,o,a[0],l,s);case 2:return function(e,t,r,i,a,o){if(qb(e)){var s=e.diagonal(t);return null!==r?r!==s.storage()?n(s,r):s:s.valueOf()}for(var l=Math.min(i[0]-a,i[1]-o),u=[],c=0;c<l;c++)u[c]=e[c+a][c+o];return null!==r?n(u):u}(e,t,o,a,l,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}});function Qk(e,t,n,r,i){if(Pb.isTypedFunction(e)){var a=[t,n,r],o=Pb.resolve(e,a);if(o)return f(o.implementation,a);var s=[t,n],l=Pb.resolve(e,s);if(l)return f(l.implementation,s);var u=[t],c=Pb.resolve(e,u);return c?f(c.implementation,u):f(e,a)}return e(t,n,r);function f(a,o){try{return a.apply(a,o)}catch(u){var s;if(u instanceof TypeError&&"wrongType"===(null===(s=u.data)||void 0===s?void 0:s.category)){var l=[];throw l.push("value: ".concat(wx(t))),o.length>=2&&l.push("index: ".concat(wx(n))),o.length>=3&&l.push("array: ".concat(wx(r))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(e.name,"(").concat(l.join(", "),") at index ").concat(JSON.stringify(n)))}throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(e.name,": ").concat(u.message))}}}var e_=Tx("filter",["typed"],e=>{var{typed:t}=e;return t("filter",{"Array, function":t_,"Matrix, function":function(e,t){return e.create(t_(e.toArray(),t))},"Array, RegExp":Fw,"Matrix, RegExp":function(e,t){return e.create(Fw(e.toArray(),t))}})});function t_(e,t){return Pw(e,function(e,n,r){return Qk(t,e,[n],r,"filter")})}var n_="flatten",r_=Tx(n_,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(n_,{Array:function(e){return jw(e)},Matrix:function(e){var t=jw(e.toArray());return n(t)}})}),i_="forEach",a_=Tx(i_,["typed"],e=>{var{typed:t}=e;return t(i_,{"Array, function":o_,"Matrix, function":function(e,t){e.forEach(t)}})});function o_(e,t){!function n(r,i){if(!Array.isArray(r))return Qk(t,r,i,e,"forEach");Tw(r,function(e,t){n(e,i.concat(t))})}(e,[])}var s_="getMatrixDataType",l_=Tx(s_,["typed"],e=>{var{typed:t}=e;return t(s_,{Array:function(e){return zw(e,wx)},Matrix:function(e){return e.getDataType()}})}),u_="identity",c_=Tx(u_,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(u_,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return l(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return l(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return l(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return l(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return l(e[0],e[0],t);case 2:return l(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function l(e,t,n){var r=Ib(e)||Ib(t)?i:null;if(Ib(e)&&(e=e.toNumber()),Ib(t)&&(t=t.toNumber()),!Ix(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!Ix(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new i(1):1,l=r?new r(0):0,u=[e,t];if(n){if("sparse"===n)return o.diagonal(u,s,0,l);if("dense"===n)return a.diagonal(u,s,0,l);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var c=Nw([],u,l),f=e<t?e:t,d=0;d<f;d++)c[d][d]=s;return c}}),f_="kron",d_=Tx(f_,["typed","matrix","multiplyScalar"],e=>{var{typed:t,matrix:n,multiplyScalar:r}=e;return t(f_,{"Matrix, Matrix":function(e,t){return n(i(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(i(e.toArray(),t))},"Array, Matrix":function(e,t){return n(i(e,t.toArray()))},"Array, Array":i});function i(e,t){if(1===gw(e).length&&(e=[e]),1===gw(t).length&&(t=[t]),gw(e).length>2||gw(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var n=[],i=[];return e.map(function(e){return t.map(function(t){return i=[],n.push(i),e.map(function(e){return t.map(function(t){return i.push(r(e,t))})})})})&&n}}),p_=Tx("map",["typed"],e=>{var{typed:t}=e;return t("map",{"Array, function":h_,"Matrix, function":function(e,t){return e.map(t)}})});function h_(e,t){return function n(r,i){return Array.isArray(r)?r.map(function(e,t){return n(e,i.concat(t))}):Qk(t,r,i,e,"map")}(e,[])}var m_="diff",g_=Tx(m_,["typed","matrix","subtract","number"],e=>{var{typed:t,matrix:n,subtract:r,number:i}=e;return t(m_,{"Array | Matrix":function(e){return qb(e)?n(o(e.toArray())):o(e)},"Array | Matrix, number":function(e,t){if(!Ix(t))throw new RangeError("Dimension must be a whole number");return qb(e)?n(a(e.toArray(),t)):a(e,t)},"Array, BigNumber":t.referTo("Array,number",e=>(t,n)=>e(t,i(n))),"Matrix, BigNumber":t.referTo("Matrix,number",e=>(t,n)=>e(t,i(n)))});function a(e,t){if(qb(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var n=[];return e.forEach(e=>{n.push(a(e,t-1))}),n}if(0===t)return o(e);throw RangeError("Cannot have negative dimension")}function o(e){for(var t=[],n=e.length,r=1;r<n;r++)t.push(s(e[r-1],e[r]));return t}function s(e,t){qb(e)&&(e=e.toArray()),qb(t)&&(t=t.toArray());var n=Array.isArray(e),i=Array.isArray(t);if(n&&i)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var n=[],r=e.length,i=0;i<r;i++)n.push(s(e[i],t[i]));return n}(e,t);if(!n&&!i)return r(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),y_=Tx("ones",["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t("ones",{"":function(){return"Array"===n.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return a(e,t)}return"Array"===n.matrix?a(e):a(e,"default")},Array:a,Matrix:function(e){var t=e.storage();return a(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){Ib(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),a=n?new i(1):1;if(function(e){e.forEach(function(e){if("number"!==typeof e||!Ix(e)||e<0)throw new Error("Parameters in function ones must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,a):o}var s=[];return e.length>0?Nw(s,e,a):s}});function v_(){throw new Error('No "bignumber" implementation available')}function b_(){throw new Error('No "fraction" implementation available')}function x_(){throw new Error('No "matrix" implementation available')}var w_="range",N_=Tx(w_,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=e;return t(w_,{string:d,"string, boolean":d,"number, number":function(e,t){return f(p(e,t,1,!1))},"number, number, number":function(e,t,n){return f(p(e,t,n,!1))},"number, number, boolean":function(e,t,n){return f(p(e,t,1,n))},"number, number, number, boolean":function(e,t,n,r){return f(p(e,t,n,r))},"BigNumber, BigNumber":function(e,t){return f(p(e,t,new(0,e.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return f(p(e,t,n,!1))},"BigNumber, BigNumber, boolean":function(e,t,n){return f(p(e,t,new(0,e.constructor)(1),n))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return f(p(e,t,n,r))},"Unit, Unit, Unit":function(e,t,n){return f(p(e,t,n,!1))},"Unit, Unit, Unit, boolean":function(e,t,n,r){return f(p(e,t,n,r))}});function f(e){return"Matrix"===n.matrix?r?r(e):x_():e}function d(e,t){var r=function(e){var t=e.split(":"),n=t.map(function(e){return Number(e)});if(n.some(function(e){return isNaN(e)}))return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}(e);if(!r)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===n.number?(void 0===i&&v_(),f(p(i(r.start),i(r.end),i(r.step)))):f(p(r.start,r.end,r.step,t))}function p(e,t,n,r){for(var i=[],f=c(n)?r?o:a:r?l:s,d=e;f(d,t);)i.push(d),d=u(d,n);return i}}),S_="reshape",E_=Tx(S_,["typed","isInteger","matrix"],e=>{var{typed:t,isInteger:n}=e;return t(S_,{"Matrix, Array":function(e,t){return e.reshape(t,!0)},"Array, Array":function(e,t){return t.forEach(function(e){if(!n(e))throw new TypeError("Invalid size for dimension: "+e)}),Ew(e,t)}})}),A_=Tx("resize",["config","matrix"],e=>{var{config:t,matrix:n}=e;return function(e,r,i){if(2!==arguments.length&&3!==arguments.length)throw new Vw("resize",arguments.length,2,3);if(qb(r)&&(r=r.valueOf()),Ib(r[0])&&(r=r.map(function(e){return Ib(e)?e.toNumber():e})),qb(e))return e.resize(r,i,!0);if("string"===typeof e)return function(e,t,n){if(void 0!==n){if("string"!==typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new hw(t.length,1);var r=t[0];if("number"!==typeof r||!Ix(r))throw new TypeError("Invalid size, must contain positive integers (size: "+lw(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var i=e,a=0,o=r-e.length;a<o;a++)i+=n;return i}return e}(e,r,i);var a=!Array.isArray(e)&&"Array"!==t.matrix;if(0===r.length){for(;Array.isArray(e);)e=e[0];return Nx(e)}Array.isArray(e)||(e=[e]);var o=Nw(e=Nx(e),r,i);return a?n(o):o}}),C_="rotate",k_=Tx(C_,["typed","multiply","rotationMatrix"],e=>{var{typed:t,multiply:n,rotationMatrix:r}=e;return t(C_,{"Array , number | BigNumber | Complex | Unit":function(e,t){return i(e,2),n(r(t),e).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(e,t){return i(e,2),n(r(t),e)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,a){return i(e,3),n(r(t,a),e)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,a){return i(e,3),n(r(t,a),e)}});function i(e,t){var n=Array.isArray(e)?gw(e):e.size();if(n.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(t));if(2===n.length&&1!==n[1])throw new RangeError("Vector must be of dimensions 1x".concat(t));if(n[0]!==t)throw new RangeError("Vector must be of dimensions 1x".concat(t))}}),__="rotationMatrix",D_=Tx(__,["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],e=>{var{typed:t,config:n,multiplyScalar:r,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:f,sin:d}=e;return t(__,{"":function(){return"Matrix"===n.matrix?l([]):[]},string:function(e){return l(e)},"number | BigNumber | Complex | Unit":function(e){return p(e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,t){return p(e,t)},"number | BigNumber | Complex | Unit, Array":function(e,t){var n=l(t);return h(n),y(e,n,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,t){h(t);var r=t.storage()||("Matrix"===n.matrix?"dense":void 0);return y(e,t,r)},"number | BigNumber | Complex | Unit, Array, string":function(e,t,n){var r=l(t);return h(r),y(e,r,n)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,t,n){return h(t),y(e,t,n)}});function p(e,t){var n=Ib(e)?new s(-1):-1,i=f(e),a=d(e);return g([[i,r(n,a)],[a,i]],t)}function h(e){var t=e.size();if(t.length<1||3!==t[0])throw new RangeError("Vector must be of dimensions 1x3")}function m(e){return e.reduce((e,t)=>r(e,t))}function g(e,t){if(t){if("sparse"===t)return new c(e);if("dense"===t)return new u(e);throw new TypeError('Unknown matrix type "'.concat(t,'"'))}return e}function y(e,t,n){var r=o(t);if(0===r)throw new RangeError("Rotation around zero vector");var l=Ib(e)?s:null,u=l?new l(1):1,c=l?new l(-1):-1,p=l?new l(t.get([0])/r):t.get([0])/r,h=l?new l(t.get([1])/r):t.get([1])/r,y=l?new l(t.get([2])/r):t.get([2])/r,v=f(e),b=i(u,a(v)),x=d(e);return g([[i(v,m([p,p,b])),i(m([p,h,b]),m([c,y,x])),i(m([p,y,b]),m([h,x]))],[i(m([p,h,b]),m([y,x])),i(v,m([h,h,b])),i(m([h,y,b]),m([c,p,x]))],[i(m([p,y,b]),m([c,h,x])),i(m([h,y,b]),m([p,x])),i(v,m([y,y,b]))]],n)}}),O_=Tx("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e;return t("row",{"Matrix, number":a,"Array, number":function(e,t){return a(r(Nx(e)),t).valueOf()}});function a(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");xw(t,e.size()[0]);var a=i(0,e.size()[1]),o=new n(t,a),s=e.subset(o);return qb(s)?s:r([[s]])}}),j_="size",M_=Tx(j_,["typed","config","?matrix"],e=>{var{typed:t,config:n,matrix:r}=e;return t(j_,{Matrix:function(e){return e.create(e.size())},Array:gw,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):x_()}})}),T_="squeeze",P_=Tx(T_,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(T_,{Array:function(e){return kw(Nx(e))},Matrix:function(e){var t=kw(e.toArray());return Array.isArray(t)?n(t):t},any:function(e){return Nx(e)}})}),F_="subset",I_=Tx(F_,["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:n,zeros:r,add:i}=e;return t(F_,{"Matrix, Index":function(e,t){return ww(t)?n():(bw(e,t),e.subset(t))},"Array, Index":t.referTo("Matrix, Index",function(e){return function(t,r){var i=e(n(t),r);return r.isScalar()?i:i.valueOf()}}),"Object, Index":z_,"string, Index":B_,"Matrix, Index, any, any":function(e,t,n,a){return ww(t)?e:(bw(e,t),e.clone().subset(t,function(e,t){if("string"===typeof e)throw new Error("can't boradcast a string");if(t._isScalar)return e;var n=t.size();if(!n.every(e=>e>0))return e;try{return i(e,r(n))}catch(a){return e}}(n,t),a))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,r,i,a){var o=e(n(t),r,i,a);return o.isMatrix?o.valueOf():o}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,r,i){return e(n(t),r,i,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,n,r){return e(t,n,r,void 0)}}),"string, Index, string":R_,"string, Index, string, string":R_,"Object, Index, any":L_})});function B_(e,t){if(!Vb(t))throw new TypeError("Index expected");if(ww(t))return"";if(bw(Array.from(e),t),1!==t.size().length)throw new hw(t.size().length,1);var n=e.length;xw(t.min()[0],n),xw(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach(function(t){i+=e.charAt(t)}),i}function R_(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(ww(t))return e;if(bw(Array.from(e),t),1!==t.size().length)throw new hw(t.size().length,1);if(void 0!==r){if("string"!==typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new hw(i.size()[0],n.length);var a=e.length;xw(t.min()[0]),xw(t.max()[0]);for(var o=[],s=0;s<a;s++)o[s]=e.charAt(s);if(i.forEach(function(e,t){o[e]=n.charAt(t[0])}),o.length>a)for(var l=a-1,u=o.length;l<u;l++)o[l]||(o[l]=r);return o.join("")}function z_(e,t){if(!ww(t)){if(1!==t.size().length)throw new hw(t.size(),1);var n=t.dimension(0);if("string"!==typeof n)throw new TypeError("String expected as index to retrieve an object property");return eN(e,n)}}function L_(e,t,n){if(ww(t))return e;if(1!==t.size().length)throw new hw(t.size(),1);var r=t.dimension(0);if("string"!==typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=Nx(e);return tN(i,r,n),i}var U_="transpose",q_=Tx(U_,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(U_,{Array:e=>r(n(e)).valueOf(),Matrix:r,any:Nx});function r(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+lw(n)+")");switch(e.storage()){case"dense":t=function(e,t,n){for(var r,i=e._data,a=[],o=0;o<n;o++){r=a[o]=[];for(var s=0;s<t;s++)r[s]=Nx(i[s][o])}return e.createDenseMatrix({data:a,size:[n,t],datatype:e._datatype})}(e,r,i);break;case"sparse":t=function(e,t,n){for(var r,i,a,o=e._values,s=e._index,l=e._ptr,u=o?[]:void 0,c=[],f=[],d=[],p=0;p<t;p++)d[p]=0;for(r=0,i=s.length;r<i;r++)d[s[r]]++;for(var h=0,m=0;m<t;m++)f.push(h),h+=d[m],d[m]=f[m];for(f.push(h),a=0;a<n;a++)for(var g=l[a],y=l[a+1],v=g;v<y;v++){var b=d[s[v]]++;c[b]=a,o&&(u[b]=Nx(o[v]))}return e.createSparseMatrix({values:u,index:c,ptr:f,size:[n,t],datatype:e._datatype})}(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+lw(n)+")")}return t}}),$_="ctranspose",W_=Tx($_,["typed","transpose","conj"],e=>{var{typed:t,transpose:n,conj:r}=e;return t($_,{any:function(e){return r(n(e))}})}),H_="zeros",K_=Tx(H_,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:i}=e;return t(H_,{"":function(){return"Array"===n.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return a(e,t)}return"Array"===n.matrix?a(e):a(e,"default")},Array:a,Matrix:function(e){var t=e.storage();return a(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){Ib(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),a=n?new i(0):0;if(function(e){e.forEach(function(e){if("number"!==typeof e||!Ix(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,a):o}var s=[];return e.length>0?Nw(s,e,a):s}}),V_=Tx("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:l,dotDivide:u,conj:c,pow:f,ceil:d,log2:p}=e;return t("fft",{Array:h,Matrix:function(e){return e.create(h(e.toArray()))}});function h(e){var t=gw(e);return 1===t.length?g(e,t[0]):m(e.map(e=>h(e,t.slice(1))),0)}function m(e,t){var n=gw(e);if(0!==t)return new Array(n[0]).fill(0).map((n,r)=>m(e[r],t-1));if(1===n.length)return g(e);function r(e){var t=gw(e);return new Array(t[1]).fill(0).map((n,r)=>new Array(t[0]).fill(0).map((t,n)=>e[n][r]))}return r(m(r(e),1))}function g(e){var t=e.length;if(1===t)return[e[0]];if(t%2===0){for(var n=[...g(e.filter((e,t)=>t%2===0)),...g(e.filter((e,t)=>t%2===1))],m=0;m<t/2;m++){var y=n[m],v=i(n[m+t/2],o(i(i(s,l),a(-m,t))));n[m]=r(y,v),n[m+t/2]=r(y,i(-1,v))}return n}return function(e){for(var t=e.length,n=o(a(i(-1,i(l,s)),t)),r=[],m=1-t;m<t;m++)r.push(f(n,a(f(m,2),2)));for(var y=f(2,d(p(t+t-1))),v=[...new Array(t).fill(0).map((n,a)=>i(e[a],r[t-1+a])),...new Array(y-t).fill(0)],b=[...new Array(t+t-1).fill(0).map((e,t)=>a(1,r[t])),...new Array(y-(t+t-1)).fill(0)],x=g(v),w=g(b),N=new Array(y).fill(0).map((e,t)=>i(x[t],w[t])),S=u(c(h(c(N))),y),E=[],A=t-1;A<t+t-1;A++)E.push(i(S[A],r[A]));return E}(e)}}),Y_="ifft",G_=Tx(Y_,["typed","fft","dotDivide","conj"],e=>{var{typed:t,fft:n,dotDivide:r,conj:i}=e;return t(Y_,{"Array | Matrix":function(e){var t=qb(e)?e.size():gw(e);return r(i(n(i(e))),t.reduce((e,t)=>e*t,1))}})});function X_(e){return X_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X_(e)}function J_(e){var t=function(e,t){if("object"!=X_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=X_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X_(t)?t:t+""}function Z_(e,t,n){return(t=J_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eD=Tx("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,max:o,map:s,abs:l,isPositive:u,isNegative:c,larger:f,smaller:d,matrix:p,bignumber:h,unaryMinus:m}=e;function g(e){return function(t,p,g,y){if(!(2===p.length&&(p.every(x)||p.every(zb))))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var v=p[0],b=p[1],w=f(b,v),N=y.firstStep;if(void 0!==N&&!u(N))throw new Error('"firstStep" must be positive');var S=y.maxStep;if(void 0!==S&&!u(S))throw new Error('"maxStep" must be positive');var E=y.minStep;if(E&&c(E))throw new Error('"minStep" must be positive or zero');var A=[v,b,N,E,S].filter(e=>void 0!==e);if(!A.every(x)&&!A.every(zb))throw new Error('Inconsistent type of "t" dependant variables');for(var C=y.tol?y.tol:1e-4,k=y.minDelta?y.minDelta:.2,_=y.maxDelta?y.maxDelta:5,D=y.maxIter?y.maxIter:1e4,O=[v,b,...g,S,E].some(Ib),[j,M,T,P]=O?[h(e.a),h(e.c),h(e.b),h(e.bp)]:[e.a,e.c,e.b,e.bp],F=N?w?N:m(N):a(r(b,v),1),I=[v],B=[g],R=r(T,P),z=0,L=0,U=function(e){return e?d:f}(w),q=function(e){var t=e?f:d;return function(e,i,a){var o=n(e,a);return t(o,i)?r(i,e):a}}(w);U(I[z],b);){var $=[];F=q(I[z],b,F),$.push(t(I[z],B[z]));for(var W=1;W<M.length;++W)$.push(t(n(I[z],i(M[W],F)),n(B[z],i(F,j[W],$))));var H=o(l(s(i(R,$),e=>zb(e)?e.value:e)));H<C&&C/H>1/4&&(I.push(n(I[z],F)),B.push(n(B[z],i(F,T,$))),z++);var K=.84*(C/H)**.2;if(d(K,k)?K=k:f(K,_)&&(K=_),K=O?h(K):K,F=i(F,K),S&&f(l(F),S)?F=w?S:m(S):E&&d(l(F),E)&&(F=w?E:m(E)),++L>D)throw new Error("Maximum number of iterations reached, try changing options")}return{t:I,y:B}}}function y(e,t,n,r){return g({a:[[],[.5],[0,3/4],[2/9,1/3,4/9]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(e,t,n,r)}function v(e,t,n,r){return g({a:[[],[.2],[3/40,9/40],[44/45,-56/15,32/9],[19372/6561,-25360/2187,64448/6561,-212/729],[9017/3168,-355/33,46732/5247,49/176,-5103/18656],[35/384,0,500/1113,125/192,-2187/6784,11/84]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(e,t,n,r)}function b(e,t,n,r){var i=r.method?r.method:"RK45",a={RK23:y,RK45:v};if(i.toUpperCase()in a){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q_(Object(n),!0).forEach(function(t){Z_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r);return delete o.method,a[i.toUpperCase()](e,t,n,o)}var s=Object.keys(a).map(e=>'"'.concat(e,'"')),l="".concat(s.slice(0,-1).join(", ")," and ").concat(s.slice(-1));throw new Error('Unavailable method "'.concat(i,'". Available methods are ').concat(l))}function x(e){return Ib(e)||Fb(e)}function w(e,t,n,r){var i=b(e,t.toArray(),n.toArray(),r);return{t:p(i.t),y:p(i.y)}}return t("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":w,"function, Array, Array":(e,t,n)=>b(e,t,n,{}),"function, Matrix, Matrix":(e,t,n)=>w(e,t,n,{}),"function, Array, number | BigNumber | Unit":(e,t,n)=>{var r=b(e,t,[n],{});return{t:r.t,y:r.y.map(e=>e[0])}},"function, Matrix, number | BigNumber | Unit":(e,t,n)=>{var r=b(e,t.toArray(),[n],{});return{t:p(r.t),y:p(r.y.map(e=>e[0]))}},"function, Array, number | BigNumber | Unit, Object":(e,t,n,r)=>{var i=b(e,t,[n],r);return{t:i.t,y:i.y.map(e=>e[0])}},"function, Matrix, number | BigNumber | Unit, Object":(e,t,n,r)=>{var i=b(e,t.toArray(),[n],r);return{t:p(i.t),y:p(i.y.map(e=>e[0]))}}})}),tD=Tx("erf",["typed"],e=>{var{typed:t}=e;return t("name",{number:function(e){var t=Math.abs(e);return t>=oD?Bx(e):t<=nD?Bx(e)*function(e){var t,n=e*e,r=iD[0][4]*n,i=n;for(t=0;t<3;t+=1)r=(r+iD[0][t])*n,i=(i+aD[0][t])*n;return e*(r+iD[0][3])/(i+aD[0][3])}(t):t<=4?Bx(e)*(1-function(e){var t,n=iD[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+iD[1][t])*e,r=(r+aD[1][t])*e;var i=(n+iD[1][7])/(r+aD[1][7]),a=parseInt(16*e)/16,o=(e-a)*(e+a);return Math.exp(-a*a)*Math.exp(-o)*i}(t)):Bx(e)*(1-function(e){var t,n=1/(e*e),r=iD[2][5]*n,i=n;for(t=0;t<4;t+=1)r=(r+iD[2][t])*n,i=(i+aD[2][t])*n;var a=n*(r+iD[2][4])/(i+aD[2][4]);a=(rD-a)/e,n=parseInt(16*e)/16;var o=(e-n)*(e+n);return Math.exp(-n*n)*Math.exp(-o)*a}(t))},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),nD=.46875,rD=.5641895835477563,iD=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],aD=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],oD=Math.pow(2,53),sD="zeta",lD=Tx(sD,["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],e=>{var{typed:t,config:n,multiply:r,pow:i,divide:a,factorial:o,equal:s,smallerEq:l,isNegative:u,gamma:c,sin:f,subtract:d,add:p,Complex:h,BigNumber:m,pi:g}=e;return t(sD,{number:e=>y(e,e=>e,()=>20),BigNumber:e=>y(e,e=>new m(e),()=>Math.abs(Math.log10(n.epsilon))),Complex:function(e){if(0===e.re&&0===e.im)return new h(-.5);if(1===e.re)return new h(NaN,NaN);if(e.re===1/0&&0===e.im)return new h(1);if(e.im===1/0||e.re===-1/0)return new h(NaN,NaN);return v(e,e=>e,e=>Math.round(19.5+.9*Math.abs(e.im)),e=>e.re)}});function y(e,t,n){return s(e,0)?t(-.5):s(e,1)?t(NaN):isFinite(e)?v(e,t,n,e=>e):u(e)?t(NaN):t(1)}function v(e,t,n,o){var s=n(e);if(o(e)>-(s-1)/2)return function(e,t,n){for(var o=a(1,r(b(n(0),t),d(1,i(2,d(1,e))))),s=n(0),u=n(1);l(u,t);u=p(u,1))s=p(s,a(r((-1)**(u-1),b(u,t)),i(u,e)));return r(o,s)}(e,t(s),t);var u=r(i(2,e),i(t(g),d(e,1)));return u=r(u,f(r(a(t(g),2),e))),u=r(u,c(d(1,e))),r(u,v(d(1,e),t,n,o))}function b(e,t){for(var n=e,s=e;l(s,t);s=p(s,1)){var u=a(r(o(p(t,d(s,1))),i(4,s)),r(o(d(t,s)),o(r(2,s))));n=p(n,u)}return r(t,n)}}),uD="mode",cD=Tx(uD,["typed","isNaN","isNumeric"],e=>{var{typed:t,isNaN:n,isNumeric:r}=e;return t(uD,{"Array | Matrix":i,"...":function(e){return i(e)}});function i(e){if(0===(e=jw(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},i=[],a=0,o=0;o<e.length;o++){var s=e[o];if(r(s)&&n(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===a?i.push(s):t[s]>a&&(a=t[s],i=[s])}return i}});function fD(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+wx(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+wx(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var dD="prod",pD=Tx(dD,["typed","config","multiplyScalar","numeric"],e=>{var{typed:t,config:n,multiplyScalar:r,numeric:i}=e;return t(dD,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return a(e)}});function a(e){var t;if(SE(e,function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw fD(n,"prod",e)}}),"string"===typeof t&&(t=i(t,n.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}),hD="format",mD=Tx(hD,["typed"],e=>{var{typed:t}=e;return t(hD,{any:lw,"any, Object | function | number":lw})}),gD=Tx("bin",["typed","format"],e=>{var{typed:t,format:n}=e;return t("bin",{"number | BigNumber":function(e){return n(e,{notation:"bin"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"bin",wordSize:t})}})}),yD=Tx("oct",["typed","format"],e=>{var{typed:t,format:n}=e;return t("oct",{"number | BigNumber":function(e){return n(e,{notation:"oct"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"oct",wordSize:t})}})}),vD=Tx("hex",["typed","format"],e=>{var{typed:t,format:n}=e;return t("hex",{"number | BigNumber":function(e){return n(e,{notation:"hex"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"hex",wordSize:t})}})}),bD=/\$([\w.]+)/g,xD="print",wD=Tx(xD,["typed"],e=>{var{typed:t}=e;return t(xD,{"string, Object | Array":ND,"string, Object | Array, number | Object":ND})});function ND(e,t,n){return e.replace(bD,function(e,r){var i=r.split("."),a=t[i.shift()];for(void 0!==a&&a.isMatrix&&(a=a.toArray());i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+"."}return void 0!==a?Lb(a)?a:lw(a,n):e})}var SD=Tx("to",["typed","matrix","concat"],e=>{var{typed:t,matrix:n,concat:r}=e;return t("to",{"Unit, Unit | string":(e,t)=>e.to(t)},EC({typed:t,matrix:n,concat:r})({Ds:!0}))}),ED="isPrime",AD=Tx(ED,["typed"],e=>{var{typed:t}=e;return t(ED,{number:function(e){if(0*e!==0)return!1;if(e<=3)return e>1;if(e%2===0||e%3===0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t===0||e%(t+2)===0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!==0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;if(e.lt(Math.pow(2,32))){for(var t=e.toNumber(),n=5;n*n<=t;n+=6)if(t%n===0||t%(n+2)===0)return!1;return!0}function r(e,t,n){for(var r=1;!t.eq(0);)t.mod(2).eq(0)?(t=t.div(2),e=e.mul(e).mod(n)):(t=t.sub(1),r=e.mul(r).mod(n));return r}for(var i=e.constructor.clone({precision:2*e.toFixed(0).length}),a=0,o=(e=new i(e)).sub(1);o.mod(2).eq(0);)o=o.div(2),a+=1;var s=null;if(e.lt("3317044064679887385961981"))s=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(t=>t<e);else{var l=Math.min(e.toNumber()-2,Math.floor(2*Math.pow(e.toFixed(0).length*Math.log(10),2)));s=[];for(var u=2;u<=l;u+=1)s.push(l)}for(var c=0;c<s.length;c+=1){var f=s[c],d=r(e.sub(e).add(f),o,e);if(!d.eq(1))for(var p=0,h=d;!h.eq(e.sub(1));p+=1,h=h.mul(h).mod(e))if(p===a-1)return!1}return!0},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),CD=Tx("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:e=>t(e),BigNumber:n?e=>n(e):v_,Fraction:r?e=>r(e):b_};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var n=wx(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===n?e:a[t](e)}}),kD="divideScalar",_D=Tx(kD,["typed","numeric"],e=>{var{typed:t,numeric:n}=e;return t(kD,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,t)=>e.divide(t),"number | Fraction | Complex | BigNumber, Unit":(e,t)=>t.divideInto(e)})}),DD=Tx("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:n,identity:r,multiply:i,matrix:a,inv:o,number:s,fraction:l,Complex:u}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new u(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){var r=e.pow(t);if(null!=r)return r;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(e.valueOf(),t.valueOf())},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(e,t){return d(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(n.predictable&&!Ix(t)&&e<0)try{var r=l(t),i=s(r);if((t===i||Math.abs((t-i)/t)<1e-14)&&r.d%2===1)return(r.n%2===0?1:-1)*Math.pow(-e,t)}catch(a){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:Ix(t)||e>=0||n.predictable?BA(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new u(e,0).pow(t,0)}function f(e,t){if(!Ix(t))throw new TypeError("For A^b, b must be an integer (value is "+t+")");var n=gw(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");if(t<0)try{return f(o(e),-t)}catch(l){if("Cannot calculate inverse, determinant is zero"===l.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw l}for(var a=r(n[0]).valueOf(),s=e;t>=1;)1===(1&t)&&(a=i(s,a)),t>>=1,s=i(s,s);return a}function d(e,t){return a(f(e.valueOf(),t))}}),OD="Number of decimals in function round must be an integer",jD="round",MD=Tx(jD,["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,BigNumber:a,DenseMatrix:o}=e,s=QA({typed:t,equalScalar:r}),l=eC({typed:t,DenseMatrix:o}),u=tC({typed:t});return t(jD,{number:RA,"number, number":RA,"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(OD);return new a(e).toDecimalPlaces(t.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(OD);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(OD);var n=t.toNumber();return e.round(n)},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(OD);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(OD);return e.round(t)},"Fraction, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(OD);return e.round(t.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>s(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>u(t,n,e,!1)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>u(n(t),r,e,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):l(n,t,e,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):u(n,t,e,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(e=>(t,r)=>u(n(r),t,e,!0).valueOf())})}),TD=Tx("log",["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:n,divideScalar:r,Complex:i}=e;return t("log",{number:function(e){return e>=0||n.predictable?function(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}(e):new i(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||n.predictable?e.ln():new i(e.toNumber(),0).log()},"any, any":t.referToSelf(e=>(t,n)=>r(e(t),e(n)))})}),PD="log1p",FD=Tx(PD,["typed","config","divideScalar","log","Complex"],e=>{var{typed:t,config:n,divideScalar:r,log:i,Complex:a}=e;return t(PD,{number:function(e){return e>=-1||n.predictable?Lx(e):o(new a(e,0))},Complex:o,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||n.predictable?t.ln():o(new a(e.toNumber(),0))},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e)),"any, any":t.referToSelf(e=>(t,n)=>r(e(t),i(n)))});function o(e){var t=e.re+1;return new a(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}}),ID="nthRoots",BD=Tx(ID,["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:n,divideScalar:r,Complex:i}=e,a=[function(e){return new i(e,0)},function(e){return new i(0,e)},function(e){return new i(-e,0)},function(e){return new i(0,-e)}];function o(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!==0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new i(0,0)];var n,r="number"===typeof e;(r||0===e.re||0===e.im)&&(n=r?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var o=e.arg(),s=e.abs(),l=[],u=Math.pow(s,1/t),c=0;c<t;c++){var f=(n+4*c)/t;f!==Math.round(f)?l.push(new i({r:u,phi:(o+2*Math.PI*c)/t})):l.push(a[f%4](u))}return l}return t(ID,{Complex:function(e){return o(e,2)},"Complex, number":o})}),RD="dotPow",zD=Tx(RD,["typed","equalScalar","matrix","pow","DenseMatrix","concat"],e=>{var{typed:t,equalScalar:n,matrix:r,pow:i,DenseMatrix:a,concat:o}=e,s=xC({typed:t}),l=kk({typed:t,DenseMatrix:a}),u=QA({typed:t,equalScalar:n}),c=eC({typed:t,DenseMatrix:a}),f=EC({typed:t,matrix:r,concat:o}),d={};for(var p in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,p)&&(p.includes("Matrix")||p.includes("Array")||(d[p]=i.signatures[p]));var h=t(d);return t(RD,f({elop:h,SS:l,DS:s,Ss:u,sS:c}))}),LD="dotDivide",UD=Tx(LD,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,divideScalar:i,DenseMatrix:a,concat:o}=e,s=bC({typed:t,equalScalar:r}),l=xC({typed:t}),u=kk({typed:t,DenseMatrix:a}),c=QA({typed:t,equalScalar:r}),f=eC({typed:t,DenseMatrix:a}),d=EC({typed:t,matrix:n,concat:o});return t(LD,d({elop:i,SS:u,DS:l,SD:s,Ss:c,sS:f}))});function qD(e){var{DenseMatrix:t}=e;return function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+lw(i)+")");var a=i[0];if(a!==i[1])throw new RangeError("Matrix must be square (size: "+lw(i)+")");var o=[];if(qb(n)){var s=n.size(),l=n._data;if(1===s.length){if(s[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var u=0;u<a;u++)o[u]=[l[u]];return new t({data:o,size:[a,1],datatype:n._datatype})}if(2===s.length){if(s[0]!==a||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Wb(n)){if(r){o=[];for(var c=0;c<a;c++)o[c]=[l[c][0]];return new t({data:o,size:[a,1],datatype:n._datatype})}return n}if(Hb(n)){for(var f=0;f<a;f++)o[f]=[0];for(var d=n._values,p=n._index,h=n._ptr,m=h[1],g=h[0];g<m;g++){o[p[g]][0]=d[g]}return new t({data:o,size:[a,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ub(n)){var y=gw(n);if(1===y.length){if(y[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<a;v++)o[v]=[n[v]];return new t({data:o,size:[a,1]})}if(2===y.length){if(y[0]!==a||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)o[b]=[n[b][0]];return new t({data:o,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var $D="lsolve",WD=Tx($D,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=qD({DenseMatrix:s});return t($D,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],f=e._values,d=e._index,p=e._ptr,h=[],m=0;m<c;m++){var g=n[m][0]||0;if(o(g,0))h[m]=[0];else{for(var y=0,v=[],b=[],x=p[m],w=p[m+1],N=x;N<w;N++){var S=d[N];S===m?y=f[N]:S>m&&(v.push(f[N]),b.push(S))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var E=r(g,y),A=0,C=b.length;A<C;A++){var k=b[A];n[k]=[a(n[k][0]||0,i(E,v[A]))]}h[m]=[E]}}return new s({data:h,size:[u,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],f=[],d=e._data,p=0;p<c;p++){var h=n[p][0]||0,m=void 0;if(o(h,0))m=0;else{var g=d[p][p];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(h,g);for(var y=p+1;y<u;y++)n[y]=[a(n[y][0]||0,i(m,d[y][p]))]}f[p]=[m]}return new s({data:f,size:[u,1]})}}),HD="usolve",KD=Tx(HD,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=qD({DenseMatrix:s});return t(HD,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],f=e._values,d=e._index,p=e._ptr,h=[],m=c-1;m>=0;m--){var g=n[m][0]||0;if(o(g,0))h[m]=[0];else{for(var y=0,v=[],b=[],x=p[m],w=p[m+1]-1;w>=x;w--){var N=d[w];N===m?y=f[w]:N<m&&(v.push(f[w]),b.push(N))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=r(g,y),E=0,A=b.length;E<A;E++){var C=b[E];n[C]=[a(n[C][0],i(S,v[E]))]}h[m]=[S]}}return new s({data:h,size:[u,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],f=[],d=e._data,p=c-1;p>=0;p--){var h=n[p][0]||0,m=void 0;if(o(h,0))m=0;else{var g=d[p][p];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(h,g);for(var y=p-1;y>=0;y--)n[y]=[a(n[y][0]||0,i(m,d[y][p]))]}f[p]=[m]}return new s({data:f,size:[u,1]})}}),VD="lsolveAll",YD=Tx(VD,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=qD({DenseMatrix:s});return t(VD,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._size[0],c=e._size[1],f=e._values,d=e._index,p=e._ptr,h=0;h<c;h++)for(var m=n.length,g=0;g<m;g++){for(var y=n[g],v=[],b=[],x=p[h],w=p[h+1],N=0,S=x;S<w;S++){var E=d[S];E===h?N=f[S]:E>h&&(v.push(f[S]),b.push(E))}if(o(N,0))if(o(y[h],0)){if(0===g){var A=[...y];A[h]=1;for(var C=0,k=b.length;C<k;C++){var _=b[C];A[_]=a(A[_],v[C])}n.push(A)}}else{if(0===g)return[];n.splice(g,1),g-=1,m-=1}else{y[h]=r(y[h],N);for(var D=0,O=b.length;D<O;D++){var j=b[D];y[j]=a(y[j],i(y[h],v[D]))}}}return n.map(e=>new s({data:e.map(e=>[e]),size:[u,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).map(e=>e.valueOf())}});function u(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._data,c=e._size[0],f=e._size[1],d=0;d<f;d++)for(var p=n.length,h=0;h<p;h++){var m=n[h];if(o(u[d][d],0))if(o(m[d],0)){if(0===h){var g=[...m];g[d]=1;for(var y=d+1;y<f;y++)g[y]=a(g[y],u[y][d]);n.push(g)}}else{if(0===h)return[];n.splice(h,1),h-=1,p-=1}else{m[d]=r(m[d],u[d][d]);for(var v=d+1;v<f;v++)m[v]=a(m[v],i(m[d],u[v][d]))}}return n.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),GD="usolveAll",XD=Tx(GD,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,l=qD({DenseMatrix:s});return t(GD,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._size[0],c=e._size[1],f=e._values,d=e._index,p=e._ptr,h=c-1;h>=0;h--)for(var m=n.length,g=0;g<m;g++){for(var y=n[g],v=[],b=[],x=p[h],w=0,N=p[h+1]-1;N>=x;N--){var S=d[N];S===h?w=f[N]:S<h&&(v.push(f[N]),b.push(S))}if(o(w,0))if(o(y[h],0)){if(0===g){var E=[...y];E[h]=1;for(var A=0,C=b.length;A<C;A++){var k=b[A];E[k]=a(E[k],v[A])}n.push(E)}}else{if(0===g)return[];n.splice(g,1),g-=1,m-=1}else{y[h]=r(y[h],w);for(var _=0,D=b.length;_<D;_++){var O=b[_];y[O]=a(y[O],i(y[h],v[_]))}}}return n.map(e=>new s({data:e.map(e=>[e]),size:[u,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).map(e=>e.valueOf())}});function u(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._data,c=e._size[0],f=e._size[1]-1;f>=0;f--)for(var d=n.length,p=0;p<d;p++){var h=n[p];if(o(u[f][f],0))if(o(h[f],0)){if(0===p){var m=[...h];m[f]=1;for(var g=f-1;g>=0;g--)m[g]=a(m[g],u[g][f]);n.push(m)}}else{if(0===p)return[];n.splice(p,1),p-=1,d-=1}else{h[f]=r(h[f],u[f][f]);for(var y=f-1;y>=0;y--)h[y]=a(h[y],i(h[f],u[y][f]))}}return n.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),JD=Tx("matAlgo08xS0Sid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,i){var a=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new hw(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!a||!c)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,g=l[0],y=l[1],v=n,b=0,x=i;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));for(var w,N,S,E,A=[],C=[],k=[],_=[],D=[],O=0;O<y;O++){k[O]=C.length;var j=O+1;for(N=s[O],S=s[O+1],w=N;w<S;w++)D[E=o[w]]=j,_[E]=a[w],C.push(E);for(N=d[O],S=d[O+1],w=N;w<S;w++)D[E=f[w]]===j&&(_[E]=x(_[E],c[w]));for(w=k[O];w<C.length;){var M=_[E=C[w]];v(M,b)?C.splice(w,1):(A.push(M),w++)}}return k[y]=C.length,e.createSparseMatrix({values:A,index:C,ptr:k,size:[g,y],datatype:m})}}),ZD=Tx("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return{"Array, number":t.referTo("DenseMatrix, number",e=>(t,r)=>e(n(t),r).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",e=>(t,r)=>e(n(t),r).valueOf()),"number, Array":t.referTo("number, DenseMatrix",e=>(t,r)=>e(t,n(r)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",e=>(t,r)=>e(t,n(r)).valueOf())}}),QD="leftShift",eO=Tx(QD,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=e,s=CC({typed:t}),l=bC({typed:t,equalScalar:r}),u=JD({typed:t,equalScalar:r}),c=_C({typed:t,DenseMatrix:a}),f=QA({typed:t,equalScalar:r}),d=tC({typed:t}),p=EC({typed:t,matrix:n,concat:o}),h=ZD({typed:t,matrix:n});return t(QD,{"number, number":vk,"BigNumber, BigNumber":fk,"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():f(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():d(t,n,e,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):c(n,t,e,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):d(n,t,e,!0))},h,p({SS:u,DS:s,SD:l}))}),tO="rightArithShift",nO=Tx(tO,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=e,s=CC({typed:t}),l=bC({typed:t,equalScalar:r}),u=JD({typed:t,equalScalar:r}),c=_C({typed:t,DenseMatrix:a}),f=QA({typed:t,equalScalar:r}),d=tC({typed:t}),p=EC({typed:t,matrix:n,concat:o}),h=ZD({typed:t,matrix:n});return t(tO,{"number, number":bk,"BigNumber, BigNumber":dk,"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():f(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():d(t,n,e,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):c(n,t,e,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):d(n,t,e,!0))},h,p({SS:u,DS:s,SD:l}))}),rO="rightLogShift",iO=Tx(rO,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,DenseMatrix:a,concat:o}=e,s=CC({typed:t}),l=bC({typed:t,equalScalar:r}),u=JD({typed:t,equalScalar:r}),c=_C({typed:t,DenseMatrix:a}),f=QA({typed:t,equalScalar:r}),d=tC({typed:t}),p=EC({typed:t,matrix:n,concat:o}),h=ZD({typed:t,matrix:n});return t(rO,{"number, number":xk,"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():f(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():d(t,n,e,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):c(n,t,e,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?i(n.size(),n.storage()):d(n,t,e,!0))},h,p({SS:u,DS:s,SD:l}))}),aO=Tx("and",["typed","matrix","equalScalar","zeros","not","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:i,not:a,concat:o}=e,s=bC({typed:t,equalScalar:r}),l=PC({typed:t,equalScalar:r}),u=QA({typed:t,equalScalar:r}),c=tC({typed:t}),f=EC({typed:t,matrix:n,concat:o});return t("and",{"number, number":zk,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)&&(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!t.isZero()&&!e.isNaN()&&!t.isNaN()},"Unit, Unit":t.referToSelf(e=>(t,n)=>e(t.value||0,n.value||0)),"SparseMatrix, any":t.referToSelf(e=>(t,n)=>a(n)?i(t.size(),t.storage()):u(t,n,e,!1)),"DenseMatrix, any":t.referToSelf(e=>(t,n)=>a(n)?i(t.size(),t.storage()):c(t,n,e,!1)),"any, SparseMatrix":t.referToSelf(e=>(t,n)=>a(t)?i(t.size(),t.storage()):u(n,t,e,!0)),"any, DenseMatrix":t.referToSelf(e=>(t,n)=>a(t)?i(t.size(),t.storage()):c(n,t,e,!0)),"Array, any":t.referToSelf(e=>(t,r)=>e(n(t),r).valueOf()),"any, Array":t.referToSelf(e=>(t,r)=>e(t,n(r)).valueOf())},f({SS:l,DS:s}))}),oO="compare",sO=Tx(oO,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],e=>{var{typed:t,config:n,equalScalar:r,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:l}=e,u=xC({typed:t}),c=wC({typed:t,equalScalar:r}),f=eC({typed:t,DenseMatrix:s}),d=EC({typed:t,matrix:i,concat:l}),p=XE({typed:t});return t(oO,lO({typed:t,config:n}),{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return GE(e,t,n.epsilon)?new a(0):new a(e.cmp(t))},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:c,DS:u,Ss:f}))}),lO=Tx(oO,["typed","config"],e=>{var{typed:t,config:n}=e;return t(oO,{"number, number":function(e,t){return Jx(e,t,n.epsilon)?0:e>t?1:-1}})}),uO=n(5939),cO="compareNatural",fO=Tx(cO,["typed","compare"],e=>{var{typed:t,compare:n}=e,r=n.signatures["boolean,boolean"];return t(cO,{"any, any":function e(t,o){var s,l=wx(t),u=wx(o);if(("number"===l||"BigNumber"===l||"Fraction"===l)&&("number"===u||"BigNumber"===u||"Fraction"===u))return"0"!==(s=n(t,o)).toString()?s>0?1:-1:uO(l,u);var c=["Array","DenseMatrix","SparseMatrix"];if(c.includes(l)||c.includes(u))return 0!==(s=i(e,t,o))?s:uO(l,u);if(l!==u)return uO(l,u);if("Complex"===l)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0}(t,o);if("Unit"===l)return t.equalBase(o)?e(t.value,o.value):a(e,t.formatUnits(),o.formatUnits());if("boolean"===l)return r(t,o);if("string"===l)return uO(t,o);if("Object"===l)return function(e,t,n){var r=Object.keys(t),i=Object.keys(n);r.sort(uO),i.sort(uO);var o=a(e,r,i);if(0!==o)return o;for(var s=0;s<r.length;s++){var l=e(t[r[s]],n[i[s]]);if(0!==l)return l}return 0}(e,t,o);if("null"===l)return 0;if("undefined"===l)return 0;throw new TypeError('Unsupported type of value "'+l+'"')}});function i(e,t,n){return Hb(t)&&Hb(n)?a(e,t.toJSON().values,n.toJSON().values):Hb(t)?i(e,t.toArray(),n):Hb(n)?i(e,t,n.toArray()):Wb(t)?i(e,t.toJSON().data,n):Wb(n)?i(e,t,n.toJSON().data):Array.isArray(t)?Array.isArray(n)?a(e,t,n):i(e,t,[n]):i(e,[t],n)}function a(e,t,n){for(var r=0,i=Math.min(t.length,n.length);r<i;r++){var a=e(t[r],n[r]);if(0!==a)return a}return t.length>n.length?1:t.length<n.length?-1:0}});var dO="compareText",pO=["typed","matrix","concat"];pw.signature="any, any";var hO=Tx(dO,pO,e=>{var{typed:t,matrix:n,concat:r}=e,i=EC({typed:t,matrix:n,concat:r});return t(dO,pw,i({elop:pw,Ds:!0}))}),mO="equal",gO=Tx(mO,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:i,concat:a}=e,o=xC({typed:t}),s=kk({typed:t,DenseMatrix:i}),l=eC({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:n,concat:a});return t(mO,yO({typed:t,equalScalar:r}),u({elop:r,SS:s,DS:o,Ss:l}))}),yO=Tx(mO,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(mO,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})}),vO="equalText",bO=Tx(vO,["typed","compareText","isZero"],e=>{var{typed:t,compareText:n,isZero:r}=e;return t(vO,{"any, any":function(e,t){return r(n(e,t))}})}),xO="smaller",wO=Tx(xO,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=xC({typed:t}),s=kk({typed:t,DenseMatrix:i}),l=eC({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:r,concat:a}),c=XE({typed:t});return t(xO,NO({typed:t,config:n}),{"boolean, boolean":(e,t)=>e<t,"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!GE(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>-1===e.compare(t),"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),NO=Tx(xO,["typed","config"],e=>{var{typed:t,config:n}=e;return t(xO,{"number, number":function(e,t){return e<t&&!Jx(e,t,n.epsilon)}})}),SO="smallerEq",EO=Tx(SO,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=xC({typed:t}),s=kk({typed:t,DenseMatrix:i}),l=eC({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:r,concat:a}),c=XE({typed:t});return t(SO,AO({typed:t,config:n}),{"boolean, boolean":(e,t)=>e<=t,"BigNumber, BigNumber":function(e,t){return e.lte(t)||GE(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>1!==e.compare(t),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),AO=Tx(SO,["typed","config"],e=>{var{typed:t,config:n}=e;return t(SO,{"number, number":function(e,t){return e<=t||Jx(e,t,n.epsilon)}})}),CO="larger",kO=Tx(CO,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=xC({typed:t}),s=kk({typed:t,DenseMatrix:i}),l=eC({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:r,concat:a}),c=XE({typed:t});return t(CO,_O({typed:t,config:n}),{"boolean, boolean":(e,t)=>e>t,"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!GE(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>1===e.compare(t),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),_O=Tx(CO,["typed","config"],e=>{var{typed:t,config:n}=e;return t(CO,{"number, number":function(e,t){return e>t&&!Jx(e,t,n.epsilon)}})}),DO="largerEq",OO=Tx(DO,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:i,concat:a}=e,o=xC({typed:t}),s=kk({typed:t,DenseMatrix:i}),l=eC({typed:t,DenseMatrix:i}),u=EC({typed:t,matrix:r,concat:a}),c=XE({typed:t});return t(DO,jO({typed:t,config:n}),{"boolean, boolean":(e,t)=>e>=t,"BigNumber, BigNumber":function(e,t){return e.gte(t)||GE(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>-1!==e.compare(t),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),jO=Tx(DO,["typed","config"],e=>{var{typed:t,config:n}=e;return t(DO,{"number, number":function(e,t){return e>=t||Jx(e,t,n.epsilon)}})}),MO="deepEqual",TO=Tx(MO,["typed","equal"],e=>{var{typed:t,equal:n}=e;return t(MO,{"any, any":function(e,t){return r(e.valueOf(),t.valueOf())}});function r(e,t){if(Array.isArray(e)){if(Array.isArray(t)){var i=e.length;if(i!==t.length)return!1;for(var a=0;a<i;a++)if(!r(e[a],t[a]))return!1;return!0}return!1}return!Array.isArray(t)&&n(e,t)}}),PO="unequal",FO=Tx(PO,["typed","config","equalScalar","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,equalScalar:r,matrix:i,DenseMatrix:a,concat:o}=e,s=xC({typed:t}),l=kk({typed:t,DenseMatrix:a}),u=eC({typed:t,DenseMatrix:a}),c=EC({typed:t,matrix:i,concat:o});return t(PO,IO({typed:t,equalScalar:r}),c({elop:function(e,t){return!r(e,t)},SS:l,DS:s,Ss:u}))}),IO=Tx(PO,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(PO,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})}),BO="partitionSelect",RO=Tx(BO,["typed","isNumeric","isNaN","compare"],e=>{var{typed:t,isNumeric:n,isNaN:r,compare:i}=e,a=i,o=(e,t)=>-i(e,t);return t(BO,{"Array | Matrix, number":function(e,t){return s(e,t,a)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,a);if("desc"===n)return s(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,n){if(!Ix(t)||t<0)throw new Error("k must be a non-negative integer");if(qb(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return l(e.valueOf(),t,n)}if(Array.isArray(e))return l(e,t,n)}function l(e,t,i){if(t>=e.length)throw new Error("k out of bounds");for(var a=0;a<e.length;a++)if(n(e[a])&&r(e[a]))return e[a];for(var o=0,s=e.length-1;o<s;){for(var l=o,u=s,c=e[Math.floor(Math.random()*(s-o+1))+o];l<u;)if(i(e[l],c)>=0){var f=e[u];e[u]=e[l],e[l]=f,--u}else++l;i(e[l],c)>0&&--l,t<=l?s=l:o=l+1}return e[t]}}),zO="sort",LO=Tx(zO,["typed","matrix","compare","compareNatural"],e=>{var{typed:t,matrix:n,compare:r,compareNatural:i}=e,a=r,o=(e,t)=>-r(e,t);return t(zO,{Array:function(e){return l(e),e.sort(a)},Matrix:function(e){return u(e),n(e.toArray().sort(a),e.storage())},"Array, function":function(e,t){return l(e),e.sort(t)},"Matrix, function":function(e,t){return u(e),n(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return l(e),e.sort(s(t))},"Matrix, string":function(e,t){return u(e),n(e.toArray().sort(s(t)),e.storage())}});function s(e){if("asc"===e)return a;if("desc"===e)return o;if("natural"===e)return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(e){if(1!==gw(e).length)throw new Error("One dimensional array expected")}function u(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}}),UO=Tx("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:n,numeric:r,larger:i}=e;return t("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return AE(e,t.valueOf(),a)},"...":function(e){if(NE(e))throw new TypeError("Scalar values expected in function max");return o(e)}});function a(e,t){try{return i(e,t)?e:t}catch(n){throw fD(n,"max",t)}}function o(e){var t;if(SE(e,function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(n){throw fD(n,"max",e)}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"===typeof t&&(t=r(t,n.number)),t}}),qO=Tx("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:n,numeric:r,smaller:i}=e;return t("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return AE(e,t.valueOf(),a)},"...":function(e){if(NE(e))throw new TypeError("Scalar values expected in function min");return o(e)}});function a(e,t){try{return i(e,t)?e:t}catch(n){throw fD(n,"min",t)}}function o(e){var t;if(SE(e,function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||i(e,t))&&(t=e)}catch(n){throw fD(n,"min",e)}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"===typeof t&&(t=r(t,n.number)),t}}),$O=Tx("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:t,DenseMatrix:n}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!Lb(t))throw new Error("Invalid datatype: "+t);if(qb(e)||Ub(e)){var i=new n(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&Ub(e.data)&&Ub(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!==typeof e.min?e.min:null,this._max="undefined"!==typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+wx(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=n.prototype.subset.call(this,e);return qb(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Nx(this._data),size:Nx(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(n){(null===e||t(n,e))&&(e=n)}),this._min=null!==e?e:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(n){(null===e||t(e,n))&&(e=n)}),this._max=null!==e?e:void 0}return this._max},r},{isClass:!0}),WO=Tx("Index",["ImmutableDenseMatrix","getMatrixDataType"],e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:n}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var t=0,a=arguments.length;t<a;t++){var o=arguments[t],s=Ub(o),l=qb(o),u=null;if(Kb(o))this._dimensions.push(o),this._isScalar=!1;else if(s||l){var c=void 0;"boolean"===n(o)?(s&&(c=i(HO(o).valueOf())),l&&(c=i(HO(o._data).valueOf())),u=o.valueOf().length):c=i(o.valueOf()),this._dimensions.push(c);var f=c.size();1===f.length&&1===f[0]&&null===u||(this._isScalar=!1)}else if("number"===typeof o)this._dimensions.push(i([o]));else{if("string"!==typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}this._sourceSize.push(u)}}function i(e){for(var n=0,r=e.length;n<r;n++)if("number"!==typeof e[n]||!Ix(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var e=new r;return e._dimensions=Nx(this._dimensions),e._isScalar=this._isScalar,e._sourceSize=this._sourceSize,e},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?1:r.size()[0]}return e},r.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.max()}return e},r.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.min()}return e},r.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;t<n;t++)e(this._dimensions[t],t,this)},r.prototype.dimension=function(e){return this._dimensions[e]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"===typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"===typeof r?r:r.toArray())}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];"string"===typeof r?e.push(JSON.stringify(r)):e.push(r.toString())}return"["+e.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(e){return r.create(e.dimensions)},r},{isClass:!0});function HO(e){var t=[];return e.forEach((e,n)=>{e&&t.push(n)}),t}var KO=Tx("FibonacciHeap",["smaller","larger"],e=>{var{smaller:t,larger:n}=e,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function a(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}function o(e,t){var n=t.parent;n&&(t.mark?(a(e,t,n),o(n)):t.mark=!0)}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,t(e,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,a=e.degree,o=e.child;a>0;){var l=o.right;o.left.right=o.right,o.right.left=o.left,o.left=i,o.right=i.right,i.right=o,o.right.left=o,o.parent=null,o=l,a--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var a,o=Math.floor(Math.log(i)*r)+1,l=new Array(o),u=0,c=e;if(c)for(u++,c=c.right;c!==e;)u++,c=c.right;for(;u>0;){for(var f=c.degree,d=c.right;a=l[f];){if(n(c.key,a.key)){var p=a;a=c,c=p}s(a,c),l[f]=null,f++}l[f]=c,c=d,u--}e=null;for(var h=0;h<o;h++)(a=l[h])&&(e?(a.left.right=a.right,a.right.left=a.left,a.left=e,a.right=e.right,e.right=a,a.right.left=a,t(a.key,e.key)&&(e=a)):e=a);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=r;var i=n.parent;i&&t(n.key,i.key)&&(a(e,n,i),o(e,i));t(n.key,e.key)&&(e=n);return e}(this._minimum,e,-1),this.extractMinimum()};var s=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i},{isClass:!0}),VO=Tx("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:t,equalScalar:n,FibonacciHeap:r}=e;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var i=this._heap,a=this._values,o=[],s=i.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(n(s.value,0)||r(s.key,s.value,this)),(s=i.extractMinimum())&&o.push(s);for(var l=0;l<o.length;l++){var u=o[l];a[(s=i.insert(u.key,u.value)).key]=s}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i},{isClass:!0}),YO=gE(function(e){return new e(1).exp()},{hasher:ZO}),GO=gE(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:ZO}),XO=gE(function(e){return e.acos(-1)},{hasher:ZO}),JO=gE(function(e){return XO(e).times(2)},{hasher:ZO});function ZO(e){return e[0].precision}function QO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(n),!0).forEach(function(t){Z_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tj=Tx("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],e=>{var t,n,r,{on:i,config:a,addScalar:o,subtractScalar:s,multiplyScalar:l,divideScalar:u,pow:c,abs:f,fix:d,round:p,equal:h,isNumeric:m,format:g,number:y,Complex:v,BigNumber:b,Fraction:x}=e,w=y;function N(e,t){if(!(this instanceof N))throw new Error("Constructor must be called with the new operator");if(null!==e&&void 0!==e&&!m(e)&&!Bb(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===t)this.units=[],this.dimensions=T.map(e=>0);else if("string"===typeof t){var n=N.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{if(!zb(t)||null!==t.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=t.fixPrefix,this.skipAutomaticSimplification=t.skipAutomaticSimplification,this.dimensions=t.dimensions.slice(0),this.units=t.units.map(e=>Tb({},e))}this.value=this._normalize(e)}function S(){for(;" "===r||"\t"===r;)A()}function E(e){return e>="0"&&e<="9"}function A(){n++,r=t.charAt(n)}function C(e){n=e,r=t.charAt(n)}function k(){var e="",t=n;if("+"===r?A():"-"===r&&(e+=r,A()),!function(e){return e>="0"&&e<="9"||"."===e}(r))return C(t),null;if("."===r){if(e+=r,A(),!E(r))return C(t),null}else{for(;E(r);)e+=r,A();"."===r&&(e+=r,A())}for(;E(r);)e+=r,A();if("E"===r||"e"===r){var i="",a=n;if(i+=r,A(),"+"!==r&&"-"!==r||(i+=r,A()),!E(r))return C(a),e;for(e+=i;E(r);)e+=r,A()}return e}function _(){for(var e="";E(r)||N.isValidAlpha(r);)e+=r,A();var t=e.charAt(0);return N.isValidAlpha(t)?e:null}function D(e){return r===e?(A(),e):null}Object.defineProperty(N,"name",{value:"Unit"}),N.prototype.constructor=N,N.prototype.type="Unit",N.prototype.isUnit=!0,N.parse=function(e,i){if(i=i||{},n=-1,r="","string"!==typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new N;o.units=[];var s=1,l=!1;A(),S();var u=k(),c=null;if(u){if("BigNumber"===a.number)c=new b(u);else if("Fraction"===a.number)try{c=new x(u)}catch(E){c=parseFloat(u)}else c=parseFloat(u);S(),D("*")?(s=1,l=!0):D("/")&&(s=-1,l=!0)}for(var f=[],d=1;;){for(S();"("===r;)f.push(s),d*=s,s=1,A(),S();var p=void 0;if(!r)break;var h=r;if(null===(p=_()))throw new SyntaxError('Unexpected "'+h+'" in "'+t+'" at index '+n.toString());var m=O(p);if(null===m)throw new SyntaxError('Unit "'+p+'" not found.');var g=s*d;if(S(),D("^")){S();var y=k();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}o.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var v=0;v<T.length;v++)o.dimensions[v]+=(m.unit.dimensions[v]||0)*g;for(S();")"===r;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());d/=f.pop(),A(),S()}if(l=!1,D("*")?(s=1,l=!0):D("/")?(s=-1,l=!0):s=1,m.unit.base){var w=m.unit.base.key;L.auto[w]={unit:m.unit,prefix:m.prefix}}}if(S(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(l)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===o.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return o.value=void 0!==c?o._normalize(c):null,o},N.prototype.clone=function(){var e=new N;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=Nx(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])Ox(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},N.prototype.valueType=function(){return wx(this.value)},N.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},N.prototype._normalize=function(e){if(null===e||void 0===e||0===this.units.length)return e;for(var t=e,n=N._getNumberConverter(wx(e)),r=0;r<this.units.length;r++){var i=n(this.units[r].unit.value),a=n(this.units[r].prefix.value),o=n(this.units[r].power);t=l(t,c(l(i,a),o))}return t},N.prototype._denormalize=function(e,t){if(null===e||void 0===e||0===this.units.length)return e;for(var n=e,r=N._getNumberConverter(wx(e)),i=0;i<this.units.length;i++){var a=r(this.units[i].unit.value),o=r(this.units[i].prefix.value),s=r(this.units[i].power);n=u(n,c(l(a,o),s))}return n};var O=gE(e=>{if(Ox(B,e)){var t=B[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in B)if(Ox(B,n)&&sw(e,n)){var r=B[n],i=e.length-n.length,a=e.substring(0,i),o=Ox(r.prefixes,a)?r.prefixes[a]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null},{hasher:e=>e[0],limit:100});function j(e){return e.equalBase(P.NONE)&&null!==e.value&&!a.predictable?e.value:e}N.isValuelessUnit=function(e){return null!==O(e)},N.prototype.hasBase=function(e){if("string"===typeof e&&(e=P[e]),!e)return!1;for(var t=0;t<T.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},N.prototype.equalBase=function(e){for(var t=0;t<T.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},N.prototype.equals=function(e){return this.equalBase(e)&&h(this.value,e.value)},N.prototype.multiply=function(e){for(var t=this.clone(),n=zb(e)?e:new N(e),r=0;r<T.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(n.dimensions[r]||0);for(var i=0;i<n.units.length;i++){var a=ej({},n.units[i]);t.units.push(a)}if(null!==this.value||null!==n.value){var o=null===this.value?this._normalize(1):this.value,s=null===n.value?n._normalize(1):n.value;t.value=l(o,s)}else t.value=null;return zb(e)&&(t.skipAutomaticSimplification=!1),j(t)},N.prototype.divideInto=function(e){return new N(e).divide(this)},N.prototype.divide=function(e){for(var t=this.clone(),n=zb(e)?e:new N(e),r=0;r<T.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(n.dimensions[r]||0);for(var i=0;i<n.units.length;i++){var a=ej(ej({},n.units[i]),{},{power:-n.units[i].power});t.units.push(a)}if(null!==this.value||null!==n.value){var o=null===this.value?this._normalize(1):this.value,s=null===n.value?n._normalize(1):n.value;t.value=u(o,s)}else t.value=null;return zb(e)&&(t.skipAutomaticSimplification=!1),j(t)},N.prototype.pow=function(e){for(var t=this.clone(),n=0;n<T.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return null!==t.value?t.value=c(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,j(t)},N.prototype.abs=function(){var e=this.clone();if(null!==e.value)if(e._isDerived()||0===e.units[0].unit.offset)e.value=f(e.value);else{var t=e._numberConverter(),n=t(e.units[0].unit.value),r=t(e.units[0].unit.offset),i=l(n,r);e.value=s(f(o(e.value,i)),i)}for(var a in e.units)"VA"!==e.units[a].unit.name&&"VAR"!==e.units[a].unit.name||(e.units[a].unit=B.W);return e},N.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"===typeof e)t=N.parse(e);else{if(!zb(e))throw new Error("String or Unit expected as parameter");t=e.clone()}if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||this.units[0].unit.offset===t.units[0].unit.offset)t.value=Nx(n);else{var r=N._getNumberConverter(wx(n)),i=this.units[0].unit.value,a=this.units[0].unit.offset,u=l(i,a),c=t.units[0].unit.value,f=t.units[0].unit.offset,d=l(c,f);t.value=o(n,r(s(u,d)))}return t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},N.prototype.toNumber=function(e){return w(this.toNumeric(e))},N.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},N.prototype.toString=function(){return this.format()},N.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},N.fromJSON=function(e){var t=new N(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},N.prototype.valueOf=N.prototype.toString,N.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var i in U)if(Ox(U,i)&&n.hasBase(P[i])){e=i;break}if("NONE"===e)n.units=[];else if(e&&Ox(U,e)&&(t=U[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<T.length;o++){var s=T[o];Math.abs(n.dimensions[o]||0)>1e-12&&(Ox(U,s)?r.push({unit:U[s].unit,prefix:U[s].prefix,power:n.dimensions[o]||0}):a=!0)}r.length<n.units.length&&!a&&(n.units=r)}return n},N.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<T.length;n++){var r=T[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!Ox(L.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:L.si[r].unit,prefix:L.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},N.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(n>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var o=e;return n>0&&r>0&&(o+=" / "),o+=t},N.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in"undefined"!==typeof t.value&&null!==t.value&&Bb(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)Ox(t.units,r)&&t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=B.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=B.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),a=null!==t.value?g(i,e||{}):"",o=t.formatUnits();return t.value&&Bb(t.value)&&(a="("+a+")"),o.length>0&&a.length>0&&(a+=" "),a+=o},N.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?f(this.value):0,t=f(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(Ox(a,o)){var s=a[o];if(s.scientific){var l=Math.abs(Math.log(e/Math.pow(s.value*t,r))/Math.LN10-1.2);(l<i||l===i&&s.name.length<n.name.length)&&(n=s,i=l)}}return n},N.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var i=t.toNumeric(),a=p(i),l=new N(h(a,i)?a:d(t.toNumeric()),e[r].toString());n.push(l),t=s(t,l)}for(var u=0,c=0;c<n.length;c++)u=o(u,n[c].value);return h(u,this.value)&&(t.value=0),n.push(t),n};var M={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};M.SHORTLONG=Tb({},M.SHORT,M.LONG),M.BINARY_SHORT=Tb({},M.BINARY_SHORT_SI,M.BINARY_SHORT_IEC),M.BINARY_LONG=Tb({},M.BINARY_LONG_SI,M.BINARY_LONG_IEC);var T=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],P={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var F in P)Ox(P,F)&&(P[F].key=F);var I={name:"",base:{},value:1,offset:0,dimensions:T.map(e=>0)},B={meter:{name:"meter",base:P.LENGTH,prefixes:M.LONG,value:1,offset:0},inch:{name:"inch",base:P.LENGTH,prefixes:M.NONE,value:.0254,offset:0},foot:{name:"foot",base:P.LENGTH,prefixes:M.NONE,value:.3048,offset:0},yard:{name:"yard",base:P.LENGTH,prefixes:M.NONE,value:.9144,offset:0},mile:{name:"mile",base:P.LENGTH,prefixes:M.NONE,value:1609.344,offset:0},link:{name:"link",base:P.LENGTH,prefixes:M.NONE,value:.201168,offset:0},rod:{name:"rod",base:P.LENGTH,prefixes:M.NONE,value:5.0292,offset:0},chain:{name:"chain",base:P.LENGTH,prefixes:M.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:P.LENGTH,prefixes:M.NONE,value:1e-10,offset:0},m:{name:"m",base:P.LENGTH,prefixes:M.SHORT,value:1,offset:0},in:{name:"in",base:P.LENGTH,prefixes:M.NONE,value:.0254,offset:0},ft:{name:"ft",base:P.LENGTH,prefixes:M.NONE,value:.3048,offset:0},yd:{name:"yd",base:P.LENGTH,prefixes:M.NONE,value:.9144,offset:0},mi:{name:"mi",base:P.LENGTH,prefixes:M.NONE,value:1609.344,offset:0},li:{name:"li",base:P.LENGTH,prefixes:M.NONE,value:.201168,offset:0},rd:{name:"rd",base:P.LENGTH,prefixes:M.NONE,value:5.02921,offset:0},ch:{name:"ch",base:P.LENGTH,prefixes:M.NONE,value:20.1168,offset:0},mil:{name:"mil",base:P.LENGTH,prefixes:M.NONE,value:254e-7,offset:0},m2:{name:"m2",base:P.SURFACE,prefixes:M.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:P.SURFACE,prefixes:M.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:P.SURFACE,prefixes:M.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:P.SURFACE,prefixes:M.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:P.SURFACE,prefixes:M.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:P.SURFACE,prefixes:M.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:P.SURFACE,prefixes:M.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:P.SURFACE,prefixes:M.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:P.SURFACE,prefixes:M.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:P.SURFACE,prefixes:M.NONE,value:1e4,offset:0},m3:{name:"m3",base:P.VOLUME,prefixes:M.CUBIC,value:1,offset:0},L:{name:"L",base:P.VOLUME,prefixes:M.SHORT,value:.001,offset:0},l:{name:"l",base:P.VOLUME,prefixes:M.SHORT,value:.001,offset:0},litre:{name:"litre",base:P.VOLUME,prefixes:M.LONG,value:.001,offset:0},cuin:{name:"cuin",base:P.VOLUME,prefixes:M.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:P.VOLUME,prefixes:M.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:P.VOLUME,prefixes:M.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:P.VOLUME,prefixes:M.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:P.VOLUME,prefixes:M.NONE,value:15e-6,offset:0},drop:{name:"drop",base:P.VOLUME,prefixes:M.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:P.VOLUME,prefixes:M.NONE,value:5e-8,offset:0},minim:{name:"minim",base:P.VOLUME,prefixes:M.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:P.VOLUME,prefixes:M.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:P.VOLUME,prefixes:M.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:P.VOLUME,prefixes:M.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:P.VOLUME,prefixes:M.NONE,value:1e-6,offset:0},cup:{name:"cup",base:P.VOLUME,prefixes:M.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:P.VOLUME,prefixes:M.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:P.VOLUME,prefixes:M.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:P.VOLUME,prefixes:M.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:P.VOLUME,prefixes:M.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:P.VOLUME,prefixes:M.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:P.VOLUME,prefixes:M.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:P.VOLUME,prefixes:M.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:P.VOLUME,prefixes:M.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:P.VOLUME,prefixes:M.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:P.VOLUME,prefixes:M.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:P.VOLUME,prefixes:M.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:P.VOLUME,prefixes:M.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:P.VOLUME,prefixes:M.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:P.VOLUME,prefixes:M.NONE,value:.1173478,offset:0},obl:{name:"obl",base:P.VOLUME,prefixes:M.NONE,value:.1589873,offset:0},g:{name:"g",base:P.MASS,prefixes:M.SHORT,value:.001,offset:0},gram:{name:"gram",base:P.MASS,prefixes:M.LONG,value:.001,offset:0},ton:{name:"ton",base:P.MASS,prefixes:M.SHORT,value:907.18474,offset:0},t:{name:"t",base:P.MASS,prefixes:M.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:P.MASS,prefixes:M.LONG,value:1e3,offset:0},grain:{name:"grain",base:P.MASS,prefixes:M.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:P.MASS,prefixes:M.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:P.MASS,prefixes:M.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:P.MASS,prefixes:M.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:P.MASS,prefixes:M.NONE,value:45.359237,offset:0},stick:{name:"stick",base:P.MASS,prefixes:M.NONE,value:.115,offset:0},stone:{name:"stone",base:P.MASS,prefixes:M.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:P.MASS,prefixes:M.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:P.MASS,prefixes:M.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:P.MASS,prefixes:M.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:P.MASS,prefixes:M.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:P.MASS,prefixes:M.NONE,value:45.359237,offset:0},s:{name:"s",base:P.TIME,prefixes:M.SHORT,value:1,offset:0},min:{name:"min",base:P.TIME,prefixes:M.NONE,value:60,offset:0},h:{name:"h",base:P.TIME,prefixes:M.NONE,value:3600,offset:0},second:{name:"second",base:P.TIME,prefixes:M.LONG,value:1,offset:0},sec:{name:"sec",base:P.TIME,prefixes:M.LONG,value:1,offset:0},minute:{name:"minute",base:P.TIME,prefixes:M.NONE,value:60,offset:0},hour:{name:"hour",base:P.TIME,prefixes:M.NONE,value:3600,offset:0},day:{name:"day",base:P.TIME,prefixes:M.NONE,value:86400,offset:0},week:{name:"week",base:P.TIME,prefixes:M.NONE,value:604800,offset:0},month:{name:"month",base:P.TIME,prefixes:M.NONE,value:2629800,offset:0},year:{name:"year",base:P.TIME,prefixes:M.NONE,value:31557600,offset:0},decade:{name:"decade",base:P.TIME,prefixes:M.NONE,value:315576e3,offset:0},century:{name:"century",base:P.TIME,prefixes:M.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:P.TIME,prefixes:M.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:P.FREQUENCY,prefixes:M.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:P.FREQUENCY,prefixes:M.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:P.ANGLE,prefixes:M.SHORT,value:1,offset:0},radian:{name:"radian",base:P.ANGLE,prefixes:M.LONG,value:1,offset:0},deg:{name:"deg",base:P.ANGLE,prefixes:M.SHORT,value:null,offset:0},degree:{name:"degree",base:P.ANGLE,prefixes:M.LONG,value:null,offset:0},grad:{name:"grad",base:P.ANGLE,prefixes:M.SHORT,value:null,offset:0},gradian:{name:"gradian",base:P.ANGLE,prefixes:M.LONG,value:null,offset:0},cycle:{name:"cycle",base:P.ANGLE,prefixes:M.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:P.ANGLE,prefixes:M.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:P.ANGLE,prefixes:M.NONE,value:null,offset:0},A:{name:"A",base:P.CURRENT,prefixes:M.SHORT,value:1,offset:0},ampere:{name:"ampere",base:P.CURRENT,prefixes:M.LONG,value:1,offset:0},K:{name:"K",base:P.TEMPERATURE,prefixes:M.SHORT,value:1,offset:0},degC:{name:"degC",base:P.TEMPERATURE,prefixes:M.SHORT,value:1,offset:273.15},degF:{name:"degF",base:P.TEMPERATURE,prefixes:M.SHORT,value:new x(5,9),offset:459.67},degR:{name:"degR",base:P.TEMPERATURE,prefixes:M.SHORT,value:new x(5,9),offset:0},kelvin:{name:"kelvin",base:P.TEMPERATURE,prefixes:M.LONG,value:1,offset:0},celsius:{name:"celsius",base:P.TEMPERATURE,prefixes:M.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:P.TEMPERATURE,prefixes:M.LONG,value:new x(5,9),offset:459.67},rankine:{name:"rankine",base:P.TEMPERATURE,prefixes:M.LONG,value:new x(5,9),offset:0},mol:{name:"mol",base:P.AMOUNT_OF_SUBSTANCE,prefixes:M.SHORT,value:1,offset:0},mole:{name:"mole",base:P.AMOUNT_OF_SUBSTANCE,prefixes:M.LONG,value:1,offset:0},cd:{name:"cd",base:P.LUMINOUS_INTENSITY,prefixes:M.SHORT,value:1,offset:0},candela:{name:"candela",base:P.LUMINOUS_INTENSITY,prefixes:M.LONG,value:1,offset:0},N:{name:"N",base:P.FORCE,prefixes:M.SHORT,value:1,offset:0},newton:{name:"newton",base:P.FORCE,prefixes:M.LONG,value:1,offset:0},dyn:{name:"dyn",base:P.FORCE,prefixes:M.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:P.FORCE,prefixes:M.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:P.FORCE,prefixes:M.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:P.FORCE,prefixes:M.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:P.FORCE,prefixes:M.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:P.FORCE,prefixes:M.NONE,value:9.80665,offset:0},J:{name:"J",base:P.ENERGY,prefixes:M.SHORT,value:1,offset:0},joule:{name:"joule",base:P.ENERGY,prefixes:M.LONG,value:1,offset:0},erg:{name:"erg",base:P.ENERGY,prefixes:M.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:P.ENERGY,prefixes:M.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:P.ENERGY,prefixes:M.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:P.ENERGY,prefixes:M.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:P.ENERGY,prefixes:M.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:P.POWER,prefixes:M.SHORT,value:1,offset:0},watt:{name:"watt",base:P.POWER,prefixes:M.LONG,value:1,offset:0},hp:{name:"hp",base:P.POWER,prefixes:M.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:P.POWER,prefixes:M.SHORT,value:v.I,offset:0},VA:{name:"VA",base:P.POWER,prefixes:M.SHORT,value:1,offset:0},Pa:{name:"Pa",base:P.PRESSURE,prefixes:M.SHORT,value:1,offset:0},psi:{name:"psi",base:P.PRESSURE,prefixes:M.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:P.PRESSURE,prefixes:M.NONE,value:101325,offset:0},bar:{name:"bar",base:P.PRESSURE,prefixes:M.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:P.PRESSURE,prefixes:M.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:P.PRESSURE,prefixes:M.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:P.PRESSURE,prefixes:M.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:P.PRESSURE,prefixes:M.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:P.ELECTRIC_CHARGE,prefixes:M.LONG,value:1,offset:0},C:{name:"C",base:P.ELECTRIC_CHARGE,prefixes:M.SHORT,value:1,offset:0},farad:{name:"farad",base:P.ELECTRIC_CAPACITANCE,prefixes:M.LONG,value:1,offset:0},F:{name:"F",base:P.ELECTRIC_CAPACITANCE,prefixes:M.SHORT,value:1,offset:0},volt:{name:"volt",base:P.ELECTRIC_POTENTIAL,prefixes:M.LONG,value:1,offset:0},V:{name:"V",base:P.ELECTRIC_POTENTIAL,prefixes:M.SHORT,value:1,offset:0},ohm:{name:"ohm",base:P.ELECTRIC_RESISTANCE,prefixes:M.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:P.ELECTRIC_INDUCTANCE,prefixes:M.LONG,value:1,offset:0},H:{name:"H",base:P.ELECTRIC_INDUCTANCE,prefixes:M.SHORT,value:1,offset:0},siemens:{name:"siemens",base:P.ELECTRIC_CONDUCTANCE,prefixes:M.LONG,value:1,offset:0},S:{name:"S",base:P.ELECTRIC_CONDUCTANCE,prefixes:M.SHORT,value:1,offset:0},weber:{name:"weber",base:P.MAGNETIC_FLUX,prefixes:M.LONG,value:1,offset:0},Wb:{name:"Wb",base:P.MAGNETIC_FLUX,prefixes:M.SHORT,value:1,offset:0},tesla:{name:"tesla",base:P.MAGNETIC_FLUX_DENSITY,prefixes:M.LONG,value:1,offset:0},T:{name:"T",base:P.MAGNETIC_FLUX_DENSITY,prefixes:M.SHORT,value:1,offset:0},b:{name:"b",base:P.BIT,prefixes:M.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:P.BIT,prefixes:M.BINARY_LONG,value:1,offset:0},B:{name:"B",base:P.BIT,prefixes:M.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:P.BIT,prefixes:M.BINARY_LONG,value:8,offset:0}},R={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function z(e){if("BigNumber"===e.number){var t=XO(b);B.rad.value=new b(1),B.deg.value=t.div(180),B.grad.value=t.div(200),B.cycle.value=t.times(2),B.arcsec.value=t.div(648e3),B.arcmin.value=t.div(10800)}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value}z(a),i&&i("config",function(e,t){e.number!==t.number&&z(e)});var L={si:{NONE:{unit:I,prefix:M.NONE[""]},LENGTH:{unit:B.m,prefix:M.SHORT[""]},MASS:{unit:B.g,prefix:M.SHORT.k},TIME:{unit:B.s,prefix:M.SHORT[""]},CURRENT:{unit:B.A,prefix:M.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:M.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:M.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:M.SHORT[""]},ANGLE:{unit:B.rad,prefix:M.SHORT[""]},BIT:{unit:B.bits,prefix:M.SHORT[""]},FORCE:{unit:B.N,prefix:M.SHORT[""]},ENERGY:{unit:B.J,prefix:M.SHORT[""]},POWER:{unit:B.W,prefix:M.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:M.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:M.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:M.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:M.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:M.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:M.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:M.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:M.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:M.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:M.SHORT[""]}}};L.cgs=JSON.parse(JSON.stringify(L.si)),L.cgs.LENGTH={unit:B.m,prefix:M.SHORT.c},L.cgs.MASS={unit:B.g,prefix:M.SHORT[""]},L.cgs.FORCE={unit:B.dyn,prefix:M.SHORT[""]},L.cgs.ENERGY={unit:B.erg,prefix:M.NONE[""]},L.us=JSON.parse(JSON.stringify(L.si)),L.us.LENGTH={unit:B.ft,prefix:M.NONE[""]},L.us.MASS={unit:B.lbm,prefix:M.NONE[""]},L.us.TEMPERATURE={unit:B.degF,prefix:M.NONE[""]},L.us.FORCE={unit:B.lbf,prefix:M.NONE[""]},L.us.ENERGY={unit:B.BTU,prefix:M.BTU[""]},L.us.POWER={unit:B.hp,prefix:M.NONE[""]},L.us.PRESSURE={unit:B.psi,prefix:M.NONE[""]},L.auto=JSON.parse(JSON.stringify(L.si));var U=L.auto;for(var q in N.setUnitSystem=function(e){if(!Ox(L,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(L).join(", "));U=L[e]},N.getUnitSystem=function(){for(var e in L)if(Ox(L,e)&&L[e]===U)return e},N.typeConverters={BigNumber:function(e){return null!==e&&void 0!==e&&e.isFraction?new b(e.n).div(e.d).times(e.s):new b(e+"")},Fraction:function(e){return new x(e)},Complex:function(e){return e},number:function(e){return null!==e&&void 0!==e&&e.isFraction?y(e):e}},N.prototype._numberConverter=function(){var e=N.typeConverters[this.valueType()];if(e)return e;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},N._getNumberConverter=function(e){if(!N.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return N.typeConverters[e]},B)if(Ox(B,q)){var $=B[q];$.dimensions=$.base.dimensions}for(var W in R)if(Ox(R,W)){var H=B[R[W]],K={};for(var V in H)Ox(H,V)&&(K[V]=H[V]);K.name=W,B[W]=K}return N.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},N.createUnit=function(e,t){if("object"!==typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(Ox(e,n)&&N.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)N.deleteUnit(e[n].aliases[r]);var i;for(var a in e)Ox(e,a)&&(i=N.createUnitSingle(a,e[a]));return i},N.createUnitSingle=function(e,t){if("undefined"!==typeof t&&null!==t||(t={}),"string"!==typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ox(B,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){if(r=e.charAt(t),0===t&&!N.isValidAlpha(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!N.isValidAlpha(r)&&!E(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var n,i,a,o=null,s=[],l=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"===typeof t)""!==t&&(n=t);else{if("object"!==typeof t)throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');n=t.definition,i=t.prefixes,l=t.offset,a=t.baseName,t.aliases&&(s=t.aliases.valueOf())}if(s)for(var u=0;u<s.length;u++)if(Ox(B,s[u]))throw new Error('Cannot create alias "'+s[u]+'": a unit with that name already exists');if(n&&"string"===typeof n&&!o)try{o=N.parse(n,{allowNoUnits:!0})}catch(A){throw A.message='Could not create unit "'+e+'" from "'+n+'": '+A.message,A}else n&&"Unit"===n.type&&(o=n.clone());s=s||[],l=l||0,i=i&&i.toUpperCase&&M[i.toUpperCase()]||M.NONE;var c={};if(o){c={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:l};var f=!1;for(var d in P)if(Ox(P,d)){for(var p=!0,h=0;h<T.length;h++)if(Math.abs((c.dimensions[h]||0)-(P[d].dimensions[h]||0))>1e-12){p=!1;break}if(p){f=!0,c.base=P[d];break}}if(!f){a=a||e+"_STUFF";var m={dimensions:o.dimensions.slice(0)};m.key=a,P[a]=m,U[a]={unit:c,prefix:M.NONE[""]},c.base=P[a]}}else{if(a=a||e+"_STUFF",T.indexOf(a)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var g in T.push(a),P)Ox(P,g)&&(P[g].dimensions[T.length-1]=0);for(var y={dimensions:[]},v=0;v<T.length;v++)y.dimensions[v]=0;y.dimensions[T.length-1]=1,y.key=a,P[a]=y,c={name:e,value:1,dimensions:P[a].dimensions.slice(0),prefixes:i,offset:l,base:P[a]},U[a]={unit:c,prefix:M.NONE[""]}}N.UNITS[e]=c;for(var b=0;b<s.length;b++){var x=s[b],w={};for(var S in c)Ox(c,S)&&(w[S]=c[S]);w.name=x,N.UNITS[x]=w}return delete O.cache,new N(null,e)},N.deleteUnit=function(e){delete N.UNITS[e]},N.PREFIXES=M,N.BASE_DIMENSIONS=T,N.BASE_UNITS=P,N.UNIT_SYSTEMS=L,N.UNITS=B,N},{isClass:!0}),nj="unit",rj=Tx(nj,["typed","Unit"],e=>{var{typed:t,Unit:n}=e;return t(nj,{Unit:function(e){return e.clone()},string:function(e){return n.isValuelessUnit(e)?new n(null,e):n.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(e,t){return new n(e,t)},"number | BigNumber | Fraction":function(e){return new n(e)},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),ij="sparse",aj=Tx(ij,["typed","SparseMatrix"],e=>{var{typed:t,SparseMatrix:n}=e;return t(ij,{"":function(){return new n([])},string:function(e){return new n([],e)},"Array | Matrix":function(e){return new n(e)},"Array | Matrix, string":function(e,t){return new n(e,t)}})}),oj="createUnit",sj=Tx(oj,["typed","Unit"],e=>{var{typed:t,Unit:n}=e;return t(oj,{"Object, Object":function(e,t){return n.createUnit(e,t)},Object:function(e){return n.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,r){var i={};return i[e]=t,n.createUnit(i,r)},"string, Unit | string | Object":function(e,t){var r={};return r[e]=t,n.createUnit(r,{})},string:function(e){var t={};return t[e]={},n.createUnit(t,{})}})}),lj="acos",uj=Tx(lj,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(lj,{number:function(e){return e>=-1&&e<=1||n.predictable?Math.acos(e):new r(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()}})}),cj="number";function fj(e){return Zx(e)}function dj(e){return Math.atan(1/e)}function pj(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function hj(e){return Math.asin(1/e)}function mj(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function gj(e){return Math.acos(1/e)}function yj(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function vj(e){return Qx(e)}function bj(e){return ew(e)}function xj(e){return 1/Math.tan(e)}function wj(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Nj(e){return 1/Math.sin(e)}function Sj(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*Bx(e)}function Ej(e){return 1/Math.cos(e)}function Aj(e){return 2/(Math.exp(e)+Math.exp(-e))}function Cj(e){return nw(e)}fj.signature=cj,dj.signature=cj,pj.signature=cj,hj.signature=cj,mj.signature=cj,gj.signature=cj,yj.signature=cj,vj.signature=cj,bj.signature=cj,xj.signature=cj,wj.signature=cj,Nj.signature=cj,Sj.signature=cj,Ej.signature=cj,Aj.signature=cj,Cj.signature=cj;var kj="acosh",_j=Tx(kj,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(kj,{number:function(e){return e>=1||n.predictable?fj(e):e<=-1?new r(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new r(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()}})}),Dj="acot",Oj=Tx(Dj,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(Dj,{number:dj,Complex:function(e){return e.acot()},BigNumber:function(e){return new n(1).div(e).atan()}})}),jj="acoth",Mj=Tx(jj,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(jj,{number:function(e){return e>=1||e<=-1||n.predictable?pj(e):new r(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new i(1).div(e).atanh()}})}),Tj="acsc",Pj=Tx(Tj,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(Tj,{number:function(e){return e<=-1||e>=1||n.predictable?hj(e):new r(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new i(1).div(e).asin()}})}),Fj="acsch",Ij=Tx(Fj,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(Fj,{number:mj,Complex:function(e){return e.acsch()},BigNumber:function(e){return new n(1).div(e).asinh()}})}),Bj="asec",Rj=Tx(Bj,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(Bj,{number:function(e){return e<=-1||e>=1||n.predictable?gj(e):new r(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new i(1).div(e).acos()}})}),zj="asech",Lj=Tx(zj,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:i}=e;return t(zj,{number:function(e){if(e<=1&&e>=-1||n.predictable){var t=1/e;if(t>0||n.predictable)return yj(e);var i=Math.sqrt(t*t-1);return new r(Math.log(i-t),Math.PI)}return new r(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new i(1).div(e).acosh()}})}),Uj="asin",qj=Tx(Uj,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(Uj,{number:function(e){return e>=-1&&e<=1||n.predictable?Math.asin(e):new r(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()}})}),$j=Tx("asinh",["typed"],e=>{var{typed:t}=e;return t("asinh",{number:vj,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()}})}),Wj=Tx("atan",["typed"],e=>{var{typed:t}=e;return t("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()}})}),Hj="atan2",Kj=Tx(Hj,["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:i,DenseMatrix:a,concat:o}=e,s=bC({typed:t,equalScalar:r}),l=xC({typed:t}),u=nk({typed:t,equalScalar:r}),c=QA({typed:t,equalScalar:r}),f=eC({typed:t,DenseMatrix:a}),d=EC({typed:t,matrix:n,concat:o});return t(Hj,{"number, number":Math.atan2,"BigNumber, BigNumber":(e,t)=>i.atan2(e,t)},d({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:f}))}),Vj="atanh",Yj=Tx(Vj,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(Vj,{number:function(e){return e<=1&&e>=-1||n.predictable?bj(e):new r(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()}})}),Gj=Tx("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(e=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(e,n.valueType())(n.value)})}}),Xj=Tx("cos",["typed"],e=>{var{typed:t}=e,n=Gj({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":e=>e.cos()},n)}),Jj="cosh",Zj=Tx(Jj,["typed"],e=>{var{typed:t}=e;return t(Jj,{number:tw,"Complex | BigNumber":e=>e.cosh()})}),Qj=Tx("cot",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("cot",{number:xj,Complex:e=>e.cot(),BigNumber:e=>new n(1).div(e.tan())},Gj({typed:t}))}),eM="coth",tM=Tx(eM,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(eM,{number:wj,Complex:e=>e.coth(),BigNumber:e=>new n(1).div(e.tanh())})}),nM=Tx("csc",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("csc",{number:Nj,Complex:e=>e.csc(),BigNumber:e=>new n(1).div(e.sin())},Gj({typed:t}))}),rM="csch",iM=Tx(rM,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(rM,{number:Sj,Complex:e=>e.csch(),BigNumber:e=>new n(1).div(e.sinh())})}),aM=Tx("sec",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("sec",{number:Ej,Complex:e=>e.sec(),BigNumber:e=>new n(1).div(e.cos())},Gj({typed:t}))}),oM="sech",sM=Tx(oM,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(oM,{number:Aj,Complex:e=>e.sech(),BigNumber:e=>new n(1).div(e.cosh())})}),lM=Tx("sin",["typed"],e=>{var{typed:t}=e,n=Gj({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":e=>e.sin()},n)}),uM="sinh",cM=Tx(uM,["typed"],e=>{var{typed:t}=e;return t(uM,{number:Cj,"Complex | BigNumber":e=>e.sinh()})}),fM=Tx("tan",["typed"],e=>{var{typed:t}=e,n=Gj({typed:t});return t("tan",{number:Math.tan,"Complex | BigNumber":e=>e.tan()},n)}),dM=Tx("tanh",["typed"],e=>{var{typed:t}=e;return t("tanh",{number:rw,"Complex | BigNumber":e=>e.tanh()})}),pM="setCartesian",hM=Tx(pM,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(pM,{"Array | Matrix, Array | Matrix":function(e,t){var s=[];if(0!==r(n(e),new a(0))&&0!==r(n(t),new a(0))){var l=jw(Array.isArray(e)?e:e.toArray()).sort(i),u=jw(Array.isArray(t)?t:t.toArray()).sort(i);s=[];for(var c=0;c<l.length;c++)for(var f=0;f<u.length;f++)s.push([l[c],u[f]])}return Array.isArray(e)&&Array.isArray(t)?s:new o(s)}})}),mM="setDifference",gM=Tx(mM,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(mM,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new a(0)))s=[];else{if(0===r(n(t),new a(0)))return jw(e.toArray());var l,u=Bw(jw(Array.isArray(e)?e:e.toArray()).sort(i)),c=Bw(jw(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var f=0;f<u.length;f++){l=!1;for(var d=0;d<c.length;d++)if(0===i(u[f].value,c[d].value)&&u[f].identifier===c[d].identifier){l=!0;break}l||s.push(u[f])}}return Array.isArray(e)&&Array.isArray(t)?Rw(s):new o(Rw(s))}})}),yM="setDistinct",vM=Tx(yM,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(yM,{"Array | Matrix":function(e){var t;if(0===r(n(e),new a(0)))t=[];else{var s=jw(Array.isArray(e)?e:e.toArray()).sort(i);(t=[]).push(s[0]);for(var l=1;l<s.length;l++)0!==i(s[l],s[l-1])&&t.push(s[l])}return Array.isArray(e)?t:new o(t)}})}),bM="setIntersect",xM=Tx(bM,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(bM,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new a(0))||0===r(n(t),new a(0)))s=[];else{var l=Bw(jw(Array.isArray(e)?e:e.toArray()).sort(i)),u=Bw(jw(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var c=0;c<l.length;c++)for(var f=0;f<u.length;f++)if(0===i(l[c].value,u[f].value)&&l[c].identifier===u[f].identifier){s.push(l[c]);break}}return Array.isArray(e)&&Array.isArray(t)?Rw(s):new o(Rw(s))}})}),wM="setIsSubset",NM=Tx(wM,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(wM,{"Array | Matrix, Array | Matrix":function(e,t){if(0===r(n(e),new a(0)))return!0;if(0===r(n(t),new a(0)))return!1;for(var o,s=Bw(jw(Array.isArray(e)?e:e.toArray()).sort(i)),l=Bw(jw(Array.isArray(t)?t:t.toArray()).sort(i)),u=0;u<s.length;u++){o=!1;for(var c=0;c<l.length;c++)if(0===i(s[u].value,l[c].value)&&s[u].identifier===l[c].identifier){o=!0;break}if(!1===o)return!1}return!0}})}),SM="setMultiplicity",EM=Tx(SM,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(SM,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===r(n(t),new a(0)))return 0;for(var o=jw(Array.isArray(t)?t:t.toArray()),s=0,l=0;l<o.length;l++)0===i(o[l],e)&&s++;return s}})}),AM="setPowerset",CM=Tx(AM,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:i,Index:a}=e;return t(AM,{"Array | Matrix":function(e){if(0===r(n(e),new a(0)))return[];for(var t=jw(Array.isArray(e)?e:e.toArray()).sort(i),s=[],l=0;l.toString(2).length<=t.length;)s.push(o(t,l.toString(2).split("").reverse())),l++;return function(e){for(var t=[],n=e.length-1;n>0;n--)for(var r=0;r<n;r++)e[r].length>e[r+1].length&&(t=e[r],e[r]=e[r+1],e[r+1]=t);return e}(s)}});function o(e,t){for(var n=[],r=0;r<t.length;r++)"1"===t[r]&&n.push(e[r]);return n}}),kM="setSize",_M=Tx(kM,["typed","compareNatural"],e=>{var{typed:t,compareNatural:n}=e;return t(kM,{"Array | Matrix":function(e){return Array.isArray(e)?jw(e).length:jw(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?jw(e).length:jw(e.toArray()).length;for(var r=jw(Array.isArray(e)?e:e.toArray()).sort(n),i=1,a=1;a<r.length;a++)0!==n(r[a],r[a-1])&&i++;return i}})}),DM="setSymDifference",OM=Tx(DM,["typed","size","concat","subset","setDifference","Index"],e=>{var{typed:t,size:n,concat:r,subset:i,setDifference:a,Index:o}=e;return t(DM,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(n(e),new o(0)))return jw(t);if(0===i(n(t),new o(0)))return jw(e);var s=jw(e),l=jw(t);return r(a(s,l),a(l,s))}})}),jM="setUnion",MM=Tx(jM,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],e=>{var{typed:t,size:n,concat:r,subset:i,setIntersect:a,setSymDifference:o,Index:s}=e;return t(jM,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(n(e),new s(0)))return jw(t);if(0===i(n(t),new s(0)))return jw(e);var l=jw(e),u=jw(t);return r(o(l,u),a(l,u))}})}),TM=Tx("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=e,l=CC({typed:t}),u=kC({typed:t,equalScalar:i}),c=_C({typed:t,DenseMatrix:a}),f=EC({typed:t,matrix:n,concat:s});return t("add",{"any, any":r,"any, any, ...any":t.referToSelf(e=>(t,n,r)=>{for(var i=e(t,n),a=0;a<r.length;a++)i=e(i,r[a]);return i})},f({elop:r,DS:l,SS:u,Ss:c}))}),PM="hypot",FM=Tx(PM,["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],e=>{var{typed:t,abs:n,addScalar:r,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=e;return t(PM,{"... number | BigNumber":u,Array:u,Matrix:e=>u(jw(e.toArray()))});function u(e){for(var t=0,u=0,c=0;c<e.length;c++){if(Bb(e[c]))throw new TypeError("Unexpected type of argument to hypot");var f=n(e[c]);s(u,f)?(t=a(t,a(i(u,f),i(u,f))),t=r(t,1),u=f):t=r(t,l(f)?a(i(f,u),i(f,u)):f)}return a(u,o(t))}}),IM="norm",BM=Tx(IM,["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],e=>{var{typed:t,abs:n,add:r,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:f,ctranspose:d,eigs:p}=e;return t(IM,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return g(f(e),2)},Matrix:function(e){return g(e,2)},"Array, number | BigNumber | string":function(e,t){return g(f(e),t)},"Matrix, number | BigNumber | string":function(e,t){return g(e,t)}});function h(e,t){if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=0;return e.forEach(function(e){var r=n(e);u(r,t)&&(t=r)},!0),t}(e);if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return function(e){var t;return e.forEach(function(e){var r=n(e);t&&!c(r,t)||(t=r)},!0),t||0}(e);if("fro"===t)return g(e,2);if("number"===typeof t&&!isNaN(t)){if(!l(t,0)){var a=0;return e.forEach(function(e){a=r(i(n(e),t),a)},!0),i(a,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function m(e,t){if(1===t)return function(e){var t=[],i=0;return e.forEach(function(e,a){var o=a[1],s=r(t[o]||0,n(e));u(s,i)&&(i=s),t[o]=s},!0),i}(e);if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=[],i=0;return e.forEach(function(e,a){var o=a[0],s=r(t[o]||0,n(e));u(s,i)&&(i=s),t[o]=s},!0),i}(e);if("fro"===t)return function(e){var t=0;return e.forEach(function(e,n){t=r(t,s(e,a(e)))}),n(o(t))}(e);if(2===t)return function(e){var t=e.size();if(t[0]!==t[1])throw new RangeError("Invalid matrix dimensions");var r=d(e),i=s(r,e),a=p(i).values.toArray(),l=a[a.length-1];return n(o(l))}(e);throw new Error("Unsupported parameter value "+t)}function g(e,t){var n=e.size();if(1===n.length)return h(e,t);if(2===n.length){if(n[0]&&n[1])return m(e,t);throw new RangeError("Invalid matrix dimensions")}}}),RM=Tx("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var l=o(e,a),u=qb(e)?e._data:e,c=qb(e)?e._datatype:void 0,f=qb(a)?a._data:a,d=qb(a)?a._datatype:void 0,p=2===s(e).length,h=2===s(a).length,m=n,g=r;if(c&&d&&c===d&&"string"===typeof c){var y=c;m=t.find(n,[y,y]),g=t.find(r,[y,y])}if(!p&&!h){for(var v=g(i(u[0]),f[0]),b=1;b<l;b++)v=m(v,g(i(u[b]),f[b]));return v}if(!p&&h){for(var x=g(i(u[0]),f[0][0]),w=1;w<l;w++)x=m(x,g(i(u[w]),f[w][0]));return x}if(p&&!h){for(var N=g(i(u[0][0]),f[0]),S=1;S<l;S++)N=m(N,g(i(u[S][0]),f[S]));return N}if(p&&h){for(var E=g(i(u[0][0]),f[0][0]),A=1;A<l;A++)E=m(E,g(i(u[A][0]),f[A][0]));return E}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var i=e._index,a=e._values,s=t._index,l=t._values,u=0,c=n,f=r,d=0,p=0;for(;d<i.length&&p<s.length;){var h=i[d],m=s[p];h<m?d++:h>m?p++:h===m&&(u=c(u,f(a[d],l[p])),d++,p++)}return u}});function o(e,t){var n,r,i=s(e),a=s(t);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===a.length)r=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");r=a[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(e){return qb(e)?e.size():a(e)}}),zM=Tx("trace",["typed","matrix","add"],e=>{var{typed:t,matrix:n,add:r}=e;return t("trace",{Array:function(e){return i(n(e))},SparseMatrix:function(e){var t=e._values,n=e._index,i=e._ptr,a=e._size,o=a[0],s=a[1];if(o===s){var l=0;if(t.length>0)for(var u=0;u<s;u++)for(var c=i[u],f=i[u+1],d=c;d<f;d++){var p=n[d];if(p===u){l=r(l,t[d]);break}if(p>u)break}return l}throw new RangeError("Matrix must be square (size: "+lw(a)+")")},DenseMatrix:i,any:Nx});function i(e){var t=e._size,n=e._data;switch(t.length){case 1:if(1===t[0])return Nx(n[0]);throw new RangeError("Matrix must be square (size: "+lw(t)+")");case 2:var i=t[0];if(i===t[1]){for(var a=0,o=0;o<i;o++)a=r(a,n[o][o]);return a}throw new RangeError("Matrix must be square (size: "+lw(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+lw(t)+")")}}}),LM="index",UM=Tx(LM,["typed","Index"],e=>{var{typed:t,Index:n}=e;return t(LM,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return Ib(e)?e.toNumber():Ub(e)||qb(e)?e.map(function(e){return Ib(e)?e.toNumber():e}):e}),r=new n;return n.apply(r,t),r}})}),qM=new Set(["end"]),$M=Tx("Node",["mathWithTransform"],e=>{var{mathWithTransform:t}=e;return class{get type(){return"Node"}get isNode(){return!0}evaluate(e){return this.compile().evaluate(e)}compile(){var e=this._compile(t,{}),n={};return{evaluate:function(t){var r=uN(t);return function(e){for(var t of[...qM])if(e.has(t))throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}}}_compile(e,t){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(e){throw new Error("Cannot run forEach on a Node interface")}map(e){throw new Error("Cannot run map on a Node interface")}_ifNode(e){if(!px(e))throw new TypeError("Callback function must return a Node");return e}traverse(e){e(this,null,null),function e(t,n){t.forEach(function(t,r,i){n(t,r,i),e(t,n)})}(this,e)}transform(e){return function t(n,r,i){var a=e(n,r,i);return a!==n?a:n.map(t)}(this,null,null)}filter(e){var t=[];return this.traverse(function(n,r,i){e(n,r,i)&&t.push(n)}),t}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(e){return e.cloneDeep()})}equals(e){return!!e&&(this.type===e.type&&Cx(this,e))}toString(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toString(e)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this.toHTML(e)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toTex(e)}_toTex(e){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(e){if(e&&"object"===typeof e)switch(typeof e.handler){case"object":case"undefined":return;case"function":return e.handler(this,e);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function WM(e){return e&&e.isIndexError?new mw(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function HM(e){var{subset:t}=e;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"===typeof e.subset)return e.subset(n);if("string"===typeof e)return t(e,n);if("object"===typeof e){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return eN(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw WM(r)}}}var KM="AccessorNode",VM=Tx(KM,["subset","Node"],e=>{var{subset:t,Node:n}=e,r=HM({subset:t});function i(e){return!(rx(e)||ix(e)||lx(e)||fx(e)||hx(e)||gx(e)||bx(e))}class a extends n{constructor(e,t){if(super(),!px(e))throw new TypeError('Node expected for parameter "object"');if(!dx(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e,this.index=t}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return KM}get isAccessorNode(){return!0}_compile(e,t){var n=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(e,t,r){return eN(n(e,t,r),a)}}return function(e,t,a){var o=n(e,t,a),s=i(e,t,o);return r(o,s)}}forEach(e){e(this.object,"object",this),e(this.index,"index",this)}map(e){return new a(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(e){var t=this.object.toString(e);return i(this.object)&&(t="("+t+")"),t+this.index.toString(e)}toHTML(e){var t=this.object.toHTML(e);return i(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)}_toTex(e){var t=this.object.toTex(e);return i(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)}toJSON(){return{mathjs:KM,object:this.object,index:this.index}}static fromJSON(e){return new a(e.object,e.index)}}return Z_(a,"name",KM),a},{isClass:!0,isNode:!0}),YM="ArrayNode",GM=Tx(YM,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){if(super(),this.items=e||[],!Array.isArray(this.items)||!this.items.every(px))throw new TypeError("Array containing Nodes expected")}get type(){return YM}get isArrayNode(){return!0}_compile(e,t){var n=Mw(this.items,function(n){return n._compile(e,t)});if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(Mw(n,function(n){return n(e,t,i)}))}}return function(e,t,r){return Mw(n,function(n){return n(e,t,r)})}}forEach(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this)}}map(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)}clone(){return new n(this.items.slice(0))}_toString(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"}toJSON(){return{mathjs:YM,items:this.items}}static fromJSON(e){return new n(e.items)}toHTML(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(e){return function t(n,r){var i=n.some(ix)&&!n.every(ix),a=r||i,o=a?"&":"\\\\",s=n.map(function(n){return n.items?t(n.items,!r):n.toTex(e)}).join(o);return i||!a||a&&!r?"\\begin{bmatrix}"+s+"\\end{bmatrix}":s}(this.items,!1)}}return Z_(n,"name",YM),n},{isClass:!0,isNode:!0});var XM=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function JM(e,t){if(!t||"auto"!==t)return e;for(var n=e;gx(n);)n=n.content;return n}function ZM(e,t,n,r){var i=e;"keep"!==t&&(i=e.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<XM.length;s++)if(a in XM[s]){o=s;break}if("OperatorNode:multiply"===a&&i.implicit&&"show"!==n){var l=JM(i.args[0],t);lx(l)&&r&&"OperatorNode:divide"===r.getIdentifier()&&ux(JM(r.args[0],t))||"OperatorNode:divide"===l.getIdentifier()&&ux(JM(l.args[0],t))&&lx(JM(l.args[1]))||(o+=1)}return o}function QM(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=ZM(n,t);if(null===i)return null;var a=XM[i][r];if(Ox(a,"associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+a.associativity+"'.")}return null}function eT(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,a=r.getIdentifier(),o=i.getIdentifier(),s=ZM(r,n);if(null===s)return null;var l=XM[s][a];if(Ox(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}var tT="AssignmentNode",nT=Tx(tT,["subset","?matrix","Node"],e=>{var{subset:t,matrix:n,Node:r}=e,i=HM({subset:t}),a=function(e){var{subset:t,matrix:n}=e;return function(e,r,i){try{if(Array.isArray(e))return n(e).subset(r,i).valueOf().forEach((t,n)=>{e[n]=t}),e;if(e&&"function"===typeof e.subset)return e.subset(r,i);if("string"===typeof e)return t(e,r,i);if("object"===typeof e){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return tN(e,r.getObjectProperty(),i),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw WM(a)}}}({subset:t,matrix:n});function o(e,t,n){t||(t="keep");var r=ZM(e,t,n),i=ZM(e.value,t,n);return"all"===t||null!==i&&i<=r}class s extends r{constructor(e,t,n){if(super(),this.object=e,this.index=n?t:null,this.value=n||t,!bx(e)&&!rx(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(bx(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!dx(this.index))throw new TypeError('IndexNode expected as "index"');if(!px(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return tT}get isAssignmentNode(){return!0}_compile(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,o=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),a=o(e,t,r);return tN(i,l,a),a}}if(bx(this.object))return function(e,t,i){var l=n(e,t,i),u=o(e,t,i),c=r(e,t,l);return e.set(s,a(l,c,u)),u};var u=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(e,t,n){var i=u(e,t,n),s=eN(i,c),l=r(e,t,s),f=o(e,t,n);return tN(i,c,a(s,l,f)),f}}var f=this.object.index._compile(e,t);return function(e,t,n){var s=u(e,t,n),l=f(e,t,s),c=i(s,l),d=r(e,t,c),p=o(e,t,n);return a(s,l,a(c,d,p)),p}}if(!bx(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){var r=o(e,t,n);return e.set(s,r),r}}forEach(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)}map(e){var t=this._ifNode(e(this.object,"object",this)),n=this.index?this._ifNode(e(this.index,"index",this)):null,r=this._ifNode(e(this.value,"value",this));return new s(t,n,r)}clone(){return new s(this.object,this.index,this.value)}_toString(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return o(this,e&&e.parenthesis,e&&e.implicit)&&(r="("+r+")"),t+n+" = "+r}toJSON(){return{mathjs:tT,object:this.object,index:this.index,value:this.value}}static fromJSON(e){return new s(e.object,e.index,e.value)}toHTML(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return o(this,e&&e.parenthesis,e&&e.implicit)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r}_toTex(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return o(this,e&&e.parenthesis,e&&e.implicit)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r}}return Z_(s,"name",tT),s},{isClass:!0,isNode:!0}),rT="BlockNode",iT=Tx(rT,["ResultSet","Node"],e=>{var{ResultSet:t,Node:n}=e;class r extends n{constructor(e){if(super(),!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!px(t))throw new TypeError('Property "node" must be a Node');if("boolean"!==typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}})}get type(){return rT}get isBlockNode(){return!0}_compile(e,n){var r=Mw(this.blocks,function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}});return function(e,n,i){var a=[];return Tw(r,function(t){var r=t.evaluate(e,n,i);t.visible&&a.push(r)}),new t(a)}}forEach(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)}map(e){for(var t=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],a=this._ifNode(e(i.node,"blocks["+n+"].node",this));t[n]={node:a,visible:i.visible}}return new r(t)}clone(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new r(e)}_toString(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")}toJSON(){return{mathjs:rT,blocks:this.blocks}}static fromJSON(e){return new r(e.blocks)}toHTML(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")}}return Z_(r,"name",rT),r},{isClass:!0,isNode:!0}),aT="ConditionalNode",oT=Tx(aT,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e,t,n){if(super(),!px(e))throw new TypeError("Parameter condition must be a Node");if(!px(t))throw new TypeError("Parameter trueExpr must be a Node");if(!px(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=n}get type(){return aT}get isConditionalNode(){return!0}_compile(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,a){return function(e){if("number"===typeof e||"boolean"===typeof e||"string"===typeof e)return!!e;if(e){if(Ib(e))return!e.isZero();if(Bb(e))return!(!e.re&&!e.im);if(zb(e))return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+wx(e)+'"')}(n(e,t,a))?r(e,t,a):i(e,t,a)}}forEach(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)}map(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=ZM(this,t,e&&e.implicit),r=this.condition.toString(e),i=ZM(this.condition,t,e&&e.implicit);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var a=this.trueExpr.toString(e),o=ZM(this.trueExpr,t,e&&e.implicit);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(a="("+a+")");var s=this.falseExpr.toString(e),l=ZM(this.falseExpr,t,e&&e.implicit);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s="("+s+")"),r+" ? "+a+" : "+s}toJSON(){return{mathjs:aT,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(e){return new n(e.condition,e.trueExpr,e.falseExpr)}toHTML(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=ZM(this,t,e&&e.implicit),r=this.condition.toHTML(e),i=ZM(this.condition,t,e&&e.implicit);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(e),o=ZM(this.trueExpr,t,e&&e.implicit);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),l=ZM(this.falseExpr,t,e&&e.implicit);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+s}_toTex(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Z_(n,"name",aT),n},{isClass:!0,isNode:!0}),sT=n(1147),lT={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},uT={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},cT={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(uT.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(uT.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(uT.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(uT.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(uT.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(uT.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(uT.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(uT.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(uT.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(uT.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(uT.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(uT.bitAnd,"${args[1]}\\right)")},bitNot:{1:uT.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(uT.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(uT.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(uT.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(uT.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(uT.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(uT.and,"${args[1]}\\right)")},not:{1:uT.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(uT.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(uT.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(uT.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(uT.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(uT.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(uT.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(uT.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(uT.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(uT.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(uT.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(uT.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(uT.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(uT.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(lT.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},fT={deg:"^\\circ"};function dT(e){return sT(e,{preserveFormatting:!0})}function pT(e,t){return(t="undefined"!==typeof t&&t)?Ox(fT,e)?fT[e]:"\\mathrm{"+dT(e)+"}":Ox(lT,e)?lT[e]:dT(e)}var hT="ConstantNode",mT=Tx(hT,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){super(),this.value=e}get type(){return hT}get isConstantNode(){return!0}_compile(e,t){var n=this.value;return function(){return n}}forEach(e){}map(e){return this.clone()}clone(){return new n(this.value)}_toString(e){return lw(this.value,e)}toHTML(e){var t=this._toString(e);switch(wx(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}}toJSON(){return{mathjs:hT,value:this.value}}static fromJSON(e){return new n(e.value)}_toTex(e){var t=this._toString(e);switch(wx(this.value)){case"string":return"\\mathtt{"+dT(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}}}return Z_(n,"name",hT),n},{isClass:!0,isNode:!0}),gT="FunctionAssignmentNode",yT=Tx(gT,["typed","Node"],e=>{var{typed:t,Node:n}=e;function r(e,t,n){var r=ZM(e,t,n),i=ZM(e.expr,t,n);return"all"===t||null!==i&&i<=r}class i extends n{constructor(e,t,n){if(super(),"string"!==typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!px(n))throw new TypeError('Node expected for parameter "expr"');if(qM.has(e))throw new Error('Illegal function name, "'+e+'" is a reserved keyword');var r=new Set;for(var i of t){var a="string"===typeof i?i:i.name;if(r.has(a))throw new Error('Duplicate parameter name "'.concat(a,'"'));r.add(a)}this.name=e,this.params=t.map(function(e){return e&&e.name||e}),this.types=t.map(function(e){return e&&e.type||"any"}),this.expr=n}get type(){return gT}get isFunctionAssignmentNode(){return!0}_compile(e,n){var r=Object.create(n);Tw(this.params,function(e){r[e]=!0});var i=this.expr._compile(e,r),a=this.name,o=this.params,s=Iw(this.types,","),l=a+"("+Iw(this.params,", ")+")";return function(e,n,r){var u={};u[s]=function(){for(var t=Object.create(n),a=0;a<o.length;a++)t[o[a]]=arguments[a];return i(e,t,r)};var c=t(a,u);return c.syntax=l,e.set(a,c),c}}forEach(e){e(this.expr,"expr",this)}map(e){var t=this._ifNode(e(this.expr,"expr",this));return new i(this.name,this.params.slice(0),t)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return r(this,t,e&&e.implicit)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n}toJSON(){var e=this.types;return{mathjs:gT,name:this.name,params:this.params.map(function(t,n){return{name:t,type:e[n]}}),expr:this.expr}}static fromJSON(e){return new i(e.name,e.params,e.expr)}toHTML(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],i=0;i<this.params.length;i++)n.push('<span class="math-symbol math-parameter">'+fw(this.params[i])+"</span>");var a=this.expr.toHTML(e);return r(this,t,e&&e.implicit)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+fw(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+a}_toTex(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return r(this,t,e&&e.implicit)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(pT).join(",")+"\\right):="+n}}return Z_(i,"name",gT),i},{isClass:!0,isNode:!0}),vT="IndexNode",bT=Tx(vT,["Node","size"],e=>{var{Node:t,size:n}=e;class r extends t{constructor(e,t){if(super(),this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(px))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return vT}get isIndexNode(){return!0}_compile(e,t){var r=Mw(this.dimensions,function(r,i){if(r.filter(e=>e.isSymbolNode&&"end"===e.name).length>0){var a=Object.create(t);a.end=!0;var o=r._compile(e,a);return function(e,t,r){if(!qb(r)&&!Ub(r)&&!Lb(r))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+wx(r));var a=n(r).valueOf(),s=Object.create(t);return s.end=a[i],o(e,s,r)}}return r._compile(e,t)}),i=eN(e,"index");return function(e,t,n){var a=Mw(r,function(r){return r(e,t,n)});return i(...a)}}forEach(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)}map(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new r(t,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&lx(this.dimensions[0])&&"string"===typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:vT,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(e){return new r(e.dimensions,e.dotNotation)}toHTML(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+fw(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"}}return Z_(r,"name",vT),r},{isClass:!0,isNode:!0}),xT="ObjectNode",wT=Tx(xT,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){if(super(),this.properties=e||{},e&&("object"!==typeof e||!Object.keys(e).every(function(t){return px(e[t])})))throw new TypeError("Object containing Nodes expected")}get type(){return xT}get isObjectNode(){return!0}_compile(e,t){var n={};for(var r in this.properties)if(Ox(this.properties,r)){var i=uw(r),a=JSON.parse(i),o=eN(this.properties,r);n[a]=o._compile(e,t)}return function(e,t,r){var i={};for(var a in n)Ox(n,a)&&(i[a]=n[a](e,t,r));return i}}forEach(e){for(var t in this.properties)Ox(this.properties,t)&&e(this.properties[t],"properties["+uw(t)+"]",this)}map(e){var t={};for(var r in this.properties)Ox(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+uw(r)+"]",this)));return new n(t)}clone(){var e={};for(var t in this.properties)Ox(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)}_toString(e){var t=[];for(var n in this.properties)Ox(this.properties,n)&&t.push(uw(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"}toJSON(){return{mathjs:xT,properties:this.properties}}static fromJSON(e){return new n(e.properties)}toHTML(e){var t=[];for(var n in this.properties)Ox(this.properties,n)&&t.push('<span class="math-symbol math-property">'+fw(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(e){var t=[];for(var n in this.properties)Ox(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+t.join("\n")+"\\end{array}\\right\\}"}}return Z_(n,"name",xT),n},{isClass:!0,isNode:!0}),NT="OperatorNode",ST=Tx(NT,["Node"],e=>{var{Node:t}=e;function n(e,t){var r=e;if("auto"===t)for(;gx(r);)r=r.content;return!!lx(r)||!!mx(r)&&n(r.args[0],t)}function r(e,t,r,i,a){var o,s=ZM(e,t,r),l=QM(e,t);if("all"===t||i.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return i.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(i.length){case 0:o=[];break;case 1:var u=ZM(i[0],t,r,e);if(a&&null!==u){var c,f;if("keep"===t?(c=i[0].getIdentifier(),f=e.getIdentifier()):(c=i[0].getContent().getIdentifier(),f=e.getContent().getIdentifier()),!1===XM[s][f].latexLeftParens){o=[!1];break}if(!1===XM[u][c].latexParens){o=[!1];break}}if(null===u){o=[!1];break}if(u<=s){o=[!0];break}o=[!1];break;case 2:var d,p,h=ZM(i[0],t,r,e),m=eT(e,i[0],t);d=null!==h&&(h===s&&"right"===l&&!m||h<s);var g,y,v,b=ZM(i[1],t,r,e),x=eT(e,i[1],t);if(p=null!==b&&(b===s&&"left"===l&&!x||b<s),a)"keep"===t?(g=e.getIdentifier(),y=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(g=e.getContent().getIdentifier(),y=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==h&&(!1===XM[s][g].latexLeftParens&&(d=!1),!1===XM[h][y].latexParens&&(d=!1)),null!==b&&(!1===XM[s][g].latexRightParens&&(p=!1),!1===XM[b][v].latexParens&&(p=!1));o=[d,p];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=i.map(function(n){var i=ZM(n,t,r,e),a=eT(e,n,t),o=QM(n,t);return null!==i&&(s===i&&l===o&&!a||i<s)}))}if(i.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"all"!==t&&"hide"===r)for(var w=1;w<o.length;++w)!n(i[w],t)||o[w-1]||"keep"===t&&gx(i[w-1])||(o[w]=!0);return o}class i extends t{constructor(e,t,n,r,i){if(super(),"string"!==typeof e)throw new TypeError('string expected for parameter "op"');if("string"!==typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(px))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===r,this.isPercentage=!0===i,this.op=e,this.fn=t,this.args=n||[]}get type(){return NT}get isOperatorNode(){return!0}_compile(e,t){if("string"!==typeof this.fn||!rN(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=eN(e,this.fn),r=Mw(this.args,function(n){return n._compile(e,t)});if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var a=r[0],o=r[1];return function(e,t,r){return n(a(e,t,r),o(e,t,r))}}return function(e,t,i){return n.apply(null,Mw(r,function(n){return n(e,t,i)}))}}forEach(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)}map(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new i(this.op,this.fn,t,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,a=r(this,t,n,i,!1);if(1===i.length){var o=QM(this,t),s=i[0].toString(e);a[0]&&(s="("+s+")");var l=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(l?" ":"")+s:"left"===o?s+(l?" ":"")+this.op:s+this.op}if(2===i.length){var u=i[0].toString(e),c=i[1].toString(e);return a[0]&&(u="("+u+")"),a[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+" "+c:u+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map(function(t,n){return t=t.toString(e),a[n]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:NT,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(e){return new i(e.op,e.fn,e.args,e.implicit,e.isPercentage)}toHTML(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,a=r(this,t,n,i,!1);if(1===i.length){var o=QM(this,t),s=i[0].toHTML(e);return a[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+fw(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+fw(this.op)+"</span>"}if(2===i.length){var l=i[0].toHTML(e),u=i[1].toHTML(e);return a[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),a[1]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+u:l+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+fw(this.op)+"</span>"+u}var c=i.map(function(t,n){return t=t.toHTML(e),a[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t});return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+fw(this.op)+"</span>"):'<span class="math-function">'+fw(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,a=r(this,t,n,i,!0),o=uT[this.fn];if(o="undefined"===typeof o?this.op:o,1===i.length){var s=QM(this,t),l=i[0].toTex(e);return a[0]&&(l="\\left(".concat(l,"\\right)")),"right"===s?o+l:l+o}if(2===i.length){var u=i[0],c=u.toTex(e);a[0]&&(c="\\left(".concat(c,"\\right)"));var f,d=i[1].toTex(e);switch(a[1]&&(d="\\left(".concat(d,"\\right)")),f="keep"===t?u.getIdentifier():u.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+c+"}{"+d+"}";case"OperatorNode:pow":switch(c="{"+c+"}",d="{"+d+"}",f){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return c+"~"+d}return c+o+d}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=i.map(function(t,n){return t=t.toTex(e),a[n]&&(t="\\left(".concat(t,"\\right)")),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===n?p.join("~"):p.join(o)}return"\\mathrm{"+this.fn+"}\\left("+i.map(function(t){return t.toTex(e)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Z_(i,"name",NT),i},{isClass:!0,isNode:!0}),ET="ParenthesisNode",AT=Tx(ET,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){if(super(),!px(e))throw new TypeError('Node expected for parameter "content"');this.content=e}get type(){return ET}get isParenthesisNode(){return!0}_compile(e,t){return this.content._compile(e,t)}getContent(){return this.content.getContent()}forEach(e){e(this.content,"content",this)}map(e){var t=e(this.content,"content",this);return new n(t)}clone(){return new n(this.content)}_toString(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)}toJSON(){return{mathjs:ET,content:this.content}}static fromJSON(e){return new n(e.content)}toHTML(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)}_toTex(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)}}return Z_(n,"name",ET),n},{isClass:!0,isNode:!0}),CT="RangeNode",kT=Tx(CT,["Node"],e=>{var{Node:t}=e;function n(e,t,n){var r=ZM(e,t,n),i={},a=ZM(e.start,t,n);if(i.start=null!==a&&a<=r||"all"===t,e.step){var o=ZM(e.step,t,n);i.step=null!==o&&o<=r||"all"===t}var s=ZM(e.end,t,n);return i.end=null!==s&&s<=r||"all"===t,i}class r extends t{constructor(e,t,n){if(super(),!px(e))throw new TypeError("Node expected");if(!px(t))throw new TypeError("Node expected");if(n&&!px(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null}get type(){return CT}get isRangeNode(){return!0}needsEnd(){return this.filter(function(e){return bx(e)&&"end"===e.name}).length>0}_compile(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var a=this.step._compile(e,t);return function(e,t,o){return n(r(e,t,o),i(e,t,o),a(e,t,o))}}return function(e,t,a){return n(r(e,t,a),i(e,t,a))}}forEach(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)}map(e){return new r(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),i=this.start.toString(e);if(r.start&&(i="("+i+")"),t=i,this.step){var a=this.step.toString(e);r.step&&(a="("+a+")"),t+=":"+a}var o=this.end.toString(e);return r.end&&(o="("+o+")"),t+=":"+o}toJSON(){return{mathjs:CT,start:this.start,end:this.end,step:this.step}}static fromJSON(e){return new r(e.start,e.end,e.step)}toHTML(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),i=this.start.toHTML(e);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var a=this.step.toHTML(e);r.step&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a}var o=this.end.toHTML(e);return r.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}_toTex(e){var t=n(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i}var a=this.end.toTex(e);return t.end&&(a="\\left(".concat(a,"\\right)")),r+=":"+a}}return Z_(r,"name",CT),r},{isClass:!0,isNode:!0}),_T="RelationalNode",DT=Tx(_T,["Node"],e=>{var{Node:t}=e,n={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends t{constructor(e,t){if(super(),!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}get type(){return _T}get isRelationalNode(){return!0}_compile(e,t){var n=this,r=this.params.map(n=>n._compile(e,t));return function(t,i,a){for(var o,s=r[0](t,i,a),l=0;l<n.conditionals.length;l++){if(o=s,s=r[l+1](t,i,a),!eN(e,n.conditionals[l])(o,s))return!1}return!0}}forEach(e){this.params.forEach((t,n)=>e(t,"params["+n+"]",this),this)}map(e){return new r(this.conditionals.slice(),this.params.map((t,n)=>this._ifNode(e(t,"params["+n+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=ZM(this,t,e&&e.implicit),i=this.params.map(function(n,i){var a=ZM(n,t,e&&e.implicit);return"all"===t||null!==a&&a<=r?"("+n.toString(e)+")":n.toString(e)}),a=i[0],o=0;o<this.conditionals.length;o++)a+=" "+n[this.conditionals[o]],a+=" "+i[o+1];return a}toJSON(){return{mathjs:_T,conditionals:this.conditionals,params:this.params}}static fromJSON(e){return new r(e.conditionals,e.params)}toHTML(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=ZM(this,t,e&&e.implicit),i=this.params.map(function(n,i){var a=ZM(n,t,e&&e.implicit);return"all"===t||null!==a&&a<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(e)}),a=i[0],o=0;o<this.conditionals.length;o++)a+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+fw(n[this.conditionals[o]])+"</span>"+i[o+1];return a}_toTex(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=ZM(this,t,e&&e.implicit),r=this.params.map(function(r,i){var a=ZM(r,t,e&&e.implicit);return"all"===t||null!==a&&a<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)}),i=r[0],a=0;a<this.conditionals.length;a++)i+=uT[this.conditionals[a]]+r[a+1];return i}}return Z_(r,"name",_T),r},{isClass:!0,isNode:!0}),OT=Tx("SymbolNode",["math","?Unit","Node"],e=>{var{math:t,Unit:n,Node:r}=e;function i(e){return!!n&&n.isValuelessUnit(e)}class a extends r{constructor(e){if(super(),"string"!==typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return eN(t,r)};if(r in e)return function(t,n,i){return t.has(r)?t.get(r):eN(e,r)};var o=i(r);return function(e,t,i){return e.has(r)?e.get(r):o?new n(null,r):a.onUndefinedSymbol(r)}}forEach(e){}map(e){return this.clone()}static onUndefinedSymbol(e){throw new Error("Undefined symbol "+e)}clone(){return new a(this.name)}_toString(e){return this.name}toHTML(e){var t=fw(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(e){return new a(e.name)}_toTex(e){var n=!1;"undefined"===typeof t[this.name]&&i(this.name)&&(n=!0);var r=pT(this.name,n);return"\\"===r[0]?r:" "+r}}return a},{isClass:!0,isNode:!0});function jT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e.createSubScope?fN(e.createSubScope(),...n):fN(lN(),e,...n)}var MT="FunctionNode",TT=Tx(MT,["math","Node","SymbolNode"],e=>{var t,{math:n,Node:r,SymbolNode:i}=e,a=e=>lw(e,{truncate:78});function o(e,t,n){for(var r,i="",a=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,o=0;null!==(r=a.exec(e));)if(i+=e.substring(o,r.index),o=r.index,"$$"===r[0])i+="$",o++;else{o+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":i+=s;break;case"object":if(px(s))i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map(function(e,t){if(px(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!px(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=e.slice(o)}class s extends r{constructor(e,t){if(super(),"string"===typeof e&&(e=new i(e)),!px(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(px))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[]}get name(){return this.fn.name||""}get type(){return MT}get isFunctionNode(){return!0}_compile(e,t){var n=this.args.map(n=>n._compile(e,t));if(!bx(this.fn)){if(rx(this.fn)&&dx(this.fn.index)&&this.fn.index.isObjectProperty()){var r=this.fn.object._compile(e,t),i=this.fn.index.getObjectProperty(),o=this.args;return function(t,a,s){var l=r(t,a,s),u=function(e,t){if(!rN(e,t))throw new Error('No access to method "'+t+'"');return e[t]}(l,i);if(null!==u&&void 0!==u&&u.rawArgs)return u(o,e,jT(t,a),t);var c=n.map(e=>e(t,a,s));return u.apply(l,c)}}var l=this.fn.toString(),u=this.fn._compile(e,t),c=this.args;return function(t,r,i){var o=u(t,r,i);if("function"!==typeof o)throw new TypeError("Expression '".concat(l,"' did not evaluate to a function; value is:")+"\n  ".concat(a(o)));if(o.rawArgs)return o(c,e,jT(t,r),t);var s=n.map(e=>e(t,r,i));return o.apply(o,s)}}var f=this.fn.name;if(t[f]){var d=this.args;return function(t,r,i){var o=eN(r,f);if("function"!==typeof o)throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(a(o)));if(o.rawArgs)return o(d,e,jT(t,r),t);var s=n.map(e=>e(t,r,i));return o.apply(o,s)}}var p=f in e?eN(e,f):void 0,h="function"===typeof p&&!0===p.rawArgs,m=t=>{var n;if(t.has(f))n=t.get(f);else{if(!(f in e))return s.onUndefinedFunction(f);n=eN(e,f)}if("function"===typeof n)return n;throw new TypeError("'".concat(f,"' is not a function; its value is:\n  ").concat(a(n)))};if(h){var g=this.args;return function(t,n,r){return m(t)(g,e,jT(t,n),t)}}switch(n.length){case 0:return function(e,t,n){return m(e)()};case 1:return function(e,t,r){return m(e)((0,n[0])(e,t,r))};case 2:return function(e,t,r){var i=m(e),a=n[0],o=n[1];return i(a(e,t,r),o(e,t,r))};default:return function(e,t,r){return m(e)(...n.map(n=>n(e,t,r)))}}}forEach(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)}map(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new s(t,n)}clone(){return new s(this.fn,this.args.slice(0))}toString(e){var t,n=this.fn.toString(e);return e&&"object"===typeof e.handler&&Ox(e.handler,n)&&(t=e.handler[n](this,e)),"undefined"!==typeof t?t:super.toString(e)}_toString(e){var t=this.args.map(function(t){return t.toString(e)});return(cx(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"}toJSON(){return{mathjs:MT,fn:this.fn,args:this.args}}toHTML(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+fw(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(e){var t;return e&&"object"===typeof e.handler&&Ox(e.handler,this.name)&&(t=e.handler[this.name](this,e)),"undefined"!==typeof t?t:super.toTex(e)}_toTex(e){var t,r,i=this.args.map(function(t){return t.toTex(e)});switch(cT[this.name]&&(t=cT[this.name]),!n[this.name]||"function"!==typeof n[this.name].toTex&&"object"!==typeof n[this.name].toTex&&"string"!==typeof n[this.name].toTex||(t=n[this.name].toTex),typeof t){case"function":r=t(this,e);break;case"string":r=o(t,this,e);break;case"object":switch(typeof t[i.length]){case"function":r=t[i.length](this,e);break;case"string":r=o(t[i.length],this,e)}}return"undefined"!==typeof r?r:o("\\mathrm{${name}}\\left(${args}\\right)",this,e)}getIdentifier(){return this.type+":"+this.name}}return t=s,Z_(s,"name",MT),Z_(s,"onUndefinedFunction",function(e){throw new Error("Undefined function "+e)}),Z_(s,"fromJSON",function(e){return new t(e.fn,e.args)}),s},{isClass:!0,isNode:!0}),PT="parse",FT=Tx(PT,["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],e=>{var{typed:t,numeric:n,config:r,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:h,ParenthesisNode:m,RangeNode:g,RelationalNode:y,SymbolNode:v}=e,b=t(PT,{string:function(e){return I(e,{})},"Array | Matrix":function(e){return x(e,{})},"string, Object":function(e,t){return I(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":x});function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return EE(e,function(e){if("string"!==typeof e)throw new TypeError("String expected");return I(e,n)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},N={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},S={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},A=["NaN","Infinity"],C={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function k(e,t){return e.expression.substr(e.index,t)}function _(e){return k(e,1)}function D(e){e.index++}function O(e){return e.expression.charAt(e.index-1)}function j(e){return e.expression.charAt(e.index+1)}function M(e){for(e.tokenType=w.NULL,e.token="",e.comment="";;){if("#"===_(e))for(;"\n"!==_(e)&&""!==_(e);)e.comment+=_(e),D(e);if(!b.isWhitespace(_(e),e.nestingLevel))break;D(e)}if(""!==_(e)){if("\n"===_(e)&&!e.nestingLevel)return e.tokenType=w.DELIMITER,e.token=_(e),void D(e);var t=_(e),n=k(e,2),r=k(e,3);if(3===r.length&&N[r])return e.tokenType=w.DELIMITER,e.token=r,D(e),D(e),void D(e);if(2===n.length&&N[n])return e.tokenType=w.DELIMITER,e.token=n,D(e),void D(e);if(N[t])return e.tokenType=w.DELIMITER,e.token=t,void D(e);if(b.isDigitDot(t)){e.tokenType=w.NUMBER;var i=k(e,2);if("0b"===i||"0o"===i||"0x"===i){for(e.token+=_(e),D(e),e.token+=_(e),D(e);b.isHexDigit(_(e));)e.token+=_(e),D(e);if("."===_(e))for(e.token+=".",D(e);b.isHexDigit(_(e));)e.token+=_(e),D(e);else if("i"===_(e))for(e.token+="i",D(e);b.isDigit(_(e));)e.token+=_(e),D(e);return}if("."===_(e)){if(e.token+=_(e),D(e),!b.isDigit(_(e)))return void(e.tokenType=w.DELIMITER)}else{for(;b.isDigit(_(e));)e.token+=_(e),D(e);b.isDecimalMark(_(e),j(e))&&(e.token+=_(e),D(e))}for(;b.isDigit(_(e));)e.token+=_(e),D(e);if("E"===_(e)||"e"===_(e))if(b.isDigit(j(e))||"-"===j(e)||"+"===j(e)){if(e.token+=_(e),D(e),"+"!==_(e)&&"-"!==_(e)||(e.token+=_(e),D(e)),!b.isDigit(_(e)))throw re(e,'Digit expected, got "'+_(e)+'"');for(;b.isDigit(_(e));)e.token+=_(e),D(e);if(b.isDecimalMark(_(e),j(e)))throw re(e,'Digit expected, got "'+_(e)+'"')}else if("."===j(e))throw D(e),re(e,'Digit expected, got "'+_(e)+'"')}else{if(!b.isAlpha(_(e),O(e),j(e))){for(e.tokenType=w.UNKNOWN;""!==_(e);)e.token+=_(e),D(e);throw re(e,'Syntax error in part "'+e.token+'"')}for(;b.isAlpha(_(e),O(e),j(e))||b.isDigit(_(e));)e.token+=_(e),D(e);Ox(S,e.token)?e.tokenType=w.DELIMITER:e.tokenType=w.SYMBOL}}else e.tokenType=w.DELIMITER}function T(e){do{M(e)}while("\n"===e.token)}function P(e){e.nestingLevel++}function F(e){e.nestingLevel--}function I(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null};Tb(n,{expression:e,extraNodes:t}),M(n);var r=function(e){var t,n,r=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&(t=B(e),e.comment&&(t.comment=e.comment));for(;"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),M(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&(t=B(e),e.comment&&(t.comment=e.comment),n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new s(r):(t||(t=new u(void 0),e.comment&&(t.comment=e.comment)),t)}(n);if(""!==n.token)throw n.tokenType===w.DELIMITER?ie(n,"Unexpected operator "+n.token):re(n,'Unexpected part "'+n.token+'"');return r}function B(e){var t,n,r,i,a=function(e){var t=function(e){var t=R(e);for(;"or"===e.token;)T(e),t=new h("or","or",[t,R(e)]);return t}(e);for(;"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,T(e);var r=t,i=B(e);if(":"!==e.token)throw re(e,"False part of conditional expression expected");e.conditionalLevel=null,T(e);var a=B(e);t=new l(r,i,a),e.conditionalLevel=n}return t}(e);if("="===e.token){if(bx(a))return t=a.name,T(e),r=B(e),new o(new v(t),r);if(rx(a))return T(e),r=B(e),new o(a.object,a.index,r);if(fx(a)&&bx(a.fn)&&(i=!0,n=[],t=a.name,a.args.forEach(function(e,t){bx(e)?n[t]=e.name:i=!1}),i))return T(e),r=B(e),new c(t,n,r);throw re(e,"Invalid left hand side of assignment operator =")}return a}function R(e){for(var t=z(e);"xor"===e.token;)T(e),t=new h("xor","xor",[t,z(e)]);return t}function z(e){for(var t=L(e);"and"===e.token;)T(e),t=new h("and","and",[t,L(e)]);return t}function L(e){for(var t=U(e);"|"===e.token;)T(e),t=new h("|","bitOr",[t,U(e)]);return t}function U(e){for(var t=q(e);"^|"===e.token;)T(e),t=new h("^|","bitXor",[t,q(e)]);return t}function q(e){for(var t=$(e);"&"===e.token;)T(e),t=new h("&","bitAnd",[t,$(e)]);return t}function $(e){for(var t=[W(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ox(r,e.token);){var i={name:e.token,fn:r[e.token]};n.push(i),T(e),t.push(W(e))}return 1===t.length?t[0]:2===t.length?new h(n[0].name,n[0].fn,t):new y(n.map(e=>e.fn),t)}function W(e){var t,n,r,i;t=H(e);for(var a={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ox(a,e.token);)r=a[n=e.token],T(e),i=[t,H(e)],t=new h(n,r,i);return t}function H(e){var t,n,r,i;t=K(e);for(var a={to:"to",in:"to"};Ox(a,e.token);)r=a[n=e.token],T(e),"in"===n&&""===e.token?t=new h("*","multiply",[t,new v("in")],!0):(i=[t,K(e)],t=new h(n,r,i));return t}function K(e){var t,n=[];if(t=":"===e.token?new u(1):V(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)T(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new v("end")):n.push(V(e));t=3===n.length?new g(n[0],n[2],n[1]):new g(n[0],n[1])}return t}function V(e){var t,n,r,i;t=Y(e);for(var a={"+":"add","-":"subtract"};Ox(a,e.token);){r=a[n=e.token],T(e);var o=Y(e);i=o.isPercentage?[t,new h("*","multiply",[t,o])]:[t,o],t=new h(n,r,i)}return t}function Y(e){var t,n,r,i;n=t=G(e);for(var a={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Ox(a,e.token);)i=a[r=e.token],T(e),n=G(e),t=new h(r,i,[t,n]);return t}function G(e){var t,n;for(n=t=X(e);e.tokenType===w.SYMBOL||"in"===e.token&&lx(t)||!(e.tokenType!==w.NUMBER||lx(n)||mx(n)&&"!"!==n.op)||"("===e.token;)n=X(e),t=new h("*","multiply",[t,n],!0);return t}function X(e){for(var t=J(e),n=t,r=[];"/"===e.token&&ux(n);){if(r.push(Tb({},e)),T(e),e.tokenType!==w.NUMBER){Tb(e,r.pop());break}if(r.push(Tb({},e)),T(e),e.tokenType!==w.SYMBOL&&"("!==e.token){r.pop(),Tb(e,r.pop());break}Tb(e,r.pop()),r.pop(),n=J(e),t=new h("/","divide",[t,n])}return t}function J(e){var t,n,r,i;t=Z(e);for(var a={"%":"mod",mod:"mod"};Ox(a,e.token);)r=a[n=e.token],T(e),"%"===n&&e.tokenType===w.DELIMITER&&"("!==e.token?t=new h("/","divide",[t,new u(100)],!1,!0):(i=[t,Z(e)],t=new h(n,r,i));return t}function Z(e){var t,i,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ox(s,e.token)?(o=s[e.token],t=e.token,T(e),i=[Z(e)],new h(t,o,i)):function(e){var t,i,o,s;t=function(e){var t,i,o;t=function(e){var t=[];if(e.tokenType===w.SYMBOL&&Ox(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(M(e),"("===e.token){if(t=[],P(e),M(e),")"!==e.token)for(t.push(B(e));","===e.token;)M(e),t.push(B(e));if(")"!==e.token)throw re(e,"Parenthesis ) expected");F(e),M(e)}return new i(t)}return function(e){var t;if(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in S)return t=e.token,M(e),Q(e,Ox(E,t)?new u(E[t]):-1!==A.indexOf(t)?new u(n(t,"number")):new v(t));return function(e){var t;if('"'===e.token||"'"===e.token)return t=ee(e,e.token),Q(e,new u(t));return function(e){var t,i,o,s;if("["===e.token){if(P(e),M(e),"]"!==e.token){var l=te(e);if(";"===e.token){for(o=1,i=[l];";"===e.token;)M(e),i[o]=te(e),o++;if("]"!==e.token)throw re(e,"End of matrix ] expected");F(e),M(e),s=i[0].items.length;for(var c=1;c<o;c++)if(i[c].items.length!==s)throw ie(e,"Column dimensions mismatch ("+i[c].items.length+" !== "+s+")");t=new a(i)}else{if("]"!==e.token)throw re(e,"End of matrix ] expected");F(e),M(e),t=l}}else F(e),M(e),t=new a([]);return Q(e,t)}return function(e){if("{"===e.token){var t;P(e);var i={};do{if(M(e),"}"!==e.token){if('"'===e.token||"'"===e.token)t=ee(e,e.token);else{if(!(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in S))throw re(e,"Symbol or string expected as object key");t=e.token,M(e)}if(":"!==e.token)throw re(e,"Colon : expected after object key");M(e),i[t]=B(e)}}while(","===e.token);if("}"!==e.token)throw re(e,"Comma , or bracket } expected after object value");F(e),M(e);var a=new p(i);return a=Q(e,a)}return function(e){var t;if(e.tokenType===w.NUMBER)return t=e.token,M(e),new u(n(t,r.number));return function(e){var t;if("("===e.token){if(P(e),M(e),t=B(e),")"!==e.token)throw re(e,"Parenthesis ) expected");return F(e),M(e),t=Q(e,t=new m(t))}return function(e){throw""===e.token?re(e,"Unexpected end of expression"):re(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);var s={"!":"factorial","'":"ctranspose"};for(;Ox(s,e.token);)o=s[i=e.token],M(e),t=Q(e,t=new h(i,o,[t]));return t}(e),("^"===e.token||".^"===e.token)&&(o="^"===(i=e.token)?"pow":"dotPow",T(e),s=[t,Z(e)],t=new h(i,o,s));return t}(e)}function Q(e,t,n){for(var r;("("===e.token||"["===e.token||"."===e.token)&&(!n||-1!==n.indexOf(e.token));)if(r=[],"("===e.token){if(!bx(t)&&!rx(t))return t;if(P(e),M(e),")"!==e.token)for(r.push(B(e));","===e.token;)M(e),r.push(B(e));if(")"!==e.token)throw re(e,"Parenthesis ) expected");F(e),M(e),t=new f(t,r)}else if("["===e.token){if(P(e),M(e),"]"!==e.token)for(r.push(B(e));","===e.token;)M(e),r.push(B(e));if("]"!==e.token)throw re(e,"Parenthesis ] expected");F(e),M(e),t=new i(t,new d(r))}else{if(M(e),!(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in S))throw re(e,"Property name expected after dot");r.push(new u(e.token)),M(e);t=new i(t,new d(r,!0))}return t}function ee(e,t){for(var n="";""!==_(e)&&_(e)!==t;)if("\\"===_(e)){D(e);var r=_(e),i=C[r];if(void 0!==i)n+=i,e.index+=1;else{if("u"!==r)throw re(e,"Bad escape character \\".concat(r));var a=e.expression.slice(e.index+1,e.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(a))throw re(e,"Invalid unicode character \\u".concat(a));n+=String.fromCharCode(parseInt(a,16)),e.index+=5}}else n+=_(e),D(e);if(M(e),e.token!==t)throw re(e,"End of string ".concat(t," expected"));return M(e),n}function te(e){for(var t=[B(e)],n=1;","===e.token;)M(e),t[n]=B(e),n++;return new a(t)}function ne(e){return e.index-e.token.length+1}function re(e,t){var n=ne(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function ie(e,t){var n=ne(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return b.isAlpha=function(e,t,n){return b.isValidLatinOrGreek(e)||b.isValidMathSymbol(e,n)||b.isValidMathSymbol(t,e)},b.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},b.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},b.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},b.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},b.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},b.isDigit=function(e){return e>="0"&&e<="9"},b.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},t.addConversion({from:"string",to:"Node",convert:b}),b}),IT="compile",BT=Tx(IT,["typed","parse"],e=>{var{typed:t,parse:n}=e;return t(IT,{string:function(e){return n(e).compile()},"Array | Matrix":function(e){return EE(e,function(e){return n(e).compile()})}})}),RT="evaluate",zT=Tx(RT,["typed","parse"],e=>{var{typed:t,parse:n}=e;return t(RT,{string:function(e){var t=lN();return n(e).compile().evaluate(t)},"string, Map | Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t=lN();return EE(e,function(e){return n(e).compile().evaluate(t)})},"Array | Matrix, Map | Object":function(e,t){return EE(e,function(e){return n(e).compile().evaluate(t)})}})}),LT=Tx("Parser",["evaluate"],e=>{var{evaluate:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:lN(),writable:!1})}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(e){return t(e,this.scope)},n.prototype.get=function(e){if(this.scope.has(e))return this.scope.get(e)},n.prototype.getAll=function(){return function(e){if(e instanceof sN)return e.wrappedObject;var t={};for(var n of e.keys())tN(t,n,e.get(n));return t}(this.scope)},n.prototype.getAllAsMap=function(){return this.scope},n.prototype.set=function(e,t){return this.scope.set(e,t),t},n.prototype.remove=function(e){this.scope.delete(e)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),UT="parser",qT=Tx(UT,["typed","Parser"],e=>{var{typed:t,Parser:n}=e;return t(UT,{"":function(){return new n}})}),$T=Tx("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:t,matrix:n,abs:r,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:d,Spa:p}=e;return t("lup",{DenseMatrix:function(e){return h(e)},SparseMatrix:function(e){return m(e)},Array:function(e){var t=h(n(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function h(e){var t,n,c,d=e._size[0],p=e._size[1],h=Math.min(d,p),m=Nx(e._data),g=[],y=[d,h],v=[],b=[h,p],x=[];for(t=0;t<d;t++)x[t]=t;for(n=0;n<p;n++){if(n>0)for(t=0;t<d;t++){var w=Math.min(t,n),N=0;for(c=0;c<w;c++)N=i(N,o(m[t][c],m[c][n]));m[t][n]=s(m[t][n],N)}var S=n,E=0,A=0;for(t=n;t<d;t++){var C=m[t][n],k=r(C);l(k,E)&&(S=t,E=k,A=C)}if(n!==S&&(x[n]=[x[S],x[S]=x[n]][0],f._swapRows(n,S,m)),n<d)for(t=n+1;t<d;t++){var _=m[t][n];u(_,0)||(m[t][n]=a(m[t][n],A))}}for(n=0;n<p;n++)for(t=0;t<d;t++)0===n&&(t<p&&(v[t]=[]),g[t]=[]),t<n?(t<p&&(v[t][n]=m[t][n]),n<d&&(g[t][n]=0)):t!==n?(t<p&&(v[t][n]=0),n<d&&(g[t][n]=m[t][n])):(t<p&&(v[t][n]=m[t][n]),n<d&&(g[t][n]=1));var D=new f({data:g,size:y}),O=new f({data:v,size:b}),j=[];for(t=0,h=x.length;t<h;t++)j[x[t]]=t;return{L:D,U:O,p:j,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function m(e){var t,n,i,s=e._size[0],f=e._size[1],h=Math.min(s,f),m=e._values,g=e._index,y=e._ptr,v=[],b=[],x=[],w=[s,h],N=[],S=[],E=[],A=[h,f],C=[],k=[];for(t=0;t<s;t++)C[t]=t,k[t]=t;var _=function(){var e=new p;n<s&&(x.push(v.length),v.push(1),b.push(n)),E.push(N.length);var f=y[n],h=y[n+1];for(i=f;i<h;i++)t=g[i],e.set(C[t],m[i]);n>0&&e.forEach(0,n-1,function(t,n){d._forEachRow(t,v,b,x,function(r,i){r>t&&e.accumulate(r,c(o(i,n)))})});var _=n,D=e.get(n),O=r(D);e.forEach(n+1,s-1,function(e,t){var n=r(t);l(n,O)&&(_=e,O=n,D=t)}),n!==_&&(d._swapRows(n,_,w[1],v,b,x),d._swapRows(n,_,A[1],N,S,E),e.swap(n,_),function(e,t){var n=k[e],r=k[t];C[n]=t,C[r]=e,k[e]=r,k[t]=n}(n,_)),e.forEach(0,s-1,function(e,t){e<=n?(N.push(t),S.push(e)):(t=a(t,D),u(t,0)||(v.push(t),b.push(e)))})};for(n=0;n<f;n++)_();return E.push(N.length),x.push(v.length),{L:new d({values:v,index:b,ptr:x,size:w}),U:new d({values:N,index:S,ptr:E,size:A}),p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),WT=Tx("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],e=>{var{typed:t,matrix:n,zeros:r,identity:i,isZero:a,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:f,divideScalar:d,multiplyScalar:p,subtractScalar:h,complex:m}=e;return Tb(t("qr",{DenseMatrix:function(e){return y(e)},SparseMatrix:function(e){return function(){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=y(n(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:g});function g(e){var t,n,m,g=e._size[0],y=e._size[1],v=i([g],"dense"),b=v._data,x=e.clone(),w=x._data,N=r([g],"");for(m=0;m<Math.min(y,g);++m){var S=w[m][m],E=c(o(S,0)?1:s(S)),A=u(E),C=0;for(t=m;t<g;t++)C=f(C,p(w[t][m],u(w[t][m])));var k=p(E,l(C));if(!a(k)){var _=h(S,k);for(N[m]=1,t=m+1;t<g;t++)N[t]=d(w[t][m],_);var D=c(u(d(_,k))),O=void 0;for(n=m;n<y;n++){for(O=0,t=m;t<g;t++)O=f(O,p(u(N[t]),w[t][n]));for(O=p(O,D),t=m;t<g;t++)w[t][n]=p(h(w[t][n],p(N[t],O)),A)}for(t=0;t<g;t++){for(O=0,n=m;n<g;n++)O=f(O,p(b[t][n],N[n]));for(O=p(O,D),n=m;n<g;++n)b[t][n]=d(h(b[t][n],p(O,u(N[n]))),A)}}}return{Q:v,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(e){var t=g(e),n=t.R._data;if(e._data.length>0)for(var r="Complex"===n[0][0].type?m(0):0,i=0;i<n.length;++i)for(var a=0;a<i&&a<(n[0]||[]).length;++a)n[i][a]=r;return t}});function HT(e,t,n,r,i,a,o){var s=0;for(n[o]=e;s>=0;){var l=n[o+s],u=n[r+l];-1===u?(s--,a[t++]=l):(n[r+l]=n[i+u],n[o+ ++s]=u)}return t}function KT(e){return-e-2}var VT=Tx("csAmd",["add","multiply","transpose"],e=>{var{add:t,multiply:n,transpose:r}=e;return function(e,o){if(!o||e<=0||e>3)return null;var s=o._size,l=s[0],u=s[1],c=0,f=Math.max(16,10*Math.sqrt(u)),d=function(e,i,a,o,s){var l=r(i);if(1===e&&o===a)return t(i,l);if(2===e){for(var u=l._index,c=l._ptr,f=0,d=0;d<a;d++){var p=c[d];if(c[d]=f,!(c[d+1]-p>s))for(var h=c[d+1];p<h;p++)u[f++]=u[p]}return c[a]=f,i=r(l),n(l,i)}return n(l,i)}(e,o,l,u,f=Math.min(u-2,f));!function(e,t,n){for(var r=e._values,i=e._index,a=e._ptr,o=e._size[1],s=0,l=0;l<o;l++){var u=a[l];for(a[l]=s;u<a[l+1];u++)t(i[u],l,r?r[u]:1,n)&&(i[s]=i[u],r&&(r[s]=r[u]),s++)}a[o]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s)}(d,a,null);for(var p,h,m,g,y,v,b,x,w,N,S,E,A,C,k,_,D=d._index,O=d._ptr,j=O[u],M=[],T=[],P=u+1,F=2*(u+1),I=3*(u+1),B=4*(u+1),R=5*(u+1),z=6*(u+1),L=7*(u+1),U=M,q=function(e,t,n,r,a,o,s,l,u,c,f,d){for(var p=0;p<e;p++)n[r+p]=t[p+1]-t[p];n[r+e]=0;for(var h=0;h<=e;h++)n[a+h]=-1,o[h]=-1,n[s+h]=-1,n[l+h]=-1,n[u+h]=1,n[c+h]=1,n[f+h]=0,n[d+h]=n[r+h];var m=i(0,0,n,c,e);return n[f+e]=-2,t[e]=-1,n[c+e]=0,m}(u,O,T,0,I,U,F,L,P,z,B,R),$=function(e,t,n,r,i,a,o,s,l,u,c){for(var f=0,d=0;d<e;d++){var p=n[r+d];if(0===p)n[i+d]=-2,f++,t[d]=-1,n[a+d]=0;else if(p>o)n[s+d]=0,n[i+d]=-1,f++,t[d]=KT(e),n[s+e]++;else{var h=n[l+p];-1!==h&&(u[h]=d),n[c+d]=n[l+p],n[l+p]=d}}return f}(u,O,T,R,B,z,f,P,I,U,F),W=0;$<u;){for(m=-1;W<u&&-1===(m=T[I+W]);W++);-1!==T[F+m]&&(U[T[F+m]]=-1),T[I+W]=T[F+m];var H=T[B+m],K=T[P+m];$+=K;var V=0;T[P+m]=-K;var Y=O[m],G=0===H?Y:j,X=G;for(g=1;g<=H+1;g++){for(g>H?(v=m,b=Y,x=T[0+m]-H):(b=O[v=D[Y++]],x=T[0+v]),y=1;y<=x;y++)(w=T[P+(p=D[b++])])<=0||(V+=w,T[P+p]=-w,D[X++]=p,-1!==T[F+p]&&(U[T[F+p]]=U[p]),-1!==U[p]?T[F+U[p]]=T[F+p]:T[I+T[R+p]]=T[F+p]);v!==m&&(O[v]=KT(m),T[z+v]=0)}for(0!==H&&(j=X),T[R+m]=V,O[m]=G,T[0+m]=X-G,T[B+m]=-2,q=i(q,c,T,z,u),N=G;N<X;N++)if(!((S=T[B+(p=D[N])])<=0)){var J=q-(w=-T[P+p]);for(Y=O[p],E=O[p]+S-1;Y<=E;Y++)T[z+(v=D[Y])]>=q?T[z+v]-=w:0!==T[z+v]&&(T[z+v]=T[R+v]+J)}for(N=G;N<X;N++){for(A=(E=O[p=D[N]])+T[B+p]-1,C=E,k=0,_=0,Y=E;Y<=A;Y++)if(0!==T[z+(v=D[Y])]){var Z=T[z+v]-q;Z>0?(_+=Z,D[C++]=v,k+=v):(O[v]=KT(m),T[z+v]=0)}T[B+p]=C-E+1;var Q=C,ee=E+T[0+p];for(Y=A+1;Y<ee;Y++){var te=T[P+(h=D[Y])];te<=0||(_+=te,D[C++]=h,k+=h)}0===_?(O[p]=KT(m),V-=w=-T[P+p],K+=w,$+=w,T[P+p]=0,T[B+p]=-1):(T[R+p]=Math.min(T[R+p],_),D[C]=D[Q],D[Q]=D[E],D[E]=m,T[0+p]=C-E+1,k=(k<0?-k:k)%u,T[F+p]=T[L+k],T[L+k]=p,U[p]=k)}for(T[R+m]=V,q=i(q+(c=Math.max(c,V)),c,T,z,u),N=G;N<X;N++)if(!(T[P+(p=D[N])]>=0))for(p=T[L+(k=U[p])],T[L+k]=-1;-1!==p&&-1!==T[F+p];p=T[F+p],q++){for(x=T[0+p],S=T[B+p],Y=O[p]+1;Y<=O[p]+x-1;Y++)T[z+D[Y]]=q;var ne=p;for(h=T[F+p];-1!==h;){var re=T[0+h]===x&&T[B+h]===S;for(Y=O[h]+1;re&&Y<=O[h]+x-1;Y++)T[z+D[Y]]!==q&&(re=0);re?(O[h]=KT(p),T[P+p]+=T[P+h],T[P+h]=0,T[B+h]=-1,h=T[F+h],T[F+ne]=h):(ne=h,h=T[F+h])}}for(Y=G,N=G;N<X;N++)(w=-T[P+(p=D[N])])<=0||(T[P+p]=w,_=T[R+p]+V-w,-1!==T[I+(_=Math.min(_,u-$-w))]&&(U[T[I+_]]=p),T[F+p]=T[I+_],U[p]=-1,T[I+_]=p,W=Math.min(W,_),T[R+p]=_,D[Y++]=p);T[P+m]=K,0===(T[0+m]=Y-G)&&(O[m]=-1,T[z+m]=0),0!==H&&(j=Y)}for(p=0;p<u;p++)O[p]=KT(O[p]);for(h=0;h<=u;h++)T[I+h]=-1;for(h=u;h>=0;h--)T[P+h]>0||(T[F+h]=T[I+O[h]],T[I+O[h]]=h);for(v=u;v>=0;v--)T[P+v]<=0||-1!==O[v]&&(T[F+v]=T[I+O[v]],T[I+O[v]]=v);for(m=0,p=0;p<=u;p++)-1===O[p]&&(m=HT(p,m,T,I,F,M,z));return M.splice(M.length-1,1),M};function i(e,t,n,r,i){if(e<2||e+t<0){for(var a=0;a<i;a++)0!==n[r+a]&&(n[r+a]=1);e=2}return e}function a(e,t){return e!==t}});function YT(e,t,n,r,i,a,o){var s,l,u,c=0;if(e<=t||n[r+t]<=n[i+e])return-1;n[i+e]=n[r+t];var f=n[a+e];if(n[a+e]=t,-1===f)c=1,u=e;else{for(c=2,u=f;u!==n[o+u];u=n[o+u]);for(s=f;s!==u;s=l)l=n[o+s],n[o+s]=u}return{jleaf:c,q:u}}var GT=Tx("csCounts",["transpose"],e=>{var{transpose:t}=e;return function(e,n,r,i){if(!e||!n||!r)return null;var a,o,s,l,u,c,f,d=e._size,p=d[0],h=d[1],m=4*h+(i?h+p+1:0),g=[],y=h,v=2*h,b=3*h,x=4*h,w=5*h+1;for(s=0;s<m;s++)g[s]=-1;var N=[],S=t(e),E=S._index,A=S._ptr;for(s=0;s<h;s++)for(N[o=r[s]]=-1===g[b+o]?1:0;-1!==o&&-1===g[b+o];o=n[o])g[b+o]=s;if(i){for(s=0;s<h;s++)g[r[s]]=s;for(a=0;a<p;a++){for(s=h,c=A[a],f=A[a+1],u=c;u<f;u++)s=Math.min(s,g[E[u]]);g[w+a]=g[x+s],g[x+s]=a}}for(a=0;a<h;a++)g[0+a]=a;for(s=0;s<h;s++){for(-1!==n[o=r[s]]&&N[n[o]]--,l=i?g[x+s]:o;-1!==l;l=i?g[w+l]:-1)for(u=A[l];u<A[l+1];u++){var C=YT(a=E[u],o,g,b,y,v,0);C.jleaf>=1&&N[o]++,2===C.jleaf&&N[C.q]--}-1!==n[o]&&(g[0+o]=n[o])}for(o=0;o<h;o++)-1!==n[o]&&(N[n[o]]+=N[o]);return N}}),XT=Tx("csSqr",["add","multiply","transpose"],e=>{var{add:t,multiply:n,transpose:r}=e,i=VT({add:t,multiply:n,transpose:r}),a=GT({transpose:r});return function(e,t,n){var r,o=t._ptr,s=t._size[1],l={};if(l.q=i(e,t),e&&!l.q)return null;if(n){var u=e?function(e,t,n,r){for(var i=e._values,a=e._index,o=e._ptr,s=e._size,l=e._datatype,u=s[0],c=s[1],f=r&&e._values?[]:null,d=[],p=[],h=0,m=0;m<c;m++){p[m]=h;for(var g=n?n[m]:m,y=o[g],v=o[g+1],b=y;b<v;b++){var x=t?t[a[b]]:a[b];d[h]=x,f&&(f[h]=i[b]),h++}}return p[c]=h,e.createSparseMatrix({values:f,index:d,ptr:p,size:[u,c],datatype:l})}(t,null,l.q,0):t;l.parent=function(e,t){if(!e)return null;var n,r,i=e._index,a=e._ptr,o=e._size,s=o[0],l=o[1],u=[],c=[],f=l;if(t)for(n=0;n<s;n++)c[f+n]=-1;for(var d=0;d<l;d++){u[d]=-1,c[0+d]=-1;for(var p=a[d],h=a[d+1],m=p;m<h;m++){var g=i[m];for(n=t?c[f+g]:g;-1!==n&&n<d;n=r)r=c[0+n],c[0+n]=d,-1===r&&(u[n]=d);t&&(c[f+g]=d)}}return u}(u,1);var c=function(e,t){if(!e)return null;var n,r=0,i=[],a=[],o=t,s=2*t;for(n=0;n<t;n++)a[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(a[o+n]=a[0+e[n]],a[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=HT(n,r,a,0,o,i,s));return i}(l.parent,s);if(l.cp=a(u,l.parent,c,1),u&&l.parent&&l.cp&&function(e,t){var n=e._ptr,r=e._index,i=e._size,a=i[0],o=i[1];t.pinv=[],t.leftmost=[];var s,l,u,c,f,d=t.parent,p=t.pinv,h=t.leftmost,m=[],g=0,y=a,v=a+o,b=a+2*o;for(l=0;l<o;l++)m[y+l]=-1,m[v+l]=-1,m[b+l]=0;for(s=0;s<a;s++)h[s]=-1;for(l=o-1;l>=0;l--)for(c=n[l],f=n[l+1],u=c;u<f;u++)h[r[u]]=l;for(s=a-1;s>=0;s--)p[s]=-1,-1!==(l=h[s])&&(0===m[b+l]++&&(m[v+l]=s),m[g+s]=m[y+l],m[y+l]=s);for(t.lnz=0,t.m2=a,l=0;l<o;l++)if(s=m[y+l],t.lnz++,s<0&&(s=t.m2++),p[s]=l,!(--b[l]<=0)){t.lnz+=m[b+l];var x=d[l];-1!==x&&(0===m[b+x]&&(m[v+x]=m[v+l]),m[g+m[v+l]]=m[y+x],m[y+x]=m[g+s],m[b+x]+=m[b+l])}for(s=0;s<a;s++)p[s]<0&&(p[s]=l++);return!0}(u,l))for(l.unz=0,r=0;r<s;r++)l.unz+=l.cp[r]}else l.unz=4*o[s]+s,l.lnz=l.unz;return l}});function JT(e,t){return e[t]<0}function ZT(e,t){e[t]=KT(e[t])}function QT(e){return e<0?KT(e):e}function eP(e,t,n,r,i){var a,o,s,l=t._index,u=t._ptr,c=t._size[1],f=0;for(r[0]=e;f>=0;){e=r[f];var d=i?i[e]:e;JT(u,e)||(ZT(u,e),r[c+f]=d<0?0:QT(u[d]));var p=1;for(o=r[c+f],s=d<0?0:QT(u[d+1]);o<s;o++)if(!JT(u,a=l[o])){r[c+f]=o,r[++f]=a,p=0;break}p&&(f--,r[--n]=e)}return n}var tP=Tx("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:t,multiply:n,subtract:r}=e;return function(e,i,a,o,s,l,u){var c,f,d,p,h=e._values,m=e._index,g=e._ptr,y=e._size[1],v=i._values,b=i._index,x=i._ptr,w=function(e,t,n,r,i){var a,o,s,l=e._ptr,u=e._size,c=t._index,f=t._ptr,d=u[1],p=d;for(o=f[n],s=f[n+1],a=o;a<s;a++){var h=c[a];JT(l,h)||(p=eP(h,e,p,r,i))}for(a=p;a<d;a++)ZT(l,r[a]);return p}(e,i,a,o,l);for(c=w;c<y;c++)s[o[c]]=0;for(f=x[a],d=x[a+1],c=f;c<d;c++)s[b[c]]=v[c];for(var N=w;N<y;N++){var S=o[N],E=l?l[S]:S;if(!(E<0))for(f=g[E],d=g[E+1],s[S]=t(s[S],h[u?f:d-1]),c=u?f+1:f,p=u?d:d-1;c<p;c++){var A=m[c];s[A]=r(s[A],n(h[c],s[S]))}}return w}}),nP=Tx("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:t,divideScalar:n,multiply:r,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=e,l=tP({divideScalar:n,multiply:r,subtract:i});return function(e,i,u){if(!e)return null;var c,f=e._size[1],d=100,p=100;i&&(c=i.q,d=i.lnz||d,p=i.unz||p);var h,m,g=[],y=[],v=[],b=new s({values:g,index:y,ptr:v,size:[f,f]}),x=[],w=[],N=[],S=new s({values:x,index:w,ptr:N,size:[f,f]}),E=[],A=[],C=[];for(h=0;h<f;h++)A[h]=0,E[h]=-1,v[h+1]=0;d=0,p=0;for(var k=0;k<f;k++){v[k]=d,N[k]=p;var _=c?c[k]:k,D=l(b,e,_,C,A,E,1),O=-1,j=-1;for(m=D;m<f;m++)if(E[h=C[m]]<0){var M=t(A[h]);a(M,j)&&(j=M,O=h)}else w[p]=E[h],x[p++]=A[h];if(-1===O||j<=0)return null;E[_]<0&&o(t(A[_]),r(j,u))&&(O=_);var T=A[O];for(w[p]=k,x[p++]=T,E[O]=k,y[d]=O,g[d++]=1,m=D;m<f;m++)E[h=C[m]]<0&&(y[d]=h,g[d++]=n(A[h],T)),A[h]=0}for(v[f]=d,N[f]=p,m=0;m<d;m++)y[m]=E[y[m]];return g.splice(d,g.length-d),y.splice(d,y.length-d),x.splice(p,x.length-p),w.splice(p,w.length-p),{L:b,U:S,pinv:E}}}),rP=Tx("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:t,abs:n,add:r,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=e,f=XT({add:r,multiply:i,transpose:a}),d=nP({abs:n,divideScalar:o,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,n){if(!Ix(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=f(t,e,!1),i=d(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})});function iP(e,t){var n,r=t.length,i=[];if(e)for(n=0;n<r;n++)i[e[n]]=t[n];else for(n=0;n<r;n++)i[n]=t[n];return i}var aP="lusolve",oP=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],sP=Tx(aP,oP,e=>{var{typed:t,matrix:n,lup:r,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=e,l=qD({DenseMatrix:s});return t(aP,{"Array, Array | Matrix":function(e,t){e=n(e);var i=r(e);return c(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var a=i(e,n,r);return c(a.L,a.U,a.p,a.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function u(e){if(qb(e))return e;if(Ub(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")}function c(e,t,n,r,i){e=u(e),t=u(t),n&&((i=l(e,i,!0))._data=iP(n,i._data));var s=o(e,i),c=a(t,s);return r&&(c._data=iP(r,c._data)),c}}),lP="polynomialRoot",uP=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],cP=Tx(lP,uP,e=>{var{typed:t,isZero:n,equalScalar:r,add:i,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:f,im:d,re:p}=e;return t(lP,{"number|Complex, ...number|Complex":(e,t)=>{for(var h=[e,...t];h.length>0&&n(h[h.length-1]);)h.pop();if(h.length<2)throw new RangeError("Polynomial [".concat(e,", ").concat(t,"] must have a non-zero non-constant coefficient"));switch(h.length){case 2:return[u(s(h[0],h[1]))];case 3:var[m,g,y]=h,v=o(2,y),b=o(g,g),x=o(4,y,m);if(r(b,x))return[s(u(g),v)];var w=l(a(b,x));return[s(a(w,g),v),s(a(u(w),g),v)];case 4:var[N,S,E,A]=h,C=u(o(3,A)),k=o(E,E),_=o(3,A,S),D=i(o(2,E,E,E),o(27,A,A,N)),O=o(9,A,E,S);if(r(k,_)&&r(D,O))return[s(E,C)];var j,M=a(k,_),T=a(D,O),P=i(o(18,A,E,S,N),o(E,E,S,S)),F=i(o(4,E,E,E,N),o(4,A,S,S,S),o(27,A,A,N,N));if(r(P,F))return[s(a(o(4,A,E,S),i(o(9,A,A,N),o(E,E,E))),o(A,M)),s(a(o(9,A,N),o(E,S)),o(2,M))];j=r(k,_)?T:s(i(T,l(a(o(T,T),o(4,M,M,M)))),2);return c(j,!0).toArray().map(e=>s(i(E,e,s(M,e)),C)).map(e=>"Complex"===f(e)&&r(p(e),p(e)+d(e))?p(e):e);default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(h))}}})}),fP=["parse"],dP=Tx("Help",fP,e=>{var{parse:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},i=0;i<e.examples.length;i++){var a=e.examples[i];n+="    "+a+"\n";var o=void 0;try{o=t(a).compile().evaluate(r)}catch(s){o=s}void 0===o||Xb(o)||(n+="        "+lw(o,{precision:14})+"\n")}n+="\n"}return e.mayThrow&&e.mayThrow.length&&(n+="Throws: "+e.mayThrow.join(", ")+"\n\n"),e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=Nx(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};return Object.keys(e).filter(e=>"mathjs"!==e).forEach(n=>{t[n]=e[n]}),new n(t)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),pP=["?on","math","typed"],hP=Tx("Chain",pP,e=>{var{on:t,math:n,typed:r}=e;function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");xx(e)?this.value=e.value:this.value=e}function a(e,t){Dx(i.prototype,e,function(){var e=t();if("function"===typeof e)return o(e)})}function o(e){return function(){if(0===arguments.length)return new i(e(this.value));for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];if(r.isTypedFunction(e)){var a=r.resolve(e,t);if(1===a.params.length)throw new Error("chain function "+e.name+" cannot match rest parameter between chain value and additional arguments.");return new i(a.implementation.apply(e,t))}return new i(e.apply(e,t))}}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return lw(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(e){return new i(e.value)},i.createProxy=function(e,t){if("string"===typeof e)!function(e,t){"function"===typeof t&&(i.prototype[e]=o(t))}(e,t);else{var n=function(t){Ox(e,t)&&void 0===s[t]&&a(t,()=>e[t])};for(var r in e)n(r)}};var s={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(n),t&&t("import",function(e,t,n){n||a(e,t)}),i},{isClass:!0}),mP={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},gP={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},yP={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:mP,E:mP,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:gP,PI:gP,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]}},vP="help",bP=Tx(vP,["typed","mathWithTransform","Help"],e=>{var{typed:t,mathWithTransform:n,Help:r}=e;return t(vP,{any:function(e){var t,i=e;if("string"!==typeof e)for(t in n)if(Ox(n,t)&&e===n[t]){i=t;break}var a=eN(yP,i);if(!a){var o="function"===typeof i?i.name:i;throw new Error('No documentation found on "'+o+'"')}return new r(a)}})}),xP="chain",wP=Tx(xP,["typed","Chain"],e=>{var{typed:t,Chain:n}=e;return t(xP,{"":function(){return new n},any:function(e){return new n(e)}})}),NP=Tx("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=e;return t("det",{any:function(e){return Nx(e)},"Array | Matrix":function(e){var t;switch((t=qb(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return Nx(e);case 1:if(1===t[0])return Nx(e.valueOf()[0]);if(0===t[0])return 1;throw new RangeError("Matrix must be square (size: "+lw(t)+")");case 2:var l=t[0],u=t[1];if(l===u)return function(e,t){if(1===t)return Nx(e[0][0]);if(2===t)return r(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var n=!1,l=new Array(t).fill(0).map((e,t)=>t),u=0;u<t;u++){var c=l[u];if(o(e[c][u])){var f=void 0;for(f=u+1;f<t;f++)if(!o(e[l[f]][u])){c=l[f],l[f]=l[u],l[u]=c,n=!n;break}if(f===t)return e[c][u]}for(var d=e[c][u],p=0===u?1:e[l[u-1]][u-1],h=u+1;h<t;h++)for(var m=l[h],g=u+1;g<t;g++)e[m][g]=a(r(i(e[m][g],d),i(e[m][u],e[c][g])),p)}var y=e[l[t-1]][t-1];return n?s(y):y}(e.clone().valueOf(),l);if(0===u)return 1;throw new RangeError("Matrix must be square (size: "+lw(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+lw(t)+")")}}})}),SP=Tx("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:l,abs:u}=e;return t("inv",{"Array | Matrix":function(e){var t=qb(e)?e.size():gw(e);switch(t.length){case 1:if(1===t[0])return qb(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+lw(t)+")");case 2:var i=t[0],a=t[1];if(i===a)return qb(e)?n(c(e.valueOf(),i,a),e.storage()):c(e,i,a);throw new RangeError("Matrix must be square (size: "+lw(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+lw(t)+")")}},any:function(e){return r(1,e)}});function c(e,t,n){var c,f,d,p,h;if(1===t){if(0===(p=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,p)]]}if(2===t){var m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(o(e[0][1]),m)],[r(o(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var y=l(t).valueOf(),v=0;v<n;v++){var b=u(g[v][v]),x=v;for(c=v+1;c<t;)u(g[c][v])>b&&(b=u(g[c][v]),x=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=x)!==v&&(h=g[v],g[v]=g[c],g[c]=h,h=y[v],y[v]=y[c],y[c]=h);var w=g[v],N=y[v];for(c=0;c<t;c++){var S=g[c],E=y[c];if(c!==v){if(0!==S[v]){for(d=r(o(S[v]),w[v]),f=v;f<n;f++)S[f]=i(S[f],a(d,w[f]));for(f=0;f<n;f++)E[f]=i(E[f],a(d,N[f]))}}else{for(d=w[v],f=v;f<n;f++)S[f]=r(S[f],d);for(f=0;f<n;f++)E[f]=r(E[f],d)}}}return y}}),EP="pinv",AP=Tx(EP,["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],e=>{var{typed:t,matrix:n,inv:r,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:f,Complex:d}=e;return t(EP,{"Array | Matrix":function(e){var t=qb(e)?e.size():gw(e);switch(t.length){case 1:return m(e)?l(e):1===t[0]?r(e):o(l(e),s(e,e));case 2:if(m(e))return l(e);var i=t[0],a=t[1];if(i===a)try{return r(e)}catch(u){if(!(u instanceof Error&&u.message.match(/Cannot calculate inverse, determinant is zero/)))throw u}return qb(e)?n(p(e.valueOf(),i,a),e.storage()):p(e,i,a);default:throw new RangeError("Matrix must be two dimensional (size: "+lw(t)+")")}},any:function(e){return a(e,0)?Nx(e):u(1,e)}});function p(e,t,n){var{C:i,F:a}=function(e,t,n){var r=function(e,t,n){for(var r=Nx(e),i=0,a=0;a<t;a++){if(n<=i)return r;for(var s=a;h(r[s][i]);)if(t===++s&&(s=a,n===++i))return r;[r[s],r[a]]=[r[a],r[s]];for(var l=r[a][i],u=0;u<n;u++)r[a][u]=o(r[a][u],l);for(var d=0;d<t;d++)if(d!==a){l=r[d][i];for(var p=0;p<n;p++)r[d][p]=f(r[d][p],c(-1,c(l,r[a][p])))}i++}return r}(e,t,n),i=e.map((e,n)=>e.filter((e,n)=>n<t&&!h(s(r[n],r[n])))),a=r.filter((e,t)=>!h(s(r[t],r[t])));return{C:i,F:a}}(e,t,n),u=c(r(c(l(i),i)),l(i)),d=c(l(a),r(c(a,l(a))));return c(d,u)}function h(e){return a(f(e,d(1,1)),f(0,d(1,1)))}function m(e){return i(f(e,d(1,1)),f(c(e,0),d(1,1)))}});function CP(e){var{addScalar:t,subtract:n,flatten:r,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:c,inv:f,qr:d,usolve:p,usolveAll:h,equal:m,complex:g,larger:y,smaller:v,matrixFromColumns:b,dot:x}=e;function w(e,r,i,o){var l=t(e,o),u=n(a(e,o),a(r,i)),c=a(l,.5),f=a(s(n(a(l,l),a(4,u))),.5);return[t(c,f),n(c,f)]}function N(e,t,r,i,a,o,s,c){var f="BigNumber"===c,d="Complex"===c,p=f?u(0):d?g(0):0,h=f?u(1):d?g(1):1;if(v(l(r),s))return[[h,p],[p,h]];if(y(l(n(a,o)),s))return[[n(a,i),n(o,i)],[r,r]];var m=n(e,a),b=n(t,a),x=n(r,a),w=n(i,a);return v(l(b),s)?[[m,h],[x,p]]:[[b,p],[w,h]]}function S(e,t){for(var n=0;n<e.length;n++)e[n].push(...Array(t-e[n].length).fill(0));for(var r=e.length;r<t;r++)e.push(Array(t).fill(0)),e[r][r]=1;return e}function E(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return r;return-1}function A(e,t,n,r,i){for(var a,o="BigNumber"===i?u(1e3):1e3,s=0;a=C(t,n,i),a=p(e,a),!y(_(a),o);)if(++s>=5)return null;for(s=0;;){var l=p(e,a);if(v(_(k(a,[l])),r))break;if(++s>=10)return null;a=D(l)}return a}function C(e,t,n){var r="BigNumber"===n,i="Complex"===n,a=Array(e).fill(0).map(e=>2*Math.random()-1);return r&&(a=a.map(e=>u(e))),i&&(a=a.map(e=>g(e))),D(a=k(a,t),n)}function k(e,t){for(var r of t)e=n(e,i(o(x(r,e),x(r,r)),r));return e}function _(e){return l(s(x(e,e)))}function D(e,t){var n="Complex"===t,r="BigNumber"===t?u(1):n?g(1):1;return i(o(r,_(e)),e)}return function(e,s,p,x,C){void 0===C&&(C=!0);var k=function(e,n,r,i,s){var f,d="BigNumber"===i,p="Complex"===i,h=d?u(0):0,b=d?u(1):p?g(1):1,x=d?u(1):1,w=d?u(10):2,N=a(w,w);s&&(f=Array(n).fill(b));var S=!1;for(;!S;){S=!0;for(var E=0;E<n;E++){for(var A=h,C=h,k=0;k<n;k++)if(E!==k){var _=l(e[E][k]);A=t(A,_),C=t(C,_)}if(!m(A,0)&&!m(C,0)){for(var D=x,O=A,j=o(C,w),M=a(C,w);v(O,j);)O=a(O,N),D=a(D,w);for(;y(O,M);)O=o(O,N),D=o(D,w);if(v(o(t(O,C),D),a(t(A,C),.95))){S=!1;for(var T=o(1,D),P=0;P<n;P++)E!==P&&(e[E][P]=a(e[E][P],D),e[P][E]=a(e[P][E],T));s&&(f[E]=a(f[E],D))}}}}return c(f)}(e,s,0,x,C);!function(e,r,i,s,c,f){var d="BigNumber"===s,p="Complex"===s,h=d?u(0):p?g(0):0;d&&(i=u(i));for(var m=0;m<r-2;m++){for(var y=0,b=h,x=m+1;x<r;x++){var w=e[x][m];v(l(b),l(w))&&(b=w,y=x)}if(!v(l(b),i)){if(y!==m+1){var N=e[y];e[y]=e[m+1],e[m+1]=N;for(var S=0;S<r;S++){var E=e[S][y];e[S][y]=e[S][m+1],e[S][m+1]=E}if(c){var A=f[y];f[y]=f[m+1],f[m+1]=A}}for(var C=m+2;C<r;C++){var k=o(e[C][m],b);if(0!==k){for(var _=0;_<r;_++)e[C][_]=n(e[C][_],a(k,e[m+1][_]));for(var D=0;D<r;D++)e[D][m+1]=t(e[D][m+1],a(k,e[D][C]));if(c)for(var O=0;O<r;O++)f[C][O]=n(f[C][O],a(k,f[m+1][O]))}}}}}(e,s,p,x,C,k);var _,{values:D,C:O}=function(e,r,a,o,s){var f="BigNumber"===o,p="Complex"===o,h=f?u(1):p?g(1):1;f&&(a=u(a));var m=Nx(e),y=[],b=r,x=[],E=s?c(Array(r).fill(h)):void 0,A=s?c(Array(b).fill(h)):void 0,C=0;for(;C<=100;){C+=1;for(var k=0,_=0;_<b;_++)m[_][_]=n(m[_][_],k);var{Q:D,R:O}=d(m);m=i(O,D);for(var j=0;j<b;j++)m[j][j]=t(m[j][j],k);if(s&&(A=i(A,D)),1===b||v(l(m[b-1][b-2]),a)){C=0,y.push(m[b-1][b-1]),s&&(x.unshift([[1]]),S(A,r),E=i(E,A),b>1&&(A=c(Array(b-1).fill(h)))),b-=1,m.pop();for(var M=0;M<b;M++)m[M].pop()}else if(2===b||v(l(m[b-2][b-3]),a)){C=0;var T=w(m[b-2][b-2],m[b-2][b-1],m[b-1][b-2],m[b-1][b-1]);y.push(...T),s&&(x.unshift(N(m[b-2][b-2],m[b-2][b-1],m[b-1][b-2],m[b-1][b-1],T[0],T[1],a,o)),S(A,r),E=i(E,A),b>2&&(A=c(Array(b-2).fill(h)))),b-=2,m.pop(),m.pop();for(var P=0;P<b;P++)m[P].pop(),m[P].pop()}if(0===b)break}if(y.sort((e,t)=>+n(l(e),l(t))),C>100){var F=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+y.join(", "));throw F.values=y,F.vectors=[],F}var I=s?i(E,function(e,t){for(var n=[],r=0;r<t;r++)n[r]=Array(t).fill(0);var i=0;for(var a of e){for(var o=a.length,s=0;s<o;s++)for(var l=0;l<o;l++)n[i+s][i+l]=a[s][l];i+=o}return n}(x,r)):void 0;return{values:y,C:I}}(e,s,p,x,C);return C&&(_=function(e,t,a,o,s,l,d){var p=f(a),y=i(p,e,a),v="BigNumber"===d,b="Complex"===d,x=v?u(0):b?g(0):0,w=v?u(1):b?g(1):1,N=[],S=[];for(var C of s){var k=E(N,C,m);-1===k?(N.push(C),S.push(1)):S[k]+=1}for(var _=[],D=N.length,O=Array(t).fill(x),j=c(Array(t).fill(w)),M=[],T=function(){var e=N[P],s=n(y,i(e,j)),u=h(s,O);for(u.shift();u.length<S[P];){var c=A(s,t,u,l,d);if(null==c){M.push(e);break}u.push(c)}var p=i(f(o),a);u=u.map(e=>i(p,e)),_.push(...u.map(e=>r(e)))},P=0;P<D;P++)T();if(0!==M.length){var F=new Error("Failed to find eigenvectors for the following eigenvalues: "+M.join(", "));throw F.values=s,F.vectors=_,F}return _}(e,s,O,k,D,p,x),_=b(..._)),{values:D,vectors:_}}}function kP(e){var{config:t,addScalar:n,subtract:r,abs:i,atan:a,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:f,add:d}=e;function p(e,n,r){var i=n-e;return Math.abs(i)<=t.epsilon?Math.PI/4:.5*Math.atan(2*r/(n-e))}function h(e,n,o){var s=r(n,e);return i(s)<=t.epsilon?c(-1).acos().div(4):l(.5,a(f(2,o,u(s))))}function m(e,t,n,r){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=N(i,0),l=N(i,0),u=0;u<i;u++)s[u]=a*e[u][n]-o*e[u][r],l[u]=o*e[u][n]+a*e[u][r];for(var c=0;c<i;c++)e[c][n]=s[c],e[c][r]=l[c];return e}function g(e,t,i,a){for(var u=e.length,f=o(t),d=s(t),p=N(u,c(0)),h=N(u,c(0)),m=0;m<u;m++)p[m]=r(l(f,e[m][i]),l(d,e[m][a])),h[m]=n(l(d,e[m][i]),l(f,e[m][a]));for(var g=0;g<u;g++)e[g][i]=p[g],e[g][a]=h[g];return e}function y(e,t,i,a){for(var u=e.length,p=c(o(t)),h=c(s(t)),m=l(p,p),g=l(h,h),y=N(u,c(0)),v=N(u,c(0)),b=f(c(2),p,h,e[i][a]),x=n(r(l(m,e[i][i]),b),l(g,e[a][a])),w=d(l(g,e[i][i]),b,l(m,e[a][a])),S=0;S<u;S++)y[S]=r(l(p,e[i][S]),l(h,e[a][S])),v[S]=n(l(h,e[i][S]),l(p,e[a][S]));e[i][i]=x,e[a][a]=w,e[i][a]=c(0),e[a][i]=c(0);for(var E=0;E<u;E++)E!==i&&E!==a&&(e[i][E]=y[E],e[E][i]=y[E],e[a][E]=v[E],e[E][a]=v[E]);return e}function v(e,t,n,r){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=a*a,l=o*o,u=N(i,0),c=N(i,0),f=s*e[n][n]-2*a*o*e[n][r]+l*e[r][r],d=l*e[n][n]+2*a*o*e[n][r]+s*e[r][r],p=0;p<i;p++)u[p]=a*e[n][p]-o*e[r][p],c[p]=o*e[n][p]+a*e[r][p];e[n][n]=f,e[r][r]=d,e[n][r]=0,e[r][n]=0;for(var h=0;h<i;h++)h!==n&&h!==r&&(e[n][h]=u[h],e[h][n]=u[h],e[r][h]=c[h],e[h][r]=c[h]);return e}function b(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var a=i+1;a<t;a++)Math.abs(n)<Math.abs(e[i][a])&&(n=Math.abs(e[i][a]),r=[i,a]);return[r,n]}function x(e){for(var t=e.length,n=0,r=[0,1],a=0;a<t;a++)for(var o=a+1;o<t;o++)i(n)<i(e[a][o])&&(n=i(e[a][o]),r=[a,o]);return[r,n]}function w(e,t){for(var n=e.length,r=Array(n),a=Array(n),o=0;o<n;o++)a[o]=Array(n);for(var s=0;s<n;s++){for(var l=0,u=e[0],c=0;c<e.length;c++)i(e[c])<i(u)&&(u=e[l=c]);r[s]=e.splice(l,1)[0];for(var f=0;f<n;f++)a[f][s]=t[f][l],t[f].splice(l,1)}return{values:r,vectors:a}}function N(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.epsilon,a=arguments.length>3?arguments[3]:void 0;if("number"===a)return function(e,t){for(var n,r=e.length,i=Math.abs(t/r),a=new Array(r),o=0;o<r;o++)a[o]=N(r,0),a[o][o]=1;var s=b(e);for(;Math.abs(s[1])>=Math.abs(i);){var l=s[0][0],u=s[0][1];e=v(e,n=p(e[l][l],e[u][u],e[l][u]),l,u),a=m(a,n,l,u),s=b(e)}for(var c=N(r,0),f=0;f<r;f++)c[f]=e[f][f];return w(Nx(c),Nx(a))}(e,r);if("BigNumber"===a)return function(e,t){for(var n,r=e.length,a=i(t/r),o=new Array(r),s=0;s<r;s++)o[s]=N(r,0),o[s][s]=1;var l=x(e);for(;i(l[1])>=i(a);){var u=l[0][0],c=l[0][1];e=y(e,n=h(e[u][u],e[c][c],e[u][c]),u,c),o=g(o,n,u,c),l=x(e)}for(var f=N(r,0),d=0;d<r;d++)f[d]=e[d][d];return w(Nx(f),Nx(o))}(e,r);throw TypeError("Unsupported data type: "+a)}}var _P=Tx("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e=>{var{config:t,typed:n,matrix:r,addScalar:i,subtract:a,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,divideScalar:d,inv:p,bignumber:h,multiply:m,add:g,larger:y,column:v,flatten:b,number:x,complex:w,sqrt:N,diag:S,qr:E,usolve:A,usolveAll:C,im:k,re:_,smaller:D,matrixFromColumns:O,dot:j}=e,M=kP({config:t,addScalar:i,subtract:a,column:v,flatten:b,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,inv:p,bignumber:h,complex:w,multiply:m,add:g}),T=CP({config:t,addScalar:i,subtract:a,multiply:m,multiplyScalar:f,flatten:b,divideScalar:d,sqrt:N,abs:s,bignumber:h,diag:S,qr:E,inv:p,usolve:A,usolveAll:C,equal:o,complex:w,larger:y,smaller:D,matrixFromColumns:O,dot:j});return n("eigs",{Array:function(e){return P(r(e))},"Array, number|BigNumber":function(e,t){return P(r(e),t)},Matrix:function(e){var{values:t,vectors:n}=P(e);return{values:r(t),vectors:r(n)}},"Matrix, number|BigNumber":function(e,t){var{values:n,vectors:i}=P(e,t);return{values:r(n),vectors:r(i)}}});function P(e,n){void 0===n&&(n=t.epsilon);var r=e.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+lw(r)+")");var i=e.toArray(),o=r[0];if(function(e,t,n){for(var r=0;r<t;r++)for(var i=0;i<t;i++)if(y(h(s(k(e[r][i]))),n))return!1;return!0}(i,o,n)&&(function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)e[n][r]=_(e[n][r])}(i,o),function(e,t,n){for(var r=0;r<t;r++)for(var i=r;i<t;i++)if(y(h(s(a(e[r][i],e[i][r]))),n))return!1;return!0}(i,o,n))){var l=F(e,i,o);return M(i,o,n,l)}var u=F(e,i,o);return T(i,o,n,u)}function F(e,t,n){var r=e.datatype();if("number"===r||"BigNumber"===r||"Complex"===r)return r;for(var i=!1,a=!1,o=!1,s=0;s<n;s++)for(var l=0;l<n;l++){var u=t[s][l];if(Fb(u)||Rb(u))i=!0;else if(Ib(u))a=!0;else{if(!Bb(u))throw TypeError("Unsupported type in Matrix: "+wx(u));o=!0}}if(a&&o&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),o){for(var c=0;c<n;c++)for(var f=0;f<n;f++)t[c][f]=w(t[c][f]);return"Complex"}if(a){for(var d=0;d<n;d++)for(var p=0;p<n;p++)t[d][p]=h(t[d][p]);return"BigNumber"}if(i){for(var m=0;m<n;m++)for(var g=0;g<n;g++)t[m][g]=x(t[m][g]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),DP="expm",OP=Tx(DP,["typed","abs","add","identity","inv","multiply"],e=>{var{typed:t,abs:n,add:r,identity:i,inv:a,multiply:o}=e;return t(DP,{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+lw(t)+")");for(var l=t[0],u=function(e){for(var t=e.size()[0],r=0,i=0;i<t;i++){for(var a=0,o=0;o<t;o++)a+=n(e.get([i,o]));r=Math.max(a,r)}return r}(e),c=function(e,t){for(var n=30,r=0;r<n;r++)for(var i=0;i<=r;i++){var a=r-i;if(s(e,i,a)<t)return{q:i,j:a}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(u,1e-15),f=c.q,d=c.j,p=o(e,Math.pow(2,-d)),h=i(l),m=i(l),g=1,y=p,v=-1,b=1;b<=f;b++)b>1&&(y=o(y,p),v=-v),h=r(h,o(g=g*(f-b+1)/((2*f-b+1)*b),y)),m=r(m,o(g*v,y));for(var x=o(a(m),h),w=0;w<d;w++)x=o(x,x);return Hb(e)?e.createSparseMatrix(x):x}});function s(e,t,n){for(var r=1,i=2;i<=t;i++)r*=i;for(var a=r,o=t+1;o<=2*t;o++)a*=o;var s=a*(2*t+1);return 8*Math.pow(e/Math.pow(2,n),2*t)*r*r/(a*s)}}),jP="sqrtm",MP=Tx(jP,["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],e=>{var{typed:t,abs:n,add:r,multiply:i,map:a,sqrt:o,subtract:s,inv:l,size:u,max:c,identity:f}=e,d=1e-6;function p(e){var t,a=0,o=e,p=f(u(e));do{var h=o;if(o=i(.5,r(h,l(p))),p=i(.5,r(p,l(h))),(t=c(n(s(o,h))))>d&&++a>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>d);return o}return t(jP,{"Array | Matrix":function(e){var t=qb(e)?e.size():gw(e);switch(t.length){case 1:if(1===t[0])return a(e,o);throw new RangeError("Matrix must be square (size: "+lw(t)+")");case 2:if(t[0]===t[1])return p(e);throw new RangeError("Matrix must be square (size: "+lw(t)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+lw(t)+")")}}})}),TP="sylvester",PP=Tx(TP,["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],e=>{var{typed:t,schur:n,matrixFromColumns:r,matrix:i,multiply:a,range:o,concat:s,transpose:l,index:u,subset:c,add:f,subtract:d,identity:p,lusolve:h,abs:m}=e;return t(TP,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(e,t,n){return g(i(e),t,n)},"Array, Array, Matrix":function(e,t,n){return g(i(e),i(t),n)},"Array, Matrix, Array":function(e,t,n){return g(i(e),t,i(n))},"Matrix, Array, Matrix":function(e,t,n){return g(e,i(t),n)},"Matrix, Array, Array":function(e,t,n){return g(e,i(t),i(n))},"Matrix, Matrix, Array":function(e,t,n){return g(e,t,i(n))},"Array, Array, Array":function(e,t,n){return g(i(e),i(t),i(n)).toArray()}});function g(e,t,g){for(var y=t.size()[0],v=e.size()[0],b=n(e),x=b.T,w=b.U,N=n(a(-1,t)),S=N.T,E=N.U,A=a(a(l(w),g),E),C=o(0,v),k=[],_=(e,t)=>s(e,t,1),D=(e,t)=>s(e,t,0),O=0;O<y;O++)if(O<y-1&&m(c(S,u(O+1,O)))>1e-5){for(var j=D(c(A,u(C,O)),c(A,u(C,O+1))),M=0;M<O;M++)j=f(j,D(a(k[M],c(S,u(M,O))),a(k[M],c(S,u(M,O+1)))));var T=a(p(v),a(-1,c(S,u(O,O)))),P=a(p(v),a(-1,c(S,u(O+1,O)))),F=a(p(v),a(-1,c(S,u(O,O+1)))),I=a(p(v),a(-1,c(S,u(O+1,O+1)))),B=D(_(f(x,T),P),_(F,f(x,I))),R=h(B,j);k[O]=R.subset(u(o(0,v),0)),k[O+1]=R.subset(u(o(v,2*v),0)),O++}else{for(var z=c(A,u(C,O)),L=0;L<O;L++)z=f(z,a(k[L],c(S,u(L,O))));var U=c(S,u(O,O)),q=d(x,a(U,p(v)));k[O]=h(q,z)}var $=i(r(...k));return a(w,a($,l(E)))}}),FP="schur",IP=Tx(FP,["typed","matrix","identity","multiply","qr","norm","subtract"],e=>{var{typed:t,matrix:n,identity:r,multiply:i,qr:a,norm:o,subtract:s}=e;return t(FP,{Array:function(e){var t=l(n(e));return{U:t.U.valueOf(),T:t.T.valueOf()}},Matrix:function(e){return l(e)}});function l(e){var t,n=e.size()[0],l=e,u=r(n),c=0;do{t=l;var f=a(l),d=f.Q,p=f.R;if(l=i(p,d),u=i(u,d),c++>100)break}while(o(s(l,t))>1e-4);return{U:u,T:l}}}),BP="lyap",RP=Tx(BP,["typed","matrix","sylvester","multiply","transpose"],e=>{var{typed:t,matrix:n,sylvester:r,multiply:i,transpose:a}=e;return t(BP,{"Matrix, Matrix":function(e,t){return r(e,a(e),i(-1,t))},"Array, Matrix":function(e,t){return r(n(e),a(n(e)),i(-1,t))},"Matrix, Array":function(e,t){return r(e,a(n(e)),n(i(-1,t)))},"Array, Array":function(e,t){return r(n(e),a(n(e)),n(i(-1,t))).toArray()}})}),zP=Tx("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:t,matrix:n,multiply:r,equalScalar:i,divideScalar:a,inv:o}=e,s=QA({typed:t,equalScalar:i}),l=tC({typed:t});return t("divide",Ex({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"DenseMatrix, any":function(e,t){return l(e,t,a,!1)},"SparseMatrix, any":function(e,t){return s(e,t,a,!1)},"Array, any":function(e,t){return l(n(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},a.signatures))}),LP="distance",UP=Tx(LP,["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],e=>{var{typed:t,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:l}=e;return t(LP,{"Array, Array, Array":function(e,t,n){if(2===e.length&&2===t.length&&2===n.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(t,n))throw new TypeError("LinePoint1 should not be same with LinePoint2");var a=r(n[1],t[1]),s=r(t[0],n[0]),l=r(i(n[0],t[1]),i(t[0],n[1]));return m(e[0],e[1],a,s,l)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,n){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(n).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(t),h(n)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in n&&"lineTwoPtY"in n){var a=r(n.lineTwoPtY,t.lineOnePtY),s=r(t.lineOnePtX,n.lineTwoPtX),l=r(i(n.lineTwoPtX,t.lineOnePtY),i(t.lineOnePtX,n.lineTwoPtY));return m(e.pointX,e.pointY,a,s,l)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!f(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!d(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return m(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return g(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return y([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return y([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&u(e[0][0])&&u(e[0][1])){if(e.some(e=>2!==e.length||!u(e[0])||!u(e[1])))return!1}else{if(!(3===e[0].length&&u(e[0][0])&&u(e[0][1])&&u(e[0][2])))return!1;if(e.some(e=>3!==e.length||!u(e[0])||!u(e[1])||!u(e[2])))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],n=[],r=[],i=0;i<e.length-1;i++)for(var a=i+1;a<e.length;a++)2===e[0].length?(n=[e[i][0],e[i][1]],r=[e[a][0],e[a][1]]):3===e[0].length&&(n=[e[i][0],e[i][1],e[i][2]],r=[e[a][0],e[a][1],e[a][2]]),t.push(y(n,r));return t}(e)}});function u(e){return"number"===typeof e||Ib(e)}function c(e){return e.constructor!==Array&&(e=h(e)),u(e[0])&&u(e[1])}function f(e){return e.constructor!==Array&&(e=h(e)),u(e[0])&&u(e[1])&&u(e[2])}function d(e){return Array.isArray(e)||(e=h(e)),e.every(u)}function p(e){return e.constructor!==Array&&(e=h(e)),u(e[0])&&u(e[1])&&u(e[2])&&u(e[3])&&u(e[4])&&u(e[5])}function h(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function m(e,t,r,o,u){var c=l(n(n(i(r,e),i(o,t)),u)),f=s(n(i(r,r),i(o,o)));return a(c,f)}function g(e,t,o,l,u,c,f,d,p){var h=[r(i(r(u,t),p),i(r(c,o),d)),r(i(r(c,o),f),i(r(l,e),p)),r(i(r(l,e),d),i(r(u,t),f))];h=s(n(n(i(h[0],h[0]),i(h[1],h[1])),i(h[2],h[2])));var m=s(n(n(i(f,f),i(d,d)),i(p,p)));return a(h,m)}function y(e,t){for(var a=e.length,o=0,l=0,u=0;u<a;u++)l=r(e[u],t[u]),o=n(i(l,l),o);return s(o)}}),qP=Tx("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],e=>{var{typed:t,config:n,abs:r,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:f,equalScalar:d,flatten:p,isZero:h,isNumeric:m}=e;return t("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(e,t,n){var r=g(e.valueOf(),t.valueOf(),n.valueOf());return null===r?null:o(r)},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){var i=y(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf());return null===i?null:o(i)}});function g(e,t,n){if(e=v(e),t=v(t),n=v(n),!x(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,n,r,i,o,s,f,d,p){var h=l(e,s),m=l(r,s),g=l(t,f),y=l(i,f),v=l(n,d),b=l(o,d),x=c(c(c(p,h),g),v),w=c(c(c(a(a(m,y),b),h),g),v),N=u(x,w),S=a(e,l(N,c(r,e))),E=a(t,l(N,c(i,t))),A=a(n,l(N,c(o,n)));return[S,E,A]}(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])}function y(e,t,o,p){if(e=v(e),t=v(t),o=v(o),p=v(p),2===e.length){if(!b(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(p))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,o,d){var p=e,m=o,g=c(p,t),y=c(m,d),v=c(l(g[0],y[1]),l(y[0],g[1]));if(h(v))return null;if(f(r(v),n.epsilon))return null;var b=l(y[0],p[1]),x=l(y[1],p[0]),w=l(y[0],m[1]),N=l(y[1],m[0]),S=u(a(c(c(b,x),w),N),v);return i(s(g,S),p)}(e,t,o,p)}if(3===e.length){if(!x(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!x(p))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function(e,t,n,r,i,o,s,f,p,m,g,y){var v=w(e,s,m,s,t,f,g,f,n,p,y,p),b=w(m,s,r,e,g,f,i,t,y,p,o,n),x=w(e,s,r,e,t,f,i,t,n,p,o,n),N=w(m,s,m,s,g,f,g,f,y,p,y,p),S=w(r,e,r,e,i,t,i,t,o,n,o,n),E=c(l(v,b),l(x,N)),A=c(l(S,N),l(b,b));if(h(A))return null;var C=u(E,A),k=u(a(v,l(C,b)),N),_=a(e,l(C,c(r,e))),D=a(t,l(C,c(i,t))),O=a(n,l(C,c(o,n))),j=a(s,l(k,c(m,s))),M=a(f,l(k,c(g,f))),T=a(p,l(k,c(y,p)));return d(_,j)&&d(D,M)&&d(O,T)?[_,D,O]:null}(e[0],e[1],e[2],t[0],t[1],t[2],o[0],o[1],o[2],p[0],p[1],p[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function v(e){return 1===e.length?e[0]:e.length>1&&Array.isArray(e[0])&&e.every(e=>Array.isArray(e)&&1===e.length)?p(e):e}function b(e){return 2===e.length&&m(e[0])&&m(e[1])}function x(e){return 3===e.length&&m(e[0])&&m(e[1])&&m(e[2])}function w(e,t,n,r,i,o,s,u,f,d,p,h){var m=l(c(e,t),c(n,r)),g=l(c(i,o),c(s,u)),y=l(c(f,d),c(p,h));return a(a(m,g),y)}}),$P=Tx("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:n,add:r,numeric:i}=e;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{return AE(e,t,r)}catch(n){throw fD(n,"sum")}},"...":function(e){if(NE(e))throw new TypeError("Scalar values expected in function sum");return a(e)}});function a(e){var t;return SE(e,function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw fD(n,"sum",e)}}),void 0===t&&(t=i(0,n.number)),"string"===typeof t&&(t=i(t,n.number)),t}}),WP="cumsum",HP=Tx(WP,["typed","add","unaryPlus"],e=>{var{typed:t,add:n,unaryPlus:r}=e;return t(WP,{Array:i,Matrix:function(e){return e.create(i(e.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(e,t){return e.create(o(e.valueOf(),t))},"...":function(e){if(NE(e))throw new TypeError("All values expected to be scalar in function cumsum");return i(e)}});function i(e){try{return a(e)}catch(t){throw fD(t,WP)}}function a(e){if(0===e.length)return[];for(var t=[r(e[0])],i=1;i<e.length;++i)t.push(n(t[i-1],e[i]));return t}function o(e,t){var n=gw(e);if(t<0||t>=n.length)throw new mw(t,n.length);try{return s(e,t)}catch(r){throw fD(r,WP)}}function s(e,t){var n,r,i;if(t<=0){var o=e[0][0];if(Array.isArray(o)){for(i=wE(e),r=[],n=0;n<i.length;n++)r[n]=s(i[n],t-1);return r}return a(e)}for(r=[],n=0;n<e.length;n++)r[n]=s(e[n],t-1);return r}}),KP="mean",VP=Tx(KP,["typed","add","divide"],e=>{var{typed:t,add:n,divide:r}=e;return t(KP,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{var i=AE(e,t,n),a=Array.isArray(e)?gw(e):e.size();return r(i,a[t])}catch(o){throw fD(o,"mean")}},"...":function(e){if(NE(e))throw new TypeError("Scalar values expected in function mean");return i(e)}});function i(e){var t,i=0;if(SE(e,function(e){try{t=void 0===t?e:n(t,e),i++}catch(r){throw fD(r,"mean",e)}}),0===i)throw new Error("Cannot calculate the mean of an empty array");return r(t,i)}}),YP="median",GP=Tx(YP,["typed","add","divide","compare","partitionSelect"],e=>{var{typed:t,add:n,divide:r,compare:i,partitionSelect:a}=e;function o(e){try{var t=(e=jw(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2===0){for(var n=t/2-1,r=a(e,n+1),o=e[n],u=0;u<n;++u)i(e[u],o)>0&&(o=e[u]);return l(o,r)}var c=a(e,(t-1)/2);return s(c)}catch(f){throw fD(f,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(e){return e}}),l=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return t(YP,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(NE(e))throw new TypeError("Scalar values expected in function median");return o(e)}})}),XP=Tx("mad",["typed","abs","map","median","subtract"],e=>{var{typed:t,abs:n,map:r,median:i,subtract:a}=e;return t("mad",{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=jw(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=i(e);return i(r(e,function(e){return n(a(e,t))}))}catch(o){throw o instanceof TypeError&&-1!==o.message.indexOf("median")?new TypeError(o.message.replace("median","mad")):fD(o,"mad")}}}),JP="unbiased",ZP="variance",QP=Tx(ZP,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s}=e;return t(ZP,{"Array | Matrix":function(e){return l(e,JP)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(e,t){return u(e,t,JP)},"Array | Matrix, number | BigNumber, string":u,"...":function(e){return l(e,JP)}});function l(e,t){var o,l=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(SE(e,function(e){try{o=void 0===o?e:n(o,e),l++}catch(t){throw fD(t,"variance",e)}}),0===l)throw new Error("Cannot calculate variance of an empty array");var u=a(o,l);if(o=void 0,SE(e,function(e){var t=r(e,u);o=void 0===o?i(t,t):n(o,i(t,t))}),s(o))return o;switch(t){case"uncorrected":return a(o,l);case"biased":return a(o,l+1);case"unbiased":var c=Ib(o)?o.mul(0):0;return 1===l?c:a(o,l-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,e=>l(e,n))}catch(r){throw fD(r,"variance")}}}),eF="quantileSeq",tF=Tx(eF,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:t,bignumber:n,add:r,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d}=e,p=HA({typed:t,isInteger:u});return t(eF,{"Array | Matrix, number | BigNumber":(e,t)=>m(e,t,!1),"Array | Matrix, number | BigNumber, number":(e,t,n)=>h(e,t,!1,n,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(e,t,n,r)=>h(e,t,n,r,m),"Array | Matrix, Array | Matrix":(e,t)=>g(e,t,!1),"Array | Matrix, Array | Matrix, number":(e,t,n)=>h(e,t,!1,n,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(e,t,n,r)=>h(e,t,n,r,g)});function h(e,t,n,r,i){return p(e,r,e=>i(e,t,n))}function m(e,t,i){var o,s=e.valueOf();if(c(t,0))throw new Error("N/prob must be non-negative");if(f(t,1))return Fb(t)?y(s,t,i):n(y(s,t,i));if(d(t,1)){if(!u(t))throw new Error("N must be a positive integer");if(d(t,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var l=r(t,1);o=[];for(var p=0;c(p,t);p++){var h=a(p+1,l);o.push(y(s,h,i))}return Fb(t)?o:n(o)}}function g(e,t,n){for(var r=e.valueOf(),i=t.valueOf(),a=[],o=0;o<i.length;++o)a.push(y(r,i[o],n));return a}function y(e,t,n){var a=jw(e),c=a.length;if(0===c)throw new Error("Cannot calculate quantile of an empty sequence");var f,d,p=Fb(t)?t*(c-1):t.times(c-1),h=Fb(t)?Math.floor(p):p.floor().toNumber(),m=Fb(t)?p%1:p.minus(h);if(u(p))return n?a[p]:s(a,Fb(t)?p:p.valueOf());if(n)f=a[h],d=a[h+1];else{d=s(a,h+1),f=a[h];for(var g=0;g<h;++g)l(a[g],f)>0&&(f=a[g])}return r(o(f,i(1,m)),o(d,m))}}),nF=Tx("std",["typed","map","sqrt","variance"],e=>{var{typed:t,map:n,sqrt:r,variance:i}=e;return t("std",{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(e){return a(e)}});function a(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var a=i.apply(null,arguments);return $b(a)?n(a,r):r(a)}catch(o){throw o instanceof TypeError&&-1!==o.message.indexOf(" variance")?new TypeError(o.message.replace(" variance"," std")):o}}}),rF="corr",iF=Tx(rF,["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],e=>{var{typed:t,matrix:n,sqrt:r,sum:i,add:a,subtract:o,multiply:s,pow:l,divide:u}=e;return t(rF,{"Array, Array":function(e,t){return c(e,t)},"Matrix, Matrix":function(e,t){var r=c(e.toArray(),t.toArray());return Array.isArray(r)?n(r):r}});function c(e,t){var n=[];if(Array.isArray(e[0])&&Array.isArray(t[0])){if(e.length!==t.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var r=0;r<e.length;r++){if(e[r].length!==t[r].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");n.push(f(e[r],t[r]))}return n}if(e.length!==t.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(e,t)}function f(e,t){var n=e.length,c=i(e),f=i(t),d=e.reduce((e,n,r)=>a(e,s(n,t[r])),0),p=i(e.map(e=>l(e,2))),h=i(t.map(e=>l(e,2))),m=o(s(n,d),s(c,f)),g=r(s(o(s(n,p),l(c,2)),o(s(n,h),l(f,2))));return u(m,g)}});function aF(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return aF(e,n)*aF(n+1,t)}function oF(e,t){if(!Ix(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ix(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,i=2,a=t<n?t:n,o=t<n?n+1:t+1;o<=e;++o)for(r*=o;i<=a&&r%i===0;)r/=i,++i;return i<=a&&(r/=aF(i,a)),r}oF.signature="number, number";var sF="combinations",lF=Tx(sF,["typed"],e=>{var{typed:t}=e;return t(sF,{"number, number":oF,"BigNumber, BigNumber":function(e,t){var n,r,i=e.constructor,a=e.minus(t),o=new i(1);if(!uF(e)||!uF(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(n=o,t.lt(a))for(r=o;r.lte(a);r=r.plus(o))n=n.times(t.plus(r)).dividedBy(r);else for(r=o;r.lte(t);r=r.plus(o))n=n.times(a.plus(r)).dividedBy(r);return n}})});function uF(e){return e.isInteger()&&e.gte(0)}var cF="combinationsWithRep",fF=Tx(cF,["typed"],e=>{var{typed:t}=e;return t(cF,{"number, number":function(e,t){if(!Ix(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ix(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?aF(e,e+t-1)/aF(1,t):aF(t+1,e+t-1)/aF(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,i=new(0,e.constructor)(1),a=e.minus(i);if(!dF(e)||!dF(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,t.lt(a))for(r=i;r.lte(a);r=r.plus(i))n=n.times(t.plus(r)).dividedBy(r);else for(r=i;r.lte(t);r=r.plus(i))n=n.times(a.plus(r)).dividedBy(r);return n}})});function dF(e){return e.isInteger()&&e.gte(0)}function pF(e){var t;if(Ix(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:aF(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*pF(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*e))}--e,t=mF[0];for(var o=1;o<mF.length;++o)t+=mF[o]/(e+o);var s=e+hF+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}pF.signature="number";var hF=4.7421875,mF=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],gF=.9189385332046728,yF=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function vF(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-vF(1-e);for(var t=(e-=1)+5+.5,n=yF[0],r=6;r>=1;r--)n+=yF[r]/(e+r);return gF+(e+.5)*Math.log(t)-t+Math.log(n)}vF.signature="number";var bF="gamma",xF=Tx(bF,["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:t,config:n,multiplyScalar:r,pow:i,BigNumber:a,Complex:o}=e;return t(bF,{number:pF,Complex:function e(t){if(0===t.im)return pF(t.re);if(t.re<.5){var n=new o(1-t.re,-t.im),r=new o(Math.PI*t.re,Math.PI*t.im);return new o(Math.PI).div(r.sin()).div(e(n))}t=new o(t.re-1,t.im);for(var i=new o(mF[0],0),a=1;a<mF.length;++a){var s=new o(mF[a],0);i=i.add(s.div(t.add(a)))}var l=new o(t.re+hF+.5,t.im),u=Math.sqrt(2*Math.PI),c=l.pow(t.add(.5)),f=l.neg().exp();return i.mul(u).mul(c).mul(f)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new a(1/0):s(e.minus(1));if(!e.isFinite())return new a(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function s(e){if(e<8)return new a([1,1,2,6,24,120,720,5040][e]);var t=n.precision+(0|Math.log(e.toNumber())),r=a.clone({precision:t});if(e%2===1)return e.times(s(new a(e-1)));for(var i=e,o=new r(e),l=e.toNumber();i>2;)l+=i-=2,o=o.times(l);return new a(o.toPrecision(a.precision))}}),wF="lgamma",NF=Tx(wF,["Complex","typed"],e=>{var{Complex:t,typed:n}=e,r=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return n(wF,{number:vF,Complex:function e(n){if(n.isNaN())return new t(NaN,NaN);if(0===n.im)return new t(vF(n.re),0);if(n.re>=7||Math.abs(n.im)>=7)return i(n);if(n.re<=.1){var r=function(e,t){return(e>0||!(e<0)&&1/e===1/0)^(t>0||!(t<0)&&1/t===1/0)?-e:e}(6.283185307179586,n.im)*Math.floor(.5*n.re+.25),o=n.mul(Math.PI).sin().log(),s=e(new t(1-n.re,-n.im));return new t(1.1447298858494002,r).sub(o).sub(s)}return n.im>=0?a(n):a(n.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function i(e){for(var n=e.sub(.5).mul(e.log()).sub(e).add(gF),i=new t(1,0).div(e),a=i.div(e),o=r[0],s=r[1],l=2*a.re,u=a.re*a.re+a.im*a.im,c=2;c<8;c++){var f=s;s=-u*o+r[c],o=l*o+f}var d=i.mul(a.mul(o).add(s));return n.add(d)}function a(e){var n=0,r=0,a=e;for(e=e.add(1);e.re<=7;){var o=(a=a.mul(e)).im<0?1:0;0!==o&&0===r&&n++,r=o,e=e.add(1)}return i(e).sub(a.log()).sub(new t(0,2*n*Math.PI*1))}}),SF="factorial",EF=Tx(SF,["typed","gamma"],e=>{var{typed:t,gamma:n}=e;return t(SF,{number:function(e){if(e<0)throw new Error("Value must be non-negative");return n(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return n(e.plus(1))},"Array | Matrix":t.referToSelf(e=>t=>EE(t,e))})}),AF="kldivergence",CF=Tx(AF,["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],e=>{var{typed:t,matrix:n,divide:r,sum:i,multiply:a,map:o,dotDivide:s,log:l,isNumeric:u}=e;return t(AF,{"Array, Array":function(e,t){return c(n(e),n(t))},"Matrix, Array":function(e,t){return c(e,n(t))},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Matrix":function(e,t){return c(e,t)}});function c(e,t){var n=t.size().length,c=e.size().length;if(n>1)throw new Error("first object must be one dimensional");if(c>1)throw new Error("second object must be one dimensional");if(n!==c)throw new Error("Length of two vectors must be equal");if(0===i(e))throw new Error("Sum of elements in first object must be non zero");if(0===i(t))throw new Error("Sum of elements in second object must be non zero");var f=r(e,i(e)),d=r(t,i(t)),p=i(a(f,o(s(f,d),e=>l(e))));return u(p)?p:Number.NaN}}),kF="multinomial",_F=Tx(kF,["typed","add","divide","multiply","factorial","isInteger","isPositive"],e=>{var{typed:t,add:n,divide:r,multiply:i,factorial:a,isInteger:o,isPositive:s}=e;return t(kF,{"Array | Matrix":function(e){var t=0,l=1;return SE(e,function(e){if(!o(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=n(t,e),l=i(l,a(e))}),r(a(t),l)}})}),DF="permutations",OF=Tx(DF,["typed","factorial"],e=>{var{typed:t,factorial:n}=e;return t(DF,{"number | BigNumber":n,"number, number":function(e,t){if(!Ix(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ix(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return aF(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!jF(e)||!jF(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})});function jF(e){return e.isInteger()&&e.gte(0)}var MF=n(4334),TF=MF(Date.now());function PF(e){var t,n;return t=null===(n=e)?TF:MF(String(n)),function(){return t()}}var FF="pickRandom",IF=Tx(FF,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,i=PF(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=PF(e.randomSeed))}),t(FF,{"Array | Matrix":function(e){return a(e,{})},"Array | Matrix, Object":function(e,t){return a(e,t)},"Array | Matrix, number":function(e,t){return a(e,{number:t})},"Array | Matrix, Array | Matrix":function(e,t){return a(e,{weights:t})},"Array | Matrix, Array | Matrix, number":function(e,t,n){return a(e,{number:n,weights:t})},"Array | Matrix, number, Array | Matrix":function(e,t,n){return a(e,{number:t,weights:n})}});function a(e,t){var{number:n,weights:r,elementWise:a=!0}=t,o="undefined"===typeof n;o&&(n=1);var s=qb(e)?e.create:qb(r)?r.create:null;e=e.valueOf(),r&&(r=r.valueOf()),!0===a&&(e=jw(e),r=jw(r));var l=0;if("undefined"!==typeof r){if(r.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var u=0,c=r.length;u<c;u++){if(!Fb(r[u])||r[u]<0)throw new Error("Weights must be an array of positive numbers");l+=r[u]}}for(var f,d=e.length,p=[];p.length<n;){if("undefined"===typeof r)f=e[Math.floor(i()*d)];else for(var h=i()*l,m=0,g=e.length;m<g;m++)if((h-=r[m])<0){f=e[m];break}p.push(f)}return o?p[0]:s?s(p):p}});function BF(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,i=e.shift();r<i;r++)n.push(BF(e,t));else for(var a=0,o=e.shift();a<o;a++)n.push(t());return n}var RF="random",zF=Tx(RF,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,i=PF(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=PF(e.randomSeed))}),t(RF,{"":()=>o(0,1),number:e=>o(0,e),"number, number":(e,t)=>o(e,t),"Array | Matrix":e=>a(e,0,1),"Array | Matrix, number":(e,t)=>a(e,0,t),"Array | Matrix, number, number":(e,t,n)=>a(e,t,n)});function a(e,t,n){var r=BF(e.valueOf(),()=>o(t,n));return qb(e)?e.create(r):r}function o(e,t){return e+i()*(t-e)}}),LF="randomInt",UF=Tx(LF,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,i=PF(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(i=PF(e.randomSeed))}),t(LF,{"":()=>o(0,1),number:e=>o(0,e),"number, number":(e,t)=>o(e,t),"Array | Matrix":e=>a(e,0,1),"Array | Matrix, number":(e,t)=>a(e,0,t),"Array | Matrix, number, number":(e,t,n)=>a(e,t,n)});function a(e,t,n){var r=BF(e.valueOf(),()=>o(t,n));return qb(e)?e.create(r):r}function o(e,t){return Math.floor(e+i()*(t-e))}}),qF="stirlingS2",$F=Tx(qF,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],e=>{var{typed:t,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:c,number:f,bignumber:d,larger:p}=e,h=[],m=[];return t(qF,{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||u(e)||!c(t)||u(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");var r=!(Fb(e)&&Fb(t)),a=r?m:h,o=r?d:f,s=f(e),l=f(t);if(a[s]&&a[s].length>l)return a[s][l];for(var g=0;g<=s;++g)if(a[g]||(a[g]=[o(0===g?1:0)]),0!==g)for(var y=a[g],v=a[g-1],b=y.length;b<=g&&b<=l;++b)y[b]=b===g?1:n(i(o(b),v[b]),v[b-1]);return a[s][l]}})}),WF="bellNumbers",HF=Tx(WF,["typed","addScalar","isNegative","isInteger","stirlingS2"],e=>{var{typed:t,addScalar:n,isNegative:r,isInteger:i,stirlingS2:a}=e;return t(WF,{"number | BigNumber":function(e){if(!i(e)||r(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,o=0;o<=e;o++)t=n(t,a(e,o));return t}})}),KF="catalan",VF=Tx(KF,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],e=>{var{typed:t,addScalar:n,divideScalar:r,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=e;return t(KF,{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return r(a(i(e,2),e),n(e,1))}})}),YF="composition",GF=Tx(YF,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],e=>{var{typed:t,addScalar:n,combinations:r,isPositive:i,isNegative:a,isInteger:o,larger:s}=e;return t(YF,{"number | BigNumber, number | BigNumber":function(e,t){if(!(o(e)&&i(e)&&o(t)&&i(t)))throw new TypeError("Positive integer value expected in function composition");if(s(t,e))throw new TypeError("k must be less than or equal to n in function composition");return r(n(e,-1),n(t,-1))}})}),XF="leafCount",JF=Tx(XF,["parse","typed"],e=>{var{parse:t,typed:n}=e;function r(e){var t=0;return e.forEach(e=>{t+=r(e)}),t||1}return n(XF,{Node:function(e){return r(e)}})});function ZF(e){return lx(e)||mx(e)&&e.isUnary()&&lx(e.args[0])}function QF(e){return!!lx(e)||(!(!fx(e)&&!mx(e)||!e.args.every(QF))||!(!gx(e)||!QF(e.content)))}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){Z_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nI=Tx("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],e=>{var{FunctionNode:t,OperatorNode:n,SymbolNode:r}=e,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=o;if("string"===typeof e?r=e:mx(e)?r=e.fn.toString():fx(e)?r=e.name:gx(e)&&(r="paren"),Ox(n,r)){var i=n[r];if(Ox(i,t))return i[t];if(Ox(s,r))return s[r][t]}if(Ox(n,o)){var a=n[o];return Ox(a,t)?a[t]:s[o][t]}if(Ox(s,r)){var l=s[r];if(Ox(l,t))return l[t]}return s[o][t]}function u(e){return l(e,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)}function c(e,t){var n,r=[];return u(e,t)?(n=e.op,function e(t){for(var i=0;i<t.args.length;i++){var a=t.args[i];mx(a)&&n===a.op?e(a):r.push(a)}}(e),r):e.args}function f(e){return mx(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(r){return console.error(r),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:f,hasProperty:l,isCommutative:function(e){return l(e,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)},isAssociative:u,mergeContext:function(e,t){var n=tI({},e);for(var r in t)Ox(e,r)?n[r]=tI(tI({},t[r]),e[r]):n[r]=t[r];return n},flatten:function e(t,n){if(!t.args||0===t.args.length)return t;t.args=c(t,n);for(var r=0;r<t.args.length;r++)e(t.args[r],n)},allChildren:c,unflattenr:function e(t,n){if(t.args&&0!==t.args.length){for(var r=f(t),i=t.args.length,a=0;a<i;a++)e(t.args[a],n);if(i>2&&u(t,n)){for(var o=t.args.pop();t.args.length>0;)o=r([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t,n){if(t.args&&0!==t.args.length){for(var r=f(t),i=t.args.length,a=0;a<i;a++)e(t.args[a],n);if(i>2&&u(t,n)){for(var o=t.args.shift();t.args.length>0;)o=r([o,t.args.shift()]);t.args=o.args}}},defaultContext:s,realContext:{divide:{total:a},log:{total:a}},positiveContext:{subtract:{total:a},abs:{trivial:i},log:{total:i}}}}),rI=Tx("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{config:t,typed:n,parse:r,add:i,subtract:a,multiply:o,divide:s,pow:l,isZero:u,equal:c,resolve:f,simplifyConstant:d,simplifyCore:p,fraction:h,bignumber:m,mathWithTransform:g,matrix:y,AccessorNode:v,ArrayNode:b,ConstantNode:x,FunctionNode:w,IndexNode:N,ObjectNode:S,OperatorNode:E,ParenthesisNode:A,SymbolNode:C}=e,{hasProperty:k,isCommutative:_,isAssociative:D,mergeContext:O,flatten:j,unflattenr:M,unflattenl:T,createMakeNodeFunction:P,defaultContext:F,realContext:I,positiveContext:B}=nI({FunctionNode:w,OperatorNode:E,SymbolNode:C});n.addConversion({from:"Object",to:"Map",convert:uN});var R=n("simplify",{Node:W,"Node, Map":(e,t)=>W(e,!1,t),"Node, Map, Object":(e,t,n)=>W(e,!1,t,n),"Node, Array":W,"Node, Array, Map":W,"Node, Array, Map, Object":W});function z(e){return e.transform(function(e,t,n){return gx(e)?z(e.content):e})}n.removeConversion({from:"Object",to:"Map",convert:uN}),R.defaultContext=F,R.realContext=I,R.positiveContext=B;var L={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function U(e,t){var n={};if(e.s){var i=e.s.split("->");if(2!==i.length)throw SyntaxError("Could not parse rule: "+e.s);n.l=i[0],n.r=i[1]}else n.l=e.l,n.r=e.r;for(var a of(n.l=z(r(n.l)),n.r=z(r(n.r)),["imposeContext","repeat","assuming"]))a in e&&(n[a]=e[a]);if(e.evaluate&&(n.evaluate=r(e.evaluate)),D(n.l,t)){var o,s=!_(n.l,t);s&&(o=$());var l=P(n.l),u=$();n.expanded={},n.expanded.l=l([n.l,u]),j(n.expanded.l,t),M(n.expanded.l,t),n.expanded.r=l([n.r,u]),s&&(n.expandedNC1={},n.expandedNC1.l=l([o,n.l]),n.expandedNC1.r=l([o,n.r]),n.expandedNC2={},n.expandedNC2.l=l([o,n.expanded.l]),n.expandedNC2.r=l([o,n.expanded.r]))}return n}R.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},d,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},d,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var q=0;function $(){return new C("_p"+q++)}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lN(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.consoleDebug;t=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=void 0,o=typeof i;switch(o){case"string":i={s:i};case"object":a=U(i,t);break;case"function":a=i;break;default:throw TypeError("Unsupported type of rule: "+o)}n.push(a)}return n}(t||R.rules,r.context);for(var a=f(e,n),o={},s=(a=z(a)).toString({parenthesis:"all"});!o[s];){o[s]=!0,q=0;var l=s;i&&console.log("Working on: ",s);for(var u=0;u<t.length;u++){var c="";if("function"===typeof t[u]?(a=t[u](a,r),i&&(c=t[u].name)):(j(a,r.context),a=K(a,t[u],r.context),i&&(c="".concat(t[u].l.toString()," -> ").concat(t[u].r.toString()))),i){var d=a.toString({parenthesis:"all"});d!==l&&(console.log("Applying",c,"produced",d),l=d)}T(a,r.context)}s=a.toString({parenthesis:"all"})}return a}function H(e,t,n){var r=e;if(e)for(var i=0;i<e.length;++i){var a=K(e[i],t,n);a!==e[i]&&(r===e&&(r=e.slice()),r[i]=a)}return r}function K(e,t,n){if(t.assuming)for(var r in t.assuming)for(var i in t.assuming[r])if(k(r,i,n)!==t.assuming[r][i])return e;var a=O(t.imposeContext,n),o=e;if(o instanceof E||o instanceof w){var s=H(o.args,t,n);s!==o.args&&((o=o.clone()).args=s)}else if(o instanceof A){if(o.content){var l=K(o.content,t,n);l!==o.content&&(o=new A(l))}}else if(o instanceof b){var u=H(o.items,t,n);u!==o.items&&(o=new b(u))}else if(o instanceof v){var c=o.object;o.object&&(c=K(o.object,t,n));var f=o.index;o.index&&(f=K(o.index,t,n)),c===o.object&&f===o.index||(o=new v(c,f))}else if(o instanceof N){var d=H(o.dimensions,t,n);d!==o.dimensions&&(o=new N(d))}else if(o instanceof S){var p=!1,h={};for(var m in o.properties)h[m]=K(o.properties[m],t,n),h[m]!==o.properties[m]&&(p=!0);p&&(o=new S(h))}var g=t.r,y=G(t.l,o,a)[0];if(!y&&t.expanded&&(g=t.expanded.r,y=G(t.expanded.l,o,a)[0]),!y&&t.expandedNC1&&(g=t.expandedNC1.r,(y=G(t.expandedNC1.l,o,a)[0])||(g=t.expandedNC2.r,y=G(t.expandedNC2.l,o,a)[0])),y){var x=o.implicit;o=g.clone(),x&&"implicit"in g&&(o.implicit=!0),o=o.transform(function(e){return e.isSymbolNode&&Ox(y.placeholders,e.name)?y.placeholders[e.name].clone():e})}return t.repeat&&o!==e&&(o=K(o,t,n)),o}function V(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(Ox(e.placeholders,r)&&(n.placeholders[r]=e.placeholders[r],Ox(t.placeholders,r)&&!X(e.placeholders[r],t.placeholders[r])))return null;for(var i in t.placeholders)Ox(t.placeholders,i)&&(n.placeholders[i]=t.placeholders[i]);return n}function Y(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var i=0;i<e.length;i++)for(var a=0;a<t.length;a++)(n=V(e[i],t[a]))&&r.push(n);return r}function G(e,t,n,r){var i=[{placeholders:{}}];if(e instanceof E&&t instanceof E||e instanceof w&&t instanceof w){if(e instanceof E){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof w&&e.name!==t.name)return[];if(!(1===t.args.length&&1===e.args.length||!D(t,n)&&t.args.length===e.args.length||r)){if(t.args.length>=2&&2===e.args.length){for(var a=function(e,t){var n,r,i=[],a=P(e);if(_(e,t))for(var o=0;o<e.args.length;o++)(r=e.args.slice(0)).splice(o,1),n=1===r.length?r[0]:a(r),i.push(a([e.args[o],n]));else for(var s=1;s<e.args.length;s++){var l=e.args[0];s>1&&(l=a(e.args.slice(0,s))),n=1===(r=e.args.slice(s)).length?r[0]:a(r),i.push(a([l,n]))}return i}(t,n),o=[],s=0;s<a.length;s++){var l=G(e,a[s],n,!0);o=o.concat(l)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],f=0;f<e.args.length;f++){var d=G(e.args[f],t.args[f],n);if(0===d.length)break;u.push(d)}if(u.length!==e.args.length){if(!_(t,n)||1===e.args.length)return[];if(e.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var p=G(e.args[0],t.args[1],n);if(0===p.length)return[];var h=G(e.args[1],t.args[0],n);if(0===h.length)return[];u=[p,h]}i=function(e){if(0===e.length)return e;for(var t=e.reduce(Y),n=[],r={},i=0;i<t.length;i++){var a=JSON.stringify(t[i]);r[a]||(r[a]=!0,n.push(t[i]))}return n}(u)}else if(e instanceof C){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(L[e.name]){if(e.name!==t.name)return[]}else switch(e.name[1]>="a"&&e.name[1]<="z"?e.name.substring(0,2):e.name[0]){case"n":case"_p":i[0].placeholders[e.name]=t;break;case"c":case"cl":if(!lx(t))return[];i[0].placeholders[e.name]=t;break;case"v":if(lx(t))return[];i[0].placeholders[e.name]=t;break;case"vl":if(!bx(t))return[];i[0].placeholders[e.name]=t;break;case"cd":if(!ZF(t))return[];i[0].placeholders[e.name]=t;break;case"vd":if(ZF(t))return[];i[0].placeholders[e.name]=t;break;case"ce":if(!QF(t))return[];i[0].placeholders[e.name]=t;break;case"ve":if(QF(t))return[];i[0].placeholders[e.name]=t;break;default:throw new Error("Invalid symbol in rule: "+e.name)}}else{if(!(e instanceof x))return[];if(!c(e.value,t.value))return[]}return i}function X(e,t){if(e instanceof x&&t instanceof x){if(!c(e.value,t.value))return!1}else if(e instanceof C&&t instanceof C){if(e.name!==t.name)return!1}else{if(!(e instanceof E&&t instanceof E||e instanceof w&&t instanceof w))return!1;if(e instanceof E){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof w&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!X(e.args[n],t.args[n]))return!1}return!0}return R}),iI=Tx("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],e=>{var{typed:t,config:n,mathWithTransform:r,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:p,SymbolNode:h}=e,{isCommutative:m,isAssociative:g,allChildren:y,createMakeNodeFunction:v}=nI({FunctionNode:c,OperatorNode:p,SymbolNode:h}),b=t("simplifyConstant",{Node:e=>S(_(e,{})),"Node, Object":function(e,t){return S(_(e,t))}});function x(e){return Rb(e)?e.valueOf():e instanceof Array?e.map(x):qb(e)?i(x(e.valueOf())):e}function w(e,t,n){try{return r[e].apply(null,t)}catch(i){return t=t.map(x),A(r[e].apply(null,t),n)}}var N=t({Fraction:function(e){var t,n=e.s*e.n;t=n<0?new p("-","unaryMinus",[new u(-n)]):new u(n);if(1===e.d)return t;return new p("/","divide",[t,new u(e.d)])},number:function(e){return e<0?C(new u(-e)):new u(e)},BigNumber:function(e){return e<0?C(new u(-e)):new u(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")},string:function(e){return new u(e)},Matrix:function(e){return new l(e.valueOf().map(e=>N(e)))}});function S(e){return px(e)?e:N(e)}function E(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&a){var n=a(e),r=t&&"number"===typeof t.fractionsLimit?t.fractionsLimit:1/0;if(n.valueOf()===e&&n.n<r&&n.d<r)return n}return e}var A=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&v_(),o(e)):"Fraction"===n.number?(void 0===a&&b_(),a(e)):E(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return E(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:E(e.re,t)},"Matrix, Object":function(e,t){return i(E(e.valueOf()))},"Array, Object":function(e,t){return e.map(E)}});function C(e){return new p("-","unaryMinus",[e])}function k(e,t,n,r){var i=t.shift(),a=t.reduce((t,i)=>{if(!px(i)){var a=t.pop();if(px(a))return[a,i];try{return t.push(w(e,[a,i],r)),t}catch(s){t.push(a)}}t.push(S(t.pop()));var o=1===t.length?t[0]:n(t);return[n([o,S(i)])]},[i]);return 1===a.length?a[0]:n([a[0],N(a[1])])}function _(e,t){switch(e.type){case"SymbolNode":return e;case"ConstantNode":switch(typeof e.value){case"number":return A(e.value,t);case"string":return e.value;default:if(!isNaN(e.value))return A(e.value,t)}return e;case"FunctionNode":if(r[e.name]&&r[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var n=e.args.map(e=>_(e,t));if(!n.some(px))try{return w(e.name,n,t)}catch(T){}if("size"===e.name&&1===n.length&&ix(n[0])){for(var a=[],o=n[0];ix(o);)a.push(o.items.length),o=o.items[0];return i(a)}return new c(e.name,n.map(S))}case"OperatorNode":var p,h,x=e.fn.toString(),N=v(e);if(mx(e)&&e.isUnary())h=px((p=[_(e.args[0],t)])[0])?N(p):w(x,p,t);else if(g(e,t.context))if(p=(p=y(e,t.context)).map(e=>_(e,t)),m(x,t.context)){for(var E=[],C=[],D=0;D<p.length;D++)px(p[D])?C.push(p[D]):E.push(p[D]);E.length>1?(h=k(x,E,N,t),C.unshift(h),h=k(x,C,N,t)):h=k(x,p,N,t)}else h=k(x,p,N,t);else h=k(x,p=e.args.map(e=>_(e,t)),N,t);return h;case"ParenthesisNode":return _(e.content,t);case"AccessorNode":return function(e,t,n){if(!dx(t))return new s(S(e),S(t));if(ix(e)||qb(e)){for(var r=Array.from(t.dimensions);r.length>0;)if(lx(r[0])&&"string"!==typeof r[0].value){var a=A(r.shift().value,n);ix(e)?e=e.items[a-1]:(e=e.valueOf()[a-1])instanceof Array&&(e=i(e))}else{if(!(r.length>1&&lx(r[1])&&"string"!==typeof r[1].value))break;var o=A(r[1].value,n),c=[],d=ix(e)?e.items:e.valueOf();for(var p of d)if(ix(p))c.push(p.items[o-1]);else{if(!qb(e))break;c.push(p[o-1])}if(c.length!==d.length)break;e=ix(e)?new l(c):i(c),r.splice(1,1)}return r.length===t.dimensions.length?new s(S(e),t):r.length>0?(t=new f(r),new s(S(e),t)):e}if(hx(e)&&1===t.dimensions.length&&lx(t.dimensions[0])){var h=t.dimensions[0].value;return h in e.properties?e.properties[h]:new u}return new s(S(e),t)}(_(e.object,t),_(e.index,t),t);case"ArrayNode":var O=e.items.map(e=>_(e,t));return O.some(px)?new l(O.map(S)):i(O);case"IndexNode":return new f(e.dimensions.map(e=>b(e,t)));case"ObjectNode":var j={};for(var M in e.properties)j[M]=b(e.properties[M],t);return new d(j);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(e.type))}}return b}),aI="simplifyCore",oI=Tx(aI,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,parse:n,equal:r,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:d,FunctionNode:p,IndexNode:h,ObjectNode:m,OperatorNode:g,ParenthesisNode:y,SymbolNode:v}=e,b=new d(0),x=new d(1),w=new d(!0),N=new d(!1);function S(e){return mx(e)&&["and","not","or"].includes(e.op)}var{hasProperty:E,isCommutative:A}=nI({FunctionNode:p,OperatorNode:g,SymbolNode:v});function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t?t.context:void 0;if(E(e,"trivial",n)){if(fx(e)&&1===e.args.length)return C(e.args[0],t);var a=!1,o=0;if(e.forEach(e=>{1===++o&&(a=C(e,t))}),1===o)return a}var s=e;if(fx(s)){var l=function(e){var t="OperatorNode:"+e;for(var n of XM)if(t in n)return n[t].op;return null}(s.name);if(!l)return new p(C(s.fn),s.args.map(e=>C(e,t)));if(s.args.length>2&&E(s,"associative",n))for(;s.args.length>2;){var u=s.args.pop(),d=s.args.pop();s.args.push(new g(l,s.name,[u,d]))}s=new g(l,s.name,s.args)}if(mx(s)&&s.isUnary()){var y=C(s.args[0],t);if("~"===s.op&&mx(y)&&y.isUnary()&&"~"===y.op)return y.args[0];if("not"===s.op&&mx(y)&&y.isUnary()&&"not"===y.op&&S(y.args[0]))return y.args[0];var v=!0;if("-"===s.op&&mx(y)&&(y.isBinary()&&"subtract"===y.fn&&(s=new g("-","subtract",[y.args[1],y.args[0]]),v=!1),y.isUnary()&&"-"===y.op))return y.args[0];if(v)return new g(s.op,s.fn,[y])}if(mx(s)&&s.isBinary()){var k=C(s.args[0],t),_=C(s.args[1],t);if("+"===s.op){if(lx(k)&&i(k.value))return _;if(lx(_)&&i(_.value))return k;mx(_)&&_.isUnary()&&"-"===_.op&&(_=_.args[0],s=new g("-","subtract",[k,_]))}if("-"===s.op)return mx(_)&&_.isUnary()&&"-"===_.op?C(new g("+","add",[k,_.args[0]]),t):lx(k)&&i(k.value)?C(new g("-","unaryMinus",[_])):lx(_)&&i(_.value)?k:new g(s.op,s.fn,[k,_]);if("*"===s.op){if(lx(k)){if(i(k.value))return b;if(r(k.value,1))return _}if(lx(_)){if(i(_.value))return b;if(r(_.value,1))return k;if(A(s,n))return new g(s.op,s.fn,[_,k],s.implicit)}return new g(s.op,s.fn,[k,_],s.implicit)}if("/"===s.op)return lx(k)&&i(k.value)?b:lx(_)&&r(_.value,1)?k:new g(s.op,s.fn,[k,_]);if("^"===s.op&&lx(_)){if(i(_.value))return x;if(r(_.value,1))return k}if("and"===s.op){if(lx(k)){if(!k.value)return N;if(S(_))return _}if(lx(_)){if(!_.value)return N;if(S(k))return k}}if("or"===s.op){if(lx(k)){if(k.value)return w;if(S(_))return _}if(lx(_)){if(_.value)return w;if(S(k))return k}}return new g(s.op,s.fn,[k,_])}if(mx(s))return new g(s.op,s.fn,s.args.map(e=>C(e,t)));if(ix(s))return new f(s.items.map(e=>C(e,t)));if(rx(s))return new c(C(s.object,t),C(s.index,t));if(dx(s))return new h(s.dimensions.map(e=>C(e,t)));if(hx(s)){var D={};for(var O in s.properties)D[O]=C(s.properties[O],t);return new m(D)}return s}return t(aI,{Node:C,"Node,Object":C})}),sI=Tx("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],e=>{var{typed:t,parse:n,ConstantNode:r,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=e;function s(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!t)return e;if(bx(e)){if(l.has(e.name)){var u=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(u,"}"))}var c=t.get(e.name);if(px(c)){var f=new Set(l);return f.add(e.name),s(c,t,f)}return"number"===typeof c?n(String(c)):void 0!==c?new r(c):e}if(mx(e)){var d=e.args.map(function(e){return s(e,t,l)});return new a(e.op,e.fn,d,e.implicit)}if(gx(e))return new o(s(e.content,t,l));if(fx(e)){var p=e.args.map(function(e){return s(e,t,l)});return new i(e.name,p)}return e.map(e=>s(e,t,l))}return t("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(e,t)=>s(e,uN(t)),"Array | Matrix":t.referToSelf(e=>t=>t.map(t=>e(t))),"Array | Matrix, null | undefined":t.referToSelf(e=>t=>t.map(t=>e(t))),"Array, Object":t.referTo("Array,Map",e=>(t,n)=>e(t,uN(n))),"Matrix, Object":t.referTo("Matrix,Map",e=>(t,n)=>e(t,uN(n))),"Array | Matrix, Map":t.referToSelf(e=>(t,n)=>t.map(t=>e(t,n)))})}),lI="symbolicEqual",uI=Tx(lI,["parse","simplify","typed","OperatorNode"],e=>{var{parse:t,simplify:n,typed:r,OperatorNode:i}=e;function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=new i("-","subtract",[e,t]),o=n(a,{},r);return lx(o)&&!o.value}return r(lI,{"Node, Node":a,"Node, Node, Object":a})}),cI="derivative",fI=Tx(cI,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,config:n,parse:r,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:d}=e;function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},r={};g(r,e,t.name);var a=y(e,r);return n.simplify?i(a):a}t.addConversion({from:"identifier",to:"SymbolNode",convert:r});var h=t(cI,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});t.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),h._simplify=!0,h.toTex=function(e){return m.apply(null,e.args)};var m=t("_derivTex",{"Node, SymbolNode":function(e,t){return lx(e)&&"string"===wx(e.value)?m(r(e.value).toString(),t.toString(),1):m(e.toTex(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===wx(t.value))return m(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return m(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),g=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return g(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):g(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=g(e,t.args[0],n),i=1;i<t.args.length;++i)r=g(e,t.args[i],n)&&r;if(r)return e[t]=!0,!0}return!1}}),y=t("_derivative",{"ConstantNode, Object":function(e){return v(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?v(0):v(1)},"ParenthesisNode, Object":function(e,t){return new f(y(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?v(0):y(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t)e.args[t]=v(0);throw e.compile().evaluate(),new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}(e),void 0!==t[e])return v(0);var n,r,i,a,o=e.args[0],s=!1,l=!1;switch(e.name){case"cbrt":s=!0,r=new c("*","multiply",[v(3),new c("^","pow",[o,new c("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,r=new c("*","multiply",[v(2),new u("sqrt",[o])]);else if(2===e.args.length)return t[n=new c("/","divide",[v(1),e.args[1]])]=t[e.args[1]],y(new c("^","pow",[o,n]),t);break;case"log10":n=v(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new c("*","multiply",[o.clone(),new u("log",[n||e.args[1]])]),s=!0;else if(2===e.args.length)return y(new c("/","divide",[new u("log",[o]),new u("log",[e.args[1]])]),t)}else r=o.clone(),s=!0;break;case"pow":return t[n]=t[e.args[1]],y(new c("^","pow",[o,e.args[1]]),t);case"exp":r=new u("exp",[o.clone()]);break;case"sin":r=new u("cos",[o.clone()]);break;case"cos":r=new c("-","unaryMinus",[new u("sin",[o.clone()])]);break;case"tan":r=new c("^","pow",[new u("sec",[o.clone()]),v(2)]);break;case"sec":r=new c("*","multiply",[e,new u("tan",[o.clone()])]);break;case"csc":l=!0,r=new c("*","multiply",[e,new u("cot",[o.clone()])]);break;case"cot":l=!0,r=new c("^","pow",[new u("csc",[o.clone()]),v(2)]);break;case"asin":s=!0,r=new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])])]);break;case"acos":s=!0,l=!0,r=new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])])]);break;case"atan":s=!0,r=new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)]);break;case"asec":s=!0,r=new c("*","multiply",[new u("abs",[o.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,l=!0,r=new c("*","multiply",[new u("abs",[o.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,l=!0,r=new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)]);break;case"sinh":r=new u("cosh",[o.clone()]);break;case"cosh":r=new u("sinh",[o.clone()]);break;case"tanh":r=new c("^","pow",[new u("sech",[o.clone()]),v(2)]);break;case"sech":l=!0,r=new c("*","multiply",[e,new u("tanh",[o.clone()])]);break;case"csch":l=!0,r=new c("*","multiply",[e,new u("coth",[o.clone()])]);break;case"coth":l=!0,r=new c("^","pow",[new u("csch",[o.clone()]),v(2)]);break;case"asinh":s=!0,r=new u("sqrt",[new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,r=new u("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,r=new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])]);break;case"asech":s=!0,l=!0,r=new c("*","multiply",[o.clone(),new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])])])]);break;case"acsch":s=!0,l=!0,r=new c("*","multiply",[new u("abs",[o.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,l=!0,r=new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])]);break;case"abs":r=new c("/","divide",[new u(new d("abs"),[o.clone()]),o.clone()]);break;default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",a="divide"):(i="*",a="multiply");var f=y(o,t);return l&&(f=new c("-","unaryMinus",[f])),new c(i,a,[f,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return v(0);if("+"===e.op)return new c(e.op,e.fn,e.args.map(function(e){return y(e,t)}));if("-"===e.op){if(e.isUnary())return new c(e.op,e.fn,[y(e.args[0],t)]);if(e.isBinary())return new c(e.op,e.fn,[y(e.args[0],t),y(e.args[1],t)])}if("*"===e.op){var n=e.args.filter(function(e){return void 0!==t[e]});if(n.length>0){var r=e.args.filter(function(e){return void 0===t[e]}),i=1===r.length?r[0]:new c("*","multiply",r),s=n.concat(y(i,t));return new c("*","multiply",s)}return new c("+","add",e.args.map(function(n){return new c("*","multiply",e.args.map(function(e){return e===n?y(e,t):e.clone()}))}))}if("/"===e.op&&e.isBinary()){var l=e.args[0],f=e.args[1];return void 0!==t[f]?new c("/","divide",[y(l,t),f]):void 0!==t[l]?new c("*","multiply",[new c("-","unaryMinus",[l]),new c("/","divide",[y(f,t),new c("^","pow",[f.clone(),v(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(l,t),f.clone()]),new c("*","multiply",[l.clone(),y(f,t)])]),new c("^","pow",[f.clone(),v(2)])])}if("^"===e.op&&e.isBinary()){var d=e.args[0],p=e.args[1];if(void 0!==t[d])return lx(d)&&(o(d.value)||a(d.value,1))?v(0):new c("*","multiply",[e,new c("*","multiply",[new u("log",[d.clone()]),y(p.clone(),t)])]);if(void 0!==t[p]){if(lx(p)){if(o(p.value))return v(0);if(a(p.value,1))return y(d,t)}var h=new c("^","pow",[d.clone(),new c("-","subtract",[p,v(1)])]);return new c("*","multiply",[p.clone(),new c("*","multiply",[y(d,t),h])])}return new c("*","multiply",[new c("^","pow",[d.clone(),p.clone()]),new c("+","add",[new c("*","multiply",[y(d,t),new c("/","divide",[p.clone(),d.clone()])]),new c("*","multiply",[y(p,t),new u("log",[d.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(e,t){return new l(s(e,t||n.number))}return h}),dI="rationalize",pI=Tx(dI,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],e=>{var{config:t,typed:n,equal:r,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:f,simplifyCore:d,simplify:p,fraction:h,bignumber:m,mathWithTransform:g,matrix:y,AccessorNode:v,ArrayNode:b,ConstantNode:x,FunctionNode:w,IndexNode:N,ObjectNode:S,OperatorNode:E,SymbolNode:A,ParenthesisNode:C}=e;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(){var e=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],i={};return i.firstRules=e.concat(t,r),i.distrDivRules=n,i.sucDivRules=r,i.firstRulesAgain=e.concat(t),i.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],i}(),i=function(e,t,n,r){var i=[],a=p(e,r,t,{exactFractions:!1}),o="+-*"+((n=!!n)?"/":"");l(a);var s={};return s.expression=a,s.variables=i,s;function l(e){var t=e.type;if("FunctionNode"===t)throw new Error("There is an unsolved function call");if("OperatorNode"===t)if("^"===e.op){if("ConstantNode"!==e.args[1].type||!Ix(parseFloat(e.args[1].value)))throw new Error("There is a non-integer exponent");l(e.args[0])}else{if(-1===o.indexOf(e.op))throw new Error("Operator "+e.op+" invalid in polynomial expression");for(var n=0;n<e.args.length;n++)l(e.args[n])}else if("SymbolNode"===t){var r=e.name;-1===i.indexOf(r)&&i.push(r)}else if("ParenthesisNode"===t)l(e.content);else if("ConstantNode"!==t)throw new Error("type "+t+" is not allowed in polynomial expression")}}(e,t,!0,r.firstRules),a=i.variables.length,o={exactFractions:!1},s={exactFractions:!0};if(e=i.expression,a>=1){var l,u;e=_(e);var c,h=!0,m=!1;for(e=p(e,r.firstRules,{},o);u=h?r.distrDivRules:r.sucDivRules,h=!h,(c=(e=p(e,u,{},s)).toString())!==l;)m=!0,l=c;m&&(e=p(e,r.firstRulesAgain,{},o)),e=p(e,r.finalRules,{},o)}var g=[],y={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===a&&(e.args[0]=D(e.args[0],g),e.args[1]=D(e.args[1])),n&&(y.numerator=e.args[0],y.denominator=e.args[1])):(1===a&&(e=D(e,g)),n&&(y.numerator=e,y.denominator=null)),n?(y.coefficients=g,y.variables=i.variables,y.expression=e,y):e}return n(dI,{Node:k,"Node, boolean":(e,t)=>k(e,{},t),"Node, Object":k,"Node, Object, boolean":k});function _(e,t,n){var r=e.type,i=arguments.length>1;if("OperatorNode"===r&&e.isBinary()){var a,o=!1;if("^"===e.op&&("ParenthesisNode"!==e.args[0].type&&"OperatorNode"!==e.args[0].type||"ConstantNode"!==e.args[1].type||(o=(a=parseFloat(e.args[1].value))>=2&&Ix(a))),o){if(a>2){var s=e.args[0],l=new E("^","pow",[e.args[0].cloneDeep(),new x(a-1)]);e=new E("*","multiply",[s,l])}else e=new E("*","multiply",[e.args[0],e.args[0].cloneDeep()]);i&&("content"===n?t.content=e:t.args[n]=e)}}if("ParenthesisNode"===r)_(e.content,e,"content");else if("ConstantNode"!==r&&"SymbolNode"!==r)for(var u=0;u<e.args.length;u++)_(e.args[u],e,u);if(!i)return e}function D(e,t){void 0===t&&(t=[]),t[0]=0;var n={cte:1,oper:"+",fire:""},r=0,i="";!function e(n,a,o){var s=n.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(n.op))throw new Error("Operator "+n.op+" invalid");if(null!==a){if(("unaryMinus"===n.fn||"pow"===n.fn)&&"add"!==a.fn&&"subtract"!==a.fn&&"multiply"!==a.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"multiply"===n.fn)&&"add"!==a.fn&&"subtract"!==a.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"unaryMinus"===n.fn)&&0!==o.noFil)throw new Error("Invalid "+n.op+" placing")}"^"!==n.op&&"*"!==n.op||(o.fire=n.op);for(var l=0;l<n.args.length;l++)"unaryMinus"===n.fn&&(o.oper="-"),"+"!==n.op&&"subtract"!==n.fn||(o.fire="",o.cte=1,o.oper=0===l?"+":n.op),o.noFil=l,e(n.args[l],n,o)}else if("SymbolNode"===s){if(n.name!==i&&""!==i)throw new Error("There is more than one variable");if(i=n.name,null===a)return void(t[1]=1);if("^"===a.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===a.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(r<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),r=Math.max(1,r))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var u=parseFloat(n.value);if(null===a)return void(t[0]=u);if("^"===a.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!Ix(u)||u<=0)throw new Error("Non-integer exponent is not allowed");for(var c=r+1;c<u;c++)t[c]=0;return u>r&&(t[u]=0),t[u]+=o.cte*("+"===o.oper?1:-1),void(r=Math.max(u,r))}o.cte=u,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1))}}(e,null,n);for(var a,o=!0,s=r=t.length-1;s>=0;s--)if(0!==t[s]){var l=new x(o?t[s]:Math.abs(t[s])),u=t[s]<0?"-":"+";if(s>0){var c=new A(i);if(s>1){var f=new x(s);c=new E("^","pow",[c,f])}l=-1===t[s]&&o?new E("-","unaryMinus",[c]):1===Math.abs(t[s])?c:new E("*","multiply",[l,c])}a=o?l:"+"===u?new E("+","add",[a,l]):new E("-","subtract",[a,l]),o=!1}return o?new x(0):a}}),hI="zpk2tf",mI=Tx(hI,["typed","add","multiply","Complex","number"],e=>{var{typed:t,add:n,multiply:r,Complex:i,number:a}=e;return t(hI,{"Array,Array,number":function(e,t,n){return o(e,t,n)},"Array,Array":function(e,t){return o(e,t,1)},"Matrix,Matrix,number":function(e,t,n){return o(e.valueOf(),t.valueOf(),n)},"Matrix,Matrix":function(e,t){return o(e.valueOf(),t.valueOf(),1)}});function o(e,t,n){e.some(e=>"BigNumber"===e.type)&&(e=e.map(e=>a(e))),t.some(e=>"BigNumber"===e.type)&&(t=t.map(e=>a(e)));for(var o=[i(1,0)],l=[i(1,0)],u=0;u<e.length;u++){var c=e[u];"number"===typeof c&&(c=i(c,0)),o=s(o,[i(1,0),i(-c.re,-c.im)])}for(var f=0;f<t.length;f++){var d=t[f];"number"===typeof d&&(d=i(d,0)),l=s(l,[i(1,0),i(-d.re,-d.im)])}for(var p=0;p<o.length;p++)o[p]=r(o[p],n);return[o,l]}function s(e,t){for(var a=[],o=0;o<e.length+t.length-1;o++){a[o]=i(0,0);for(var s=0;s<e.length;s++)o-s>=0&&o-s<t.length&&(a[o]=n(a[o],r(e[s],t[o-s])))}return a}}),gI="freqz",yI=Tx(gI,["typed","add","multiply","Complex","divide","matrix"],e=>{var{typed:t,add:n,multiply:r,Complex:i,divide:a,matrix:o}=e;return t(gI,{"Array, Array":function(e,t){return s(e,t,l(512))},"Array, Array, Array":function(e,t,n){return s(e,t,n)},"Array, Array, number":function(e,t,n){if(n<0)throw new Error("w must be a positive number");return s(e,t,l(n))},"Matrix, Matrix":function(e,t){var n=l(512),{w:r,h:i}=s(e.valueOf(),t.valueOf(),n);return{w:o(r),h:o(i)}},"Matrix, Matrix, Matrix":function(e,t,n){var{h:r}=s(e.valueOf(),t.valueOf(),n.valueOf());return{h:o(r),w:o(n)}},"Matrix, Matrix, number":function(e,t,n){if(n<0)throw new Error("w must be a positive number");var r=l(n),{h:i}=s(e.valueOf(),t.valueOf(),r);return{h:o(i),w:o(r)}}});function s(e,t,o){for(var s=[],l=[],u=0;u<o.length;u++){for(var c=i(0,0),f=i(0,0),d=0;d<e.length;d++)c=n(c,r(e[d],i(Math.cos(-d*o[u]),Math.sin(-d*o[u]))));for(var p=0;p<t.length;p++)f=n(f,r(t[p],i(Math.cos(-p*o[u]),Math.sin(-p*o[u]))));s.push(c),l.push(f)}for(var h=[],m=0;m<s.length;m++)h.push(a(s[m],l[m]));return{h:h,w:o}}function l(e){for(var t=[],n=0;n<e;n++)t.push(n/e*Math.PI);return t}}),vI=Tx("reviver",["classes"],e=>{var{classes:t}=e;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"===typeof r.fromJSON?r.fromJSON(n):n}}),bI=Tx("replacer",[],()=>function(e,t){return"number"!==typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}),xI=Math.PI,wI=2*Math.PI,NI=Math.E,SI=Tx("true",[],()=>!0),EI=Tx("false",[],()=>!1),AI=Tx("null",[],()=>null),CI=qI("Infinity",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1/0):1/0}),kI=qI("NaN",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(NaN):NaN}),_I=qI("pi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?XO(n):xI}),DI=qI("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?JO(n):wI}),OI=qI("e",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?YO(n):NI}),jI=qI("phi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?GO(n):1.618033988749895}),MI=qI("LN2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(2).ln():Math.LN2}),TI=qI("LN10",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(10).ln():Math.LN10}),PI=qI("LOG2E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1).div(new n(2).ln()):Math.LOG2E}),FI=qI("LOG10E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1).div(new n(10).ln()):Math.LOG10E}),II=qI("SQRT1_2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n("0.5").sqrt():Math.SQRT1_2}),BI=qI("SQRT2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(2).sqrt():Math.SQRT2}),RI=qI("i",["Complex"],e=>{var{Complex:t}=e;return t.I}),zI=Tx("PI",["pi"],e=>{var{pi:t}=e;return t}),LI=Tx("E",["e"],e=>{var{e:t}=e;return t}),UI=Tx("version",[],()=>"11.12.0");function qI(e,t,n){return Tx(e,t,n,{recreateOnConfigChange:!0})}var $I=zB("speedOfLight","299792458","m s^-1"),WI=zB("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),HI=zB("planckConstant","6.62607015e-34","J s"),KI=zB("reducedPlanckConstant","1.0545718176461565e-34","J s"),VI=zB("magneticConstant","1.25663706212e-6","N A^-2"),YI=zB("electricConstant","8.8541878128e-12","F m^-1"),GI=zB("vacuumImpedance","376.730313667","ohm"),XI=zB("coulomb","8.987551792261171e9","N m^2 C^-2"),JI=zB("elementaryCharge","1.602176634e-19","C"),ZI=zB("bohrMagneton","9.2740100783e-24","J T^-1"),QI=zB("conductanceQuantum","7.748091729863649e-5","S"),eB=zB("inverseConductanceQuantum","12906.403729652257","ohm"),tB=zB("magneticFluxQuantum","2.0678338484619295e-15","Wb"),nB=zB("nuclearMagneton","5.0507837461e-27","J T^-1"),rB=zB("klitzing","25812.807459304513","ohm"),iB=zB("bohrRadius","5.29177210903e-11","m"),aB=zB("classicalElectronRadius","2.8179403262e-15","m"),oB=zB("electronMass","9.1093837015e-31","kg"),sB=zB("fermiCoupling","1.1663787e-5","GeV^-2"),lB=LB("fineStructure",.0072973525693),uB=zB("hartreeEnergy","4.3597447222071e-18","J"),cB=zB("protonMass","1.67262192369e-27","kg"),fB=zB("deuteronMass","3.3435830926e-27","kg"),dB=zB("neutronMass","1.6749271613e-27","kg"),pB=zB("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),hB=zB("rydberg","10973731.568160","m^-1"),mB=zB("thomsonCrossSection","6.6524587321e-29","m^2"),gB=LB("weakMixingAngle",.2229),yB=LB("efimovFactor",22.7),vB=zB("atomicMass","1.66053906660e-27","kg"),bB=zB("avogadro","6.02214076e23","mol^-1"),xB=zB("boltzmann","1.380649e-23","J K^-1"),wB=zB("faraday","96485.33212331001","C mol^-1"),NB=zB("firstRadiation","3.7417718521927573e-16","W m^2"),SB=zB("loschmidt","2.686780111798444e25","m^-3"),EB=zB("gasConstant","8.31446261815324","J K^-1 mol^-1"),AB=zB("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),CB=zB("molarVolume","0.022413969545014137","m^3 mol^-1"),kB=LB("sackurTetrode",-1.16487052358),_B=zB("secondRadiation","0.014387768775039337","m K"),DB=zB("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),OB=zB("wienDisplacement","2.897771955e-3","m K"),jB=zB("molarMass","0.99999999965e-3","kg mol^-1"),MB=zB("molarMassC12","11.9999999958e-3","kg mol^-1"),TB=zB("gravity","9.80665","m s^-2"),PB=zB("planckLength","1.616255e-35","m"),FB=zB("planckMass","2.176435e-8","kg"),IB=zB("planckTime","5.391245e-44","s"),BB=zB("planckCharge","1.87554603778e-18","C"),RB=zB("planckTemperature","1.416785e+32","K");function zB(e,t,n){return Tx(e,["config","Unit","BigNumber"],e=>{var{config:r,Unit:i,BigNumber:a}=e,o=new i("BigNumber"===r.number?new a(t):parseFloat(t),n);return o.fixPrefix=!0,o})}function LB(e,t){return Tx(e,["config","BigNumber"],e=>{var{config:n,BigNumber:r}=e;return"BigNumber"===n.number?new r(t):t})}var UB=Tx("apply",["typed","isInteger"],e=>{var{typed:t,isInteger:n}=e,r=HA({typed:t,isInteger:n});return t("apply",{"...any":function(e){var t=e[1];Fb(t)?e[1]=t-1:Ib(t)&&(e[1]=t.minus(1));try{return r.apply(null,e)}catch(n){throw WM(n)}}})},{isTransformFunction:!0}),qB=Tx("column",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e,a=Kk({typed:t,Index:n,matrix:r,range:i});return t("column",{"...any":function(e){var t=e.length-1,n=e[t];Fb(n)&&(e[t]=n-1);try{return a.apply(null,e)}catch(r){throw WM(r)}}})},{isTransformFunction:!0});function $B(e,t,n){var r=e.filter(function(e){return bx(e)&&!(e.name in t)&&!n.has(e.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,a=jT(n),o=e.compile();return function(e){return a.set(i,e),o.evaluate(a)}}var WB=Tx("filter",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var i,a;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(a=bx(e[1])||cx(e[1])?e[1].compile().evaluate(n):$B(e[1],t,n)),r(i,a)}n.rawArgs=!0;var r=t("filter",{"Array, function":HB,"Matrix, function":function(e,t){return e.create(HB(e.toArray(),t))},"Array, RegExp":Fw,"Matrix, RegExp":function(e,t){return e.create(Fw(e.toArray(),t))}});return n},{isTransformFunction:!0});function HB(e,t){return Pw(e,function(e,n,r){return Qk(t,e,[n+1],r,"filter")})}var KB=Tx("forEach",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var i,a;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(a=bx(e[1])||cx(e[1])?e[1].compile().evaluate(n):$B(e[1],t,n)),r(i,a)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){!function n(r,i){if(!Array.isArray(r))return Qk(t,r,i,e,"forEach");Tw(r,function(e,t){n(e,i.concat(t+1))})}(e.valueOf(),[])}});return n},{isTransformFunction:!0}),VB=Tx("index",["Index","getMatrixDataType"],e=>{var{Index:t,getMatrixDataType:n}=e;return function(){for(var e=[],r=0,i=arguments.length;r<i;r++){var a=arguments[r];if(Kb(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map(function(e){return e-1});else if(Ub(a)||qb(a))"boolean"!==n(a)&&(a=a.map(function(e){return e-1}));else if(Fb(a))a--;else if(Ib(a))a=a.toNumber()-1;else if("string"!==typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[r]=a}var o=new t;return t.apply(o,e),o}},{isTransformFunction:!0}),YB=Tx("map",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var i,a;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(a=bx(e[1])||cx(e[1])?e[1].compile().evaluate(n):$B(e[1],t,n)),r(i,a)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return GB(e,t,e)},"Matrix, function":function(e,t){return e.create(GB(e.valueOf(),t,e))}});return n},{isTransformFunction:!0});function GB(e,t,n){return function e(r,i){return Array.isArray(r)?Mw(r,function(t,n){return e(t,i.concat(n+1))}):Qk(t,r,i,n,"map")}(e,[])}function XB(e){if(2===e.length&&$b(e[0])){var t=(e=e.slice())[1];Fb(t)?e[1]=t-1:Ib(t)&&(e[1]=t.minus(1))}return e}var JB=Tx("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:n,numeric:r,larger:i}=e,a=UO({typed:t,config:n,numeric:r,larger:i});return t("max",{"...any":function(e){e=XB(e);try{return a.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),ZB=Tx("mean",["typed","add","divide"],e=>{var{typed:t,add:n,divide:r}=e,i=VP({typed:t,add:n,divide:r});return t("mean",{"...any":function(e){e=XB(e);try{return i.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),QB=Tx("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:n,numeric:r,smaller:i}=e,a=qO({typed:t,config:n,numeric:r,smaller:i});return t("min",{"...any":function(e){e=XB(e);try{return a.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),eR=Tx("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=e,f=N_({typed:t,config:n,matrix:r,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c});return t("range",{"...any":function(e){return"boolean"!==typeof e[e.length-1]&&e.push(!0),f.apply(null,e)}})},{isTransformFunction:!0}),tR=Tx("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:i}=e,a=O_({typed:t,Index:n,matrix:r,range:i});return t("row",{"...any":function(e){var t=e.length-1,n=e[t];Fb(n)&&(e[t]=n-1);try{return a.apply(null,e)}catch(r){throw WM(r)}}})},{isTransformFunction:!0}),nR=Tx("subset",["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:n,zeros:r,add:i}=e,a=I_({typed:t,matrix:n,zeros:r,add:i});return t("subset",{"...any":function(e){try{return a.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),rR=Tx("concat",["typed","matrix","isInteger"],e=>{var{typed:t,matrix:n,isInteger:r}=e,i=Wk({typed:t,matrix:n,isInteger:r});return t("concat",{"...any":function(e){var t=e.length-1,n=e[t];Fb(n)?e[t]=n-1:Ib(n)&&(e[t]=n.minus(1));try{return i.apply(null,e)}catch(r){throw WM(r)}}})},{isTransformFunction:!0}),iR="diff",aR=Tx(iR,["typed","matrix","subtract","number","bignumber"],e=>{var{typed:t,matrix:n,subtract:r,number:i,bignumber:a}=e,o=g_({typed:t,matrix:n,subtract:r,number:i,bignumber:a});return t(iR,{"...any":function(e){e=XB(e);try{return o.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),oR=Tx("std",["typed","map","sqrt","variance"],e=>{var{typed:t,map:n,sqrt:r,variance:i}=e,a=nF({typed:t,map:n,sqrt:r,variance:i});return t("std",{"...any":function(e){e=XB(e);try{return a.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),sR=Tx("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:n,add:r,numeric:i}=e,a=$P({typed:t,config:n,add:r,numeric:i});return t("sum",{"...any":function(e){e=XB(e);try{return a.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),lR=Tx("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:t,bignumber:n,add:r,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d}=e,p=tF({typed:t,bignumber:n,add:r,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d});return t("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(e,t,n)=>p(e,t,h(n)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(e,t,n,r)=>p(e,t,n,h(r)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(e,t,n)=>p(e,t,h(n)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(e,t,n,r)=>p(e,t,n,h(r))});function h(e){return XB([[],e])[1]}},{isTransformFunction:!0}),uR="cumsum",cR=Tx(uR,["typed","add","unaryPlus"],e=>{var{typed:t,add:n,unaryPlus:r}=e,i=HP({typed:t,add:n,unaryPlus:r});return t(uR,{"...any":function(e){if(2===e.length&&$b(e[0])){var t=e[1];Fb(t)?e[1]=t-1:Ib(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(n){throw WM(n)}}})},{isTransformFunction:!0}),fR="variance",dR=Tx(fR,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s}=e,l=QP({typed:t,add:n,subtract:r,multiply:i,divide:a,apply:o,isNaN:s});return t(fR,{"...any":function(e){e=XB(e);try{return l.apply(null,e)}catch(t){throw WM(t)}}})},{isTransformFunction:!0}),pR="print",hR=Tx(pR,["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:n,zeros:r,add:i}=e,a=wD({typed:t,matrix:n,zeros:r,add:i});return t(pR,{"string, Object | Array":function(e,t){return a(o(e),t)},"string, Object | Array, number | Object":function(e,t,n){return a(o(e),t,n)}});function o(e){return e.replace(bD,e=>"$"+e.slice(1).split(".").map(function(e){return!isNaN(e)&&e.length>0?parseInt(e)-1:e}).join("."))}},{isTransformFunction:!0});const mR=function e(t,n){var r=Tb({},Gw,n);if("function"!==typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var i=function(e){var t=new Mx;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}({isNumber:Fb,isComplex:Bb,isBigNumber:Ib,isFraction:Rb,isUnit:zb,isString:Lb,isArray:Ub,isMatrix:qb,isCollection:$b,isDenseMatrix:Wb,isSparseMatrix:Hb,isRange:Kb,isIndex:Vb,isBoolean:Yb,isResultSet:Gb,isHelp:Xb,isFunction:Jb,isDate:Zb,isRegExp:Qb,isObject:ex,isNull:tx,isUndefined:nx,isAccessorNode:rx,isArrayNode:ix,isAssignmentNode:ax,isBlockNode:ox,isConditionalNode:sx,isConstantNode:lx,isFunctionAssignmentNode:cx,isFunctionNode:fx,isIndexNode:dx,isNode:px,isObjectNode:hx,isOperatorNode:mx,isParenthesisNode:gx,isRangeNode:yx,isRelationalNode:vx,isSymbolNode:bx,isChain:xx});i.config=Zw(r,i.emit),i.expression={transform:{},mathWithTransform:{config:i.config}};var a={};function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.typed.apply(i.typed,t)}o.isTypedFunction=Pb.isTypedFunction;var s=Yw(o,0,i,a);return i.import=s,i.on("config",()=>{jx(a).forEach(e=>{e&&e.meta&&e.meta.recreateOnConfigChange&&s(e,{override:!0})})}),i.create=e.bind(null,t),i.factory=Tx,i.import(jx(kx(t))),i.ArgumentsError=Vw,i.DimensionError=hw,i.IndexError=mw,i}(t,{number:"BigNumber",precision:64});const gR=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.precision=e,this.math=mR}add(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map(e=>this.math.bignumber(this.parseAmount(e))).reduce((e,t)=>this.math.add(e,t));return this.roundToPrecision(r)}catch(r){return console.error("Currency addition error:",r),0}}subtract(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(this.parseAmount(t)),i=this.math.subtract(n,r);return this.roundToPrecision(i)}catch(n){return console.error("Currency subtraction error:",n),0}}multiply(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),i=this.math.multiply(n,r);return this.roundToPrecision(i)}catch(n){return console.error("Currency multiplication error:",n),0}}divide(e,t){try{if(0===t)return 0;const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),i=this.math.divide(n,r);return this.roundToPrecision(i)}catch(n){return console.error("Currency division error:",n),0}}percentage(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),i=this.math.multiply(n,this.math.divide(r,100));return this.roundToPrecision(i)}catch(n){return console.error("Percentage calculation error:",n),0}}percentageOf(e,t){try{if(0===t)return 0;const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(this.parseAmount(t)),i=this.math.multiply(this.math.divide(n,r),100);return this.roundToPrecision(i)}catch(n){return console.error("Percentage of calculation error:",n),0}}compoundInterest(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;try{const i=this.math.bignumber(this.parseAmount(e)),a=this.math.bignumber(t/100),o=this.math.bignumber(r),s=this.math.bignumber(n),l=this.math.divide(a,o),u=this.math.add(1,l),c=this.math.multiply(o,s),f=this.math.pow(u,c),d=this.math.multiply(i,f);return this.roundToPrecision(d)}catch(i){return console.error("Compound interest calculation error:",i),0}}simpleInterest(e,t,n){try{const r=this.math.bignumber(this.parseAmount(e)),i=this.math.bignumber(t/100),a=this.math.bignumber(n),o=this.math.multiply(this.math.multiply(r,i),a);return this.roundToPrecision(o)}catch(r){return console.error("Simple interest calculation error:",r),0}}monthlyPayment(e,t,n){try{if(0===t)return this.divide(e,12*n);const r=this.math.bignumber(this.parseAmount(e)),i=this.math.bignumber(t/100/12),a=this.math.bignumber(12*n),o=this.math.add(1,i),s=this.math.pow(o,a),l=this.math.multiply(i,s),u=this.math.subtract(s,1),c=this.math.multiply(r,this.math.divide(l,u));return this.roundToPrecision(c)}catch(r){return console.error("Monthly payment calculation error:",r),0}}allocateByPercentage(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r={};return Object.entries(t).forEach(e=>{let[t,i]=e;const a=this.math.bignumber(i),o=this.math.multiply(n,this.math.divide(a,100));r[t]=this.roundToPrecision(o)}),r}catch(n){return console.error("Budget allocation error:",n),{}}}savingsGoal(e,t,n){try{const r=this.math.bignumber(this.parseAmount(e)),i=this.math.bignumber(this.parseAmount(t)),a=this.math.bignumber(n),o=this.math.subtract(r,i),s=this.math.divide(o,a);return this.roundToPrecision(s)}catch(r){return console.error("Savings goal calculation error:",r),0}}convertCurrency(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),i=this.math.multiply(n,r);return this.roundToPrecision(i)}catch(n){return console.error("Currency conversion error:",n),0}}calculateTax(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t/100),i=this.math.multiply(n,r);return this.roundToPrecision(i)}catch(n){return console.error("Tax calculation error:",n),0}}afterTax(e,t){try{const n=this.parseAmount(e),r=this.calculateTax(n,t);return this.subtract(n,r)}catch(n){return console.error("After-tax calculation error:",n),0}}annualToMonthly(e){return this.divide(e,12)}monthlyToAnnual(e){return this.multiply(e,12)}weeklyToMonthly(e){return this.multiply(e,52/12)}dailyToMonthly(e){return this.multiply(e,30.4375)}calculateAverage(e){try{if(0===e.length)return 0;const t=this.add(...e);return this.divide(t,e.length)}catch(t){return console.error("Average calculation error:",t),0}}calculateMedian(e){try{if(0===e.length)return 0;const t=e.map(e=>this.parseAmount(e)).sort((e,t)=>e-t),n=Math.floor(t.length/2);return t.length%2===0?this.divide(this.add(t[n-1],t[n]),2):t[n]}catch(t){return console.error("Median calculation error:",t),0}}parseAmount(e){if(null===e||void 0===e||""===e)return 0;if("string"===typeof e){const t=e.replace(/[$,\s]/g,""),n=parseFloat(t);return isNaN(n)?0:n}const t=parseFloat(e);return isNaN(t)?0:t}roundToPrecision(e){try{const t=this.math.round(e,this.precision);return parseFloat(t.toString())}catch(t){return console.error("Rounding error:",t),0}}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";try{const r=this.parseAmount(e);return new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:this.precision,maximumFractionDigits:this.precision}).format(r)}catch(r){return`$${this.parseAmount(e).toFixed(this.precision)}`}}isValidAmount(e){const t=this.parseAmount(e);return!isNaN(t)&&t>=0}isPositive(e){return this.parseAmount(e)>0}isNegative(e){return this.parseAmount(e)<0}isZero(e){return 0===this.parseAmount(e)}isEqual(e,t){const n=this.parseAmount(e),r=this.parseAmount(t);return Math.abs(n-r)<Math.pow(10,-this.precision)}isGreater(e,t){return this.parseAmount(e)>this.parseAmount(t)}isLess(e,t){return this.parseAmount(e)<this.parseAmount(t)}},{add:yR,subtract:vR,multiply:bR,divide:xR,percentage:wR,percentageOf:NR,compoundInterest:SR,simpleInterest:ER,monthlyPayment:AR,allocateByPercentage:CR,savingsGoal:kR,convertCurrency:_R,calculateTax:DR,afterTax:OR,annualToMonthly:jR,monthlyToAnnual:MR,weeklyToMonthly:TR,dailyToMonthly:PR,calculateAverage:FR,calculateMedian:IR,parseAmount:BR,formatCurrency:RR,isValidAmount:zR,isPositive:LR,isNegative:UR,isZero:qR,isEqual:$R,isGreater:WR,isLess:HR}=gR,KR=()=>{var e,t;const{state:n,calculations:i,formatCurrency:a}=q(),{isDark:o}=jb(),s=(0,r.useMemo)(()=>{const e=n.data.plannerState||{},t=e.weeklyIncome||[0,0,0,0],r=e.weeklyExpenses||[0,0,0,0],a=i.getTotalIncome(),o=i.getTotalMonthlyExpenses(),s=i.getMonthlyAnnualImpact(),l=gR.add(o,s),u=[];let c=0;for(let n=1;n<=4;n++){const e=n-1,i=t[e]||gR.divide(a,4),o=r[e]||gR.divide(l,4),s=gR.subtract(i,o);c=gR.add(c,s),u.push({week:`Week ${n}`,income:Number(i.toFixed(2)),expenses:Number(o.toFixed(2)),netFlow:Number(s.toFixed(2)),cumulative:Number(c.toFixed(2))})}return u},[n.data.plannerState,i]),l={income:o?"#2ecc71":"#27ae60",expenses:o?"#e74c3c":"#c0392b",netFlow:o?"#3498db":"#2980b9",cumulative:o?"#f39c12":"#e67e22",grid:o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",text:o?"#ecf0f1":"#2c3e50"},u=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,v.jsxs)("div",{className:"chart-tooltip",children:[(0,v.jsx)("p",{className:"tooltip-label",children:r}),n.map((e,t)=>(0,v.jsx)("p",{className:"tooltip-item",style:{color:e.color},children:`${e.name}: ${a(e.value)}`},t))]}):null};return(0,v.jsxs)("div",{className:"cash-flow-chart",children:[(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)(at,{width:"100%",height:300,children:(0,v.jsxs)(fb,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[(0,v.jsx)(Db,{strokeDasharray:"3 3",stroke:l.grid}),(0,v.jsx)(Qv,{dataKey:"week",stroke:l.text,tick:{fill:l.text,fontSize:12}}),(0,v.jsx)(cb,{stroke:l.text,tick:{fill:l.text,fontSize:12},tickFormatter:e=>Math.abs(e)>=1e3?`$${(e/1e3).toFixed(1)}k`:`$${e}`}),(0,v.jsx)(ln,{content:(0,v.jsx)(u,{})}),(0,v.jsx)(Nr,{wrapperStyle:{color:l.text}}),(0,v.jsx)(ig,{y:0,stroke:l.text,strokeDasharray:"2 2"}),(0,v.jsx)(vv,{type:"monotone",dataKey:"income",stroke:l.income,strokeWidth:2,dot:{fill:l.income,strokeWidth:2,r:4},name:"Income"}),(0,v.jsx)(vv,{type:"monotone",dataKey:"expenses",stroke:l.expenses,strokeWidth:2,dot:{fill:l.expenses,strokeWidth:2,r:4},name:"Expenses"}),(0,v.jsx)(vv,{type:"monotone",dataKey:"netFlow",stroke:l.netFlow,strokeWidth:3,dot:{fill:l.netFlow,strokeWidth:2,r:5},name:"Net Flow"}),(0,v.jsx)(vv,{type:"monotone",dataKey:"cumulative",stroke:l.cumulative,strokeWidth:2,strokeDasharray:"5 5",dot:{fill:l.cumulative,strokeWidth:2,r:4},name:"Cumulative"})]})})}),(0,v.jsxs)("div",{className:"chart-summary",children:[(0,v.jsxs)("div",{className:"summary-stats",children:[(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-icon",style:{color:l.income},children:"\ud83d\udcc8"}),(0,v.jsx)("span",{className:"stat-label",children:"Avg Weekly Income:"}),(0,v.jsx)("span",{className:"stat-value",children:a(s.reduce((e,t)=>e+t.income,0)/4)})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-icon",style:{color:l.expenses},children:"\ud83d\udcc9"}),(0,v.jsx)("span",{className:"stat-label",children:"Avg Weekly Expenses:"}),(0,v.jsx)("span",{className:"stat-value",children:a(s.reduce((e,t)=>e+t.expenses,0)/4)})]}),(0,v.jsxs)("div",{className:"stat-item",children:[(0,v.jsx)("span",{className:"stat-icon",style:{color:l.cumulative},children:"\ud83d\udcb0"}),(0,v.jsx)("span",{className:"stat-label",children:"Month-End Position:"}),(0,v.jsx)("span",{className:"stat-value "+((null===(e=s[3])||void 0===e?void 0:e.cumulative)>=0?"positive":"negative"),children:a((null===(t=s[3])||void 0===t?void 0:t.cumulative)||0)})]})]}),(0,v.jsxs)("div",{className:"flow-health",children:[(0,v.jsx)("div",{className:"health-label",children:"Cash Flow Health:"}),(0,v.jsx)("div",{className:"health-indicators",children:s.map((e,t)=>(0,v.jsxs)("div",{className:"health-indicator "+(e.netFlow>=0?"healthy":"warning"),title:`${e.week}: ${a(e.netFlow)}`,children:[(0,v.jsx)("div",{className:"indicator-bar",children:(0,v.jsx)("div",{className:"indicator-fill",style:{height:`${Math.min(Math.abs(e.netFlow)/1e3*100,100)}%`,backgroundColor:e.netFlow>=0?l.income:l.expenses}})}),(0,v.jsxs)("span",{className:"week-label",children:["W",t+1]})]},t))})]})]})]})};var VR=["points","className","baseLinePoints","connectNulls"];function YR(){return YR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YR.apply(this,arguments)}function GR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XR(e){return function(e){if(Array.isArray(e))return JR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return JR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZR=function(e){return e&&e.x===+e.x&&e.y===+e.y},QR=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){ZR(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),ZR(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(XR(e),XR(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},ez=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=GR(e,VR);if(!t||!t.length)return null;var s=J("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&"none"!==o.stroke,u=function(e,t,n){var r=QR(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(QR(t.reverse(),n).slice(1))}(t,i,a);return r.createElement("g",{className:s},r.createElement("path",YR({},Ge(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",stroke:"none",d:u})),l?r.createElement("path",YR({},Ge(o,!0),{fill:"none",d:QR(t,a)})):null,l?r.createElement("path",YR({},Ge(o,!0),{fill:"none",d:QR(i,a)})):null)}var c=QR(t,a);return r.createElement("path",YR({},Ge(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",className:s,d:c}))};function tz(e){return tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tz(e)}function nz(){return nz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nz.apply(this,arguments)}function rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rz(Object(n),!0).forEach(function(t){cz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function az(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fz(r.key),r)}}function oz(e,t,n){return t=lz(t),function(e,t){if(t&&("object"===tz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sz()?Reflect.construct(t,n||[],lz(e).constructor):t.apply(e,n))}function sz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sz=function(){return!!e})()}function lz(e){return lz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lz(e)}function uz(e,t){return uz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uz(e,t)}function cz(e,t,n){return(t=fz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fz(e){var t=function(e,t){if("object"!=tz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tz(t)?t:t+""}var dz=Math.PI/180,pz=1e-5,hz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oz(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uz(e,t)}(t,e),n=t,i=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,a=t.orientation,o=t.tickSize||8,s=fp(n,r,i,e.coordinate),l=fp(n,r,i+("inner"===a?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*dz);return n>pz?"outer"===t?"start":"end":n<-pz?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.radius,a=e.axisLine,o=e.axisLineType,s=iz(iz({},Ge(this.props,!1)),{},{fill:"none"},Ge(a,!1));if("circle"===o)return r.createElement(Er,nz({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:i}));var l=this.props.ticks.map(function(e){return fp(t,n,i,e.coordinate)});return r.createElement(ez,nz({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,a=n.tick,o=n.tickLine,s=n.tickFormatter,l=n.stroke,u=Ge(this.props,!1),c=Ge(a,!1),f=iz(iz({},u),{},{fill:"none"},Ge(o,!1)),d=i.map(function(n,i){var d=e.getTickLineCoord(n),p=iz(iz(iz({textAnchor:e.getTickTextAnchor(n)},u),{},{stroke:"none",fill:l},c),{},{index:i,payload:n,x:d.x2,y:d.y2});return r.createElement(bt,nz({className:J("recharts-polar-angle-axis-tick",gp(a)),key:"tick-".concat(n.coordinate)},Pe(e.props,n,i)),o&&r.createElement("line",nz({className:"recharts-polar-angle-axis-tick-line"},f,d)),a&&t.renderTickItem(a,p,s?s(n.value,i):n.value))});return r.createElement(bt,{className:"recharts-polar-angle-axis-ticks"},d)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,i=e.axisLine;return n<=0||!t||!t.length?null:r.createElement(bt,{className:J("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):Se()(e)?e(t):r.createElement(ao,nz({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],i&&az(n.prototype,i),a&&az(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);cz(hz,"displayName","PolarAngleAxis"),cz(hz,"axisType","angleAxis"),cz(hz,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mz=n(2794),gz=n.n(mz),yz=n(9364),vz=n.n(yz),bz=["cx","cy","angle","ticks","axisLine"],xz=["ticks","tick","angle","tickFormatter","stroke"];function wz(e){return wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wz(e)}function Nz(){return Nz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nz.apply(this,arguments)}function Sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sz(Object(n),!0).forEach(function(t){jz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Az(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mz(r.key),r)}}function kz(e,t,n){return t=Dz(t),function(e,t){if(t&&("object"===wz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_z()?Reflect.construct(t,n||[],Dz(e).constructor):t.apply(e,n))}function _z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_z=function(){return!!e})()}function Dz(e){return Dz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dz(e)}function Oz(e,t){return Oz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oz(e,t)}function jz(e,t,n){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mz(e){var t=function(e,t){if("object"!=wz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wz(t)?t:t+""}var Tz,Pz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kz(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oz(e,t)}(t,e),n=t,i=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,a=n.cy;return fp(i,a,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=gz()(i,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:vz()(i,function(e){return e.coordinate||0}).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.angle,a=e.ticks,o=e.axisLine,s=Az(e,bz),l=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),u=fp(t,n,l[0],i),c=fp(t,n,l[1],i),f=Ez(Ez(Ez({},Ge(s,!1)),{},{fill:"none"},Ge(o,!1)),{},{x1:u.x,y1:u.y,x2:c.x,y2:c.y});return r.createElement("line",Nz({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,a=n.tick,o=n.angle,s=n.tickFormatter,l=n.stroke,u=Az(n,xz),c=this.getTickTextAnchor(),f=Ge(u,!1),d=Ge(a,!1),p=i.map(function(n,i){var u=e.getTickValueCoord(n),p=Ez(Ez(Ez(Ez({textAnchor:c,transform:"rotate(".concat(90-o,", ").concat(u.x,", ").concat(u.y,")")},f),{},{stroke:"none",fill:l},d),{},{index:i},u),{},{payload:n});return r.createElement(bt,Nz({className:J("recharts-polar-radius-axis-tick",gp(a)),key:"tick-".concat(n.coordinate)},Pe(e.props,n,i)),t.renderTickItem(a,p,s?s(n.value,i):n.value))});return r.createElement(bt,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,i=e.tick;return t&&t.length?r.createElement(bt,{className:J("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),i&&this.renderTicks(),kp.renderCallByParent(this.props,this.getViewBox())):null}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):Se()(e)?e(t):r.createElement(ao,Nz({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],i&&Cz(n.prototype,i),a&&Cz(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function Fz(e){return Fz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fz(e)}function Iz(){return Iz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iz.apply(this,arguments)}function Bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bz(Object(n),!0).forEach(function(t){Wz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hz(r.key),r)}}function Lz(e,t,n){return t=qz(t),function(e,t){if(t&&("object"===Fz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Uz()?Reflect.construct(t,n||[],qz(e).constructor):t.apply(e,n))}function Uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Uz=function(){return!!e})()}function qz(e){return qz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qz(e)}function $z(e,t){return $z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$z(e,t)}function Wz(e,t,n){return(t=Hz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hz(e){var t=function(e,t){if("object"!=Fz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fz(t)?t:t+""}jz(Pz,"displayName","PolarRadiusAxis"),jz(Pz,"axisType","radiusAxis"),jz(Pz,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Kz=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wz(n=Lz(this,t,[e]),"pieRef",null),Wz(n,"sectorRefs",[]),Wz(n,"id",me("recharts-pie-")),Wz(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se()(e)&&e()}),Wz(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se()(e)&&e()}),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$z(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);if(Se()(e))return e(t);var i=J("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(sy,Iz({},t,{key:n,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if(Se()(e)&&(i=e(t),r.isValidElement(i)))return i;var a=J("recharts-pie-label-text","boolean"===typeof e||Se()(e)?"":e.className);return r.createElement(ao,Iz({},t,{alignmentBaseline:"middle",className:a}),i)}}],(i=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.label,a=n.labelLine,o=n.dataKey,s=n.valueKey,l=Ge(this.props,!1),u=Ge(i,!1),c=Ge(a,!1),f=i&&i.offsetRadius||20,d=e.map(function(e,n){var d=(e.startAngle+e.endAngle)/2,p=fp(e.cx,e.cy,e.outerRadius+f,d),h=Rz(Rz(Rz(Rz({},l),e),{},{stroke:"none"},u),{},{index:n,textAnchor:t.getTextAnchor(p.x,e.cx)},p),m=Rz(Rz(Rz(Rz({},l),e),{},{fill:"none",stroke:e.fill},c),{},{index:n,points:[fp(e.cx,e.cy,e.outerRadius,d),p]}),g=o;return ue()(o)&&ue()(s)?g="value":ue()(o)&&(g=s),r.createElement(bt,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},a&&t.renderLabelLineItem(a,m,"line"),t.renderLabelItem(i,h,hd(e,g)))});return r.createElement(bt,{className:"recharts-pie-labels"},d)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,i=n.activeShape,a=n.blendStroke,o=n.inactiveShape;return e.map(function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),u=o&&t.hasActiveIndex()?o:null,c=l?i:u,f=Rz(Rz({},n),{},{stroke:a?n.fill:n.stroke,tabIndex:-1});return r.createElement(bt,Iz({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Pe(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),r.createElement(Ch,Iz({option:c,isActive:l,shapeType:"sector"},f)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,i=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,u=this.state,c=u.prevSectors,f=u.prevIsAnimationActive;return r.createElement(Qi,{begin:a,duration:o,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var i=t.t,a=[],o=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],r=t>0?ae()(e,"paddingAngle",0):0;if(n){var s=ve(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=Rz(Rz({},e),{},{startAngle:o+r,endAngle:o+s(i)+r});a.push(l),o=l.endAngle}else{var u=e.endAngle,f=e.startAngle,d=ve(0,u-f)(i),p=Rz(Rz({},e),{},{startAngle:o+r,endAngle:o+d+r});a.push(p),o=p.endAngle}}),r.createElement(bt,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&gf()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,i=t.sectors,a=t.className,o=t.label,s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.isAnimationActive,d=this.state.isAnimationFinished;if(n||!i||!i.length||!de(s)||!de(l)||!de(u)||!de(c))return null;var p=J("recharts-pie",a);return r.createElement(bt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(i),kp.renderCallByParent(this.props,null,!1),(!f||d)&&Yp.renderCallByParent(this.props,i,!1))}}])&&zz(n.prototype,i),a&&zz(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);Tz=Kz,Wz(Kz,"displayName","Pie"),Wz(Kz,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Kt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),Wz(Kz,"parseDeltaAngle",function(e,t){return ce(t-e)*Math.min(Math.abs(t-e),360)}),Wz(Kz,"getRealPieData",function(e){var t=e.data,n=e.children,r=Ge(e,!1),i=We(n,Pp);return t&&t.length?t.map(function(e,t){return Rz(Rz(Rz({payload:e},r),e),i&&i[t]&&i[t].props)}):i&&i.length?i.map(function(e){return Rz(Rz({},r),e.props)}):[]}),Wz(Kz,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=dp(i,a);return{cx:r+ge(e.cx,i,i/2),cy:n+ge(e.cy,a,a/2),innerRadius:ge(e.innerRadius,o,0),outerRadius:ge(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(i*i+a*a)/2}}),Wz(Kz,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?Rz(Rz({},t.type.defaultProps),t.props):t.props,i=Tz.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),h=Tz.parseCoordinateOfPie(r,n),m=Tz.parseDeltaAngle(o,s),g=Math.abs(m),y=u;ue()(u)&&ue()(f)?(we(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):ue()(u)&&(we(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=f);var v,b,x=i.filter(function(e){return 0!==hd(e,y,0)}).length,w=g-x*p-(g>=360?x:x-1)*l,N=i.reduce(function(e,t){var n=hd(t,y,0);return e+(de(n)?n:0)},0);N>0&&(v=i.map(function(e,t){var n,r=hd(e,y,0),i=hd(e,c,t),s=(de(r)?r:0)/N,u=(n=t?b.endAngle+ce(m)*l*(0!==r?1:0):o)+ce(m)*((0!==r?p:0)+s*w),f=(n+u)/2,g=(h.innerRadius+h.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:y,type:d}],x=fp(h.cx,h.cy,g,f);return b=Rz(Rz(Rz({percent:s,cornerRadius:a,name:i,tooltipPayload:v,midAngle:f,middleRadius:g,tooltipPosition:x},e),h),{},{value:hd(e,y),startAngle:n,endAngle:u,payload:e,paddingAngle:ce(m)*l})}));return Rz(Rz({},h),{},{sectors:v,data:i})});var Vz=tv({chartName:"PieChart",GraphicalChild:Kz,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hz},{axisType:"radiusAxis",AxisComp:Pz}],formatAxisMap:function(e,t,n,r,i){var a=e.width,o=e.height,s=e.startAngle,l=e.endAngle,u=ge(e.cx,a,a/2),c=ge(e.cy,o,o/2),f=dp(a,o,n),d=ge(e.innerRadius,f,0),p=ge(e.outerRadius,f,.8*f);return Object.keys(t).reduce(function(e,n){var a,o=t[n],f=o.domain,h=o.reversed;if(ue()(o.range))"angleAxis"===r?a=[s,l]:"radiusAxis"===r&&(a=[d,p]),h&&(a=[a[1],a[0]]);else{var m=sp(a=o.range,2);s=m[0],l=m[1]}var g=Ed(o,i),y=g.realScaleType,v=g.scale;v.domain(f).range(a),Cd(v);var b=Dd(v,ap(ap({},o),{},{realScaleType:y})),x=ap(ap(ap({},o),b),{},{range:a,radius:p,realScaleType:y,scale:v,cx:u,cy:c,innerRadius:d,outerRadius:p,startAngle:s,endAngle:l});return ap(ap({},e),{},op({},n,x))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Yz=e=>{let{data:t,type:n="combined"}=e;const{formatCurrency:i}=q(),{isDark:a}=jb(),s=(0,r.useMemo)(()=>{if(!t)return[];const e=[];return"combined"!==n&&"monthly"!==n||Object.entries(t.monthlyData||{}).forEach(t=>{let[n,r]=t;if(r>0){const t=o.MONTHLY.find(e=>e.key===n);e.push({name:(null===t||void 0===t?void 0:t.name)||g(n),value:r,type:"monthly",icon:(null===t||void 0===t?void 0:t.icon)||"\ud83d\udcca",categoryKey:n})}}),"combined"!==n&&"annual"!==n||Object.entries(t.annualData||{}).forEach(t=>{let[n,r]=t;if(r>0){const t=o.ANNUAL.find(e=>e.key===n);e.push({name:(null===t||void 0===t?void 0:t.name)||g(n),value:r,type:"annual",icon:(null===t||void 0===t?void 0:t.icon)||"\ud83d\udcca",categoryKey:n})}}),e.sort((e,t)=>t.value-e.value)},[t,n]),l=a?["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#e67e22","#95a5a6","#f1c40f","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50"]:u.PRIMARY,c=e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload;return(0,v.jsxs)("div",{className:"chart-tooltip",children:[(0,v.jsxs)("div",{className:"tooltip-header",children:[(0,v.jsx)("span",{className:"tooltip-icon",children:e.icon}),(0,v.jsx)("span",{className:"tooltip-name",children:e.name})]}),(0,v.jsxs)("div",{className:"tooltip-content",children:[(0,v.jsxs)("p",{className:"tooltip-value",children:["Amount: ",i(e.value)]}),(0,v.jsxs)("p",{className:"tooltip-percentage",children:[(e.value/s.reduce((e,t)=>e+t.value,0)*100).toFixed(1),"% of total"]}),(0,v.jsxs)("p",{className:"tooltip-type",children:["Type: ","monthly"===e.type?"Monthly":"Annual (monthly avg)"]})]})]})}return null},f=s.reduce((e,t)=>e+t.value,0);return 0===s.length?(0,v.jsx)("div",{className:"expense-breakdown empty",children:(0,v.jsxs)("div",{className:"empty-state",children:[(0,v.jsx)("span",{className:"empty-icon",children:"\ud83d\udcca"}),(0,v.jsx)("h4",{children:"No Expense Data"}),(0,v.jsx)("p",{children:"Add some expenses to see the breakdown chart."})]})}):(0,v.jsxs)("div",{className:"expense-breakdown",children:[(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)(at,{width:"100%",height:300,children:(0,v.jsxs)(Vz,{children:[(0,v.jsx)(Kz,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:n,midAngle:r,innerRadius:i,outerRadius:o,percent:s}=e;const l=Math.PI/180,u=i+.5*(o-i),c=t+u*Math.cos(-r*l),f=n+u*Math.sin(-r*l);return s<.05?null:(0,v.jsx)("text",{x:c,y:f,fill:a?"#ecf0f1":"#2c3e50",textAnchor:c>t?"start":"end",dominantBaseline:"central",fontSize:"12",fontWeight:"500",children:`${(100*s).toFixed(0)}%`})},outerRadius:100,fill:"#8884d8",dataKey:"value",children:s.map((e,t)=>(0,v.jsx)(Pp,{fill:l[t%l.length]},`cell-${t}`))}),(0,v.jsx)(ln,{content:(0,v.jsx)(c,{})})]})})}),(0,v.jsxs)("div",{className:"breakdown-legend",children:[(0,v.jsxs)("div",{className:"legend-header",children:[(0,v.jsx)("h4",{children:"Expense Categories"}),(0,v.jsxs)("div",{className:"total-amount",children:["Total: ",i(f)]})]}),(0,v.jsx)("div",{className:"legend-items",children:s.map((e,t)=>{const n=(e.value/f*100).toFixed(1);return(0,v.jsxs)("div",{className:"legend-item",children:[(0,v.jsxs)("div",{className:"legend-indicator",children:[(0,v.jsx)("div",{className:"color-dot",style:{backgroundColor:l[t%l.length]}}),(0,v.jsx)("span",{className:"category-icon",children:e.icon})]}),(0,v.jsxs)("div",{className:"legend-content",children:[(0,v.jsx)("div",{className:"legend-name",children:e.name}),(0,v.jsxs)("div",{className:"legend-details",children:[(0,v.jsx)("span",{className:"legend-amount",children:i(e.value)}),(0,v.jsxs)("span",{className:"legend-percentage",children:["(",n,"%)"]}),(0,v.jsx)("span",{className:`legend-type ${e.type}`,children:"monthly"===e.type?"Monthly":"Annual"})]})]}),(0,v.jsx)("div",{className:"legend-bar",children:(0,v.jsx)("div",{className:"bar-fill",style:{width:`${n}%`,backgroundColor:l[t%l.length]}})})]},e.categoryKey)})})]}),(0,v.jsxs)("div",{className:"breakdown-insights",children:[(0,v.jsx)("div",{className:"insights-header",children:"\ud83d\udca1 Quick Insights"}),(0,v.jsxs)("div",{className:"insights-list",children:[s.length>0&&(0,v.jsx)("div",{className:"insight-item",children:(0,v.jsxs)("span",{children:["Largest category: ",s[0].name," (",(s[0].value/f*100).toFixed(1),"%)"]})}),s.length>=3&&(0,v.jsx)("div",{className:"insight-item",children:(0,v.jsxs)("span",{children:["Top 3 categories account for ",(s.slice(0,3).reduce((e,t)=>e+t.value,0)/f*100).toFixed(1),"% of expenses"]})}),(0,v.jsx)("div",{className:"insight-item",children:(0,v.jsxs)("span",{children:["Tracking ",s.length," expense categories"]})})]})]})]})},Gz=e=>{let{children:t,title:n,subtitle:r,className:i="",headerActions:a,...o}=e;return(0,v.jsxs)("div",{className:`card ${i}`,...o,children:[(n||a)&&(0,v.jsxs)("div",{className:"card-header",children:[(0,v.jsxs)("div",{className:"card-title-section",children:[n&&(0,v.jsx)("h3",{className:"card-title",children:n}),r&&(0,v.jsx)("p",{className:"card-subtitle",children:r})]}),a&&(0,v.jsx)("div",{className:"card-actions",children:a})]}),(0,v.jsx)("div",{className:"card-content",children:t})]})};class Xz{static formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}static formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}static getBasePrintStyles(){return"\n      <style>\n        @page {\n          size: letter;\n          margin: 0.75in;\n        }\n        \n        * {\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n          font-size: 12px;\n          line-height: 1.4;\n          color: #333;\n          margin: 0;\n          padding: 0;\n          background: white;\n        }\n        \n        .print-header {\n          text-align: center;\n          border-bottom: 2px solid #2c3e50;\n          padding-bottom: 15px;\n          margin-bottom: 25px;\n        }\n        \n        .print-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2c3e50;\n          margin: 0 0 10px 0;\n        }\n        \n        .print-subtitle {\n          font-size: 14px;\n          color: #7f8c8d;\n          margin: 0;\n        }\n        \n        .print-date {\n          font-size: 12px;\n          color: #95a5a6;\n          margin: 5px 0 0 0;\n        }\n        \n        table {\n          width: 100%;\n          border-collapse: collapse;\n          margin-bottom: 20px;\n          font-size: 11px;\n        }\n        \n        th, td {\n          border: 1px solid #ddd;\n          padding: 8px;\n          text-align: left;\n          vertical-align: top;\n        }\n        \n        th {\n          background-color: #f8f9fa;\n          font-weight: 600;\n          color: #2c3e50;\n        }\n        \n        .category-header {\n          background-color: #e9ecef !important;\n          font-weight: 700;\n          font-size: 12px;\n          color: #495057;\n        }\n        \n        .amount {\n          text-align: right;\n          font-family: 'Courier New', monospace;\n          font-weight: 500;\n        }\n        \n        .total-row {\n          background-color: #f1f3f4 !important;\n          font-weight: 700;\n          border-top: 2px solid #2c3e50;\n        }\n        \n        .summary-section {\n          background-color: #f8f9fa;\n          padding: 15px;\n          border-radius: 5px;\n          margin: 20px 0;\n          border: 1px solid #dee2e6;\n        }\n        \n        .summary-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 15px;\n          margin-top: 10px;\n        }\n        \n        .summary-item {\n          display: flex;\n          justify-content: space-between;\n          padding: 8px 0;\n          border-bottom: 1px solid #dee2e6;\n        }\n        \n        .summary-item:last-child {\n          border-bottom: none;\n        }\n        \n        .summary-label {\n          font-weight: 500;\n          color: #495057;\n        }\n        \n        .summary-value {\n          font-weight: 600;\n          font-family: 'Courier New', monospace;\n        }\n        \n        .positive {\n          color: #28a745;\n        }\n        \n        .negative {\n          color: #dc3545;\n        }\n        \n        .warning {\n          color: #ffc107;\n        }\n        \n        .page-break {\n          page-break-before: always;\n        }\n        \n        .no-print {\n          display: none;\n        }\n        \n        .status-indicator {\n          display: inline-block;\n          width: 10px;\n          height: 10px;\n          border-radius: 50%;\n          margin-right: 5px;\n        }\n        \n        .status-paid {\n          background-color: #28a745;\n        }\n        \n        .status-transferred {\n          background-color: #ffc107;\n        }\n        \n        .status-pending {\n          background-color: #6c757d;\n        }\n        \n        @media print {\n          body {\n            -webkit-print-color-adjust: exact;\n            print-color-adjust: exact;\n          }\n          \n          .no-break {\n            page-break-inside: avoid;\n          }\n        }\n      </style>\n    "}static openPrintWindow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Budget Report";const n=window.open("","_blank","width=800,height=600");n.document.write(`\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>${t}</title>\n        ${this.getBasePrintStyles()}\n      </head>\n      <body>\n        ${e}\n        <script>\n          window.onload = function() {\n            window.print();\n          };\n          \n          window.onafterprint = function() {\n            window.close();\n          };\n        <\/script>\n      </body>\n      </html>\n    `),n.document.close()}static generatePrintHeader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return`\n      <div class="print-header">\n        <h1 class="print-title">${e}</h1>\n        ${t?`<p class="print-subtitle">${t}</p>`:""}\n        <p class="print-date">Generated on ${(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>\n      </div>\n    `}}class Jz extends Xz{static generatePrintContent(e,t,n){const r=t.getWeeklyPlannerTotals(),i=t.getWeeklyIncome();let a=this.generatePrintHeader("Weekly Budget Planner","Detailed weekly expense planning and cash flow analysis");a+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 10px 0; color: #28a745;">\ud83d\udcb5 Weekly Income Summary</h3>\n        <div class="summary-grid">\n          ${Array.from({length:5},(e,t)=>`\n            <div class="summary-item">\n              <span class="summary-label">Week ${t+1}:</span>\n              <span class="summary-value positive">${n(i[t])}</span>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n    `,a+=`\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 25%;">Expense Category</th>\n            <th style="width: 12%;">Monthly Amount</th>\n            ${Array.from({length:5},(e,t)=>`\n              <th style="width: 10%;">Week ${t+1}</th>\n            `).join("")}\n            <th style="width: 12%;">Remaining</th>\n          </tr>\n        </thead>\n        <tbody>\n    `;const o=this.groupExpensesByCategory(e);return Object.entries(o).forEach(t=>{let[r,i]=t;a+=`\n        <tr class="category-header">\n          <td colspan="7"><strong>${i.name}</strong></td>\n        </tr>\n      `,i.expenses.forEach(t=>{var r;const i=(null===(r=e.plannerState)||void 0===r?void 0:r[t.name])||{weeks:Array(5).fill(0),transferred:Array(5).fill(!1),paid:Array(5).fill(!1)},o=i.weeks.reduce((e,t)=>e+t,0),s=t.monthlyAmount-o;a+=`\n          <tr>\n            <td style="padding-left: 20px;">\n              ${t.name}\n              ${t.isAnnual?'<br><small style="color: #6c757d; font-style: italic;">(Annual: '+n(t.originalAnnualAmount)+")</small>":""}\n            </td>\n            <td class="amount">${n(t.monthlyAmount)}</td>\n            ${i.weeks.map((e,t)=>`\n              <td class="amount">\n                ${n(e)}\n                ${i.paid[t]?'<div class="status-indicator status-paid" title="Paid"></div>':""}\n                ${i.transferred[t]?'<div class="status-indicator status-transferred" title="Transferred"></div>':""}\n              </td>\n            `).join("")}\n            <td class="amount ${Math.abs(s)<.001?"":"negative"}">${n(s)}</td>\n          </tr>\n        `})}),a+=`\n          <tr class="total-row">\n            <td><strong>Weekly Expense Totals</strong></td>\n            <td class="amount"><strong>${n(r.reduce((e,t)=>e+t,0))}</strong></td>\n            ${r.map((e,t)=>`\n              <td class="amount"><strong>${n(e)}</strong></td>\n            `).join("")}\n            <td class="amount"><strong>${n(r.reduce((e,t)=>e+t,0))}</strong></td>\n          </tr>\n        </tbody>\n      </table>\n    `,a+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 15px 0; color: #2c3e50;">\ud83d\udcca Weekly Cash Flow Analysis</h3>\n        <div class="summary-grid">\n          ${Array.from({length:5},(e,t)=>{const a=i[t]-r[t];return`\n              <div class="summary-item">\n                <div>\n                  <strong>Week ${t+1}</strong><br>\n                  <small>Income: ${n(i[t])}</small><br>\n                  <small>Expenses: ${n(r[t])}</small>\n                </div>\n                <div class="summary-value ${a>=0?"positive":"negative"}">\n                  ${n(a)}\n                </div>\n              </div>\n            `}).join("")}\n        </div>\n      </div>\n    `,a}static groupExpensesByCategory(e){const t={};return e.monthly&&Object.entries(e.monthly).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{e.name&&e.name.trim()&&(t[n]||(t[n]={name:this.getCategoryName(n),expenses:[]}),t[n].expenses.push({...e,categoryKey:n,monthlyAmount:parseFloat(e.actual||e.amount||0),type:"monthly",isAnnual:!1}))})}),e.annual&&Object.entries(e.annual).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{if(e.name&&e.name.trim()){const r=`annual-${n}`;t[r]||(t[r]={name:`${this.getCategoryName(n)} (Annual)`,expenses:[]});const i=parseFloat(e.actual||e.amount||0);t[r].expenses.push({...e,categoryKey:r,monthlyAmount:i/12,type:"annual",isAnnual:!0,originalAnnualAmount:i})}})}),t}static getCategoryName(e){return{housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts","yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car","yearly-bank":"Yearly Banking"}[e]||e.charAt(0).toUpperCase()+e.slice(1)}}class Zz extends Xz{static generatePrintContent(e,t,n){let r=this.generatePrintHeader("Monthly Expenses Report","Complete breakdown of monthly expense categories and amounts");const i=t.getTotalMonthlyExpenses();return r+=`\n      <div class="summary-section">\n        <div class="summary-item">\n          <span class="summary-label">Total Monthly Expenses:</span>\n          <span class="summary-value">${n(i)}</span>\n        </div>\n      </div>\n    `,r+='\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 30%;">Expense Name</th>\n            <th style="width: 15%;">Due Date</th>\n            <th style="width: 20%;">Account</th>\n            <th style="width: 10%;">Status</th>\n            <th style="width: 12%;">Projected</th>\n            <th style="width: 13%;">Actual</th>\n          </tr>\n        </thead>\n        <tbody>\n    ',Object.entries(e.monthly||{}).forEach(t=>{let[i,a]=t;const o=this.getCategoryName(i),s=a.reduce((e,t)=>e+(parseFloat(t.actual)||0),0);(s>0||a.some(e=>e.name))&&(r+=`\n          <tr class="category-header">\n            <td colspan="6"><strong>${o} - ${n(s)}</strong></td>\n          </tr>\n        `,a.forEach(t=>{if(t.name||parseFloat(t.actual||0)>0){const i=this.findAccount(e.accounts,t.accountId),a=[];t.transferred&&a.push('<span class="status-indicator status-transferred" title="Transferred"></span>'),t.paid&&a.push('<span class="status-indicator status-paid" title="Paid"></span>'),r+=`\n              <tr>\n                <td style="padding-left: 20px;">${t.name||"Unnamed"}</td>\n                <td>${this.formatDate(t.date)}</td>\n                <td>${i?i.name:"Not Selected"}</td>\n                <td>${a.join(" ")||'<span class="status-indicator status-pending" title="Pending"></span>'}</td>\n                <td class="amount">${n(t.projected||0)}</td>\n                <td class="amount">${n(t.actual||0)}</td>\n              </tr>\n            `}}))}),r+=`\n          <tr class="total-row">\n            <td colspan="5"><strong>Total Monthly Expenses</strong></td>\n            <td class="amount"><strong>${n(i)}</strong></td>\n          </tr>\n        </tbody>\n      </table>\n    `,r}static getCategoryName(e){return{housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts"}[e]||e.charAt(0).toUpperCase()+e.slice(1)}static findAccount(e,t){return Array.isArray(e)&&t?e.find(e=>e.id===t):null}}class Qz extends Xz{static generatePrintContent(e,t,n){let r=this.generatePrintHeader("Annual Expenses Report","Complete breakdown of yearly expense categories and savings plan");const i=t.getTotalAnnualExpenses(),a=i/12;r+=`\n      <div class="summary-section">\n        <div class="summary-grid">\n          <div class="summary-item">\n            <span class="summary-label">Total Annual Expenses:</span>\n            <span class="summary-value">${n(i)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Monthly Impact:</span>\n            <span class="summary-value">${n(a)}</span>\n          </div>\n        </div>\n      </div>\n    `,r+='\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 25%;">Expense Name</th>\n            <th style="width: 15%;">Due Date</th>\n            <th style="width: 15%;">Account</th>\n            <th style="width: 10%;">Status</th>\n            <th style="width: 12%;">Projected</th>\n            <th style="width: 12%;">Actual</th>\n            <th style="width: 11%;">Monthly</th>\n          </tr>\n        </thead>\n        <tbody>\n    ';const o={"yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car Expenses","yearly-bank":"Yearly Banking","yearly-insurance":"Yearly Insurance","yearly-tax":"Yearly Tax Expenses","yearly-medical":"Yearly Medical","yearly-home":"Yearly Home/Property","yearly-personal":"Yearly Personal"};return Object.entries(e.annual||{}).forEach(t=>{let[i,a]=t;const s=o[i]||i,l=a.reduce((e,t)=>e+(parseFloat(t.actual)||0),0);(l>0||a.some(e=>e.name))&&(r+=`\n          <tr class="category-header">\n            <td colspan="7"><strong>${s} - ${n(l)}/year</strong></td>\n          </tr>\n        `,a.forEach(t=>{if(t.name||parseFloat(t.actual||0)>0){const i=this.findAccount(e.accounts,t.accountId),a=parseFloat(t.actual||0),o=a/12,s=[];t.transferred&&s.push('<span class="status-indicator status-transferred" title="Transferred"></span>'),t.paid&&s.push('<span class="status-indicator status-paid" title="Paid"></span>'),r+=`\n              <tr>\n                <td style="padding-left: 20px;">${t.name||"Unnamed"}</td>\n                <td>${this.formatDate(t.date)}</td>\n                <td>${i?i.name:"Not Selected"}</td>\n                <td>${s.join(" ")||'<span class="status-indicator status-pending" title="Pending"></span>'}</td>\n                <td class="amount">${n(t.projected||0)}</td>\n                <td class="amount">${n(a)}</td>\n                <td class="amount">${n(o)}</td>\n              </tr>\n            `}}))}),r+=`\n          <tr class="total-row">\n            <td colspan="5"><strong>Total Annual Expenses</strong></td>\n            <td class="amount"><strong>${n(i)}</strong></td>\n            <td class="amount"><strong>${n(a)}</strong></td>\n          </tr>\n        </tbody>\n      </table>\n    `,r}static findAccount(e,t){return Array.isArray(e)&&t?e.find(e=>e.id===t):null}}class eL extends Xz{static generatePrintContent(e,t,n){let r=this.generatePrintHeader("Budget Dashboard Overview","Complete financial summary and account balances");const i=t.getTotalIncome(),a=t.getTotalMonthlyExpenses(),o=t.getMonthlyAnnualImpact(),s=t.getNetMonthlyIncome(),l=t.getSavingsRate();r+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 15px 0; color: #2c3e50;">\ud83d\udcb0 Financial Overview</h3>\n        <div class="summary-grid">\n          <div class="summary-item">\n            <span class="summary-label">Monthly Income:</span>\n            <span class="summary-value positive">${n(i)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Monthly Expenses:</span>\n            <span class="summary-value">${n(a)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Annual Impact:</span>\n            <span class="summary-value">${n(o)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Net Monthly Cash:</span>\n            <span class="summary-value ${s>=0?"positive":"negative"}">${n(s)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Savings Rate:</span>\n            <span class="summary-value ${l>=20?"positive":l>=10?"warning":"negative"}">${l.toFixed(1)}%</span>\n          </div>\n        </div>\n      </div>\n    `;const u=Array.isArray(e.accounts)?e.accounts:[];if(u.length>0){r+='\n        <h3 style="color: #2c3e50; margin: 25px 0 15px 0;">\ud83c\udfe6 Account Balances</h3>\n        <table>\n          <thead>\n            <tr>\n              <th style="width: 25%;">Account Name</th>\n              <th style="width: 25%;">Bank Details</th>\n              <th style="width: 20%;">Current Balance</th>\n              <th style="width: 15%;">Projected</th>\n              <th style="width: 15%;">Net</th>\n            </tr>\n          </thead>\n          <tbody>\n      ';let t=0,i=0;u.forEach(a=>{const o=parseFloat(a.currentBalance)||0,s=this.getProjectedTotal(e,a.id),l=o-s;t+=o,i+=s,r+=`\n          <tr>\n            <td><strong>${a.name}</strong></td>\n            <td>${a.bank} \u2022 ${a.transitNumber}-${a.branchNumber}</td>\n            <td class="amount">${n(o)}</td>\n            <td class="amount">${n(s)}</td>\n            <td class="amount ${l>=0?"positive":"negative"}">${n(l)}</td>\n          </tr>\n        `}),r+=`\n            <tr class="total-row">\n              <td colspan="2"><strong>Total</strong></td>\n              <td class="amount"><strong>${n(t)}</strong></td>\n              <td class="amount"><strong>${n(i)}</strong></td>\n              <td class="amount ${t-i>=0?"positive":"negative"}"><strong>${n(t-i)}</strong></td>\n            </tr>\n          </tbody>\n        </table>\n      `}return r+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 15px 0; color: #2c3e50;">\ud83e\ude7a Budget Health</h3>\n        <div class="summary-grid">\n          <div class="summary-item">\n            <span class="summary-label">Emergency Fund Status:</span>\n            <span class="summary-value ${s>0?"positive":"negative"}">\n              ${s>0?"Building":"Attention Needed"}\n            </span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Debt-to-Income Ratio:</span>\n            <span class="summary-value">${i>0?(a/i*100).toFixed(1):0}%</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Tracked Categories:</span>\n            <span class="summary-value">${Object.keys(e.monthly||{}).length+Object.keys(e.annual||{}).length}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Total Expenses:</span>\n            <span class="summary-value">${Object.values(e.monthly||{}).flat().length+Object.values(e.annual||{}).flat().length}</span>\n          </div>\n        </div>\n      </div>\n    `,r}static getProjectedTotal(e,t){return[...Object.values(e.monthly||{}).flat(),...Object.values(e.annual||{}).flat()].filter(e=>e.accountId===t&&e.transferred&&!e.paid).reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0)}}const tL=()=>{const{state:e,calculations:t,formatCurrency:n,actions:i}=q(),[a,o]=(0,r.useState)({actualIncome:!1,netCashFlow:!1,projectedIncome:!1,monthlyExpenses:!1,savingsRate:!1,monthComplete:!1,legalDisclaimer:!1}),s=e=>{o(t=>({...t,[e]:!t[e]}))},l=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},u=(0,r.useMemo)(()=>(e.data.income||[]).reduce((e,t)=>{const n=Array.isArray(t.payDates)&&t.payDates.length>0,r=l(t.projectedAmount||t.amount);let i=0;switch(t.frequency){case"weekly":i=n?r*t.payDates.length:r*(52/12);break;case"bi-weekly":i=n?r*t.payDates.length:r*(26/12);break;case"semi-monthly":i=n?r*t.payDates.length:2*r;break;case"monthly":i=n?r*t.payDates.length:r;break;default:i=r}return e+i},0),[e.data.income]),c=(0,r.useMemo)(()=>(e.data.income||[]).reduce((e,t)=>{const n=Array.isArray(t.payDates)&&t.payDates.length>0;if(Array.isArray(t.payActuals)&&t.payActuals.length>0)return e+t.payActuals.reduce((e,t)=>e+(l(t)||0),0);const r=l(t.actualAmount||0);if("monthly-total"===t.actualMode)return e+r;let i=0;switch(t.frequency){case"weekly":i=n?r*t.payDates.length:r*(52/12);break;case"bi-weekly":i=n?r*t.payDates.length:r*(26/12);break;case"semi-monthly":i=n?r*t.payDates.length:2*r;break;case"monthly":i=n?r*t.payDates.length:r;break;default:i=r}return e+i},0),[e.data.income]),f=(0,r.useMemo)(()=>{const e=c-u,t=u>0?c/u*100:0,n=new Date,r=(new Date(n.getFullYear(),n.getMonth(),1),new Date(n.getFullYear(),n.getMonth()+1,0).getDate()),i=n.getDate()/r*100,a=u*i/100,o=c-a;return{totalProjectedIncome:u,totalActualIncome:c,variance:e,percentReceived:t,monthProgress:i,expectedAtThisPoint:a,progressVariance:o,isOnTrack:o>=0}},[u,c]),d=t.getTotalMonthlyExpenses(),p=t.getMonthlyAnnualImpact?t.getMonthlyAnnualImpact():t.getTotalAnnualExpenses()/12,h=u-d-p,m=c-d-p,g=c>0?m/c*100:0,y=t.getUpcomingExpenses?t.getUpcomingExpenses():[],b=(()=>{const t={},n={};return Object.entries(e.data.monthly||{}).forEach(e=>{let[n,r]=e;const i=r.reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0);i>0&&(t[n]=i)}),Object.entries(e.data.annual||{}).forEach(e=>{let[t,r]=e;const i=r.reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0)/12;i>0&&(n[t]=i)}),{monthlyData:t,annualData:n}})(),x=Array.isArray(e.data.accounts)?e.data.accounts:[],w=[...Object.values(e.data.monthly||{}).flat(),...Object.values(e.data.annual||{}).flat()],N=e=>w.filter(t=>t.accountId===e&&t.transferred&&!t.paid).reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0),S=()=>x.reduce((e,t)=>e+(parseFloat(t.currentBalance)||0),0),E=()=>x.reduce((e,t)=>e+N(t.id),0),A=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?e>=90?"#10b981":e>=60?"#f59e0b":"#3b82f6":"#ef4444"};return(0,v.jsxs)("div",{className:"homepage-redesigned",children:[(0,v.jsx)("style",{jsx:!0,children:"\n        .income-progress-card {\n          background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);\n          color: white;\n          margin-bottom: 20px;\n        }\n        \n        .progress-container {\n          margin: 16px 0;\n        }\n        \n        .progress-bar {\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 12px;\n          height: 12px;\n          overflow: hidden;\n          margin: 8px 0;\n        }\n        \n        .progress-fill {\n          height: 100%;\n          border-radius: 12px;\n          transition: width 0.3s ease;\n        }\n        \n        .progress-labels {\n          display: flex;\n          justify-content: space-between;\n          font-size: 0.75rem;\n          opacity: 0.9;\n          margin-top: 4px;\n        }\n        \n        .income-stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n          gap: 12px;\n          margin-top: 16px;\n        }\n        \n        .income-stat {\n          background: rgba(255, 255, 255, 0.15);\n          padding: 12px;\n          border-radius: 8px;\n          text-align: center;\n        }\n        \n        .income-stat-value {\n          font-size: 1rem;\n          font-weight: 700;\n          margin-bottom: 4px;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n        \n        .income-stat-label {\n          font-size: 0.75rem;\n          opacity: 0.9;\n          font-weight: 600;\n        }\n        \n        .income-stat-explanation {\n          font-size: 0.7rem;\n          opacity: 0.8;\n          margin-top: 4px;\n          line-height: 1.2;\n        }\n        \n        .month-progress-indicator {\n          margin-top: 12px;\n          padding: 8px 12px;\n          background: rgba(255, 255, 255, 0.15);\n          border-radius: 8px;\n          font-size: 0.85rem;\n          font-weight: 600;\n        }\n        \n        .income-explanation-section {\n          margin-top: 16px;\n          padding: 12px;\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 8px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n        \n        .income-explanation-title {\n          font-weight: 700;\n          margin-bottom: 8px;\n          font-size: 0.9rem;\n        }\n        \n        .income-explanation-text {\n          font-size: 0.8rem;\n          line-height: 1.4;\n          opacity: 0.95;\n        }\n        \n        .financial-overview-alternative {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .financial-overview-row {\n          display: grid;\n          gap: 16px;\n        }\n        \n        .financial-overview-row.featured-row {\n          grid-template-columns: 1fr;\n        }\n        \n        .financial-overview-row.second-row {\n          grid-template-columns: repeat(2, 1fr);\n        }\n        \n        .financial-overview-row.third-row {\n          grid-template-columns: repeat(2, 1fr);\n        }\n        \n        .overview-stat.actual-performance {\n          background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);\n          border: 1px solid #0891b2;\n          color: white;\n        }\n        \n        .overview-stat.actual-performance .stat-icon {\n          color: white;\n        }\n        \n        .overview-stat.actual-performance .variance-indicator {\n          background: rgba(0, 0, 0, 0.4) !important;\n          color: #ffffff !important;\n          border: 2px solid rgba(255, 255, 255, 0.5) !important;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9) !important;\n          font-weight: 800 !important;\n          font-size: 0.85rem !important;\n          padding: 6px 12px !important;\n          border-radius: 8px !important;\n          white-space: nowrap;\n          backdrop-filter: blur(10px);\n        }\n        \n        .overview-stat {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n          padding: 1rem;\n          background: var(--bg-secondary, #f8fafc);\n          border-radius: 0.75rem;\n          transition: all 0.2s ease;\n          min-height: 70px;\n          position: relative;\n        }\n        \n        .overview-stat:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n        }\n        \n        .stat-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 3rem;\n          height: 3rem;\n          border-radius: 50%;\n          font-size: 1.25rem;\n          flex-shrink: 0;\n        }\n        \n        .stat-content {\n          flex: 1;\n          min-width: 0;\n        }\n        \n        .stat-value {\n          font-size: 1.25rem;\n          font-weight: 700;\n          margin-bottom: 0.25rem;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n        \n        .stat-label {\n          font-size: 0.875rem;\n          color: #6b7280;\n          font-weight: 500;\n        }\n        \n        .two-column-stat {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 16px;\n          text-align: center;\n        }\n        \n        /* Help Accordion Styles */\n        .card-with-help {\n          position: relative;\n        }\n\n        .help-toggle {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          background: rgba(0, 0, 0, 0.1);\n          border: 1px solid rgba(0, 0, 0, 0.2);\n          border-radius: 50%;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          font-size: 12px;\n          color: #6b7280;\n          transition: all 0.2s ease;\n          z-index: 10;\n        }\n\n        .help-toggle:hover {\n          background: rgba(0, 0, 0, 0.2);\n          color: #374151;\n          transform: scale(1.1);\n        }\n\n        .overview-stat.actual-performance .help-toggle {\n          background: rgba(0, 0, 0, 0.3);\n          border: 1px solid rgba(255, 255, 255, 0.4);\n          color: rgba(255, 255, 255, 0.8);\n        }\n\n        .overview-stat.actual-performance .help-toggle:hover {\n          background: rgba(0, 0, 0, 0.4);\n          color: white;\n        }\n\n        .help-accordion {\n          margin-top: 12px;\n          overflow: hidden;\n          transition: max-height 0.3s ease-out, opacity 0.3s ease-out;\n        }\n\n        .help-accordion.closed {\n          max-height: 0;\n          opacity: 0;\n        }\n\n        .help-accordion.open {\n          max-height: 500px;\n          opacity: 1;\n        }\n\n        .help-content {\n          background: #f8fafc;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 12px;\n          font-size: 0.875rem;\n          line-height: 1.5;\n          color: #374151;\n        }\n\n        .overview-stat.actual-performance .help-content {\n          background: rgba(255, 255, 255, 0.95);\n          color: #374151;\n        }\n\n        .help-content h4 {\n          margin: 0 0 8px 0;\n          font-weight: 600;\n          color: #111827;\n          font-size: 0.9rem;\n        }\n\n        .help-content ul {\n          margin: 8px 0 0 0;\n          padding-left: 16px;\n        }\n\n        .help-content li {\n          margin-bottom: 4px;\n        }\n\n        .help-content strong {\n          color: #1f2937;\n        }\n        \n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .financial-overview-row.second-row {\n            flex-direction: column;\n          }\n          \n          .financial-overview-row.third-row {\n            grid-template-columns: 1fr;\n          }\n          \n          .overview-stat.cash-flow-card {\n            min-width: auto;\n          }\n          \n          .overview-stat.full-width .stat-content > div {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 8px;\n          }\n          \n          .variance-indicator {\n            margin-left: 0;\n            margin-top: 8px;\n          }\n          \n          .financial-overview-row.featured-row {\n            grid-template-columns: 1fr;\n          }\n        }\n\n        /* Give Net Cash Flow a little more breathing room */\n        .overview-stat.net-cash {\n          min-height: 96px;\n        }\n\n        /* Prevent the two numbers from squishing on narrower widths */\n        .overview-stat.net-cash .two-column-stat {\n          grid-template-columns: repeat(2, minmax(160px, 1fr));\n        }\n\n      "}),(0,v.jsxs)("div",{className:"page-header",children:[(0,v.jsx)("h2",{className:"page-title",children:"\ud83c\udfe0 Dashboard Overview"}),(0,v.jsx)("p",{className:"page-description",children:"Your complete budget overview with real-time income tracking and insights"}),(0,v.jsx)("div",{className:"page-header-actions",children:(0,v.jsx)(K,{variant:"outline",onClick:()=>{const r=eL.generatePrintContent(e.data,t,n);eL.openPrintWindow(r,"Budget Dashboard Overview")},className:"print-button",children:"\ud83d\udda8\ufe0f Print Dashboard"})})]}),(0,v.jsx)(G,{}),(0,v.jsxs)(Gz,{title:"\ud83d\udcb0 Income Progress This Month",className:"income-progress-card",children:[(0,v.jsxs)("div",{className:"progress-container",children:[(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,v.jsx)("span",{style:{fontSize:"1.5rem",fontWeight:"700"},children:n(f.totalActualIncome)}),(0,v.jsxs)("span",{style:{fontSize:"0.9rem",opacity:"0.8"},children:["of ",n(f.totalProjectedIncome)," projected"]})]}),(0,v.jsx)("div",{className:"progress-bar",children:(0,v.jsx)("div",{className:"progress-fill",style:{width:`${Math.min(f.percentReceived,100)}%`,backgroundColor:A(f.percentReceived,f.isOnTrack)}})}),(0,v.jsxs)("div",{className:"progress-labels",children:[(0,v.jsxs)("span",{children:[f.percentReceived.toFixed(1),"% received"]}),(0,v.jsxs)("span",{children:[f.monthProgress.toFixed(1),"% through month"]})]}),(0,v.jsx)("div",{className:"month-progress-indicator",children:f.isOnTrack?(0,v.jsxs)("span",{children:["\u2705 On track - ",n(f.progressVariance)," ahead of schedule"]}):(0,v.jsxs)("span",{children:["\u26a0\ufe0f Behind schedule - ",n(Math.abs(f.progressVariance))," expected by now"]})})]}),(0,v.jsxs)("div",{className:"income-stats-grid",children:[(0,v.jsxs)("div",{className:"income-stat",children:[(0,v.jsx)("div",{className:"income-stat-value",children:n(f.variance)}),(0,v.jsx)("div",{className:"income-stat-label",children:"Total Variance"}),(0,v.jsx)("div",{className:"income-stat-explanation",children:"Difference between actual and projected income for the full month"})]}),(0,v.jsxs)("div",{className:"income-stat",children:[(0,v.jsx)("div",{className:"income-stat-value",children:n(f.expectedAtThisPoint)}),(0,v.jsx)("div",{className:"income-stat-label",children:"Expected by Now"}),(0,v.jsxs)("div",{className:"income-stat-explanation",children:["How much income you should have received by day ",(new Date).getDate()," of this month"]})]}),(0,v.jsxs)("div",{className:"income-stat",children:[(0,v.jsx)("div",{className:"income-stat-value",children:f.totalProjectedIncome-f.totalActualIncome>0?n(f.totalProjectedIncome-f.totalActualIncome):"$0"}),(0,v.jsx)("div",{className:"income-stat-label",children:"Still Expected"}),(0,v.jsx)("div",{className:"income-stat-explanation",children:"Amount still projected to be received this month from all income sources"})]})]}),(0,v.jsxs)("div",{className:"income-explanation-section",children:[(0,v.jsx)("div",{className:"income-explanation-title",children:"\ud83d\udcca How These Numbers Work"}),(0,v.jsxs)("div",{className:"income-explanation-text",children:[(0,v.jsx)("strong",{children:"Actual Income:"})," Total money you've received this month from all sources (salary, freelance, etc.).",(0,v.jsx)("strong",{children:"Projected Income:"})," Expected monthly total based on your income frequency settings.",(0,v.jsx)("strong",{children:"Progress Tracking:"})," Compares your actual income to what you should have received by today's date, helping you stay on track with your budget goals."]})]})]}),(0,v.jsx)(H,{}),(0,v.jsxs)("div",{className:"homepage-main-content",children:[(0,v.jsxs)("div",{className:"homepage-left-column",children:[(0,v.jsx)(Gz,{title:"\ud83d\udcb0 Financial Overview",className:"financial-overview-card",children:(0,v.jsxs)("div",{className:"financial-overview-alternative",children:[(0,v.jsx)("div",{className:"financial-overview-row featured-row",children:(0,v.jsxs)("div",{className:"overview-stat actual-performance full-width card-with-help",children:[(0,v.jsx)("button",{className:"help-toggle",onClick:()=>s("actualIncome"),"aria-label":"Help for Actual Monthly Income",children:"?"}),(0,v.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb5"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"stat-value",children:n(f.totalActualIncome)}),(0,v.jsx)("div",{className:"stat-label",children:"Actual Monthly Income"})]}),(0,v.jsxs)("span",{className:"variance-indicator "+(f.variance>=0?"variance-positive":"variance-negative"),children:[f.variance>=0?"\u2197":"\u2198"," ",n(Math.abs(f.variance))," vs projected"]})]}),(0,v.jsx)("div",{className:"help-accordion "+(a.actualIncome?"open":"closed"),children:(0,v.jsxs)("div",{className:"help-content",children:[(0,v.jsx)("h4",{children:"\ud83d\udcb5 Actual Monthly Income"}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"What it shows:"})," The real money you've received this month from all income sources."]}),(0,v.jsx)("p",{children:(0,v.jsx)("strong",{children:"How it's calculated:"})}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"Takes your actual income amounts from each paycheck"}),(0,v.jsx)("li",{children:"Multiplies by pay frequency (weekly, bi-weekly, etc.)"}),(0,v.jsx)("li",{children:"Shows month-to-date total across all income sources"})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"The variance indicator"})," shows how much you're above or below your projected income target for the month."]})]})})]})]})}),(0,v.jsx)("div",{className:"financial-overview-row featured-row",children:(0,v.jsxs)("div",{className:"overview-stat net-cash full-width card-with-help",children:[(0,v.jsx)("button",{className:"help-toggle",onClick:()=>s("netCashFlow"),"aria-label":"Help for Net Cash Flow",children:"?"}),(0,v.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc8"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsxs)("div",{className:"two-column-stat",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"stat-value "+(h>=0?"positive":"negative"),children:n(h)}),(0,v.jsx)("div",{style:{fontSize:"0.7rem",opacity:"0.8"},children:"Projected"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"stat-value "+(m>=0?"positive":"negative"),children:n(m)}),(0,v.jsx)("div",{style:{fontSize:"0.7rem",opacity:"0.8"},children:"Actual"})]})]}),(0,v.jsx)("div",{className:"stat-label",children:"Net Cash Flow"}),(0,v.jsx)("div",{className:"help-accordion "+(a.netCashFlow?"open":"closed"),children:(0,v.jsxs)("div",{className:"help-content",children:[(0,v.jsx)("h4",{children:"\ud83d\udcc8 Net Cash Flow"}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"What it shows:"})," How much money you have left after paying all monthly expenses."]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"Formula:"})," Income - Monthly Expenses = Net Cash Flow"]}),(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Projected:"})," Expected leftover money based on projected income"]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Actual:"})," Real leftover money based on actual income received"]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Positive (green):"})," You have money left over for savings/goals"]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Negative (red):"})," You're spending more than you earn this month"]})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"Goal:"})," Keep this positive to build emergency funds and reach financial goals."]})]})})]})]})}),(0,v.jsxs)("div",{className:"financial-overview-row second-row",children:[(0,v.jsxs)("div",{className:"overview-stat card-with-help",children:[(0,v.jsx)("button",{className:"help-toggle",onClick:()=>s("projectedIncome"),"aria-label":"Help for Projected Income",children:"?"}),(0,v.jsx)("div",{className:"stat-icon income",children:"\ud83c\udfaf"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-value income",children:n(f.totalProjectedIncome)}),(0,v.jsx)("div",{className:"stat-label",children:"Projected Monthly Income"}),(0,v.jsx)("div",{className:"help-accordion "+(a.projectedIncome?"open":"closed"),children:(0,v.jsxs)("div",{className:"help-content",children:[(0,v.jsx)("h4",{children:"\ud83c\udfaf Projected Monthly Income"}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"What it shows:"})," Expected total income for the entire month."]}),(0,v.jsx)("p",{children:(0,v.jsx)("strong",{children:"Based on:"})}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"Your projected income amounts per paycheck"}),(0,v.jsx)("li",{children:"Pay frequency (weekly = 4-5 checks, bi-weekly = 2-3 checks, etc.)"}),(0,v.jsx)("li",{children:"All active income sources combined"})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"Use this to:"})," Plan monthly spending, set savings goals, and budget for upcoming expenses."]})]})})]})]}),(0,v.jsxs)("div",{className:"overview-stat card-with-help",children:[(0,v.jsx)("button",{className:"help-toggle",onClick:()=>s("monthlyExpenses"),"aria-label":"Help for Monthly Expenses",children:"?"}),(0,v.jsx)("div",{className:"stat-icon expenses",children:"\ud83e\uddfe"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-value expenses",children:n(d)}),(0,v.jsx)("div",{className:"stat-label",children:"Monthly Expenses"}),(0,v.jsx)("div",{className:"help-accordion "+(a.monthlyExpenses?"open":"closed"),children:(0,v.jsxs)("div",{className:"help-content",children:[(0,v.jsx)("h4",{children:"\ud83e\uddfe Monthly Expenses"}),(0,v.jsx)("p",{children:(0,v.jsx)("strong",{children:"What it includes:"})}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"All monthly recurring expenses (rent, utilities, subscriptions)"}),(0,v.jsx)("li",{children:"Monthly portion of annual expenses (car insurance, taxes)"}),(0,v.jsx)("li",{children:"Based on your actual or budgeted amounts"})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"Goal:"})," Keep this number lower than your projected income to maintain positive cash flow."]})]})})]})]})]}),(0,v.jsxs)("div",{className:"financial-overview-row third-row",children:[(0,v.jsxs)("div",{className:"overview-stat card-with-help",children:[(0,v.jsx)("button",{className:"help-toggle",onClick:()=>s("savingsRate"),"aria-label":"Help for Savings Rate",children:"?"}),(0,v.jsx)("div",{className:"stat-icon savings",children:"\ud83d\udcb0"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsxs)("div",{className:"stat-value savings",children:[g.toFixed(1),"%"]}),(0,v.jsx)("div",{className:"stat-label",children:"Actual Savings Rate"}),(0,v.jsx)("div",{className:"help-accordion "+(a.savingsRate?"open":"closed"),children:(0,v.jsxs)("div",{className:"help-content",children:[(0,v.jsx)("h4",{children:"\ud83d\udcb0 Savings Rate"}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"What it shows:"})," What percentage of your income you're able to save."]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"Formula:"})," (Net Cash Flow \xf7 Income) \xd7 100"]}),(0,v.jsx)("p",{children:(0,v.jsx)("strong",{children:"Benchmarks:"})}),(0,v.jsxs)("ul",{children:[(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"20%+:"})," Excellent - building wealth quickly"]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"10-20%:"})," Good - on track for financial goals"]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"5-10%:"})," Okay - but could improve"]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Below 5%:"})," Consider reducing expenses"]})]})]})})]})]}),(0,v.jsxs)("div",{className:"overview-stat projected card-with-help",children:[(0,v.jsx)("button",{className:"help-toggle",onClick:()=>s("monthComplete"),"aria-label":"Help for Month Complete",children:"?"}),(0,v.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsxs)("div",{className:"stat-value",children:[f.monthProgress.toFixed(1),"%"]}),(0,v.jsx)("div",{className:"stat-label",children:"Month Complete"}),(0,v.jsx)("div",{className:"help-accordion "+(a.monthComplete?"open":"closed"),children:(0,v.jsxs)("div",{className:"help-content",children:[(0,v.jsx)("h4",{children:"\ud83d\udcc5 Month Complete"}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"What it shows:"})," How far through the current month you are, as a percentage."]}),(0,v.jsx)("p",{children:(0,v.jsx)("strong",{children:"Why it matters:"})}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"Helps evaluate if your income is on track"}),(0,v.jsx)("li",{children:"Useful for pacing monthly spending"}),(0,v.jsx)("li",{children:"Context for interpreting other financial metrics"})]}),(0,v.jsxs)("p",{children:[(0,v.jsx)("strong",{children:"Example:"})," If you're 50% through the month, you should ideally have received about 50% of your expected monthly income."]})]})})]})]})]})]})}),(0,v.jsxs)("div",{className:"charts-row",children:[(0,v.jsx)(Gz,{title:"\ud83d\udcca Monthly Cash Flow",className:"chart-card cash-flow-card",children:(0,v.jsx)("div",{className:"chart-container",children:(0,v.jsx)(KR,{})})}),(0,v.jsx)(Gz,{title:"\ud83e\udd67 Expense Categories",className:"chart-card expense-chart-card",children:(0,v.jsxs)("div",{className:"chart-container",children:[(0,v.jsx)(Yz,{data:b}),(0,v.jsx)("div",{className:"chart-summary",children:(0,v.jsxs)("div",{className:"chart-stat",children:[(0,v.jsx)("strong",{children:Object.keys(b.monthlyData).length+Object.keys(b.annualData).length})," Categories"]})})]})})]}),(0,v.jsx)(Gz,{title:"\ud83c\udfe6 Account Balances",className:"accounts-table-card",children:0===x.length?(0,v.jsxs)("div",{className:"empty-accounts-state",children:[(0,v.jsx)("div",{className:"empty-icon",children:"\ud83c\udfe6"}),(0,v.jsx)("h4",{children:"No Accounts Added"}),(0,v.jsx)("p",{children:"Add your bank accounts to track balances and projected totals."}),(0,v.jsx)(K,{variant:"primary",onClick:()=>i.setCurrentPage("monthly"),children:"Add Account"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"accounts-table",children:[(0,v.jsxs)("div",{className:"accounts-table-header",children:[(0,v.jsx)("div",{children:"Account"}),(0,v.jsx)("div",{children:"Current"}),(0,v.jsx)("div",{children:"Projected"}),(0,v.jsx)("div",{children:"Net"})]}),x.map(e=>{const t=N(e.id),r=(parseFloat(e.currentBalance)||0)-t;return(0,v.jsxs)("div",{className:"accounts-table-row",children:[(0,v.jsxs)("div",{className:"account-info",children:[(0,v.jsxs)("div",{className:"account-name",children:[(0,v.jsx)("span",{className:"account-icon",children:"\ud83d\udcb3"}),e.name]}),(0,v.jsxs)("div",{className:"account-details",children:[e.bank," \u2022 ",e.transitNumber,"-",e.branchNumber]})]}),(0,v.jsx)("div",{className:"balance-cell",children:(0,v.jsx)("input",{type:"number",value:e.currentBalance||"",onChange:t=>i.updateAccount({...e,currentBalance:parseFloat(t.target.value)||0}),className:"balance-input-compact",placeholder:"0.00"})}),(0,v.jsx)("div",{className:"balance-cell projected",children:n(t)}),(0,v.jsx)("div",{className:"balance-cell net "+(r>=0?"positive":"negative"),children:n(r)})]},e.id)}),(0,v.jsxs)("div",{className:"accounts-table-row totals",children:[(0,v.jsx)("div",{className:"account-info",children:(0,v.jsx)("div",{className:"account-name",children:(0,v.jsx)("strong",{children:"Total"})})}),(0,v.jsx)("div",{className:"balance-cell",children:(0,v.jsx)("strong",{children:n(S())})}),(0,v.jsx)("div",{className:"balance-cell projected",children:(0,v.jsx)("strong",{children:n(E())})}),(0,v.jsx)("div",{className:"balance-cell net "+(S()-E()>=0?"positive":"negative"),children:(0,v.jsx)("strong",{children:n(S()-E())})})]})]}),(0,v.jsx)("div",{className:"accounts-table-footer",children:(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>i.setCurrentPage("monthly"),children:"Manage Accounts"})})]})})]}),(0,v.jsxs)("div",{className:"homepage-right-column",children:[(0,v.jsx)(Gz,{title:"\u23f0 Upcoming Expenses",className:"upcoming-card-compact",children:(0,v.jsx)(V,{expenses:y,maxDisplay:3})}),(0,v.jsx)(Gz,{title:"\ud83e\ude7a Budget Health",className:"health-card-compact",children:(0,v.jsxs)("div",{className:"health-metrics-compact",children:[(0,v.jsxs)("div",{className:"health-item-compact",children:[(0,v.jsx)("div",{className:"health-label",children:"Income Progress"}),(0,v.jsxs)("div",{className:"health-indicator",children:[(0,v.jsx)("div",{className:"indicator-bar",children:(0,v.jsx)("div",{className:"indicator-fill",style:{width:`${Math.min(f.percentReceived,100)}%`,backgroundColor:A(f.percentReceived,f.isOnTrack)}})}),(0,v.jsxs)("span",{className:"indicator-text",children:[f.percentReceived.toFixed(0),"% received"]})]})]}),(0,v.jsxs)("div",{className:"health-item-compact",children:[(0,v.jsx)("div",{className:"health-label",children:"Emergency Fund"}),(0,v.jsxs)("div",{className:"health-indicator",children:[(0,v.jsx)("div",{className:"indicator-bar",children:(0,v.jsx)("div",{className:"indicator-fill",style:{width:`${Math.min(6*h/(6*d)*100,100)}%`,backgroundColor:h>0?"#27ae60":"#e74c3c"}})}),(0,v.jsx)("span",{className:"indicator-text",children:h>0?"Building":"Attention"})]})]}),(0,v.jsxs)("div",{className:"health-item-compact",children:[(0,v.jsx)("div",{className:"health-label",children:"Debt-to-Income"}),(0,v.jsxs)("div",{className:"health-value",children:[f.totalProjectedIncome>0?(d/f.totalProjectedIncome*100).toFixed(1):0,"%"]})]}),(0,v.jsxs)("div",{className:"health-item-compact",children:[(0,v.jsx)("div",{className:"health-label",children:"Budget Variance"}),(0,v.jsxs)("div",{className:"health-value "+(f.variance>=0?"positive":"negative"),children:[f.variance>=0?"+":"",n(f.variance)]})]})]})}),(0,v.jsx)(Gz,{title:"\ud83d\udca1 Quick Insights",className:"insights-card-compact",children:(0,v.jsxs)("div",{className:"insights-list-compact",children:[!f.isOnTrack&&(0,v.jsxs)("div",{className:"insight-item warning",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\u23f0"}),(0,v.jsxs)("span",{className:"insight-text",children:["Income ",n(Math.abs(f.progressVariance))," behind schedule"]})]}),m<0&&(0,v.jsxs)("div",{className:"insight-item warning",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\u26a0\ufe0f"}),(0,v.jsxs)("span",{className:"insight-text",children:["Current net cash flow negative: ",n(m)]})]}),g<10&&m>=0&&(0,v.jsxs)("div",{className:"insight-item warning",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\ud83d\udcc9"}),(0,v.jsx)("span",{className:"insight-text",children:"Actual savings rate below 10%"})]}),y.length>0&&(0,v.jsxs)("div",{className:"insight-item info",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\ud83d\udcc5"}),(0,v.jsxs)("span",{className:"insight-text",children:[y.length," expense(s) due soon"]})]}),f.isOnTrack&&g>=20&&(0,v.jsxs)("div",{className:"insight-item success",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\u2705"}),(0,v.jsx)("span",{className:"insight-text",children:"Income on track & exceeding savings goals!"})]}),f.variance>500&&(0,v.jsxs)("div",{className:"insight-item success",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\ud83c\udf89"}),(0,v.jsxs)("span",{className:"insight-text",children:["Income ",n(f.variance)," above projected!"]})]}),0===x.length&&(0,v.jsxs)("div",{className:"insight-item info",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\ud83c\udfe6"}),(0,v.jsx)("span",{className:"insight-text",children:"Add accounts to track balances"})]}),f.isOnTrack&&m>=0&&g>=10&&0===y.length&&(0,v.jsxs)("div",{className:"insight-item success",children:[(0,v.jsx)("span",{className:"insight-icon",children:"\ud83c\udf89"}),(0,v.jsx)("span",{className:"insight-text",children:"Budget is looking healthy!"})]})]})})]})]}),(0,v.jsxs)("footer",{className:"legal-disclaimer-footer",style:{marginTop:"3rem",padding:"1rem",backgroundColor:"var(--bg-tertiary, #f8fafc)",borderRadius:"8px",border:"1px solid var(--border-light, #e5e7eb)"},children:[(0,v.jsxs)("button",{onClick:()=>o(e=>({...e,legalDisclaimer:!e.legalDisclaimer})),style:{width:"100%",padding:"0.5rem",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",fontSize:"0.8rem",color:"var(--text-muted, #6b7280)",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="var(--bg-secondary, #f1f5f9)",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[(0,v.jsx)("span",{children:"\ud83d\udccb Legal Disclaimer & Terms of Use"}),(0,v.jsx)("span",{style:{fontSize:"0.7rem",opacity:.7},children:a.legalDisclaimer?"\u25b2":"\u25bc"})]}),(0,v.jsx)("div",{className:"help-accordion "+(a.legalDisclaimer?"open":"closed"),children:(0,v.jsxs)("div",{style:{backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:"6px",padding:"1rem",marginTop:"0.5rem",fontSize:"0.75rem",color:"var(--text-muted, #6b7280)",lineHeight:"1.4",border:"1px solid var(--border-light, #e5e7eb)"},children:[(0,v.jsx)("div",{style:{textAlign:"center",marginBottom:"0.75rem"},children:(0,v.jsx)("strong",{style:{color:"var(--text-secondary, #4b5563)"},children:"Important Legal Notice"})}),(0,v.jsxs)("p",{style:{margin:"0 0 0.5rem 0"},children:[(0,v.jsx)("strong",{children:"Family Budget Simplified"})," is provided for informational and educational purposes only. This application is not intended to provide financial, investment, legal, tax, or accounting advice. The creators, developers, and distributors of this application disclaim any and all liability for decisions made based on information provided by this software."]}),(0,v.jsx)("p",{style:{margin:"0 0 0.5rem 0"},children:"Users acknowledge that all financial decisions are made at their own risk and discretion. This application does not constitute professional financial advice, and users are strongly encouraged to consult with qualified financial advisors, accountants, or other professionals before making any financial decisions."}),(0,v.jsx)("p",{style:{margin:"0"},children:"No warranty, express or implied, is provided regarding the accuracy, completeness, or reliability of any calculations, projections, or information provided. Users assume full responsibility for verifying all data and calculations before making financial decisions."})]})})]})]})},nL=[{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"semi-annual",label:"Semi-Annual"},{value:"annual",label:"Annual"},{value:"one-time",label:"One-time"}],rL=e=>{switch(e){case"weekly":return 5;case"bi-weekly":return 3;case"monthly":case"one-time":return 1;default:return 0}},iL=e=>{let{data:t,width:n=900,height:r=320,topN:i=8,sortBy:a="projected",currencyFormatter:o=e=>`$${e.toFixed(2)}`}=e;if(!Array.isArray(t)||0===t.length)return null;const s=[...t].sort((e,t)=>(t[a]||0)-(e[a]||0)).slice(0,i),l=30,u=20,c=70,f=60,d=Math.max(300,n)-f-u,p=Math.max(200,r)-l-c,h=Math.max(1,...s.map(e=>Math.max(e.projected||0,e.actual||0))),m=d/s.length,g=Math.min(14,Math.max(8,.12*m)),y=Math.max(12,Math.min(34,(m-g)/2)),b=e=>p-e/h*p,x=Array.from({length:5},(e,t)=>h/4*t);return(0,v.jsx)("svg",{width:d+f+u,height:p+l+c,style:{display:"block"},children:(0,v.jsxs)("g",{transform:`translate(${f},${l})`,children:[x.map((e,t)=>(0,v.jsxs)("g",{children:[(0,v.jsx)("line",{x1:0,y1:b(e),x2:d,y2:b(e),stroke:"#e5e7eb",strokeDasharray:"3 3"}),(0,v.jsx)("text",{x:-10,y:b(e),textAnchor:"end",dominantBaseline:"middle",fontSize:"11",fill:"#6b7280",children:o(e)})]},`yt-${t}`)),(0,v.jsx)("line",{x1:"0",y1:p,x2:d,y2:p,stroke:"#e5e7eb"}),s.map((e,t)=>{const n=t*m+m/2,r=n-y-g/2,i=n+g/2,a=p-b(e.projected||0),s=p-b(e.actual||0);return(0,v.jsxs)("g",{children:[(0,v.jsx)("rect",{x:r,y:b(e.projected||0),width:y,height:a,fill:"#10b981",rx:"4"}),(0,v.jsx)("rect",{x:i,y:b(e.actual||0),width:y,height:s,fill:"#3b82f6",rx:"4"}),(0,v.jsx)("text",{x:r+y/2,y:b(e.projected||0)-6,fontSize:"10",fill:"#065f46",textAnchor:"middle",children:o(e.projected||0)}),(0,v.jsx)("text",{x:i+y/2,y:b(e.actual||0)-6,fontSize:"10",fill:"#1e3a8a",textAnchor:"middle",children:o(e.actual||0)}),(0,v.jsx)("text",{x:n,y:p+16,textAnchor:"middle",fontSize:"11",fill:"#374151",children:String(e.name).length>16?`${String(e.name).slice(0,16)}\u2026`:e.name})]},e.id||e.name||t)}),(0,v.jsxs)("g",{transform:"translate(0, -14)",children:[(0,v.jsx)("rect",{x:"0",y:"-10",width:"12",height:"12",fill:"#10b981",rx:"2"}),(0,v.jsx)("text",{x:"18",y:"0",fontSize:"12",fill:"#374151",children:"Projected"}),(0,v.jsx)("rect",{x:"100",y:"-10",width:"12",height:"12",fill:"#3b82f6",rx:"2"}),(0,v.jsx)("text",{x:"118",y:"0",fontSize:"12",fill:"#374151",children:"Actual"})]})]})})},aL={generatePrintContent(e,t){const n=e=>null==e?"":String(e),r=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=Number(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},i=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projected";const i=Array.isArray(e.payDates)&&e.payDates.length>0,a=r(null!==(t=e.projectedAmount)&&void 0!==t?t:e.amount),o=r(e.actualAmount);if("actual"===n){if(Array.isArray(e.payActuals)&&e.payActuals.length>0)return e.payActuals.reduce((e,t)=>e+r(t),0);if("monthly-total"===(e.actualMode||"per-check"))return o||0}const s="projected"===n?a:o;switch(e.frequency){case"weekly":return i?s*e.payDates.length:s*(52/12);case"bi-weekly":return i?s*e.payDates.length:s*(26/12);case"monthly":default:return s;case"quarterly":return s/3;case"semi-annual":return s/6;case"annual":return s/12;case"one-time":return 0}},a=((null===e||void 0===e?void 0:e.income)||[]).map(e=>{var t;const n=e.name||e.source||"Untitled",a=e.account||e.accountId||"",o=e.frequency||"monthly",s=Array.isArray(e.payDates)?e.payDates:[],l=Array.isArray(e.payActuals)?e.payActuals:[],u=r(null!==(t=e.projectedAmount)&&void 0!==t?t:e.amount),c=r(e.actualAmount),f=e.actualMode||"per-check",d=i({...e,projectedAmount:u},"projected"),p=i({...e,actualAmount:c,actualMode:f,payDates:s,payActuals:l},"actual"),h=p-d;return{id:e.id||n,name:n,account:a,frequency:o,projectedPerPay:u,actualPerPay:c,payDates:s,payActuals:l,projectedMonthly:d,actualMonthly:p,variance:h}}),o=a.reduce((e,t)=>(e.projected+=t.projectedMonthly,e.actual+=t.actualMonthly,e),{projected:0,actual:0}),s=o.actual-o.projected;return`<!doctype html>\n<html>\n<head>\n<meta charset="utf-8" />\n<title>Income Report</title>\n<style>\n  @page { size: Letter; margin: 0.5in; }\n  * { box-sizing: border-box; }\n  html, body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif; color: #111827; }\n  h1 { font-size: 22px; margin: 0 0 4px 0; }\n  .sub { color: #6b7280; font-size: 12px; margin-bottom: 18px; }\n\n  .badges { display: flex; gap: 10px; margin-bottom: 14px; flex-wrap: wrap; }\n  .pill {\n    font-size: 12px; padding: 6px 10px; border-radius: 999px;\n    border: 1px solid #e5e7eb; background: #f9fafb; display: inline-block;\n  }\n  .strong { font-weight: 700; }\n\n  table { width: 100%; border-collapse: separate; border-spacing: 0; }\n  thead th {\n    font-size: 12px; text-transform: none; letter-spacing: 0;\n    text-align: left; color: #374151; padding: 10px 12px; border-bottom: 2px solid #e5e7eb;\n    position: relative;\n  }\n  tbody td {\n    padding: 10px 12px; font-size: 13px; vertical-align: top; border-bottom: 1px solid #f1f5f9;\n  }\n  tbody tr:nth-child(even) td { background: #fafafa; }\n  tfoot td {\n    padding: 12px; font-weight: 700; border-top: 2px solid #e5e7eb; font-size: 13px;\n  }\n\n  .num { text-align: right; white-space: nowrap; font-variant-numeric: tabular-nums; }\n  .muted { color: #6b7280; }\n  .sourceCell { line-height: 1.35; }\n  .sourceTitle { font-weight: 700; margin-bottom: 4px; }\n  .acct { font-size: 12px; color: #6b7280; margin-bottom: 4px; }\n  .dates { margin-top: 8px; }\n  .dates ul { margin: 0; padding-left: 14px; }\n  .dates li { margin: 2px 0; color: #374151; }\n  .dates small { color: #6b7280; }\n\n  .variance-neg { color: #dc2626; }\n  .variance-pos { color: #059669; }\n\n  .grid { display: grid; grid-template-columns: 1fr; gap: 8px; }\n  .wrap { max-width: 8.5in; margin: 0 auto; }\n  .header { margin-bottom: 14px; }\n  .tableWrap { margin-top: 8px; }\n\n  /* Avoid splitting rows across pages */\n  tr { page-break-inside: avoid; }\n  thead { display: table-header-group; }\n  tfoot { display: table-footer-group; }\n</style>\n</head>\n<body>\n  <div class="wrap">\n    <div class="header">\n      <h1>Income Summary</h1>\n      <div class="sub">Printed ${(new Date).toLocaleDateString(void 0,{year:"numeric",month:"numeric",day:"numeric"})}</div>\n      <div class="badges">\n        <span class="pill"><span class="muted">Projected (month):</span> <span class="strong">${t(o.projected)}</span></span>\n        <span class="pill"><span class="muted">Actual (month):</span> <span class="strong">${t(o.actual)}</span></span>\n        <span class="pill"><span class="muted">Variance:</span> <span class="strong">${t(s)}</span></span>\n      </div>\n    </div>\n\n    <div class="tableWrap">\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 32%;">Source / Account / Pay Dates</th>\n            <th style="width: 10%;">Frequency</th>\n            <th class="num" style="width: 12%;">Projected<br/><span class="muted">(per pay)</span></th>\n            <th class="num" style="width: 12%;">Actual<br/><span class="muted">(per pay)</span></th>\n            <th class="num" style="width: 12%;">Projected<br/><span class="muted">(monthly)</span></th>\n            <th class="num" style="width: 12%;">Actual<br/><span class="muted">(monthly)</span></th>\n            <th class="num" style="width: 10%;">Variance</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${a.map(e=>{const i=(e.payDates.length?e.payDates:[]).map((i,a)=>{var o;const s=null===(o=e.payActuals)||void 0===o?void 0:o[a],l=s||0===s?` \u2014 <small>${t(r(s))}</small>`:"";return`<li>${n(i)}${l}</li>`}).join("");return`\n            <tr>\n              <td class="sourceCell">\n                <div class="sourceTitle">${n(e.name)}</div>\n                ${e.account?`<div class="acct">${n(e.account)}</div>`:""}\n                ${i?`<div class="dates"><ul>${i}</ul></div>`:""}\n              </td>\n              <td>${n(e.frequency)}</td>\n              <td class="num">${t(e.projectedPerPay)}</td>\n              <td class="num">${t(e.actualPerPay)}</td>\n              <td class="num">${t(e.projectedMonthly)}</td>\n              <td class="num">${t(e.actualMonthly)}</td>\n              <td class="num ${e.variance<0?"variance-neg":"variance-pos"}">${t(e.variance)}</td>\n            </tr>`}).join("")}\n        </tbody>\n        <tfoot>\n          <tr>\n            <td>Totals</td>\n            <td></td>\n            <td class="num muted">\u2014</td>\n            <td class="num muted">\u2014</td>\n            <td class="num">${t(o.projected)}</td>\n            <td class="num">${t(o.actual)}</td>\n            <td class="num ${s<0?"variance-neg":"variance-pos"}">${t(s)}</td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  </div>\n</body>\n</html>`},openPrintWindow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Income Report";const n=window.open("","_blank");n&&(n.document.open(),n.document.write(e),n.document.close(),n.onload=()=>n.print(),n.document.title=t)}},oL=()=>{var e,t,n,i;const{state:a,actions:o,formatCurrency:s}=q(),[l,u]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[p,m]=(0,r.useState)("overview"),[g,y]=(0,r.useState)({name:"",projectedAmount:"",actualAmount:"",frequency:"monthly",account:"",notes:"",weeks:Array(5).fill(0),actualWeeks:Array(5).fill(0),payDates:[],payActuals:[],actualMode:"per-check"});(0,r.useEffect)(()=>{const e=rL(g.frequency);if(!Array.isArray(g.payDates))return;const t=g.payDates.length>e?g.payDates.slice(0,e):g.payDates,n=Array.isArray(g.payActuals)?g.payActuals:[],r=n.length>e?n.slice(0,e):n;t===g.payDates&&r===g.payActuals||y(e=>({...e,payDates:t,payActuals:r}))},[g.frequency]);const b=Object.values((null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e.monthly)||{}).flat().map(e=>"string"===typeof(null===e||void 0===e?void 0:e.account)?e.account.trim():"").filter(Boolean),x=Object.values((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.annual)||{}).flat().map(e=>"string"===typeof(null===e||void 0===e?void 0:e.account)?e.account.trim():"").filter(Boolean),w=Array.isArray(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.accounts)?a.data.accounts.map(e=>"string"===typeof e?e.trim():"").filter(Boolean):[],N=Array.from(new Set([...w,...b,...x]));(0,r.useEffect)(()=>{!g.account&&N.length&&y(e=>({...e,account:N[0]}))},[N.length]);const S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projected";const n=Array.isArray(e.payDates)&&e.payDates.length>0,r="number"===typeof e.projectedAmount?e.projectedAmount:h(e.projectedAmount),i="number"===typeof e.actualAmount?e.actualAmount:h(e.actualAmount);if("actual"===t){if(Array.isArray(e.payActuals)&&e.payActuals.length>0)return e.payActuals.reduce((e,t)=>e+(h(t)||0),0);if("monthly-total"===e.actualMode)return i||0;switch(e.frequency){case"weekly":return n?(i||0)*e.payDates.length:(i||0)*(52/12);case"bi-weekly":return n?(i||0)*e.payDates.length:(i||0)*(26/12);case"monthly":default:return i||0;case"quarterly":return(i||0)/3;case"semi-annual":return(i||0)/6;case"annual":return(i||0)/12;case"one-time":return 0}}switch(e.frequency){case"weekly":return n?(r||0)*e.payDates.length:(r||0)*(52/12);case"bi-weekly":return n?(r||0)*e.payDates.length:(r||0)*(26/12);case"monthly":default:return r||0;case"quarterly":return(r||0)/3;case"semi-annual":return(r||0)/6;case"annual":return(r||0)/12;case"one-time":return 0}},E=(a.data.income||[]).map(e=>{const t=Array.isArray(e.weeks)?e.weeks:Array(5).fill(0),n=Array.isArray(e.actualWeeks)?e.actualWeeks:Array(5).fill(0),r=Array.isArray(e.payDates)?e.payDates:[],i=Array.isArray(e.payActuals)?e.payActuals:[],a=void 0!==e.projectedAmount?h(e.projectedAmount):void 0!==e.amount?h(e.amount):t.reduce((e,t)=>e+(h(t)||0),0),o=void 0!==e.actualAmount?h(e.actualAmount):i.length>0?i.reduce((e,t)=>e+(h(t)||0),0):n.reduce((e,t)=>e+(h(t)||0),0);return{...e,name:e.name||e.source||"",projectedAmount:a,actualAmount:o,weeks:t,actualWeeks:n,frequency:e.frequency||"monthly",account:e.account||"",notes:e.notes||"",payDates:r,payActuals:i,actualMode:e.actualMode||"per-check"}}),A=E.reduce((e,t)=>e+S(t,"projected"),0),C=E.reduce((e,t)=>e+S(t,"actual"),0),k=(e=>{const t=e.map(e=>{const t=S(e,"projected"),n=S(e,"actual"),r=n-t;return{id:e.id,name:e.name||"Untitled",account:e.account||"Unassigned",frequency:e.frequency||"monthly",projected:t,actual:n,variance:r}}),n=[...t].sort((e,t)=>e.variance-t.variance).slice(0,5),r=[...t].sort((e,t)=>t.variance-e.variance).slice(0,5),i=t.reduce((e,t)=>(e[t.account]=(e[t.account]||0)+t.actual,e),{});return{rows:t,topNegative:n,topPositive:r,byAccount:Object.entries(i).map(e=>{let[t,n]=e;return{account:t,actual:n}}).sort((e,t)=>t.actual-e.actual),chart:t}})(E),_=C-A,D=A>0?_/A*100:0,O=(e,t)=>{y(n=>({...n,[e]:"name"===e?f(t):t}))},j=()=>{y({name:"",frequency:"monthly",projectedAmount:"",actualAmount:"",account:"",notes:"",weeks:Array(5).fill(0),actualWeeks:Array(5).fill(0),payDates:[],payActuals:[],actualMode:"per-check"}),d(!1),u(null)},M=e=>{let{id:t,label:n,active:r,onClick:i}=e;return(0,v.jsx)("button",{className:"tab-button "+(r?"active":""),onClick:i,"aria-selected":r,role:"tab",id:`tab-${t}`,children:n})};return(0,v.jsxs)("div",{className:"income-page",children:[(0,v.jsx)("style",{jsx:!0,children:"\n        .income-page {\n          max-width: 1400px;\n          margin: 0 auto;\n          padding: 24px;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n        }\n\n        .page-header {\n          text-align: center;\n          margin-bottom: 32px;\n          background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);\n          color: white;\n          padding: 48px 32px;\n          border-radius: 16px;\n          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n          position: relative;\n        }\n\n        .page-header::before {\n          content: '';\n          position: absolute;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.1);\n          border-radius: 16px;\n          pointer-events: none;\n        }\n\n        .page-title {\n          font-size: 2.5rem;\n          margin: 0 0 8px 0;\n          font-weight: 700;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n          position: relative;\n          z-index: 1;\n        }\n\n        .page-description {\n          font-size: 1.125rem;\n          margin: 0;\n          opacity: 1;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n          position: relative;\n          z-index: 1;\n        }\n\n        .tabs-container {\n          margin-bottom: 32px;\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n          overflow: hidden;\n        }\n\n        .tabs-header {\n          display: flex;\n          border-bottom: 1px solid #e5e7eb;\n          background: #f9fafb;\n        }\n\n        .tab-button {\n          flex: 1;\n          padding: 16px 24px;\n          border: none;\n          background: none;\n          font-size: 0.95rem;\n          font-weight: 500;\n          color: #6b7280;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          position: relative;\n          text-align: center;\n        }\n\n        .tab-button:hover {\n          color: #4f46e5;\n          background: rgba(79, 70, 229, 0.08);\n        }\n\n        .tab-button.active {\n          color: #4f46e5;\n          background: white;\n          font-weight: 600;\n        }\n\n        .tab-button.active::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n          height: 3px;\n          background: linear-gradient(90deg, #4f46e5, #7c3aed);\n        }\n\n        .tab-content {\n          padding: 32px;\n        }\n\n        .summary-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n          gap: 24px;\n          margin-bottom: 32px;\n        }\n\n        .summary-card {\n          background: white;\n          padding: 24px;\n          border-radius: 16px;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n          text-align: center;\n          position: relative;\n          overflow: hidden;\n          min-height: 180px;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n        }\n\n        .summary-card::before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          height: 4px;\n        }\n\n        .summary-card.projected::before {\n          background: linear-gradient(90deg, #10b981, #34d399);\n        }\n\n        .summary-card.actual::before {\n          background: linear-gradient(90deg, #3b82f6, #60a5fa);\n        }\n\n        .summary-card.variance::before {\n          background: linear-gradient(90deg, #f59e0b, #fbbf24);\n        }\n\n        .summary-card.variance.negative::before {\n          background: linear-gradient(90deg, #ef4444, #f87171);\n        }\n\n        .card-icon {\n          font-size: 2rem;\n          margin-bottom: 12px;\n        }\n\n        .card-label {\n          font-size: 0.75rem;\n          color: #6b7280;\n          margin-bottom: 8px;\n          text-transform: uppercase;\n          font-weight: 600;\n          letter-spacing: 0.5px;\n          line-height: 1.2;\n        }\n\n        .card-value {\n          font-size: 1.75rem;\n          font-weight: 700;\n          color: #111827;\n          margin-bottom: 8px;\n          word-break: break-all;\n          line-height: 1.1;\n        }\n\n        .card-subtext {\n          font-size: 0.75rem;\n          color: #6b7280;\n          line-height: 1.2;\n        }\n\n        .variance-indicator {\n          display: inline-flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          font-size: 0.75rem;\n          font-weight: 600;\n          padding: 6px 12px;\n          border-radius: 16px;\n          margin-top: 8px;\n          max-width: 100%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .variance-indicator.positive {\n          background: rgba(16, 185, 129, 0.15);\n          color: #059669;\n          border: 1px solid rgba(16, 185, 129, 0.2);\n        }\n\n        .variance-indicator.negative {\n          background: rgba(239, 68, 68, 0.15);\n          color: #dc2626;\n          border: 1px solid rgba(239, 68, 68, 0.2);\n        }\n\n        .page-actions {\n          display: flex;\n          gap: 16px;\n          margin-bottom: 32px;\n          flex-wrap: wrap;\n        }\n\n        .action-button {\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n          padding: 12px 24px;\n          border: none;\n          border-radius: 8px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          text-decoration: none;\n        }\n\n        .action-button.primary {\n          background: #4f46e5;\n          color: white;\n        }\n\n        .action-button.primary:hover {\n          background: #4338ca;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);\n        }\n\n        .action-button.secondary {\n          background: #f3f4f6;\n          color: #374151;\n        }\n\n        .action-button.secondary:hover {\n          background: #e5e7eb;\n        }\n\n        .income-form {\n          background: white;\n          padding: 32px;\n          border-radius: 16px;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n          margin-bottom: 32px;\n        }\n\n        .form-header {\n          margin-bottom: 32px;\n          text-align: center;\n        }\n\n        .form-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #111827;\n          margin: 0 0 8px 0;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .editing-indicator {\n          font-size: 1.25rem;\n        }\n\n        .form-subtitle {\n          font-size: 0.875rem;\n          color: #6b7280;\n          margin: 0;\n          font-style: italic;\n        }\n\n        .form-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n          gap: 24px;\n          margin-bottom: 32px;\n        }\n\n        .form-group {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .form-group.full-width {\n          grid-column: 1 / -1;\n        }\n\n        .form-label {\n          font-weight: 600;\n          color: #374151;\n          margin-bottom: 8px;\n          font-size: 0.875rem;\n          display: block;\n        }\n\n        .form-input, .form-select, .form-textarea {\n          padding: 12px 16px;\n          border: 2px solid #e5e7eb;\n          border-radius: 8px;\n          font-size: 0.95rem;\n          transition: all 0.3s ease;\n          width: 100%;\n          box-sizing: border-box;\n        }\n\n        .form-input:focus, .form-select:focus, .form-textarea:focus {\n          outline: none;\n          border-color: #4f46e5;\n          box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);\n        }\n\n        .form-input::placeholder {\n          color: #9ca3af;\n        }\n\n        .form-textarea {\n          resize: vertical;\n          min-height: 80px;\n        }\n\n        .projected-actual-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 16px;\n        }\n\n        .form-actions {\n          display: flex;\n          gap: 16px;\n          justify-content: center;\n        }\n\n        .income-table-container {\n          background: white;\n          border-radius: 16px;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n          overflow: hidden;\n        }\n\n        .income-table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n\n        .income-table th {\n          background: #f8fafc;\n          padding: 16px 12px;\n          text-align: left;\n          font-weight: 600;\n          color: #374151;\n          border-bottom: 2px solid #e5e7eb;\n          font-size: 0.875rem;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .income-table td {\n          padding: 16px 12px;\n          border-bottom: 1px solid #f3f4f6;\n          font-size: 0.875rem;\n          vertical-align: middle;\n        }\n\n        .income-table tbody tr:hover {\n          background: #f8fafc;\n        }\n\n        .source-name {\n          font-weight: 600;\n          color: #111827;\n          max-width: 150px;\n          word-break: break-word;\n        }\n\n        .amount-cell {\n          font-weight: 600;\n          font-family: 'SF Mono', Monaco, 'Roboto Mono', monospace;\n        }\n\n        .amount.projected {\n          color: #059669;\n        }\n\n        .amount.actual {\n          color: #2563eb;\n        }\n\n        .variance-cell {\n          font-weight: 600;\n          font-family: 'SF Mono', Monaco, 'Roboto Mono', monospace;\n        }\n\n        .variance.positive {\n          color: #059669;\n        }\n\n        .variance.negative {\n          color: #dc2626;\n        }\n\n        .frequency-badge {\n          background: #f3f4f6;\n          color: #374151;\n          padding: 4px 12px;\n          border-radius: 16px;\n          font-size: 0.875rem;\n          font-weight: 500;\n        }\n\n        .action-buttons {\n          display: flex;\n          gap: 8px;\n        }\n\n        .btn-small {\n          padding: 6px 12px;\n          font-size: 0.875rem;\n          border-radius: 6px;\n          border: 1px solid transparent;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          font-weight: 500;\n        }\n\n        .btn-small.edit-btn {\n          background: #f3f4f6;\n          color: #374151;\n          border-color: #d1d5db;\n        }\n\n        .btn-small.edit-btn:hover {\n          background: #e5e7eb;\n          color: #111827;\n        }\n\n        .btn-small.edit-btn.editing {\n          background: #fef3c7;\n          color: #92400e;\n          border-color: #fbbf24;\n          box-shadow: 0 0 0 2px rgba(251, 191, 36, 0.2);\n        }\n\n        .btn-small.edit-btn.editing:hover {\n          background: #fde68a;\n          color: #78350f;\n        }\n\n        .btn-small.delete-btn {\n          background: #fef2f2;\n          color: #dc2626;\n          border-color: #fecaca;\n        }\n\n        .btn-small.delete-btn:hover {\n          background: #fee2e2;\n          color: #b91c1c;\n        }\n\n        .btn-small:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n          pointer-events: none;\n        }\n\n        .btn-small:disabled:hover {\n          background: inherit;\n          color: inherit;\n          transform: none;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 64px 32px;\n          color: #6b7280;\n        }\n\n        .empty-icon {\n          font-size: 4rem;\n          margin-bottom: 16px;\n        }\n\n        /* --- Analytics layout --- */\n        .analytics-grid {\n          display: flex;\n          flex-direction: column;\n          gap: 24px;\n        }\n\n        .analytics-cards {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n          gap: 16px;\n        }\n\n        .a-card {\n          background: white;\n          padding: 16px;\n          border-radius: 12px;\n          box-shadow: 0 2px 10px rgba(0,0,0,0.06);\n        }\n\n        .a-card.pos .a-value { color: #059669; }\n        .a-card.neg .a-value { color: #dc2626; }\n\n        .a-title {\n          color: #6b7280;\n          font-weight: 600;\n          font-size: 0.85rem;\n          margin-bottom: 6px;\n          text-transform: uppercase;\n        }\n\n        .a-value {\n          font-weight: 800;\n          font-size: 1.4rem;\n        }\n\n        .a-sub {\n          color: #6b7280;\n          font-size: 0.85rem;\n          margin-top: 6px;\n        }\n\n        .a-panel {\n          background: white;\n          padding: 16px;\n          border-radius: 12px;\n          box-shadow: 0 2px 10px rgba(0,0,0,0.06);\n        }\n\n        .a-panel-title {\n          font-weight: 700;\n          margin-bottom: 10px;\n          color: #111827;\n        }\n\n        .a-columns {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 16px;\n        }\n\n        .mini-table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n\n        .mini-table th, .mini-table td {\n          padding: 10px 8px;\n          border-bottom: 1px solid #f3f4f6;\n          font-size: 0.9rem;\n        }\n\n        .mini-table th {\n          text-align: left;\n          color: #6b7280;\n          font-weight: 700;\n          background: #f9fafb;\n        }\n\n        .mini-table .num {\n          text-align: right;\n          font-family: 'SF Mono', Monaco, 'Roboto Mono', monospace;\n          font-weight: 600;\n        }\n\n        .mini-table .neg { color: #dc2626; }\n        .mini-table .pos { color: #059669; }\n\n        .muted { color: #9ca3af; text-align: center; }\n\n        @media (max-width: 1024px) {\n          .a-columns {\n            grid-template-columns: 1fr;\n          }\n        }\n\n        @media (max-width: 768px) {\n          .income-page {\n            padding: 16px;\n          }\n\n          .page-header {\n            padding: 32px 16px;\n          }\n\n          .page-title {\n            font-size: 2rem;\n          }\n\n          .form-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .projected-actual-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .income-table-container {\n            overflow-x: auto;\n          }\n\n          .income-table {\n            min-width: 800px;\n          }\n        }\n      "}),(0,v.jsxs)("div",{className:"page-header income-page-header",children:[(0,v.jsx)("h1",{className:"page-title",children:"\ud83d\udcb5 Income Management"}),(0,v.jsx)("p",{className:"page-description",children:"Track projected vs actual income with comprehensive analysis"})]}),(0,v.jsxs)("div",{className:"tabs-container",children:[(0,v.jsxs)("div",{className:"tabs-header",role:"tablist","aria-label":"Income Tabs",children:[(0,v.jsx)(M,{id:"overview",label:"\ud83d\udcca Overview",active:"overview"===p,onClick:()=>m("overview")}),(0,v.jsx)(M,{id:"sources",label:"\ud83d\udcb0 Income Sources",active:"sources"===p,onClick:()=>m("sources")}),(0,v.jsx)(M,{id:"analytics",label:"\ud83d\udcc8 Analytics",active:"analytics"===p,onClick:()=>m("analytics")})]}),(0,v.jsxs)("div",{className:"tab-content",role:"tabpanel","aria-labelledby":`tab-${p}`,children:["overview"===p&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"summary-grid",children:[(0,v.jsxs)("div",{className:"summary-card projected",children:[(0,v.jsx)("div",{className:"card-icon",children:"\ud83c\udfaf"}),(0,v.jsx)("div",{className:"card-label",children:"Projected Monthly Income"}),(0,v.jsx)("div",{className:"card-value",children:s(A)}),(0,v.jsxs)("div",{className:"card-subtext",children:["Annual: ",s(12*A)]})]}),(0,v.jsxs)("div",{className:"summary-card actual",children:[(0,v.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),(0,v.jsx)("div",{className:"card-label",children:"Actual Monthly Income"}),(0,v.jsx)("div",{className:"card-value",children:s(C)}),(0,v.jsxs)("div",{className:"card-subtext",children:["Annual: ",s(12*C)]})]}),(0,v.jsxs)("div",{className:"summary-card variance "+(_>=0?"":"negative"),children:[(0,v.jsx)("div",{className:"card-icon",children:_>=0?"\ud83d\udcc8":"\ud83d\udcc9"}),(0,v.jsx)("div",{className:"card-label",children:"Income Variance"}),(0,v.jsx)("div",{className:"card-value",children:s(_)}),(0,v.jsxs)("div",{className:"variance-indicator "+(_>=0?"positive":"negative"),children:[_>=0?"\u2197\ufe0f":"\u2198\ufe0f"," ",D.toFixed(1),"%"]})]}),(0,v.jsxs)("div",{className:"summary-card",children:[(0,v.jsx)("div",{className:"card-icon",children:"\ud83d\udccb"}),(0,v.jsx)("div",{className:"card-label",children:"Income Sources"}),(0,v.jsx)("div",{className:"card-value",children:E.length}),(0,v.jsx)("div",{className:"card-subtext",children:"Active sources"})]})]}),(0,v.jsxs)("div",{className:"page-actions",children:[(0,v.jsxs)("button",{className:"action-button primary",onClick:()=>{d(!0),m("sources"),setTimeout(()=>{const e=document.querySelector(".income-form");e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},children:[(0,v.jsx)("span",{children:"+"})," Add Income Source"]}),(0,v.jsxs)("button",{className:"action-button secondary",onClick:()=>{const e=aL.generatePrintContent(a.data,s);aL.openPrintWindow(e,"Income Report")},children:[(0,v.jsx)("span",{children:"\ud83d\udda8\ufe0f"})," Print Report"]}),(0,v.jsxs)("button",{className:"action-button secondary",onClick:()=>{const e=[["Source","Projected Amount","Actual Amount","Variance","Frequency","Account","Notes"].join(",")];E.forEach(t=>{const n=S(t,"projected"),r=S(t,"actual"),i=r-n,a=[t.name||"",n||0,r||0,i,t.frequency||"monthly",t.account||"",t.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);e.push(a.join(","))});const t=e.join("\n"),n=new Blob([t],{type:"text/csv"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`income-report-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)},children:[(0,v.jsx)("span",{children:"\ud83d\udcc1"})," Export CSV"]})]})]}),"sources"===p&&(0,v.jsxs)(v.Fragment,{children:[c&&(0,v.jsxs)("div",{className:"income-form",children:[(0,v.jsxs)("div",{className:"form-header",children:[(0,v.jsx)("h2",{className:"form-title",children:null!==l?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"editing-indicator",children:"\u270f\ufe0f"}),"Edit Income Source: ",(null===(i=E[l])||void 0===i?void 0:i.name)||"Unknown"]}):"Add New Income Source"}),null!==l&&(0,v.jsxs)("p",{className:"form-subtitle",children:["Currently editing row ",l+1," from the table below"]})]}),(0,v.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=g.name&&""!==g.name.trim(),n=h(g.projectedAmount);if(!t||isNaN(n))return void alert("Please enter a name and a projected amount.");const r=Array.isArray(g.payActuals)?g.payActuals.reduce((e,t)=>e+(h(t)||0),0):0,i=g.actualAmount?h(g.actualAmount):r,a=Array(5).fill(n>0?n/5:0),s=Array(5).fill(i>0?i/5:0),c={...g,projectedAmount:n,actualAmount:i,amount:n,weeks:a,actualWeeks:s,payDates:Array.isArray(g.payDates)?g.payDates:[],payActuals:Array.isArray(g.payActuals)?g.payActuals:[],actualMode:g.actualMode||"per-check",id:null!==l?E[l].id:Date.now().toString()},f=[...E];null!==l?(f[l]=c,u(null)):f.push(c),o.updateIncome(f),j()},children:(0,v.jsxs)("div",{className:"form-grid",children:[(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"income-name",children:"Income Source Name *"}),(0,v.jsx)("input",{id:"income-name",type:"text",className:"form-input",value:g.name,onChange:e=>O("name",e.target.value),placeholder:"e.g., Salary, Freelance, Investment",required:!0})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"income-frequency",children:"Frequency *"}),(0,v.jsx)("select",{id:"income-frequency",className:"form-select",value:g.frequency,onChange:e=>O("frequency",e.target.value),required:!0,children:nL.map(e=>(0,v.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,v.jsxs)("div",{className:"form-group full-width",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"actual-mode",children:"How should Overall Actual be treated?"}),(0,v.jsxs)("div",{id:"actual-mode",role:"radiogroup",style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,v.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,v.jsx)("input",{type:"radio",name:"actualMode",value:"per-check",checked:"per-check"===g.actualMode,onChange:e=>O("actualMode",e.target.value)}),(0,v.jsx)("span",{children:"Per-paycheck (multiply by # of checks)"})]}),(0,v.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,v.jsx)("input",{type:"radio",name:"actualMode",value:"monthly-total",checked:"monthly-total"===g.actualMode,onChange:e=>O("actualMode",e.target.value)}),(0,v.jsx)("span",{children:"Monthly total (don\u2019t multiply)"})]})]}),(0,v.jsx)("small",{style:{color:"#6b7280"},children:"Tip: If you record each pay in \u201cPay dates + actuals\u201d, this setting is ignored and the per-date amounts are summed."})]}),rL(g.frequency)>0&&(0,v.jsxs)("div",{className:"form-group full-width",children:[(0,v.jsx)("label",{className:"form-label",children:"bi-weekly"===g.frequency?"Paycheque Dates (Bi-Weekly)":"weekly"===g.frequency?"Pay Dates (Weekly)":"Pay Date"}),(0,v.jsx)("div",{className:"projected-actual-grid",children:Array.from({length:rL(g.frequency)}).map((e,t)=>{var n,i,a;return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)("input",{type:"date",className:"form-input",value:(null===(n=g.payDates)||void 0===n?void 0:n[t])||"",onChange:e=>{const n=[...g.payDates||[]];n[t]=e.target.value,y(e=>({...e,payDates:n}))}}),(0,v.jsx)("input",{type:"number",step:"0.01",min:"0",inputMode:"decimal",className:"form-input",placeholder:"Actual $ for this date",value:null!==(i=null===(a=g.payActuals)||void 0===a?void 0:a[t])&&void 0!==i?i:"",onChange:e=>{const n=[...g.payActuals||[]];n[t]=e.target.value,y(e=>({...e,payActuals:n}))}})]},`payrow-${t}`)})}),(0,v.jsx)("small",{style:{color:"#6b7280"},children:"Optional: record each pay date and the actual amount received on that date."})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label",children:"Projected Amount - per pay *"}),(0,v.jsx)("input",{type:"number",step:"0.01",min:"0",className:"form-input",value:g.projectedAmount,onChange:e=>O("projectedAmount",e.target.value),placeholder:"0.00",required:!0})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label",htmlFor:"income-account",children:"Account *"}),(0,v.jsxs)("select",{id:"income-account",className:"form-select",value:g.account,onChange:e=>O("account",e.target.value),required:!0,children:[0===N.length&&(0,v.jsx)("option",{value:"",children:"No accounts found"}),N.map(e=>(0,v.jsx)("option",{value:e,children:e},e))]})]}),(0,v.jsxs)("div",{className:"form-actions full-width",children:[(0,v.jsx)("button",{type:"submit",className:"action-button primary",children:null!==l?"Save Edits":"Add Income"}),(0,v.jsx)("button",{type:"button",className:"action-button secondary",onClick:j,children:"Cancel"})]})]})})]}),(0,v.jsx)("div",{className:"income-table-container",children:0===E.length?(0,v.jsxs)("div",{className:"empty-state",children:[(0,v.jsx)("div",{className:"empty-icon",children:"\ud83d\udcb0"}),(0,v.jsx)("h3",{children:"No Income Sources"}),(0,v.jsx)("p",{children:"Add your first income source to start tracking your budget."}),(0,v.jsx)("button",{className:"action-button primary",onClick:()=>{d(!0),setTimeout(()=>{const e=document.querySelector(".income-form");e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},children:"Add Income Source"})]}):(0,v.jsxs)("table",{className:"income-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Source"}),(0,v.jsx)("th",{children:"Projected"}),(0,v.jsx)("th",{children:"Actual"}),(0,v.jsx)("th",{children:"Variance"}),(0,v.jsx)("th",{children:"Frequency"}),(0,v.jsx)("th",{children:"Account"}),(0,v.jsx)("th",{children:"Actions"})]})}),(0,v.jsx)("tbody",{children:E.map((e,t)=>{const n=S(e,"projected"),r=S(e,"actual"),i=r-n;return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{className:"source-name",children:e.name}),(0,v.jsx)("td",{className:"amount-cell",children:(0,v.jsx)("span",{className:"amount projected",children:s(n)})}),(0,v.jsx)("td",{className:"amount-cell",children:(0,v.jsx)("span",{className:"amount actual",children:s(r)})}),(0,v.jsx)("td",{className:"variance-cell",children:(0,v.jsx)("span",{className:"variance "+(i>=0?"positive":"negative"),children:s(i)})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"frequency-badge",children:e.frequency})}),(0,v.jsx)("td",{children:e.account}),(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"action-buttons",children:[(0,v.jsx)("button",{className:"btn-small edit-btn "+(l===t?"editing":""),onClick:()=>(e=>{var t,n,r;const i=E[e];y({name:i.name||"",projectedAmount:(null===(t=i.projectedAmount)||void 0===t?void 0:t.toString())||"",actualAmount:(null===(n=i.actualAmount)||void 0===n?void 0:n.toString())||"",frequency:i.frequency||"monthly",account:i.account||(null!==(r=N[0])&&void 0!==r?r:""),notes:i.notes||"",weeks:Array.isArray(i.weeks)?i.weeks:Array(5).fill(0),actualWeeks:Array.isArray(i.actualWeeks)?i.actualWeeks:Array(5).fill(0),payDates:Array.isArray(i.payDates)?i.payDates:[],payActuals:Array.isArray(i.payActuals)?i.payActuals:[],actualMode:i.actualMode||"per-check"}),u(e),d(!0),m("sources"),setTimeout(()=>{const e=document.querySelector(".income-form");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)})(t),disabled:null!==l&&l!==t,children:l===t?"Editing...":"Edit"}),(0,v.jsx)("button",{className:"btn-small delete-btn",onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this income source?")){const t=E.filter((t,n)=>n!==e);o.updateIncome(t)}})(t),disabled:null!==l,children:"Delete"})]})})]},e.id||t)})}),(0,v.jsx)("tfoot",{children:(0,v.jsxs)("tr",{style:{background:"#f9fafb"},children:[(0,v.jsx)("td",{children:(0,v.jsx)("strong",{children:"Monthly Totals"})}),(0,v.jsx)("td",{children:(0,v.jsx)("strong",{className:"amount projected",children:s(A)})}),(0,v.jsx)("td",{children:(0,v.jsx)("strong",{className:"amount actual",children:s(C)})}),(0,v.jsx)("td",{children:(0,v.jsx)("strong",{className:"variance "+(_>=0?"positive":"negative"),children:s(_)})}),(0,v.jsx)("td",{colSpan:"3"})]})})]})})]}),"analytics"===p&&(0,v.jsxs)("div",{className:"analytics-grid",children:[(0,v.jsxs)("div",{className:"analytics-cards",children:[(0,v.jsxs)("div",{className:"a-card",children:[(0,v.jsx)("div",{className:"a-title",children:"Projected (This Month)"}),(0,v.jsx)("div",{className:"a-value",children:s(A)})]}),(0,v.jsxs)("div",{className:"a-card",children:[(0,v.jsx)("div",{className:"a-title",children:"Actual (This Month)"}),(0,v.jsx)("div",{className:"a-value",children:s(C)})]}),(0,v.jsxs)("div",{className:"a-card "+(_<0?"neg":"pos"),children:[(0,v.jsx)("div",{className:"a-title",children:"Variance"}),(0,v.jsx)("div",{className:"a-value",children:s(_)}),(0,v.jsxs)("div",{className:"a-sub",children:[(A>0?_/A*100:0).toFixed(1),"%"]})]})]}),(0,v.jsxs)("div",{className:"a-panel",children:[(0,v.jsx)("div",{className:"a-panel-title",children:"Projected vs Actual by Source (Current Month)"}),(0,v.jsx)(iL,{data:k.chart,width:900,height:320,topN:8,sortBy:"projected",currencyFormatter:s})]}),(0,v.jsxs)("div",{className:"a-columns",children:[(0,v.jsxs)("div",{className:"a-panel",children:[(0,v.jsx)("div",{className:"a-panel-title",children:"Biggest Shortfalls"}),(0,v.jsxs)("table",{className:"mini-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Source"}),(0,v.jsx)("th",{children:"Projected"}),(0,v.jsx)("th",{children:"Actual"}),(0,v.jsx)("th",{children:"Variance"})]})}),(0,v.jsxs)("tbody",{children:[0===k.topNegative.length&&(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"4",className:"muted",children:"No data"})}),k.topNegative.map(e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:e.name}),(0,v.jsx)("td",{className:"num",children:s(e.projected)}),(0,v.jsx)("td",{className:"num",children:s(e.actual)}),(0,v.jsx)("td",{className:"num "+(e.variance<0?"neg":"pos"),children:s(e.variance)})]},`neg-${e.id||e.name}`))]})]})]}),(0,v.jsxs)("div",{className:"a-panel",children:[(0,v.jsx)("div",{className:"a-panel-title",children:"Biggest Overages"}),(0,v.jsxs)("table",{className:"mini-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Source"}),(0,v.jsx)("th",{children:"Projected"}),(0,v.jsx)("th",{children:"Actual"}),(0,v.jsx)("th",{children:"Variance"})]})}),(0,v.jsxs)("tbody",{children:[0===k.topPositive.length&&(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"4",className:"muted",children:"No data"})}),k.topPositive.map(e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:e.name}),(0,v.jsx)("td",{className:"num",children:s(e.projected)}),(0,v.jsx)("td",{className:"num",children:s(e.actual)}),(0,v.jsx)("td",{className:"num "+(e.variance<0?"neg":"pos"),children:s(e.variance)})]},`pos-${e.id||e.name}`))]})]})]})]}),(0,v.jsxs)("div",{className:"a-panel",children:[(0,v.jsx)("div",{className:"a-panel-title",children:"Actual Income by Account"}),(0,v.jsxs)("table",{className:"mini-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Account"}),(0,v.jsx)("th",{className:"num",children:"Actual (This Month)"})]})}),(0,v.jsxs)("tbody",{children:[0===k.byAccount.length&&(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"2",className:"muted",children:"No data"})}),k.byAccount.map(e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:e.account}),(0,v.jsx)("td",{className:"num",children:s(e.actual)})]},`acct-${e.account}`))]})]})]})]})]})]}),(0,v.jsxs)("div",{className:"income-help-section",style:{marginTop:"40px",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[(0,v.jsx)("h3",{style:{marginBottom:"10px",fontSize:"1.25rem",fontWeight:"600"},children:"\ud83d\udcd8 Income Overview \u2013 Help & Definitions"}),(0,v.jsxs)("ul",{style:{lineHeight:"1.6",fontSize:"0.95rem",color:"#374151"},children:[(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Projected Monthly Income:"})," The total amount you expect to earn each month from all income sources. Annual value = monthly \xd7 12."]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Actual Monthly Income:"})," The total income you have actually received this month. Annual value = monthly \xd7 12."]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Income Variance:"})," The difference between actual and projected income. Negative means under target, positive means over target."]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Income Sources:"})," The number of active income sources you\u2019ve added to your budget."]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Per-paycheck (multiply by # of checks):"})," Enter the amount of a single paycheck in \u201cActual Amount\u201d and the system multiplies it by how many paychecks you get in that month (based on frequency). Example: $2,737.49 \xd7 3 paychecks = $8,212.47 for the month."]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("strong",{children:"Monthly total (don\u2019t multiply):"})," Enter the total for the month directly \u2014 the system does not multiply it. Example: Entering $2,737.49 means that\u2019s the full month\u2019s total, even if you had multiple paychecks."]}),(0,v.jsxs)("li",{children:[(0,v.jsx)("em",{children:"Tip:"})," If you fill in \u201cPay dates + actuals\u201d for each paycheck, the above setting is ignored and the monthly total is simply the sum of those amounts."]})]})]})]})},sL=(0,r.forwardRef)((e,t)=>{let{type:n="text",className:r="",error:i,helperText:a,label:o,required:s=!1,disabled:l=!1,...u}=e;const c=["form-input",i?"input-error":"",l?"input-disabled":"",r].filter(Boolean).join(" ");return(0,v.jsxs)("div",{className:"input-container",children:[o&&(0,v.jsxs)("label",{className:"input-label",children:[o,s&&(0,v.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,v.jsx)("input",{ref:t,type:n,className:c,disabled:l,...u}),i&&(0,v.jsx)("div",{className:"input-error-message",children:i}),a&&!i&&(0,v.jsx)("div",{className:"input-helper-text",children:a})]})});sL.displayName="Input";const lL=sL,uL=()=>{const{state:e,actions:t,formatCurrency:n}=q(),[i,a]=(0,r.useState)(null),[o,s]=(0,r.useState)({name:"",bank:"",transitNumber:"",branchNumber:"",accountNumber:"",currentBalance:""}),l=Array.isArray(e.data.accounts)?e.data.accounts:[],u=l.length,c=l.reduce((e,t)=>e+(parseFloat(t.currentBalance)||0),0),f=l.filter(e=>(parseFloat(e.currentBalance)||0)>0).length,d=(e,t)=>{s(n=>({...n,[e]:t}))},p=()=>{s({name:"",bank:"",transitNumber:"",branchNumber:"",accountNumber:"",currentBalance:""}),a(null)},h=e=>{if(!e)return"****";const t=e.toString();return t.length>4?`****${t.slice(-4)}`:t};return(0,v.jsxs)("div",{className:"accounts-manager-container",children:[(0,v.jsxs)("div",{className:"accounts-stats-grid",children:[(0,v.jsxs)("div",{className:"account-stat-card",children:[(0,v.jsx)("div",{className:"stat-icon stat-icon-primary",children:"\ud83d\udcb3"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-value",children:u}),(0,v.jsx)("div",{className:"stat-label",children:"Total Accounts"})]})]}),(0,v.jsxs)("div",{className:"account-stat-card",children:[(0,v.jsx)("div",{className:"stat-icon stat-icon-success",children:"\ud83d\udcb0"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-value",children:n(c)}),(0,v.jsx)("div",{className:"stat-label",children:"Total Balance"})]})]}),(0,v.jsxs)("div",{className:"account-stat-card",children:[(0,v.jsx)("div",{className:"stat-icon stat-icon-warning",children:"\u2705"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-value",children:f}),(0,v.jsx)("div",{className:"stat-label",children:"Active Accounts"})]})]})]}),(0,v.jsxs)("div",{className:"add-account-section",children:[(0,v.jsxs)("div",{className:"add-account-header",children:[(0,v.jsxs)("h3",{className:"add-account-title",children:[(0,v.jsx)("span",{className:"add-account-icon",children:"\u2795"}),i?"Edit Account":"Add New Account"]}),(0,v.jsx)("p",{className:"add-account-subtitle",children:i?"Update your account information below":"Connect your bank accounts to track expenses and manage transfers"})]}),(0,v.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=["name","bank","transitNumber","branchNumber","accountNumber"];for(const t of n)if(!o[t].trim())return void alert(`Please fill in the ${t.replace(/([A-Z])/g," $1").toLowerCase()}`);const r={...o,currentBalance:parseFloat(o.currentBalance)||0,id:(null===i||void 0===i?void 0:i.id)||Date.now().toString()};i?t.updateAccount(r):t.addAccount(r),p()},className:"add-account-form",children:[(0,v.jsxs)("div",{className:"form-grid",children:[(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label-white",children:"Account Name"}),(0,v.jsx)(lL,{type:"text",value:o.name,onChange:e=>d("name",e.target.value),placeholder:"e.g., Primary Checking",required:!0,className:"input-white"})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label-white",children:"Bank Name"}),(0,v.jsx)(lL,{type:"text",value:o.bank,onChange:e=>d("bank",e.target.value),placeholder:"e.g., TD Bank",required:!0,className:"input-white"})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label-white",children:"Transit Number"}),(0,v.jsx)(lL,{type:"text",value:o.transitNumber,onChange:e=>d("transitNumber",e.target.value),placeholder:"e.g., 12345",required:!0,className:"input-white"})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label-white",children:"Branch Number"}),(0,v.jsx)(lL,{type:"text",value:o.branchNumber,onChange:e=>d("branchNumber",e.target.value),placeholder:"e.g., 67890",required:!0,className:"input-white"})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label-white",children:"Account Number"}),(0,v.jsx)(lL,{type:"text",value:o.accountNumber,onChange:e=>d("accountNumber",e.target.value),placeholder:"e.g., 9876543210",required:!0,className:"input-white"})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{className:"form-label-white",children:"Current Balance (Optional)"}),(0,v.jsx)(lL,{type:"number",step:"0.01",value:o.currentBalance,onChange:e=>d("currentBalance",e.target.value),placeholder:"0.00",className:"input-white"})]})]}),(0,v.jsxs)("div",{className:"form-actions",children:[i&&(0,v.jsx)(K,{type:"button",variant:"secondary",onClick:p,className:"btn-white-outline",children:"Cancel"}),(0,v.jsx)(K,{type:"submit",variant:"primary",className:"btn-white",children:i?"Update Account":"Add Account"})]})]})]}),(0,v.jsxs)(Gz,{children:[(0,v.jsx)("div",{className:"card-header",children:(0,v.jsxs)("div",{children:[(0,v.jsxs)("h3",{className:"card-title",children:[(0,v.jsx)("span",{className:"accounts-list-icon",children:"\ud83c\udfe2"}),"Your Accounts"]}),(0,v.jsx)("p",{className:"card-subtitle",children:"Manage your connected bank accounts and view balances"})]})}),(0,v.jsx)("div",{className:"card-content",children:0===l.length?(0,v.jsxs)("div",{className:"accounts-empty-state",children:[(0,v.jsx)("div",{className:"empty-state-icon",children:"\ud83d\udcb3"}),(0,v.jsx)("h4",{className:"empty-state-title",children:"No accounts added yet"}),(0,v.jsx)("p",{className:"empty-state-text",children:"Add your first bank account to get started with expense tracking."})]}):(0,v.jsx)("div",{className:"accounts-list",children:l.map(e=>(0,v.jsxs)("div",{className:"account-item",children:[(0,v.jsxs)("div",{className:"account-header",children:[(0,v.jsxs)("div",{className:"account-info",children:[(0,v.jsxs)("div",{className:"account-name",children:[(0,v.jsx)("span",{className:"account-icon",children:"\ud83d\udcb3"}),e.name]}),(0,v.jsxs)("div",{className:"account-bank",children:[e.bank," - Banking Account"]})]}),(0,v.jsxs)("div",{className:"account-actions",children:[(0,v.jsx)(K,{variant:"secondary",size:"sm",onClick:()=>(e=>{var t;s({name:e.name||"",bank:e.bank||"",transitNumber:e.transitNumber||"",branchNumber:e.branchNumber||"",accountNumber:e.accountNumber||"",currentBalance:(null===(t=e.currentBalance)||void 0===t?void 0:t.toString())||""}),a(e)})(e),className:"account-btn-edit",children:"\u270f\ufe0f Edit"}),(0,v.jsx)(K,{variant:"danger",size:"sm",onClick:()=>{return n=e.id,void(window.confirm("Are you sure you want to delete this account? This action cannot be undone.")&&t.removeAccount(n));var n},className:"account-btn-delete",children:"\ud83d\uddd1\ufe0f Delete"})]})]}),(0,v.jsxs)("div",{className:"account-details-grid",children:[(0,v.jsxs)("div",{className:"account-detail",children:[(0,v.jsx)("div",{className:"detail-label",children:"Transit"}),(0,v.jsx)("div",{className:"detail-value",children:e.transitNumber})]}),(0,v.jsxs)("div",{className:"account-detail",children:[(0,v.jsx)("div",{className:"detail-label",children:"Branch"}),(0,v.jsx)("div",{className:"detail-value",children:e.branchNumber})]}),(0,v.jsxs)("div",{className:"account-detail",children:[(0,v.jsx)("div",{className:"detail-label",children:"Account"}),(0,v.jsx)("div",{className:"detail-value",children:h(e.accountNumber)})]}),(0,v.jsxs)("div",{className:"account-detail",children:[(0,v.jsx)("div",{className:"detail-label",children:"Type"}),(0,v.jsx)("div",{className:"detail-value",children:"Banking"})]})]}),void 0!==e.currentBalance&&(0,v.jsxs)("div",{className:"account-balance",children:[(0,v.jsx)("span",{className:"balance-label",children:"Current Balance"}),(0,v.jsx)("span",{className:"balance-amount",children:n(parseFloat(e.currentBalance)||0)})]})]},e.id))})})]})]})},cL={housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts"},fL=()=>{const{state:e,actions:t,calculations:n,formatCurrency:i}=q(),[a,o]=(0,r.useState)(!0),[s,l]=(0,r.useState)(1),u=(t,n)=>{var r,i;const a=null===(r=e.data.plannerState)||void 0===r?void 0:r[t];return(null===a||void 0===a||null===(i=a[n])||void 0===i?void 0:i[s-1])||!1};(0,r.useEffect)(()=>{e.data.monthly&&Object.keys(e.data.monthly).length>0&&t.autoPopulatePlanner()},[e.data.monthly]);const c=(n,r,i,a)=>{const o=(e.data.monthly[n]||[])[r]||{},s={...o,[i]:"actual"===i||"projected"===i?parseFloat(a)||0:a,id:o.id||`${n}-${Date.now()}-${r}`};t.updateMonthlyExpense(n,s,r),"actual"===i&&s.name&&setTimeout(()=>{t.distributeMonthlyToWeekly(s.name,s.actual,s.date)},100)},f=(n,r,i,a)=>{const o=(e.data.monthly[n]||[])[r]||{},l={...o,[i]:a,id:o.id||`${n}-${Date.now()}-${r}`};t.updateMonthlyExpense(n,l,r),o.name&&t.updateExpenseStatus(l.id,o.name,s-1,i,a,"monthly")};return(0,v.jsxs)("div",{style:{padding:"20px",backgroundColor:"#fff",minHeight:"100vh",fontFamily:"Arial, sans-serif"},children:[(0,v.jsx)("style",{children:"\n        .monthly-expenses-page {\n          padding: 20px;\n          background-color: #fff;\n          min-height: 100vh;\n        }\n\n        .page-title {\n          color: #2c3e50;\n          margin-bottom: 20px;\n          font-size: 1.8rem;\n          font-weight: 600;\n        }\n\n        .page-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          border: 1px solid #dee2e6;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .toggle-container {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .toggle-label {\n          font-weight: 500;\n        }\n\n        .action-controls {\n          display: flex;\n          gap: 10px;\n          flex-wrap: wrap;\n        }\n\n        .current-week-selector {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n          padding: 10px;\n          background-color: #e3f2fd;\n          border-radius: 6px;\n          border: 1px solid #2196f3;\n        }\n\n        .week-select {\n          padding: 5px 10px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 0.9rem;\n        }\n\n        .category {\n          margin-bottom: 30px;\n          border: 1px solid #dee2e6;\n          border-radius: 8px;\n          overflow: hidden;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n\n        .category-header {\n          background-color: #007bff;\n          color: white;\n          padding: 15px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .category-name {\n          font-size: 1.1rem;\n          font-weight: 600;\n        }\n\n        .category-controls {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n\n        .category-total {\n          font-size: 1.1rem;\n          font-weight: bold;\n        }\n\n        .add-item-btn {\n          background-color: rgba(255,255,255,0.2);\n          border: 1px solid rgba(255,255,255,0.3);\n          color: white;\n          padding: 5px 10px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: bold;\n        }\n\n        .add-item-btn:hover {\n          background-color: rgba(255,255,255,0.3);\n        }\n\n        .subcategory-header {\n          display: flex;\n          background-color: #f8f9fa;\n          padding: 10px;\n          font-weight: 600;\n          font-size: 0.9rem;\n          color: #495057;\n          border-bottom: 1px solid #dee2e6;\n        }\n\n        .header-date {\n          width: 120px;\n        }\n\n        .header-name {\n          flex: 2;\n        }\n\n        .header-status {\n          width: 120px;\n          text-align: center;\n        }\n\n        .header-amounts {\n          width: 200px;\n          display: flex;\n          justify-content: space-between;\n        }\n\n        .subcategory-list {\n          background-color: #fff;\n        }\n\n        .subcategory {\n          display: flex;\n          align-items: center;\n          padding: 10px;\n          border-bottom: 1px solid #f0f0f0;\n          gap: 10px;\n        }\n\n        .subcategory:hover {\n          background-color: #f8f9fa;\n        }\n\n        .date-input {\n          width: 120px;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n        }\n\n        .expense-name-input {\n          flex: 2;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n        }\n\n        .account-select {\n          width: 120px;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n          background-color: #fff;\n        }\n\n        .status-control-group {\n          width: 120px;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 5px;\n        }\n\n        .transfer-status-select {\n          width: 80px;\n          padding: 2px 4px;\n          border: 1px solid #dee2e6;\n          border-radius: 3px;\n          font-size: 0.8rem;\n          background-color: #fff;\n        }\n\n        .status-none {\n          background-color: #fff;\n        }\n\n        .status-quarter {\n          background-color: #fff3cd;\n        }\n\n        .status-half {\n          background-color: #d4edda;\n        }\n\n        .status-full {\n          background-color: #cce5ff;\n        }\n\n        .status-paid {\n          background-color: #d1ecf1 !important;\n          border-color: #bee5eb !important;\n        }\n\n        .expense-status-checkboxes {\n          display: flex;\n          gap: 5px;\n        }\n\n        .status-checkbox-label {\n          display: flex;\n          align-items: center;\n          gap: 2px;\n          font-size: 0.8rem;\n          cursor: pointer;\n        }\n\n        .checkbox-label {\n          font-weight: bold;\n        }\n\n        .transferred-checkbox:checked {\n          accent-color: #ffc107;\n        }\n\n        .paid-checkbox:checked {\n          accent-color: #28a745;\n        }\n\n        .amount-input-group {\n          width: 200px;\n          display: flex;\n          align-items: center;\n          gap: 5px;\n        }\n\n        .amount-input {\n          width: 80px;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n          text-align: right;\n        }\n\n        .amount-input.has-value {\n          background-color: #e8f5e8;\n          border-color: #28a745;\n          font-weight: 600;\n          color: #155724;\n        }\n\n        .copy-to-actual-btn {\n          background-color: #007bff;\n          border: none;\n          color: white;\n          padding: 4px 8px;\n          border-radius: 3px;\n          cursor: pointer;\n          font-size: 0.8rem;\n        }\n\n        .copy-to-actual-btn:hover {\n          background-color: #0056b3;\n        }\n\n        .item-delete-btn {\n          background-color: #dc3545;\n          border: none;\n          color: white;\n          padding: 4px 8px;\n          border-radius: 3px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          width: 30px;\n        }\n\n        .item-delete-btn:hover {\n          background-color: #c82333;\n        }\n\n        .total {\n          font-size: 1.2rem;\n          font-weight: bold;\n          text-align: center;\n          padding: 20px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          margin: 20px 0;\n        }\n\n        .page-actions {\n          text-align: center;\n          margin: 20px 0;\n        }\n\n        .btn {\n          padding: 8px 16px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          margin: 0 5px;\n          transition: background-color 0.2s;\n        }\n\n        .btn-primary {\n          background-color: #007bff;\n          color: white;\n        }\n\n        .btn-primary:hover {\n          background-color: #0056b3;\n        }\n\n        .btn-secondary {\n          background-color: #6c757d;\n          color: white;\n        }\n\n        .btn-secondary:hover {\n          background-color: #545b62;\n        }\n\n        .btn-success {\n          background-color: #28a745;\n          color: white;\n        }\n\n        .btn-success:hover {\n          background-color: #1e7e34;\n        }\n\n        .btn-danger {\n          background-color: #dc3545;\n          color: white;\n        }\n\n        .btn-danger:hover {\n          background-color: #c82333;\n        }\n\n        .hidden {\n          display: none !important;\n        }\n\n        .weekly-sync-indicator {\n          margin-top: 20px;\n          padding: 15px;\n          background-color: #e3f2fd;\n          border-radius: 8px;\n          border: 1px solid #2196f3;\n        }\n\n        .weekly-sync-indicator h4 {\n          margin: 0 0 10px 0;\n          color: #1976d2;\n        }\n\n        .sync-info {\n          font-size: 0.9rem;\n          color: #1565c0;\n        }\n\n        @media (max-width: 768px) {\n          .page-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          \n          .subcategory {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 10px;\n          }\n\n          .subcategory-header {\n            display: none;\n          }\n\n          .amount-input-group {\n            width: 100%;\n            justify-content: space-between;\n          }\n        }\n      "}),(0,v.jsx)("h2",{className:"page-title",children:"\ud83d\udcb3 Monthly Expenses"}),(0,v.jsxs)("div",{className:"current-week-selector",children:[(0,v.jsx)("label",{children:(0,v.jsx)("strong",{children:"Weekly Planner Sync - Current Week:"})}),(0,v.jsxs)("select",{value:s,onChange:e=>l(parseInt(e.target.value)),className:"week-select",children:[(0,v.jsx)("option",{value:1,children:"Week 1"}),(0,v.jsx)("option",{value:2,children:"Week 2"}),(0,v.jsx)("option",{value:3,children:"Week 3"}),(0,v.jsx)("option",{value:4,children:"Week 4"}),(0,v.jsx)("option",{value:5,children:"Week 5"})]}),(0,v.jsx)("span",{style:{fontSize:"0.9rem",color:"#666"},children:"Status changes will sync with this week in the weekly planner"})]}),(0,v.jsxs)("div",{className:"page-controls",children:[(0,v.jsx)("div",{className:"toggle-container",children:(0,v.jsxs)("label",{className:"toggle-label",children:[(0,v.jsx)("input",{type:"checkbox",checked:a,onChange:e=>o(e.target.checked)}),"Show Zero-Value Items"]})}),(0,v.jsxs)("div",{className:"action-controls",children:[(0,v.jsx)("button",{className:"btn btn-secondary",onClick:()=>{window.confirm("Reset all projected amounts to $0.00?")&&Object.keys(e.data.monthly||{}).forEach(t=>{(e.data.monthly[t]||[]).forEach((e,n)=>{e.name&&c(t,n,"projected",0)})})},children:"Reset Funding"}),(0,v.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Reset all payment and transfer statuses?")&&Object.keys(e.data.monthly||{}).forEach(t=>{(e.data.monthly[t]||[]).forEach((e,n)=>{e.name&&(c(t,n,"paid",!1),c(t,n,"transferred",!1),c(t,n,"transferStatus","none"))})})},children:"Reset Statuses"}),(0,v.jsx)("button",{className:"btn btn-success",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Data"})]})]}),(0,v.jsxs)("div",{id:"monthly-expense-categories",children:[Object.entries(e.data.monthly||{}).map(n=>{let[r,o]=n;const s=cL[r]||r,l=(t=>(e.data.monthly[t]||[]).reduce((e,t)=>e+(parseFloat(t.actual)||0),0))(r);return(0,v.jsxs)("div",{className:"category","data-category":r,children:[(0,v.jsxs)("div",{className:"category-header",children:[(0,v.jsx)("span",{className:"category-name",children:s}),(0,v.jsxs)("div",{className:"category-controls",children:[(0,v.jsx)("span",{className:"category-total",children:i(l)}),(0,v.jsx)("button",{className:"add-item-btn",onClick:()=>(n=>{const r=e.data.monthly[n]||[],i={id:`${n}-${Date.now()}`,name:"",actual:0,projected:0,date:"",accountId:"",paid:!1,transferred:!1,transferStatus:"none"};t.updateMonthlyExpense(n,i,r.length)})(r),children:"+"}),(0,v.jsx)("button",{className:"remove-category-btn",onClick:()=>(e=>{window.confirm(`Remove category "${e}"?`)&&t.removeMonthlyCategory(e)})(r),title:"Delete Category",children:"\xd7"})]})]}),(0,v.jsxs)("div",{className:"subcategory-header",children:[(0,v.jsx)("span",{className:"header-date",children:"Date"}),(0,v.jsx)("span",{className:"header-name",children:"Expense Name"}),(0,v.jsx)("span",{style:{width:"120px",textAlign:"center"},children:"Account"}),(0,v.jsx)("span",{className:"header-status",children:"Status"}),(0,v.jsxs)("div",{className:"header-amounts",children:[(0,v.jsx)("span",{children:"Projected"}),(0,v.jsx)("span",{children:"Actual"})]}),(0,v.jsx)("span",{style:{width:"30px"}})]}),(0,v.jsx)("div",{className:"subcategory-list",children:o.map((n,i)=>{var o,s;const l=parseFloat(n.actual||0),d=parseFloat(n.projected||0);return a||l>0||n.name?(0,v.jsxs)("div",{className:"subcategory","data-expense-id":n.id,children:[(0,v.jsx)("input",{type:"date",className:"date-input",value:n.date||"",onChange:e=>c(r,i,"date",e.target.value)}),(0,v.jsx)("input",{className:"expense-name-input",value:n.name||"",placeholder:"Expense name",onChange:e=>c(r,i,"name",e.target.value)}),(0,v.jsxs)("select",{className:"account-select",value:n.accountId||"",onChange:e=>c(r,i,"accountId",e.target.value),children:[(0,v.jsx)("option",{value:"",children:"Select Account"}),(Array.isArray(e.data.accounts)?e.data.accounts:[]).map(e=>(0,v.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,v.jsxs)("div",{className:"status-control-group",children:[(0,v.jsxs)("select",{className:`transfer-status-select status-${n.transferStatus||"none"}${n.paid?" status-paid":""}`,value:n.transferStatus||"none",onChange:e=>c(r,i,"transferStatus",e.target.value),children:[(0,v.jsx)("option",{value:"none",children:"--"}),(0,v.jsx)("option",{value:"quarter",children:"\xbc"}),(0,v.jsx)("option",{value:"half",children:"\xbd"}),(0,v.jsx)("option",{value:"full",children:"Full"})]}),(0,v.jsxs)("div",{className:"expense-status-checkboxes",children:[(0,v.jsxs)("label",{className:"status-checkbox-label",children:[(0,v.jsx)("input",{type:"checkbox",className:"transferred-checkbox",checked:u(n.name,"transferred"),onChange:e=>f(r,i,"transferred",e.target.checked)}),(0,v.jsx)("span",{className:"checkbox-label",children:"T"})]}),(0,v.jsxs)("label",{className:"status-checkbox-label",children:[(0,v.jsx)("input",{type:"checkbox",className:"paid-checkbox",checked:u(n.name,"paid"),onChange:e=>f(r,i,"paid",e.target.checked)}),(0,v.jsx)("span",{className:"checkbox-label",children:"P"})]})]})]}),(0,v.jsxs)("div",{className:"amount-input-group",children:[(0,v.jsx)("input",{type:"number",className:"amount-input projected-input "+(d>0?"has-value":""),value:null!==(o=n.projected)&&void 0!==o?o:"",step:"0.01",placeholder:"Projected",onChange:e=>c(r,i,"projected",e.target.value)}),(0,v.jsx)("button",{className:"copy-to-actual-btn",onClick:()=>((t,n)=>{const r=(e.data.monthly[t]||[])[n]||{};c(t,n,"actual",r.projected||0)})(r,i),title:"Copy Projected to Actual",children:"\u2192"}),(0,v.jsx)("input",{type:"number",className:"amount-input actual-input "+(l>0?"has-value":""),value:null!==(s=n.actual)&&void 0!==s?s:"",step:"0.01",placeholder:"Actual",onChange:e=>c(r,i,"actual",e.target.value)})]}),(0,v.jsx)("button",{className:"item-delete-btn",onClick:()=>((e,n)=>{t.removeMonthlyExpense(e,n)})(r,i),title:"Delete Expense",children:"\xd7"})]},i):null})})]},r)}),(0,v.jsx)("div",{className:"add-category-wrapper",children:(0,v.jsx)("button",{className:"add-category-btn",onClick:()=>{const n=prompt("Enter new category name");n&&!e.data.monthly[n]&&t.addMonthlyCategory(n)},children:"Add Category"})})]}),(0,v.jsxs)("div",{className:"page-actions",children:[(0,v.jsx)("button",{className:"btn btn-secondary",onClick:()=>(()=>{const t=Zz.generatePrintContent(e.data,n,i);Zz.openPrintWindow(t,"Monthly Expenses Report")})(),children:"\ud83d\udda8\ufe0f Print this Page"}),(0,v.jsx)("button",{className:"btn btn-primary",children:"\ud83d\udcc1 Export Monthly CSV"})]}),(0,v.jsxs)("div",{className:"total",children:["Total Monthly Expenses: ",i(n.getTotalMonthlyExpenses())]}),(0,v.jsxs)("div",{className:"weekly-sync-indicator",children:[(0,v.jsx)("h4",{children:"\ud83d\udcca Weekly Planner Integration"}),(0,v.jsxs)("div",{className:"sync-info",children:["\u2022 Monthly expenses automatically populate the weekly planner",(0,v.jsx)("br",{}),"\u2022 Status changes (Paid/Transferred) sync with Week ",s," in the weekly planner",(0,v.jsx)("br",{}),"\u2022 Due dates determine which week expenses are planned for",(0,v.jsx)("br",{}),"\u2022 Changes here update the weekly planner in real-time"]})]}),(0,v.jsx)(uL,{})]})},dL={"yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car Expenses","yearly-bank":"Yearly Banking","yearly-insurance":"Yearly Insurance","yearly-tax":"Yearly Tax Expenses","yearly-medical":"Yearly Medical","yearly-home":"Yearly Home/Property","yearly-personal":"Yearly Personal"},pL=()=>{const{state:e,actions:t,calculations:n,formatCurrency:i}=q(),[a,o]=(0,r.useState)(1),s=(t,n)=>{var r,i;const o=null===(r=e.data.plannerState)||void 0===r?void 0:r[t];return(null===o||void 0===o||null===(i=o[n])||void 0===i?void 0:i[a-1])||!1};(0,r.useEffect)(()=>{e.data.annual&&Object.keys(e.data.annual).length>0&&t.autoPopulatePlanner()},[e.data.annual]);const l=(n,r,i,a)=>{const o=(e.data.annual[n]||[])[r]||{},s={...o,[i]:"actual"===i||"projected"===i?parseFloat(a)||0:a,id:o.id||`${n}-${Date.now()}-${r}`};if(t.updateAnnualExpense(n,s,r),"actual"===i&&s.name){const e=s.actual/12;setTimeout(()=>{t.distributeMonthlyToWeekly(s.name,e,s.date)},100)}},u=(n,r,i,o)=>{const s=(e.data.annual[n]||[])[r]||{},l={...s,[i]:o,id:s.id||`${n}-${Date.now()}-${r}`};t.updateAnnualExpense(n,l,r),s.name&&t.updateExpenseStatus(l.id,s.name,a-1,i,o,"annual")},c=()=>n.getTotalAnnualExpenses(),f=(()=>{const t=(new Date).getMonth()+1,n={};return Object.keys(e.data.annual||{}).forEach(r=>{(e.data.annual[r]||[]).forEach(e=>{if(e.date&&e.name&&e.actual>0){const r=new Date(e.date).getMonth()+1,i=parseFloat(e.actual)||0;n[r]||(n[r]=[]),n[r].push({name:e.name,amount:i,monthsToSave:Math.max(1,(r-t+12)%12)||1})}})}),n})();return(0,v.jsxs)("div",{style:{padding:"20px",backgroundColor:"#fff",minHeight:"100vh",fontFamily:"Arial, sans-serif"},children:[(0,v.jsx)("style",{children:"\n        .annual-expenses-page {\n          padding: 20px;\n          background-color: #fff;\n          min-height: 100vh;\n        }\n\n        .page-title {\n          color: #2c3e50;\n          margin-bottom: 20px;\n          font-size: 1.8rem;\n          font-weight: 600;\n        }\n\n        .page-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          border: 1px solid #dee2e6;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .action-controls {\n          display: flex;\n          gap: 10px;\n          flex-wrap: wrap;\n        }\n\n        .current-week-selector {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n          padding: 10px;\n          background-color: #e8f5e8;\n          border-radius: 6px;\n          border: 1px solid #28a745;\n        }\n\n        .week-select {\n          padding: 5px 10px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 0.9rem;\n        }\n\n        .yearly-note {\n          background-color: #fff3cd;\n          border: 1px solid #ffeaa7;\n          border-radius: 6px;\n          padding: 15px;\n          margin-bottom: 20px;\n          font-size: 0.95rem;\n          color: #856404;\n        }\n\n        .category {\n          margin-bottom: 30px;\n          border: 1px solid #dee2e6;\n          border-radius: 8px;\n          overflow: hidden;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n\n        .category-header {\n          background-color: #28a745;\n          color: white;\n          padding: 15px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .category-name {\n          font-size: 1.1rem;\n          font-weight: 600;\n        }\n\n        .category-controls {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n        }\n\n        .category-total {\n          font-size: 1.1rem;\n          font-weight: bold;\n        }\n\n        .add-item-btn {\n          background-color: rgba(255,255,255,0.2);\n          border: 1px solid rgba(255,255,255,0.3);\n          color: white;\n          padding: 5px 10px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: bold;\n        }\n\n        .add-item-btn:hover {\n          background-color: rgba(255,255,255,0.3);\n        }\n\n        .subcategory-header {\n          display: flex;\n          background-color: #f8f9fa;\n          padding: 10px;\n          font-weight: 600;\n          font-size: 0.9rem;\n          color: #495057;\n          border-bottom: 1px solid #dee2e6;\n        }\n\n        .header-date {\n          width: 120px;\n        }\n\n        .header-name {\n          flex: 2;\n        }\n\n        .header-status {\n          width: 120px;\n          text-align: center;\n        }\n\n        .header-amounts {\n          width: 200px;\n          display: flex;\n          justify-content: space-between;\n        }\n\n        .header-monthly {\n          width: 80px;\n          text-align: center;\n        }\n\n        .subcategory-list {\n          background-color: #fff;\n        }\n\n        .subcategory {\n          display: flex;\n          align-items: center;\n          padding: 10px;\n          border-bottom: 1px solid #f0f0f0;\n          gap: 10px;\n        }\n\n        .subcategory:hover {\n          background-color: #f8f9fa;\n        }\n\n        .due-date-input {\n          width: 120px;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n        }\n\n        .expense-name-input {\n          flex: 2;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n        }\n\n        .account-select {\n          width: 120px;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n          background-color: #fff;\n        }\n\n        .status-control-group {\n          width: 120px;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 5px;\n        }\n\n        .annual-status-checkboxes {\n          display: flex;\n          gap: 5px;\n        }\n\n        .status-checkbox-label {\n          display: flex;\n          align-items: center;\n          gap: 2px;\n          font-size: 0.8rem;\n          cursor: pointer;\n        }\n\n        .checkbox-label {\n          font-weight: bold;\n        }\n\n        .transferred-checkbox:checked {\n          accent-color: #ffc107;\n        }\n\n        .paid-checkbox:checked {\n          accent-color: #28a745;\n        }\n\n        .frequency-dropdown {\n          width: 80px;\n          padding: 2px 4px;\n          border: 1px solid #dee2e6;\n          border-radius: 3px;\n          font-size: 0.8rem;\n          background-color: #fff;\n        }\n\n        .frequency-dropdown.paid {\n          background-color: #d1ecf1;\n          border-color: #bee5eb;\n        }\n\n        .frequency-dropdown.transferred {\n          background-color: #fff3cd;\n          border-color: #ffeaa7;\n        }\n\n        .amount-input-group {\n          width: 200px;\n          display: flex;\n          align-items: center;\n          gap: 5px;\n        }\n\n        .amount-input {\n          width: 80px;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n          text-align: right;\n        }\n\n        .amount-input.has-value {\n          background-color: #e8f5e8;\n          border-color: #28a745;\n          font-weight: 600;\n          color: #155724;\n        }\n\n        .copy-to-actual-btn {\n          background-color: #28a745;\n          border: none;\n          color: white;\n          padding: 4px 8px;\n          border-radius: 3px;\n          cursor: pointer;\n          font-size: 0.8rem;\n        }\n\n        .copy-to-actual-btn:hover {\n          background-color: #1e7e34;\n        }\n\n        .monthly-equivalent {\n          width: 80px;\n          text-align: center;\n          font-size: 0.85rem;\n          color: #666;\n          font-weight: 500;\n        }\n\n        .item-delete-btn {\n          background-color: #dc3545;\n          border: none;\n          color: white;\n          padding: 4px 8px;\n          border-radius: 3px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          width: 30px;\n        }\n\n        .item-delete-btn:hover {\n          background-color: #c82333;\n        }\n\n        .yearly-total {\n          font-size: 1.2rem;\n          font-weight: bold;\n          text-align: center;\n          padding: 20px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          margin: 20px 0;\n        }\n\n        .page-actions {\n          text-align: center;\n          margin: 20px 0;\n        }\n\n        .btn {\n          padding: 8px 16px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          margin: 0 5px;\n          transition: background-color 0.2s;\n        }\n\n        .btn-primary {\n          background-color: #007bff;\n          color: white;\n        }\n\n        .btn-primary:hover {\n          background-color: #0056b3;\n        }\n\n        .btn-secondary {\n          background-color: #6c757d;\n          color: white;\n        }\n\n        .btn-secondary:hover {\n          background-color: #545b62;\n        }\n\n        .btn-success {\n          background-color: #28a745;\n          color: white;\n        }\n\n        .btn-success:hover {\n          background-color: #1e7e34;\n        }\n\n        .btn-danger {\n          background-color: #dc3545;\n          color: white;\n        }\n\n        .btn-danger:hover {\n          background-color: #c82333;\n        }\n\n        .savings-plan-section {\n          margin-top: 30px;\n          padding: 20px;\n          background-color: #f0f8ff;\n          border-radius: 8px;\n          border: 1px solid #b3d9ff;\n        }\n\n        .savings-plan-table {\n          width: 100%;\n          border-collapse: collapse;\n          margin-top: 15px;\n        }\n\n        .savings-plan-table th,\n        .savings-plan-table td {\n          padding: 10px;\n          border: 1px solid #dee2e6;\n          text-align: left;\n        }\n\n        .savings-plan-table th {\n          background-color: #007bff;\n          color: white;\n          font-weight: 600;\n        }\n\n        .weekly-sync-indicator {\n          margin-top: 20px;\n          padding: 15px;\n          background-color: #e8f5e8;\n          border-radius: 8px;\n          border: 1px solid #28a745;\n        }\n\n        .weekly-sync-indicator h4 {\n          margin: 0 0 10px 0;\n          color: #155724;\n        }\n\n        .sync-info {\n          font-size: 0.9rem;\n          color: #155724;\n        }\n\n        @media (max-width: 768px) {\n          .page-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          \n          .subcategory {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 10px;\n          }\n\n          .subcategory-header {\n            display: none;\n          }\n\n          .amount-input-group {\n            width: 100%;\n            justify-content: space-between;\n          }\n        }\n      "}),(0,v.jsx)("h2",{className:"page-title",children:"\ud83d\udcc5 Annual Expenses"}),(0,v.jsxs)("div",{className:"current-week-selector",children:[(0,v.jsx)("label",{children:(0,v.jsx)("strong",{children:"Weekly Planner Sync - Current Week:"})}),(0,v.jsxs)("select",{value:a,onChange:e=>o(parseInt(e.target.value)),className:"week-select",children:[(0,v.jsx)("option",{value:1,children:"Week 1"}),(0,v.jsx)("option",{value:2,children:"Week 2"}),(0,v.jsx)("option",{value:3,children:"Week 3"}),(0,v.jsx)("option",{value:4,children:"Week 4"}),(0,v.jsx)("option",{value:5,children:"Week 5"})]}),(0,v.jsx)("span",{style:{fontSize:"0.9rem",color:"#666"},children:"Status changes will sync with this week in the weekly planner"})]}),(0,v.jsxs)("div",{className:"page-controls",children:[(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"action-controls",children:[(0,v.jsx)("button",{className:"btn btn-secondary",onClick:()=>{window.confirm("Reset all projected amounts to $0.00?")&&Object.keys(e.data.annual||{}).forEach(t=>{(e.data.annual[t]||[]).forEach((e,n)=>{e.name&&l(t,n,"projected",0)})})},children:"Reset Funding"}),(0,v.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Reset all payment and transfer statuses?")&&Object.keys(e.data.annual||{}).forEach(t=>{(e.data.annual[t]||[]).forEach((e,n)=>{e.name&&(l(t,n,"paid",!1),l(t,n,"transferred",!1),l(t,n,"transferStatus","full"))})})},children:"Reset Statuses"}),(0,v.jsx)("button",{className:"btn btn-success",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Data"})]})]}),(0,v.jsx)("div",{className:"yearly-note",children:"\ud83d\udca1 Annual expenses are divided by 12 to show their monthly impact on the budget and integrated into the weekly planner."}),(0,v.jsxs)("div",{id:"annual-expense-categories",children:[Object.entries(e.data.annual||{}).map(n=>{let[r,a]=n;const o=dL[r]||r,c=(t=>(e.data.annual[t]||[]).reduce((e,t)=>e+(parseFloat(t.actual)||0),0))(r);return(0,v.jsxs)("div",{className:"category","data-category":r,children:[(0,v.jsxs)("div",{className:"category-header",children:[(0,v.jsx)("span",{className:"category-name",children:o}),(0,v.jsxs)("div",{className:"category-controls",children:[(0,v.jsxs)("span",{className:"category-total",children:[i(c),"/yr"]}),(0,v.jsx)("button",{className:"add-item-btn",onClick:()=>(n=>{const r=e.data.annual[n]||[],i={id:`${n}-${Date.now()}`,name:"",actual:0,projected:0,date:"",accountId:"",paid:!1,transferred:!1,transferStatus:"full"};t.updateAnnualExpense(n,i,r.length)})(r),children:"+"}),(0,v.jsx)("button",{className:"remove-category-btn",onClick:()=>(e=>{window.confirm(`Remove category "${e}"?`)&&t.removeAnnualCategory(e)})(r),title:"Delete Category",children:"\xd7"})]})]}),(0,v.jsxs)("div",{className:"subcategory-header",children:[(0,v.jsx)("span",{className:"header-date",children:"Due Date"}),(0,v.jsx)("span",{className:"header-name",children:"Expense Name"}),(0,v.jsx)("span",{style:{width:"120px",textAlign:"center"},children:"Account"}),(0,v.jsx)("span",{className:"header-status",children:"Status"}),(0,v.jsxs)("div",{className:"header-amounts",children:[(0,v.jsx)("span",{children:"Projected"}),(0,v.jsx)("span",{children:"Actual"})]}),(0,v.jsx)("span",{className:"header-monthly",children:"Monthly"}),(0,v.jsx)("span",{style:{width:"30px"}})]}),(0,v.jsx)("div",{className:"subcategory-list",children:a.map((n,a)=>{var o,c;const f=parseFloat(n.actual||0),d=parseFloat(n.projected||0),p=f/12;return(0,v.jsxs)("div",{className:"subcategory","data-expense-id":n.id,children:[(0,v.jsx)("input",{type:"date",className:"due-date-input",value:n.date||"",onChange:e=>l(r,a,"date",e.target.value)}),(0,v.jsx)("input",{className:"expense-name-input",value:n.name||"",placeholder:"Expense name",onChange:e=>l(r,a,"name",e.target.value)}),(0,v.jsxs)("select",{className:"account-select",value:n.accountId||"",onChange:e=>l(r,a,"accountId",e.target.value),children:[(0,v.jsx)("option",{value:"",children:"Select Account"}),(Array.isArray(e.data.accounts)?e.data.accounts:[]).map(e=>(0,v.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,v.jsxs)("div",{className:"status-control-group",children:[(0,v.jsxs)("div",{className:"annual-status-checkboxes",children:[(0,v.jsxs)("label",{className:"status-checkbox-label",children:[(0,v.jsx)("input",{type:"checkbox",className:"paid-checkbox",checked:s(n.name,"paid"),onChange:e=>u(r,a,"paid",e.target.checked)}),(0,v.jsx)("span",{className:"checkbox-label",children:"Paid"})]}),(0,v.jsxs)("label",{className:"status-checkbox-label",children:[(0,v.jsx)("input",{type:"checkbox",className:"transferred-checkbox",checked:s(n.name,"transferred"),onChange:e=>u(r,a,"transferred",e.target.checked)}),(0,v.jsx)("span",{className:"checkbox-label",children:"Trans"})]})]}),(0,v.jsxs)("select",{className:"frequency-dropdown "+(n.paid?"paid":n.transferred?"transferred":""),value:n.transferStatus||"full",onChange:e=>l(r,a,"transferStatus",e.target.value),children:[(0,v.jsx)("option",{value:"full",children:"Full"}),(0,v.jsx)("option",{value:"half",children:"\xbd"}),(0,v.jsx)("option",{value:"quarter",children:"\xbc"})]})]}),(0,v.jsxs)("div",{className:"amount-input-group",children:[(0,v.jsx)("input",{type:"number",className:"amount-input projected-input "+(d>0?"has-value":""),value:null!==(o=n.projected)&&void 0!==o?o:"",step:"0.01",placeholder:"Projected",onChange:e=>l(r,a,"projected",e.target.value)}),(0,v.jsx)("button",{className:"copy-to-actual-btn",onClick:()=>((t,n)=>{const r=(e.data.annual[t]||[])[n]||{};l(t,n,"actual",r.projected||0)})(r,a),title:"Copy Projected to Actual",children:"\u2192"}),(0,v.jsx)("input",{type:"number",className:"amount-input actual-input "+(f>0?"has-value":""),value:null!==(c=n.actual)&&void 0!==c?c:"",step:"0.01",placeholder:"Actual",onChange:e=>l(r,a,"actual",e.target.value)})]}),(0,v.jsxs)("div",{className:"monthly-equivalent",children:[i(p),"/mo"]}),(0,v.jsx)("button",{className:"item-delete-btn",onClick:()=>((e,n)=>{t.removeAnnualExpense(e,n)})(r,a),title:"Delete Expense",children:"\xd7"})]},a)})})]},r)}),(0,v.jsx)("div",{className:"add-category-wrapper",children:(0,v.jsx)("button",{className:"add-category-btn",onClick:()=>{const n=prompt("Enter new category name");n&&!e.data.annual[n]&&t.addAnnualCategory(n)},children:"Add Category"})})]}),(0,v.jsxs)("div",{className:"page-actions",children:[(0,v.jsx)("button",{className:"btn btn-secondary",onClick:()=>(()=>{const t=Qz.generatePrintContent(e.data,n,i);Qz.openPrintWindow(t,"Annual Expenses Report")})(),children:"\ud83d\udda8\ufe0f Print this Page"}),(0,v.jsx)("button",{className:"btn btn-primary",children:"\ud83d\udcc1 Export Annual CSV"})]}),(0,v.jsxs)("div",{className:"yearly-total",children:["Total Annual Expenses: ",i(c()),"/yr (",i(c()/12),"/mo)"]}),Object.keys(f).length>0&&(0,v.jsxs)("div",{className:"savings-plan-section",children:[(0,v.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#0056b3"},children:"\ud83d\udcca Monthly Savings Plan"}),(0,v.jsxs)("table",{className:"savings-plan-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Month"}),(0,v.jsx)("th",{children:"Expenses Due"}),(0,v.jsx)("th",{children:"Monthly Savings Needed"})]})}),(0,v.jsx)("tbody",{children:Object.entries(f).map(e=>{var t;let[n,r]=e;const a=r.reduce((e,t)=>e+t.amount,0),o=a/((null===(t=r[0])||void 0===t?void 0:t.monthsToSave)||1);return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsx)("strong",{children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n-1]})}),(0,v.jsx)("td",{children:r.map(e=>`${e.name} (${i(e.amount)})`).join(", ")}),(0,v.jsx)("td",{children:(0,v.jsx)("strong",{children:i(o)})})]},n)})})]})]}),(0,v.jsxs)("div",{className:"weekly-sync-indicator",children:[(0,v.jsx)("h4",{children:"\ud83d\udcca Weekly Planner Integration"}),(0,v.jsxs)("div",{className:"sync-info",children:["\u2022 Annual expenses automatically populate the weekly planner as monthly equivalents (annual \xf7 12)",(0,v.jsx)("br",{}),"\u2022 Status changes (Paid/Transferred) sync with Week ",a," in the weekly planner",(0,v.jsx)("br",{}),"\u2022 Due dates determine which week expenses are planned for",(0,v.jsx)("br",{}),"\u2022 Changes here update the weekly planner in real-time"]})]})]})},hL=()=>{const{state:e,actions:t,calculations:n,formatCurrency:i}=q(),[a,o]=(0,r.useState)(Array(5).fill(!0)),[s,l]=(0,r.useState)(!1),u=(0,r.useCallback)(()=>{for(const t of e.data.income||[])if(t.payDates&&t.payDates.length>0){const e=t.payDates[0],[n,r,i]=e.split("-").map(e=>parseInt(e,10));return{month:r-1,year:n}}return{month:(new Date).getMonth(),year:(new Date).getFullYear()}},[e.data.income]),{month:c,year:f}=u(),d=(0,r.useCallback)(()=>{const t=[0,0,0,0,0],n=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t};return(e.data.income||[]).forEach(e=>{const r=Array.isArray(e.payDates)?e.payDates:[],i=n(e.projectedAmount||e.amount);if(r.length>0)r.forEach(e=>{const[n,r,a]=e.split("-").map(e=>parseInt(e,10));if(r-1===c&&n===f){let e;a>=1&&a<=7?e=0:a>=8&&a<=14?e=1:a>=15&&a<=21?e=2:a>=22&&a<=28?e=3:a>=29&&(e=4),e>=0&&e<5&&(t[e]+=i)}});else if(e.weeks&&Array.isArray(e.weeks))e.weeks.forEach((e,r)=>{r<5&&(t[r]+=n(e))});else{let n=0;switch(e.frequency){case"weekly":n=i*(52/12);break;case"bi-weekly":n=i*(26/12);break;case"monthly":default:n=i;break;case"quarterly":n=i/3;break;case"semi-annual":n=i/6;break;case"annual":n=i/12;break;case"one-time":n=0}switch(e.frequency){case"weekly":const e=n/4.33;for(let n=0;n<4;n++)t[n]+=e;break;case"bi-weekly":t[0]+=i,t[2]+=i,n>2*i&&(t[4]+=n-2*i);break;case"monthly":t[0]+=n;break;default:const r=n/4;for(let n=0;n<4;n++)t[n]+=r}}}),t},[e.data.income,c,f]);(0,r.useEffect)(()=>{t.autoPopulatePlanner()},[e.data.monthly,e.data.annual]);const p=(0,r.useCallback)(()=>{const t=[];return e.data.monthly&&Object.entries(e.data.monthly).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{e.name&&e.name.trim()&&t.push({...e,categoryKey:n,categoryName:h(n),monthlyAmount:parseFloat(e.actual||e.amount||0),type:"monthly",isAnnual:!1})})}),e.data.annual&&Object.entries(e.data.annual).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{if(e.name&&e.name.trim()){const r=parseFloat(e.actual||e.amount||0);t.push({...e,categoryKey:`annual-${n}`,categoryName:`${h(n)} (Annual)`,monthlyAmount:r/12,type:"annual",isAnnual:!0,originalAnnualAmount:r})}})}),t},[e.data.monthly,e.data.annual]),h=e=>({housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts","yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car","yearly-bank":"Yearly Banking"}[e]||e.charAt(0).toUpperCase()+e.slice(1)),m=t=>{var n;return(null===(n=e.data.plannerState)||void 0===n?void 0:n[t])||{weeks:Array(5).fill(0),transferred:Array(5).fill(!1),paid:Array(5).fill(!1)}},g=(n,r)=>{const i={...e.data.plannerState,[n]:r};t.updatePlanner(i)},y=(e,t,n)=>{const r=m(e),i=[...r.weeks];i[t]=parseFloat(n)||0,g(e,{...r,weeks:i})},b=(e,n,r,i)=>{t.updateExpenseStatus(e.id,e.name,n,r,i,"weekly")},x=e=>{const{month:t,year:n}=u(),r=new Date(n,t,1+7*e),i=new Date(r);i.setDate(r.getDate()+6);const a=new Date(n,t+1,0);i>a&&i.setTime(a.getTime());const o=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`;return{start:o(r),end:o(i)}},w=(()=>{const t=[0,0,0,0,0],n=e.data.plannerState||{};return Object.values(n).forEach(e=>{e.weeks&&Array.isArray(e.weeks)&&e.weeks.forEach((e,n)=>{n<5&&(t[n]+=parseFloat(e)||0)})}),t})(),N=d(),S=(()=>{const e=p(),t={};return e.forEach(e=>{t[e.categoryKey]||(t[e.categoryKey]={name:e.categoryName,expenses:[]}),t[e.categoryKey].expenses.push(e)}),t})();return(0,v.jsxs)("div",{style:{padding:"20px",backgroundColor:"#fff",minHeight:"100vh",fontFamily:"Arial, sans-serif"},children:[(0,v.jsx)("style",{children:"\n        .weekly-planner-page {\n          padding: 20px;\n          background-color: #fff;\n          min-height: 100vh;\n        }\n\n        .page-title {\n          color: #2c3e50;\n          margin-bottom: 20px;\n          font-size: 1.8rem;\n          font-weight: 600;\n        }\n\n        .page-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: #f8f9fa;\n          border-radius: 8px;\n          border: 1px solid #dee2e6;\n          flex-wrap: wrap;\n          gap: 15px;\n        }\n\n        .week-visibility-controls {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n          flex-wrap: wrap;\n        }\n\n        .week-visibility-controls label {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          font-weight: 500;\n          cursor: pointer;\n        }\n\n        .action-controls {\n          display: flex;\n          gap: 10px;\n          flex-wrap: wrap;\n        }\n\n        .planner-table-container {\n          overflow-x: auto;\n          width: 100%;\n          border-radius: 8px;\n          border: 1px solid #dee2e6;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          margin-bottom: 20px;\n        }\n\n        .planner-table {\n          width: 100%;\n          border-collapse: collapse;\n          background-color: #fff;\n          font-size: 0.9rem;\n          min-width: 1200px;\n        }\n\n   .planner-table th,\n.planner-table td {\n  padding: 8px;\n  border: 1px solid #dee2e6;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.planner-table th {\n  background-color: #007bff;\n  color: white;\n  font-weight: 600;\n  font-size: 0.85rem;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n}\n\n.planner-table th:first-child {\n  text-align: left;\n  width: 25%;\n}\n\n.planner-table th.status-header {\n  min-width: 60px;\n  font-size: 0.8rem;\n}\n\n.week-date-range-inputs {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  margin: 4px 0;\n}\n\n/* Fixed date input styles with proper specificity */\n.planner-table th .week-date-start,\n.planner-table th .week-date-end {\n  font-size: 0.7rem !important;\n  padding: 1px 2px !important;\n  border: 1px solid rgba(255,255,255,0.5) !important;\n  border-radius: 2px !important;\n  background-color: rgba(255,255,255,0.9) !important;\n  color: #495057 !important;\n  transition: all 0.2s ease;\n  cursor: default;\n  outline: none;\n  /* Override browser date input styling */\n  -webkit-appearance: none;\n  -moz-appearance: textfield;\n  appearance: none;\n}\n\n/* Ensure readability on hover */\n.planner-table th .week-date-start:hover,\n.planner-table th .week-date-end:hover {\n  background-color: white !important;\n  border-color: #007bff !important;\n  color: #495057 !important;\n}\n\n/* Even when disabled/readonly, keep readable */\n.planner-table th .week-date-start:disabled,\n.planner-table th .week-date-start[readonly],\n.planner-table th .week-date-end:disabled,\n.planner-table th .week-date-end[readonly] {\n  background-color: rgba(255,255,255,0.9) !important;\n  color: #495057 !important;\n  opacity: 1 !important;\n}\n\n        .category-row {\n          background-color: #f8f9fa !important;\n          font-weight: bold;\n          color: #2c3e50;\n        }\n\n        .category-row td {\n          text-align: left;\n          padding-left: 15px;\n          font-size: 1rem;\n          background-color: #f8f9fa;\n        }\n\n        .expense-name {\n          text-align: left !important;\n          padding-left: 20px !important;\n          font-weight: 500;\n          color: #495057;\n        }\n\n        .annual-indicator {\n          font-size: 0.7rem;\n          color: #6c757d;\n          font-style: italic;\n        }\n\n        .planner-input-group {\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n          gap: 4px;\n          position: relative;\n          width: 100%;\n        }\n\n        .table-input {\n          width: 100%;\n          padding: 6px 8px;\n          border: 1px solid #dee2e6;\n          border-radius: 4px;\n          font-size: 0.85rem;\n          text-align: right;\n          background-color: #fff;\n          color: #495057;\n          transition: all 0.2s ease;\n        }\n\n        .table-input:focus {\n          outline: 2px solid #007bff;\n          outline-offset: -1px;\n          border-color: #007bff;\n        }\n\n        .table-input.has-value {\n          background-color: #e8f5e8 !important;\n          border-color: #28a745 !important;\n          font-weight: 600 !important;\n          color: #155724 !important;\n        }\n\n        .table-input.zero-value {\n          background-color: #fff;\n          border-color: #dee2e6;\n          font-weight: normal;\n        }\n\n        .planner-action-select {\n          font-size: 0.75rem;\n          padding: 2px 4px;\n          border: 1px solid #dee2e6;\n          border-radius: 3px;\n          background-color: #f8f9fa;\n          color: #495057;\n          cursor: pointer;\n          max-width: 100%;\n        }\n\n        .planner-action-select:hover {\n          background-color: #e9ecef;\n        }\n\n        .status-cell {\n          text-align: center !important;\n          padding: 4px !important;\n          min-width: 60px;\n          vertical-align: middle;\n        }\n\n        .status-checkboxes {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .transferred-checkbox,\n        .paid-checkbox {\n          margin: 2px;\n          transform: scale(1.1);\n          cursor: pointer;\n        }\n\n        .transferred-checkbox:checked {\n          accent-color: #ffc107;\n        }\n\n        .paid-checkbox:checked {\n          accent-color: #28a745;\n        }\n\n        .remaining-amount {\n          font-weight: 600 !important;\n          text-align: right;\n          padding-right: 12px !important;\n        }\n\n        .table-footer {\n          background-color: #f8f9fa;\n          font-weight: bold;\n          border-top: 2px solid #007bff;\n        }\n\n        .table-footer td {\n          padding: 10px 8px;\n          font-size: 0.9rem;\n        }\n\n        .cash-flow-analysis {\n          margin-top: 20px;\n          padding: 15px;\n          background: linear-gradient(135deg, #e8f4f8 0%, #f0f8ff 100%);\n          border-radius: 8px;\n          border: 1px solid #dee2e6;\n        }\n\n        .cash-flow-analysis h3 {\n          margin-bottom: 15px;\n          color: #2c3e50;\n          font-size: 1.2rem;\n          font-weight: 600;\n        }\n\n        .cash-flow-grid {\n          display: grid;\n          grid-template-columns: repeat(5, 1fr);\n          gap: 15px;\n        }\n\n        .cash-flow-grid > div {\n          text-align: center;\n          padding: 12px;\n          background-color: rgba(255,255,255,0.8);\n          border-radius: 6px;\n          border: 1px solid #dee2e6;\n        }\n\n        .week-label {\n          font-size: 0.9rem;\n          color: #7f8c8d;\n          margin-bottom: 5px;\n        }\n\n        .balance-amount {\n          font-size: 1.2rem;\n          font-weight: bold;\n        }\n\n        .balance-amount.positive {\n          color: #27ae60;\n        }\n\n        .balance-amount.negative {\n          color: #e74c3c;\n        }\n\n        .hidden {\n          display: none !important;\n        }\n\n        .income-section {\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: #e8f5e8;\n          border-radius: 8px;\n          border: 1px solid #28a745;\n        }\n\n        .income-summary {\n          display: grid;\n          grid-template-columns: repeat(5, 1fr);\n          gap: 10px;\n          margin-top: 10px;\n        }\n\n        .income-week {\n          text-align: center;\n          padding: 8px;\n          background-color: rgba(255,255,255,0.8);\n          border-radius: 4px;\n        }\n\n        .btn {\n          padding: 8px 16px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          transition: background-color 0.2s;\n        }\n\n        .btn-primary {\n          background-color: #007bff;\n          color: white;\n        }\n\n        .btn-primary:hover {\n          background-color: #0056b3;\n        }\n\n        .btn-secondary {\n          background-color: #6c757d;\n          color: white;\n        }\n\n        .btn-secondary:hover {\n          background-color: #545b62;\n        }\n\n        .btn-success {\n          background-color: #28a745;\n          color: white;\n        }\n\n        .btn-success:hover {\n          background-color: #1e7e34;\n        }\n\n        .btn-success.active {\n          background-color: #155724;\n          border-color: #155724;\n        }\n\n        .btn-danger {\n          background-color: #dc3545;\n          color: white;\n        }\n\n        .btn-danger:hover {\n          background-color: #c82333;\n        }\n\n        .btn-sm {\n          padding: 4px 8px;\n          font-size: 0.8rem;\n        }\n\n        @media (max-width: 768px) {\n          .page-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          \n          .cash-flow-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .income-summary {\n            grid-template-columns: repeat(2, 1fr);\n          }\n        }\n      "}),(0,v.jsx)("h2",{className:"page-title",children:"\ud83d\udccb Weekly Budget Planner"}),(0,v.jsxs)("div",{className:"income-section",children:[(0,v.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#155724"},children:"\ud83d\udcb5 Weekly Income"}),(0,v.jsx)("div",{className:"income-summary",children:N.map((e,t)=>(0,v.jsxs)("div",{className:"income-week "+(a[t]?"":"hidden"),children:[(0,v.jsxs)("div",{className:"week-label",children:["Week ",t+1]}),(0,v.jsx)("div",{style:{fontWeight:"bold",color:"#155724"},children:i(e)})]},t))})]}),(0,v.jsxs)("div",{className:"page-controls",children:[(0,v.jsxs)("div",{className:"week-visibility-controls",children:[(0,v.jsx)("span",{style:{fontWeight:"600"},children:"Show Weeks:"}),Array.from({length:5},(e,t)=>(0,v.jsxs)("label",{children:[(0,v.jsx)("input",{type:"checkbox",checked:a[t],onChange:()=>(e=>{const t=[...a];t[e]=!t[e],o(t)})(t)}),t+1]},t))]}),(0,v.jsxs)("div",{className:"action-controls",children:[(0,v.jsx)("button",{className:"btn "+(s?"btn-success active":"btn-secondary"),onClick:()=>{l(!s)},title:s?"Currently hiding rows with $0.00 values. Click to show all rows.":"Currently showing all rows. Click to hide rows with $0.00 values.",children:s?"\ud83d\udc41\ufe0f Show $0 Rows":"\ud83d\udeab Hide $0 Rows"}),(0,v.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!window.confirm("Auto-distribute all expenses evenly across weeks? This will overwrite current weekly planning."))return;p().forEach(e=>{const t=e.monthlyAmount/5,n=m(e.name);g(e.name,{...n,weeks:Array(5).fill(t)})})},children:"Auto-Distribute"}),(0,v.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>{if(!window.confirm("Are you sure you want to reset all weekly planned amounts to zero?"))return;p().forEach(e=>{const t=m(e.name);g(e.name,{...t,weeks:Array(5).fill(0)})})},children:"Reset All Weeks"}),(0,v.jsx)("button",{className:"btn btn-success",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Data"}),(0,v.jsx)("button",{className:"btn btn-secondary",onClick:()=>(()=>{const t=Jz.generatePrintContent(e.data,n,i);Jz.openPrintWindow(t,"Weekly Budget Planner")})(),children:"\ud83d\udda8\ufe0f Print this Page"})]})]}),(0,v.jsxs)("div",{className:"planner-table-container",children:[s&&(0,v.jsx)("div",{style:{padding:"8px 15px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderBottom:"none",borderRadius:"8px 8px 0 0",fontSize:"0.9rem",color:"#856404"},children:'\u2139\ufe0f Filtering: Rows with $0.00 values are hidden. Click "Show $0 Rows" to see all expenses.'}),(0,v.jsxs)("table",{className:"planner-table",id:"planner-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{style:{width:"25%"},children:"Expense Category"}),(0,v.jsx)("th",{children:"Monthly Actual"}),Array.from({length:5},(e,t)=>(0,v.jsxs)(r.Fragment,{children:[(0,v.jsxs)("th",{className:`week-${t+1}-col ${a[t]?"":"hidden"}`,children:[(0,v.jsxs)("div",{children:["Week ",t+1]}),(0,v.jsxs)("div",{className:"week-date-range-inputs",children:[(0,v.jsx)("input",{type:"date",className:"week-date-start",value:x(t).start,readOnly:!0}),(0,v.jsx)("input",{type:"date",className:"week-date-end",value:x(t).end,readOnly:!0})]}),(0,v.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>(e=>{if(!window.confirm(`Are you sure you want to reset all Week ${e+1} planned amounts to zero?`))return;p().forEach(t=>{y(t.name,e,0)})})(t),children:"Reset"})]}),(0,v.jsx)("th",{className:`week-${t+1}-status-col status-header ${a[t]?"":"hidden"}`,children:"Status"})]},t)),(0,v.jsx)("th",{children:"Remaining Balance"})]})}),(0,v.jsx)("tbody",{children:0===Object.keys(S).length?(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"13",style:{textAlign:"center",padding:"20px",color:"#666"},children:"No expense data found. Please add expenses in the Monthly and Annual Expenses tabs first."})}):Object.entries(S).map(e=>{let[t,n]=e;const o=n.expenses.filter(e=>!s||!(e=>{const t=m(e.name),n=e.monthlyAmount||0,r=t.weeks.reduce((e,t)=>e+(parseFloat(t)||0),0);return 0===n&&0===r})(e));return 0===o.length?null:(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)("tr",{className:"category-row",children:(0,v.jsx)("td",{colSpan:"13",children:n.name})}),o.map((e,n)=>{const o=m(e.name),s=((e,t)=>{const n=e.monthlyAmount,r=t.reduce((e,t)=>e+t,0);return n-r})(e,o.weeks);return(0,v.jsxs)("tr",{"data-expense-id":e.id,children:[(0,v.jsxs)("td",{className:"expense-name",style:{textAlign:"left",paddingLeft:"20px"},children:[e.name,e.isAnnual&&(0,v.jsxs)("div",{className:"annual-indicator",children:["(Annual: ",i(e.originalAnnualAmount),")"]})]}),(0,v.jsx)("td",{children:(0,v.jsx)("strong",{children:i(e.monthlyAmount)})}),Array.from({length:5},(t,n)=>(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)("td",{className:`week-${n+1}-col ${a[n]?"":"hidden"}`,children:(0,v.jsxs)("div",{className:"planner-input-group",children:[(0,v.jsx)("input",{type:"number",className:"table-input "+(o.weeks[n]>0?"has-value":"zero-value"),value:o.weeks[n].toFixed(2),step:"0.01",onChange:t=>y(e.name,n,t.target.value)}),(0,v.jsxs)("select",{className:"planner-action-select",onChange:t=>{((e,t,n,r)=>{let i=0;switch(n){case"reset":i=0;break;case"full":i=r;break;case"half":i=r/2;break;case"quarter":i=r/4;break;default:return}y(e,t,i)})(e.name,n,t.target.value,e.monthlyAmount),t.target.value=""},children:[(0,v.jsx)("option",{value:"",children:"Quick Fill"}),(0,v.jsx)("option",{value:"reset",children:"Reset to $0"}),(0,v.jsxs)("option",{value:"full",children:["Full Amount (",i(e.monthlyAmount),")"]}),(0,v.jsxs)("option",{value:"half",children:["Half Amount (",i(e.monthlyAmount/2),")"]}),(0,v.jsxs)("option",{value:"quarter",children:["Quarter Amount (",i(e.monthlyAmount/4),")"]})]})]})}),(0,v.jsx)("td",{className:`week-${n+1}-status-col status-cell ${a[n]?"":"hidden"}`,children:(0,v.jsxs)("div",{className:"status-checkboxes",children:[(0,v.jsx)("input",{type:"checkbox",className:"transferred-checkbox",title:"Transferred",checked:o.transferred[n],onChange:t=>b(e,n,"transferred",t.target.checked)}),(0,v.jsx)("br",{}),(0,v.jsx)("input",{type:"checkbox",className:"paid-checkbox",title:"Paid",checked:o.paid[n],onChange:t=>b(e,n,"paid",t.target.checked)})]})})]},n)),(0,v.jsx)("td",{className:"remaining-amount",style:{fontWeight:"bold",color:Math.abs(s)<.001?"black":"red"},children:i(s)})]},`${t}-${n}`)})]},t)})}),(0,v.jsx)("tfoot",{children:(0,v.jsxs)("tr",{className:"table-footer",children:[(0,v.jsx)("td",{children:(0,v.jsx)("strong",{children:"Weekly Expense Totals"})}),(0,v.jsx)("td",{}),Array.from({length:5},(e,t)=>(0,v.jsxs)(r.Fragment,{children:[(0,v.jsxs)("td",{className:`week-${t+1}-col ${a[t]?"":"hidden"}`,children:[(0,v.jsx)("strong",{children:i(w[t]||0)}),(0,v.jsxs)("div",{style:{fontSize:"0.8em",fontWeight:"normal"},children:["Net: ",i((N[t]||0)-(w[t]||0))]})]}),(0,v.jsx)("td",{className:`week-${t+1}-status-col ${a[t]?"":"hidden"}`})]},t)),(0,v.jsx)("td",{children:(0,v.jsx)("strong",{children:i(w.reduce((e,t)=>e+(t||0),0))})})]})})]})]}),(0,v.jsxs)("div",{className:"cash-flow-analysis",children:[(0,v.jsx)("h3",{children:"\ud83d\udcca Weekly Cash Flow Analysis"}),(0,v.jsx)("div",{className:"cash-flow-grid",children:Array.from({length:5},(e,t)=>{const n=N[t]||0,r=w[t]||0,o=n-r;return(0,v.jsxs)("div",{className:`week-${t+1}-col ${a[t]?"":"hidden"}`,children:[(0,v.jsxs)("div",{className:"week-label",children:["Week ",t+1]}),(0,v.jsxs)("div",{className:"week-label",children:["Income: ",i(n)]}),(0,v.jsxs)("div",{className:"week-label",children:["Expenses: ",i(r)]}),(0,v.jsxs)("div",{className:"balance-amount "+(o>=0?"positive":"negative"),children:["Balance: ",i(o)]})]},t)})})]})]})},mL=(0,r.createContext)(null);function gL(){const e=(0,r.useContext)(mL);return null==e&&function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}function yL(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const vL="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,bL=vL&&"documentMode"in document?document.documentMode:null,xL=vL&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),wL=vL&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),NL=!(!vL||!("InputEvent"in window)||bL)&&"getTargetRanges"in new window.InputEvent("input"),SL=vL&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),EL=vL&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,AL=vL&&/Android/.test(navigator.userAgent),CL=vL&&/^(?=.*Chrome).*/i.test(navigator.userAgent),kL=vL&&AL&&CL,_L=vL&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!CL;function DL(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i&&"string"==typeof i)for(const[t]of i.matchAll(/\S+/g))e.push(t);return e}const OL=0,jL=1,ML=2,TL=1,PL=2,FL=3,IL=4,BL=5,RL=6,zL=SL||EL||_L?"\xa0":"\u200b",LL="\n\n",UL=wL?"\xa0":zL,qL="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",$L="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",WL=new RegExp("^[^"+$L+"]*["+qL+"]"),HL=new RegExp("^[^"+qL+"]*["+$L+"]"),KL={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},VL={directionless:1,unmergeable:2},YL={center:2,end:6,justify:4,left:1,right:3,start:5},GL={[PL]:"center",[RL]:"end",[IL]:"justify",[TL]:"left",[FL]:"right",[BL]:"start"},XL={normal:0,segmented:2,token:1},JL={[OL]:"normal",[ML]:"segmented",[jL]:"token"},ZL="$config";function QL(e,t,n,r,i,a){let o=e.getFirstChild();for(;null!==o;){const e=o.__key;o.__parent===t&&(eH(o)&&QL(o,e,n,r,i,a),n.has(e)||a.delete(e),i.push(e)),o=o.getNextSibling()}}let eU=!1,tU=0;function nU(e){tU=e.timeStamp}function rU(e,t,n){const r="BR"===e.nodeName,i=t.__lexicalLineBreak;return i&&(e===i||r&&e.previousSibling===i)||r&&void 0!==YH(e,n)}function iU(e,t,n){const r=FK(kK(n));let i=null,a=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,a=r.focusOffset);const o=e.nodeValue;null!==o&&lK(t,o,i,a,!1)}function aU(e,t,n){if(tW(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return BH(t)&&n.isAttached()}function oU(e,t,n,r){for(let i=e;i&&!XK(i);i=SK(i)){const e=YH(i,t);if(void 0!==e){const t=KH(e,n);if(t)return rH(t)||!BK(i)?void 0:[i,t]}else if(i===r)return[r,QH(n)]}}function sU(e,t,n){eU=!0;const r=performance.now()-tU>100;try{XW(e,()=>{const i=vW()||function(e){return e.getEditorState().read(()=>{const e=vW();return null!==e?e.clone():null})}(e),a=new Map,o=e.getRootElement(),s=e._editorState,l=e._blockCursorElement;let u=!1,c="";for(let n=0;n<t.length;n++){const f=t[n],d=f.type,p=f.target,h=oU(p,e,s,o);if(!h)continue;const[m,g]=h;if("characterData"===d)r&&H$(g)&&BH(p)&&aU(i,p,g)&&iU(p,g,e);else if("childList"===d){u=!0;const t=f.addedNodes;for(let i=0;i<t.length;i++){const n=t[i],r=VH(n),a=n.parentNode;if(null!=a&&n!==l&&null===r&&!rU(n,a,e)){if(wL){const e=(BK(n)?n.innerText:null)||n.nodeValue;e&&(c+=e)}a.removeChild(n)}}const n=f.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){const r=n[i];(rU(r,p,e)||l===r)&&(p.appendChild(r),t++)}r!==t&&a.set(m,g)}}}if(a.size>0)for(const[t,n]of a)n.reconcileObservedMutation(t,e);const f=n.takeRecords();if(f.length>0){for(let t=0;t<f.length;t++){const n=f[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){const n=r[t],a=n.parentNode;null==a||"BR"!==n.nodeName||rU(n,i,e)||a.removeChild(n)}}n.takeRecords()}null!==i&&(u&&eK(i),wL&&bK(e)&&i.insertRawText(c))})}finally{eU=!1}}function lU(e){const t=e._observer;null!==t&&sU(e,t.takeRecords(),t)}function uU(e){!function(e){0===tU&&kK(e).addEventListener("textInput",nU,!0)}(e),e._observer=new MutationObserver((t,n)=>{sU(e,t,n)})}function cU(e){const t=new Map,n=new Set;for(let r="function"==typeof e?e:e.replace;r.prototype&&void 0!==r.prototype.getType;r=Object.getPrototypeOf(r)){const{ownNodeConfig:e}=ZK(r);if(e&&e.stateConfigs)for(const r of e.stateConfigs){let e;"stateConfig"in r?(e=r.stateConfig,r.flat&&n.add(e.key)):e=r,t.set(e.key,e)}}return{flatKeys:n,sharedConfigMap:t}}class fU{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.node=e,this.sharedNodeState=t,this.unknownState=n,this.knownState=r;const{sharedConfigMap:a}=this.sharedNodeState,o=void 0!==i?i:function(e,t,n){let r=n.size;if(t)for(const i in t){const t=e.get(i);t&&n.has(t)||r++}return r}(a,n,r);this.size=o}getValue(e){const t=this.knownState.get(e);if(void 0!==t)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[n,r]of this.knownState)n.isEqual(r,n.defaultValue)?delete e[n.key]:e[n.key]=n.unparse(r);for(const n of this.sharedNodeState.flatKeys)n in e&&(t[n]=e[n],delete e[n]);return hU(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:n}=this,r=new Map(this.knownState);return new fU(e,t,function(e,t,n){let r;if(n)for(const[i,a]of Object.entries(n)){const n=e.get(i);n?t.has(n)||t.set(n,n.parse(a)):(r=r||{},r[i]=a)}return r}(t.sharedConfigMap,r,n),r,this.size)}updateFromKnown(e,t){const n=e.key;this.sharedNodeState.sharedConfigMap.set(n,e);const{knownState:r,unknownState:i}=this;r.has(e)||i&&n in i||(i&&(delete i[n],this.unknownState=hU(i)),this.size++),r.set(e,t)}updateFromUnknown(e,t){const n=this.sharedNodeState.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const n of t.keys())t.set(n,n.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[n,r]of Object.entries(e))this.updateFromUnknown(n,r)}}function dU(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new fU(t,pU(t));return t.__state=n,n}function pU(e){return e.__state?e.__state.sharedNodeState:CH(WK(),e.getType()).sharedNodeState}function hU(e){if(e)for(const t in e)return e}function mU(e,t,n){for(const[r,i]of t.knownState){if(e.has(r.key))continue;e.add(r.key);const t=n?n.getValue(r):r.defaultValue;if(t!==i&&!r.isEqual(t,i))return!0}return!1}function gU(e,t,n){const{unknownState:r}=t,i=n?n.unknownState:void 0;if(r)for(const[a,o]of Object.entries(r))if(!e.has(a)&&(e.add(a),o!==(i?i[a]:void 0)))return!0;return!1}function yU(e,t){const n=e.__state;return n&&n.node===e?n.getWritable(t):n}function vU(e,t){const n=e.__mode,r=e.__format,i=e.__style,a=t.__mode,o=t.__format,s=t.__style,l=e.__state,u=t.__state;return(null===n||n===a)&&(null===r||r===o)&&(null===i||i===s)&&(null===e.__state||l===u||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;const n=new Set;return!(e&&mU(n,e,t)||t&&mU(n,t,e)||e&&gU(n,e,t)||t&&gU(n,t,e))}(l,u))}function bU(e,t){const n=e.mergeWithSibling(t),r=RW()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function xU(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&H$(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(vU(t,r)){r=bU(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&H$(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(vU(r,n)){r=bU(r,n);break}break}n.remove()}}else r.remove()}function wU(e){return NU(e.anchor),NU(e.focus),e}function NU(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,i;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),i=!0):(r=t.getChildAtIndex(n),i=!1),H$(r)){e.set(r.__key,i?r.getTextContentSize():0,"text",!0);break}if(!eH(r))break;e.set(r.__key,i?r.getChildrenSize():0,"element",!0)}}let SU,EU,AU,CU,kU,_U,DU,OU,jU,MU,TU="",PU="",FU=null,IU="",BU="",RU=!1,zU=!1,LU=null;function UU(e,t){const n=DU.get(e);if(null!==t){const n=nq(e);n.parentNode===t&&t.removeChild(n)}if(OU.has(e)||EU._keyToDOMMap.delete(e),eH(n)){const e=ZU(n,DU);qU(e,0,e.length-1,null)}void 0!==n&&gK(MU,AU,CU,n,"destroyed")}function qU(e,t,n,r){let i=t;for(;i<=n;++i){const t=e[i];void 0!==t&&UU(t,r)}}function $U(e,t){e.setProperty("text-align",t)}const WU="40px";function HU(e,t){const n=SU.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||WU;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function KU(e,t){const n=e.style;0===t?$U(n,""):1===t?$U(n,"left"):2===t?$U(n,"center"):3===t?$U(n,"right"):4===t?$U(n,"justify"):5===t?$U(n,"start"):6===t&&$U(n,"end")}function VU(e,t){const n=OU.get(e);void 0===n&&yL(60);const r=n.createDOM(SU,EU);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,r,EU),H$(n)?r.setAttribute("data-lexical-text","true"):rH(n)&&r.setAttribute("data-lexical-decorator","true"),eH(n)){const e=n.__indent,t=n.__size;if(0!==e&&HU(r,e),0!==t){const e=t-1;!function(e,t,n,r){const i=PU;PU="",YU(e,n,0,t,n.getDOMSlot(r)),JU(n,r),PU=i}(ZU(n,OU),e,n,r)}const i=n.__format;0!==i&&KU(r,i),n.isInline()||XU(null,n,r),wK(n)&&(TU+=LL,BU+=LL)}else{const t=n.getTextContent();if(rH(n)){const t=n.decorate(EU,SU);null!==t&&eq(e,t),r.contentEditable="false"}else H$(n)&&(n.isDirectionless()||(PU+=t));TU+=t,BU+=t}return null!==t&&t.insertChild(r),gK(MU,AU,CU,n,"created"),r}function YU(e,t,n,r,i){const a=TU;TU="";let o=n;for(;o<=r;++o){VU(e[o],i);const t=OU.get(e[o]);null!==t&&H$(t)&&(null===FU&&(FU=t.getFormat()),""===IU&&(IU=t.getStyle()))}wK(t)&&(TU+=LL),i.element.__lexicalTextContent=TU,TU=a+TU}function GU(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return k$(e)?"line-break":rH(e)&&e.isInline()?"decorator":null}return"empty"}return null}function XU(e,t,n){const r=GU(e,DU),i=GU(t,OU);r!==i&&t.getDOMSlot(n).setManagedLineBreak(i)}function JU(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==PU||r!==LU){const n=""===PU,i=n?LU:function(e){return WL.test(e)?"rtl":HL.test(e)?"ltr":null}(PU);if(i!==r){const a=t.classList,o=SU.theme;let s=null!==r?o[r]:void 0,l=null!==i?o[i]:void 0;if(void 0!==s){if("string"==typeof s){const e=DL(s);s=o[r]=e}a.remove(...s)}if(null===i||n&&"ltr"===i)t.removeAttribute("dir");else{if(void 0!==l){if("string"==typeof l){const e=DL(l);l=o[i]=e}void 0!==l&&a.add(...l)}t.dir=i}zU||(e.getWritable().__dir=i)}LU=i,t.__lexicalDirTextContent=PU,t.__lexicalDir=i}}function ZU(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&yL(101),n.push(r),r=e.__next}return n}function QU(e,t){const n=DU.get(e);let r=OU.get(e);void 0!==n&&void 0!==r||yL(61);const i=RU||_U.has(e)||kU.has(e),a=NK(EU,e);if(n===r&&!i){if(eH(n)){const e=a.__lexicalTextContent;void 0!==e&&(TU+=e,BU+=e);const t=a.__lexicalDirTextContent;void 0!==t&&(PU+=t)}else{const e=n.getTextContent();H$(n)&&!n.isDirectionless()&&(PU+=e),BU+=e,TU+=e}return a}if(n!==r&&i&&gK(MU,AU,CU,r,"updated"),r.updateDOM(n,a,SU)){const n=VU(e,null);return null===t&&yL(62),t.replaceChild(n,a),UU(e,null),n}if(eH(n)&&eH(r)){const e=r.__indent;e!==n.__indent&&HU(a,e);const t=r.__format;t!==n.__format&&KU(a,t),i&&(function(e,t,n){const r=PU;var i;PU="",FU=null,IU="",function(e,t,n){const r=TU,i=e.__size,a=t.__size;TU="";const o=n.element;if(1===i&&1===a){const n=e.__first,i=t.__first;if(n===i)QU(n,o);else{const e=nq(n),t=VU(i,null);try{o.replaceChild(t,e)}catch(r){if("object"==typeof r&&null!=r){const a=`${r.toString()} Parent: ${o.tagName}, new child: {tag: ${t.tagName} key: ${i}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(a)}throw r}UU(n,null)}const a=OU.get(i);H$(a)&&(null===FU&&(FU=a.getFormat()),""===IU&&(IU=a.getStyle()))}else{const r=ZU(e,DU),s=ZU(t,OU);if(r.length!==i&&yL(227),s.length!==a&&yL(228),0===i)0!==a&&YU(s,t,0,a-1,n);else if(0===a){if(0!==i){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;qU(r,0,i-1,e?null:o),e&&(o.textContent="")}}else!function(e,t,n,r,i,a){const o=r-1,s=i-1;let l,u,c=a.getFirstChild(),f=0,d=0;for(;f<=o&&d<=s;){const e=t[f],r=n[d];if(e===r)c=tq(QU(r,a.element)),f++,d++;else{void 0===l&&(l=new Set(t)),void 0===u&&(u=new Set(n));const i=u.has(e),o=l.has(r);if(i)if(o){const e=NK(EU,r);e===c?c=tq(QU(r,a.element)):(a.withBefore(c).insertChild(e),QU(r,a.element)),f++,d++}else VU(r,a.withBefore(c)),d++;else c=tq(nq(e)),UU(e,a.element),f++}const i=OU.get(r);null!==i&&H$(i)&&(null===FU&&(FU=i.getFormat()),""===IU&&(IU=i.getStyle()))}const p=f>o,h=d>s;if(p&&!h){const t=n[s+1],r=void 0===t?null:EU.getElementByKey(t);YU(n,e,d,s,a.withBefore(r))}else h&&!p&&qU(t,f,o,a.element)}(t,r,s,i,a,n)}wK(t)&&(TU+=LL),o.__lexicalTextContent=TU,TU=r+TU}(e,t,t.getDOMSlot(n)),JU(t,n),i=t,null==FU||FU===i.__textFormat||zU||i.setTextFormat(FU),function(e){""===IU||IU===e.__textStyle||zU||e.setTextStyle(IU)}(t),PU=r}(n,r,a),aH(r)||r.isInline()||XU(n,r,a)),wK(r)&&(TU+=LL,BU+=LL)}else{const t=r.getTextContent();if(rH(r)){const t=r.decorate(EU,SU);null!==t&&eq(e,t)}else H$(r)&&!r.isDirectionless()&&(PU+=t);TU+=t,BU+=t}if(!zU&&aH(r)&&r.__cachedText!==BU){const e=r.getWritable();e.__cachedText=BU,r=e}return a}function eq(e,t){let n=EU._pendingDecorators;const r=EU._decorators;if(null===n){if(r[e]===t)return;n=XH(EU)}n[e]=t}function tq(e){let t=e.nextSibling;return null!==t&&t===EU._blockCursorElement&&(t=t.nextSibling),t}function nq(e){const t=jU.get(e);return void 0===t&&yL(75,e),t}function rq(e){return{type:e}}const iq=rq("SELECTION_CHANGE_COMMAND"),aq=rq("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),oq=rq("CLICK_COMMAND"),sq=rq("DELETE_CHARACTER_COMMAND"),lq=rq("INSERT_LINE_BREAK_COMMAND"),uq=rq("INSERT_PARAGRAPH_COMMAND"),cq=rq("CONTROLLED_TEXT_INSERTION_COMMAND"),fq=rq("PASTE_COMMAND"),dq=rq("REMOVE_TEXT_COMMAND"),pq=rq("DELETE_WORD_COMMAND"),hq=rq("DELETE_LINE_COMMAND"),mq=rq("FORMAT_TEXT_COMMAND"),gq=rq("UNDO_COMMAND"),yq=rq("REDO_COMMAND"),vq=rq("KEYDOWN_COMMAND"),bq=rq("KEY_ARROW_RIGHT_COMMAND"),xq=rq("MOVE_TO_END"),wq=rq("KEY_ARROW_LEFT_COMMAND"),Nq=rq("MOVE_TO_START"),Sq=rq("KEY_ARROW_UP_COMMAND"),Eq=rq("KEY_ARROW_DOWN_COMMAND"),Aq=rq("KEY_ENTER_COMMAND"),Cq=rq("KEY_SPACE_COMMAND"),kq=rq("KEY_BACKSPACE_COMMAND"),_q=rq("KEY_ESCAPE_COMMAND"),Dq=rq("KEY_DELETE_COMMAND"),Oq=rq("KEY_TAB_COMMAND"),jq=rq("INSERT_TAB_COMMAND"),Mq=rq("INDENT_CONTENT_COMMAND"),Tq=rq("OUTDENT_CONTENT_COMMAND"),Pq=rq("DROP_COMMAND"),Fq=rq("FORMAT_ELEMENT_COMMAND"),Iq=rq("DRAGSTART_COMMAND"),Bq=rq("DRAGOVER_COMMAND"),Rq=rq("DRAGEND_COMMAND"),zq=rq("COPY_COMMAND"),Lq=rq("CUT_COMMAND"),Uq=rq("SELECT_ALL_COMMAND"),qq=rq("CLEAR_EDITOR_COMMAND"),$q=rq("CLEAR_HISTORY_COMMAND"),Wq=rq("CAN_REDO_COMMAND"),Hq=rq("CAN_UNDO_COMMAND"),Kq=rq("FOCUS_COMMAND"),Vq=rq("BLUR_COMMAND"),Yq=rq("KEY_MODIFIER_COMMAND"),Gq=Object.freeze({}),Xq=[["keydown",function(e,t){if(Jq=e.timeStamp,Zq=e.key,!t.isComposing()&&!xK(t,vq,e)&&null!=e.key){if(o$&&pK(e))return XW(t,()=>{g$(t,s$)}),o$=!1,void(s$="");if(function(e){return cK(e,"ArrowRight",{shiftKey:"any"})}(e))xK(t,bq,e);else if(function(e){return cK(e,"ArrowRight",fK)}(e))xK(t,xq,e);else if(function(e){return cK(e,"ArrowLeft",{shiftKey:"any"})}(e))xK(t,wq,e);else if(function(e){return cK(e,"ArrowLeft",fK)}(e))xK(t,Nq,e);else if(function(e){return cK(e,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))xK(t,Sq,e);else if(function(e){return cK(e,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))xK(t,Eq,e);else if(function(e){return cK(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))i$=!0,xK(t,Aq,e);else if(function(e){return" "===e.key}(e))xK(t,Cq,e);else if(function(e){return xL&&cK(e,"o",{ctrlKey:!0})}(e))e.preventDefault(),i$=!0,xK(t,lq,!0);else if(function(e){return cK(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))i$=!1,xK(t,Aq,e);else if(function(e){return cK(e,"Backspace",{shiftKey:"any"})||xL&&cK(e,"h",{ctrlKey:!0})}(e))pK(e)?xK(t,kq,e):(e.preventDefault(),xK(t,sq,!0));else if(function(e){return"Escape"===e.key}(e))xK(t,_q,e);else if(function(e){return cK(e,"Delete",{})||xL&&cK(e,"d",{ctrlKey:!0})}(e))!function(e){return"Delete"===e.key}(e)?(e.preventDefault(),xK(t,sq,!1)):xK(t,Dq,e);else if(function(e){return cK(e,"Backspace",dK)}(e))e.preventDefault(),xK(t,pq,!0);else if(function(e){return cK(e,"Delete",dK)}(e))e.preventDefault(),xK(t,pq,!1);else if(function(e){return xL&&cK(e,"Backspace",{metaKey:!0})}(e))e.preventDefault(),xK(t,hq,!0);else if(function(e){return xL&&(cK(e,"Delete",{metaKey:!0})||cK(e,"k",{ctrlKey:!0}))}(e))e.preventDefault(),xK(t,hq,!1);else if(function(e){return cK(e,"b",fK)}(e))e.preventDefault(),xK(t,mq,"bold");else if(function(e){return cK(e,"u",fK)}(e))e.preventDefault(),xK(t,mq,"underline");else if(function(e){return cK(e,"i",fK)}(e))e.preventDefault(),xK(t,mq,"italic");else if(function(e){return cK(e,"Tab",{shiftKey:"any"})}(e))xK(t,Oq,e);else if(function(e){return cK(e,"z",fK)}(e))e.preventDefault(),xK(t,gq,void 0);else if(function(e){return xL?cK(e,"z",{metaKey:!0,shiftKey:!0}):cK(e,"y",{ctrlKey:!0})||cK(e,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),xK(t,yq,void 0);else{const n=t._editorState._selection;null===n||tW(n)?hK(e)&&(e.preventDefault(),xK(t,Uq,e)):function(e){return cK(e,"c",fK)}(e)?(e.preventDefault(),xK(t,zq,e)):function(e){return cK(e,"x",fK)}(e)?(e.preventDefault(),xK(t,Lq,e)):hK(e)&&(e.preventDefault(),xK(t,Uq,e))}(function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey})(e)&&xK(t,Yq,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;RK(n)&&"touch"!==r&&"pen"!==r&&0===e.button&&XW(t,()=>{DH(n)||(r$=!0)})}],["compositionstart",function(e,t){XW(t,()=>{const n=vW();if(tW(n)&&!t.isComposing()){const r=n.anchor,i=n.anchor.getNode();WH(r.key),(e.timeStamp<Jq+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||H$(i)&&i.getStyle()!==n.style)&&xK(t,cq,UL)}})}],["compositionend",function(e,t){wL?a$=!0:EL||!SL&&!_L?XW(t,()=>{g$(t,e.data)}):(o$=!0,s$=e.data)}],["input",function(e,t){e.stopPropagation(),XW(t,()=>{if(BK(e.target)&&DH(e.target))return;const n=vW(),r=e.data,i=m$(e);if(null!=r&&tW(n)&&c$(n,i,r,e.timeStamp,!1)){a$&&(g$(t,r),a$=!1);const i=n.anchor.getNode(),a=FK(kK(t));if(null===a)return;const o=n.isBackward(),s=o?n.anchor.offset:n.focus.offset,l=o?n.focus.offset:n.anchor.offset;NL&&!n.isCollapsed()&&H$(i)&&null!==a.anchorNode&&i.getTextContent().slice(0,s)+r+i.getTextContent().slice(s+l)===oK(a.anchorNode)||xK(t,cq,r);const u=r.length;wL&&u>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=u),SL||EL||_L||!t.isComposing()||(Jq=0,WH(null))}else sK(!1,t,null!==r?r:void 0),a$&&(g$(t,r||void 0),a$=!1);!function(){FW();lU(RW())}()},{event:e}),e$=null}],["click",function(e,t){XW(t,()=>{const n=vW(),r=FK(kK(t)),i=bW();if(r)if(tW(n)){const t=n.anchor,a=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!aH(a)&&1===ZH().getChildrenSize()&&a.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&a!==n.focus.getNode()){const e=function(e,t){let n=e;for(;n!==ZH()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}(a,e=>eH(e)&&!e.isInline());eH(e)&&e.select(0)}}else if("touch"===e.pointerType||"pen"===e.pointerType){const n=r.anchorNode;(BK(n)||BH(n))&&eK(yW(i,r,t,e))}xK(t,oq,e)})}],["cut",Gq],["copy",Gq],["dragstart",Gq],["dragover",Gq],["dragend",Gq],["paste",Gq],["focus",Gq],["blur",Gq],["drop",Gq]];NL&&Xq.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=m$(e);"deleteCompositionText"===n||wL&&bK(t)||"insertCompositionText"!==n&&XW(t,()=>{const i=vW();if("deleteContentBackward"===n){if(null===i){const e=bW();if(!tW(e))return;eK(e.clone())}if(tW(i)){const n=i.anchor.key===i.focus.key;if(a=e.timeStamp,"MediaLast"===Zq&&a<Jq+30&&t.isComposing()&&n){if(WH(null),Jq=0,setTimeout(()=>{XW(t,()=>{WH(null)})},30),tW(i)){const e=i.anchor.getNode();e.markDirty(),H$(e)||yL(142),h$(i,e)}}else{WH(null),e.preventDefault();const r=i.anchor.getNode(),a=r.getTextContent(),o=r.canInsertTextAfter(),s=0===i.anchor.offset&&i.focus.offset===a.length;let l=kL&&n&&!s&&o;if(l&&i.isCollapsed()&&(l=!rH(vK(i.anchor,!0))),!l){xK(t,sq,!0);const e=vW();kL&&tW(e)&&e.isCollapsed()&&(l$=e,setTimeout(()=>l$=null))}}return}}var a;if(!tW(i))return;const o=e.data;null!==e$&&sK(!1,t,e$),i.dirty&&null===e$||!i.isCollapsed()||aH(i.anchor.getNode())||null===r||i.applyDOMRange(r),e$=null;const s=i.anchor,l=i.focus,u=s.getNode(),c=l.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":xK(t,cq,e);break;case"insertFromComposition":WH(null),xK(t,cq,e);break;case"insertLineBreak":WH(null),xK(t,lq,!1);break;case"insertParagraph":WH(null),i$&&!EL?(i$=!1,xK(t,lq,!1)):xK(t,uq,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":xK(t,fq,e);break;case"deleteByComposition":(function(e,t){return e!==t||eH(e)||eH(t)||!FH(e)||!FH(t)})(u,c)&&xK(t,dq,e);break;case"deleteByDrag":case"deleteByCut":xK(t,dq,e);break;case"deleteContent":xK(t,sq,!1);break;case"deleteWordBackward":xK(t,pq,!0);break;case"deleteWordForward":xK(t,pq,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":xK(t,hq,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":xK(t,hq,!1);break;case"formatStrikeThrough":xK(t,mq,"strikethrough");break;case"formatBold":xK(t,mq,"bold");break;case"formatItalic":xK(t,mq,"italic");break;case"formatUnderline":xK(t,mq,"underline");break;case"historyUndo":xK(t,gq,void 0);break;case"historyRedo":xK(t,yq,void 0)}else{if("\n"===o)e.preventDefault(),xK(t,lq,!1);else if(o===LL)e.preventDefault(),xK(t,uq,void 0);else if(null==o&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(t)}else null!=o&&c$(i,r,o,e.timeStamp,!0)?(e.preventDefault(),xK(t,cq,o)):e$=o;Qq=e.timeStamp}})}(e,t)]);let Jq=0,Zq=null,Qq=0,e$=null;const t$=new WeakMap;let n$=!1,r$=!1,i$=!1,a$=!1,o$=!1,s$="",l$=null,u$=[0,"",0,"root",0];function c$(e,t,n,r,i){const a=e.anchor,o=e.focus,s=a.getNode(),l=RW(),u=FK(kK(l)),c=null!==u?u.anchorNode:null,f=a.key,d=l.getElementByKey(f),p=n.length;return f!==o.key||!H$(s)||(!i&&(!NL||Qq<r+50)||s.isDirty()&&p<2||rK(n))&&a.offset!==o.offset&&!s.isComposing()||IH(s)||s.isDirty()&&p>1||(i||!NL)&&null!==d&&!s.isComposing()&&c!==RH(d)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),i=FH(t);return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||i||function(e){const t=e.getPreviousSibling();return(H$(t)||eH(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||i)}(e,s)}function f$(e,t){return BH(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function d$(e,t,n){const{anchorNode:r,anchorOffset:i,focusNode:a,focusOffset:o}=e;n$&&(n$=!1,f$(r,i)&&f$(a,o)&&!l$)||XW(t,()=>{if(!n)return void eK(null);if(!jH(t,r,a))return;let s=vW();if(l$&&tW(s)&&s.isCollapsed()){const e=s.anchor,t=l$.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&(s=l$.clone(),eK(s))}if(l$=null,tW(s)){const n=s.anchor,r=n.getNode();if(s.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(s.dirty=!0);const i=kK(t).event,a=i?i.timeStamp:performance.now(),[o,l,u,c,f]=u$,d=ZH(),p=!1===t.isComposing()&&""===d.getTextContent();if(a<f+200&&n.offset===u&&n.key===c)p$(s,o,l);else if("text"===n.type)H$(r)||yL(141),h$(s,r);else if("element"===n.type&&!p){eH(r)||yL(259);const e=n.getNode();e.isEmpty()?function(e,t){p$(e,t.getTextFormat(),t.getTextStyle())}(s,e):p$(s,0,"")}}else{const e=n.key,t=s.focus.key,r=s.getNodes(),a=r.length,l=s.isBackward(),u=l?o:i,c=l?i:o,f=l?t:e,d=l?e:t;let p=2047,h=!1;for(let n=0;n<a;n++){const e=r[n],t=e.getTextContentSize();if(H$(e)&&0!==t&&!(0===n&&e.__key===f&&u===t||n===a-1&&e.__key===d&&0===c)&&(h=!0,p&=e.getFormat(),0===p))break}s.format=h?p:0}}xK(t,iq,void 0)})}function p$(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function h$(e,t){p$(e,t.getFormat(),t.getStyle())}function m$(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function g$(e,t){const n=e._compositionKey;if(WH(null),null!==n&&null!=t){if(""===t){const t=KH(n),r=RH(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&H$(t)&&lK(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=vW();if(tW(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void xK(e,Aq,null)}}}sK(!0,e,t)}function y$(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const v$=new Map;function b$(e){const t=function(e){const t=CK(e);return t?t.getSelection():null}(e.target);if(null===t)return;const n=TH(t.anchorNode);if(null===n)return;r$&&(r$=!1,XW(n,()=>{const r=bW(),i=t.anchorNode;(BK(i)||BH(i))&&eK(yW(r,t,n,e))}));const r=iK(n),i=r[r.length-1],a=i._key,o=v$.get(a),s=o||i;s!==n&&d$(t,s,!1),d$(t,n,!0),n!==i?v$.set(a,n):o&&v$.delete(a)}function x$(e){e._lexicalHandled=!0}function w$(e){return!0===e._lexicalHandled}function N$(e,t,n){FW();const r=e.__key,i=e.getParent();if(null===i)return;const a=function(e){const t=vW();if(!tW(t)||!eH(e))return t;const{anchor:n,focus:r}=t,i=n.getNode(),a=r.getNode();return AK(i,e)&&n.set(e.__key,0,"element"),AK(a,e)&&r.set(e.__key,0,"element"),t}(e);let o=!1;if(tW(a)&&t){const t=a.anchor,n=a.focus;t.key===r&&(NW(t,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(NW(n,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else rW(a)&&t&&e.isSelected()&&e.selectPrevious();if(tW(a)&&t&&!o){const t=e.getIndexWithinParent();qH(e),xW(a,i,t,-1)}else qH(e);n||DK(i)||i.canBeEmpty()||!i.isEmpty()||N$(i,t),t&&a&&aH(i)&&i.isEmpty()&&i.selectEnd()}class S${static getType(){const{ownNodeType:e}=ZK(this);return void 0===e&&yL(64,this.name),e}static clone(e){yL(65,this.name)}$config(){return{}}config(e,t){const n=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:n,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),UH(this,e)}getType(){return this.__type}isInline(){yL(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=KH(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||vW();if(null==t)return!1;const n=t.getNodes().some(e=>e.__key===this.__key);if(H$(this))return n;if(tW(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(rH(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:KH(e)}getParentOrThrow(){const e=this.getParent();return null===e&&yL(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(DK(t))return eH(e)||e===this&&rH(e)||yL(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&yL(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:KH(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:KH(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=eH(this)?this:this.getParent(),n=eH(e)?e:e.getParent(),r=t&&n?DV(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){const t=DV(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===CV(t):("same"!==t.type&&"ancestor"!==t.type&&yL(279),!1)))}isParentOf(e){const t=DV(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let i=this;for(;null!==i;){const a=i.__key;if(r.has(a)||(r.add(a),n.push(i)),i===e)break;const o=eH(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==o){i=o;continue}const s=t?i.getNextSibling():i.getPreviousSibling();if(null!==s){i=s;continue}const l=i.getParentOrThrow();if(r.has(l.__key)||n.push(l),l===e)break;let u=null,c=l;do{if(null===c&&yL(68),u=t?c.getNextSibling():c.getPreviousSibling(),c=c.getParent(),null===c)break;null!==u||r.has(c.__key)||n.push(c)}while(null===u);i=u}return t||n.reverse(),n}isDirty(){const e=RW()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=KH(this.__key);return null===e&&yL(113),e}getWritable(){FW();const e=BW(),t=RW(),n=e._nodeMap,r=this.__key,i=this.getLatest(),a=t._cloneNotNeeded,o=vW();if(null!==o&&o.setCachedNodes(null),a.has(r))return $H(i),i;const s=YK(i);return a.add(r),$H(s),n.set(r,s),s}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){yL(70)}updateDOM(e,t,n){yL(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){yL(18,this.name)}updateFromJSON(e){return function(e,t){const n=e.getWritable(),r=t.$;let i=r;for(const a of pU(n).flatKeys)a in t&&(void 0!==i&&i!==r||(i={...r}),i[a]=t[a]);return(n.__state||i)&&dU(e).updateFromJSON(i),n}(this,e)}static transform(){return null}remove(e){N$(this,!0,e)}replace(e,t){FW();let n=vW();null!==n&&(n=n.clone()),MK(this,e);const r=this.getLatest(),i=this.__key,a=e.__key,o=e.getWritable(),s=this.getParentOrThrow().getWritable(),l=s.__size;qH(o);const u=r.getPreviousSibling(),c=r.getNextSibling(),f=r.__prev,d=r.__next,p=r.__parent;if(N$(r,!1,!0),null===u?s.__first=a:u.getWritable().__next=a,o.__prev=f,null===c?s.__last=a:c.getWritable().__prev=a,o.__next=d,o.__parent=p,s.__size=l,t&&(eH(this)&&eH(o)||yL(139),this.getChildren().forEach(e=>{o.append(e)})),tW(n)){eK(n);const e=n.anchor,t=n.focus;e.key===i&&Q$(e,o),t.key===i&&Q$(t,o)}return HH()===i&&WH(a),o}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];FW(),MK(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.getParent(),a=vW();let o=!1,s=!1;if(null!==i){const t=e.getIndexWithinParent();if(qH(r),tW(a)){const e=i.__key,n=a.anchor,r=a.focus;o="element"===n.type&&n.key===e&&n.offset===t+1,s="element"===r.type&&r.key===e&&r.offset===t+1}}const l=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),c=r.__key,f=n.__next;if(null===l?u.__last=c:l.getWritable().__prev=c,u.__size++,n.__next=c,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,t&&tW(a)){const e=this.getIndexWithinParent();xW(a,u,e+1);const t=u.__key;o&&a.anchor.set(t,e+2,"element"),s&&a.focus.set(t,e+2,"element")}return e}insertBefore(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];FW(),MK(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.__key;qH(r);const a=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,l=this.getIndexWithinParent();null===a?o.__first=i:a.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent;const u=vW();return t&&tW(u)&&xW(u,this.getParentOrThrow(),l),e}isParentRequired(){return!1}createParentElementNode(){return vH()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){FW();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(eH(n))return n.select();if(!H$(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){FW();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(eH(n))return n.select(0,0);if(!H$(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class E$ extends S${static getType(){return"linebreak"}static clone(e){return new E$(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&UK(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&_$(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&_$(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&UK(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&_$(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&_$(r))return!0}return!1}(e)?null:{conversion:A$,priority:0}}}static importJSON(e){return C$().updateFromJSON(e)}}function A$(e){return{node:C$()}}function C$(){return jK(new E$)}function k$(e){return e instanceof E$}function _$(e){return BH(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function D$(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function O$(e,t){return 1&t?"strong":2&t?"em":"span"}function j$(e,t,n,r,i){const a=r.classList;let o=mK(i,"base");void 0!==o&&a.add(...o),o=mK(i,"underlineStrikethrough");let s=!1;const l=8&t&&4&t;void 0!==o&&(8&n&&4&n?(s=!0,l||a.add(...o)):l&&a.remove(...o));for(const u in KL){const e=KL[u];if(o=mK(i,u),void 0!==o)if(n&e){if(s&&("underline"===u||"strikethrough"===u)){t&e&&a.remove(...o);continue}t&e&&(!l||"underline"!==u)&&"strikethrough"!==u||a.add(...o)}else t&e&&a.remove(...o)}}function M$(e,t,n){const r=t.firstChild,i=n.isComposing(),a=e+(i?zL:"");if(null==r)t.textContent=a;else{const e=r.nodeValue;if(e!==a)if(i||wL){const[t,n,i]=function(e,t){const n=e.length,r=t.length;let i=0,a=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;a+i<n&&a+i<r&&e[n-a-1]===t[r-a-1];)a++;return[i,n-i-a,t.slice(i,r-a)]}(e,a);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=a}}function T$(e,t,n,r,i,a){M$(i,e,t);const o=a.theme.text;void 0!==o&&j$(0,0,r,e,o)}function P$(e,t){const n=document.createElement(t);return n.appendChild(e),n}class F$ extends S${static getType(){return"text"}static clone(e){return new F$(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(arguments.length>1?arguments[1]:void 0),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return JL[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===HH()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=KL[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return zH(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const n=this.__format,r=D$(0,n),i=O$(0,n),a=null===r?i:r,o=document.createElement(a);let s=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(s=document.createElement(i),o.appendChild(s)),T$(s,this,0,n,this.__text,e);const l=this.__style;return""!==l&&(o.style.cssText=l),o}updateDOM(e,t,n){const r=this.__text,i=e.__format,a=this.__format,o=D$(0,i),s=D$(0,a),l=O$(0,i),u=O$(0,a);if((null===o?l:o)!==(null===s?u:s))return!0;if(o===s&&l!==u){const e=t.firstChild;null==e&&yL(48);const i=document.createElement(u);return T$(i,this,0,a,r,n),t.replaceChild(i,e),!1}let c=t;null!==s&&null!==o&&(c=t.firstChild,null==c&&yL(49)),M$(r,c,this);const f=n.theme.text;void 0!==f&&i!==a&&j$(0,i,a,c,f);const d=e.__style,p=this.__style;return d!==p&&(t.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:L$,priority:0}),b:()=>({conversion:B$,priority:0}),code:()=>({conversion:$$,priority:0}),em:()=>({conversion:$$,priority:0}),i:()=>({conversion:$$,priority:0}),mark:()=>({conversion:$$,priority:0}),s:()=>({conversion:$$,priority:0}),span:()=>({conversion:I$,priority:0}),strong:()=>({conversion:$$,priority:0}),sub:()=>({conversion:$$,priority:0}),sup:()=>({conversion:$$,priority:0}),u:()=>({conversion:$$,priority:0})}}static importJSON(e){return W$().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return BK(t)||yL(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=P$(t,"b")),this.hasFormat("italic")&&(t=P$(t,"i")),this.hasFormat("strikethrough")&&(t=P$(t,"s")),this.hasFormat("underline")&&(t=P$(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?KL[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?VL[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=zH(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=XL[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){FW();let n=e,r=t;const i=vW(),a=this.getTextContent(),o=this.__key;if("string"==typeof a){const e=a.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!tW(i))return hW(o,n,o,r,"text","text");{const e=HH();e!==i.anchor.key&&e!==i.focus.key||WH(o),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const i=this.getWritable(),a=i.__text,o=n.length;let s=e;s<0&&(s=o+s,s<0&&(s=0));const l=vW();if(r&&tW(l)){const t=e+o;l.setTextNodeRange(i,t,i,t)}const u=a.slice(0,s)+n+a.slice(s+t);return i.__text=u,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(){FW();const e=this.getLatest(),t=e.getTextContent();if(""===t)return[];const n=e.__key,r=HH(),i=t.length;for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.sort((e,t)=>e-t),o.push(i);const l=[],u=o.length;for(let A=0,C=0;A<i&&C<=u;C++){const e=o[C];e>A&&(l.push(t.slice(A,e)),A=e)}const c=l.length;if(1===c)return[e];const f=l[0],d=e.getParent();let p;const h=e.getFormat(),m=e.getStyle(),g=e.__detail;let y=!1,v=null,b=null;const x=vW();if(tW(x)){const[e,t]=x.isBackward()?[x.focus,x.anchor]:[x.anchor,x.focus];"text"===e.type&&e.key===n&&(v=e),"text"===t.type&&t.key===n&&(b=t)}e.isSegmented()?(p=W$(f),p.__format=h,p.__style=m,p.__detail=g,p.__state=yU(e,p),y=!0):p=e.setTextContent(f);const w=[p];for(let A=1;A<c;A++){const t=W$(l[A]);t.__format=h,t.__style=m,t.__detail=g,t.__state=yU(e,t);const i=t.__key;r===n&&WH(i),w.push(t)}const N=v?v.offset:null,S=b?b.offset:null;let E=0;for(const A of w){if(!v&&!b)break;const e=E+A.getTextContentSize();if(null!==v&&null!==N&&N<=e&&N>=E&&(v.set(A.getKey(),N-E,"text"),N<e&&(v=null)),null!==b&&null!==S&&S<=e&&S>=E){b.set(A.getKey(),S-E,"text");break}E=e}if(null!==d){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&$H(t),null!==n&&$H(n)}(this);const e=d.getWritable(),t=this.getIndexWithinParent();y?(e.splice(t,0,w),this.remove()):e.splice(t,1,w),tW(x)&&xW(x,d,t,c-1)}return w}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||yL(50);const n=this.__key,r=e.__key,i=this.__text,a=i.length;HH()===r&&WH(n);const o=vW();if(tW(o)){const i=o.anchor,s=o.focus;null!==i&&i.key===r&&SW(i,t,n,e,a),null!==s&&s.key===r&&SW(s,t,n,e,a)}const s=e.__text,l=t?s+i:i+s;this.setTextContent(l);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function I$(e){return{forChild:K$(e.style),node:null}}function B$(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:K$(t.style,n?void 0:"bold"),node:null}}const R$=new WeakMap;function z$(e){if(!BK(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function L$(e){const t=e;null===e.parentElement&&yL(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=R$.get(n))&&!z$(n);)r.push(n),n=n.parentNode;const i=void 0===t?n:t;for(let a=0;a<r.length;a++)R$.set(r[a],i);return i}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(C$()):"\t"===r?t.push(Y$()):""!==r&&t.push(W$(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=U$(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=U$(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:W$(n)}}function U$(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,BK(n)){const e=n.style.display;if(""===e&&!LK(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(BH(n))return n;if("BR"===n.nodeName)return null}}const q$={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function $$(e){const t=q$[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:K$(e.style,t),node:null}}function W$(){return jK(new F$(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""))}function H$(e){return e instanceof F$}function K$(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,a=r.includes("line-through"),o="italic"===e.fontStyle,s=r.includes("underline"),l=e.verticalAlign;return e=>H$(e)?(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),a&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),o&&!e.hasFormat("italic")&&e.toggleFormat("italic"),s&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==l||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==l||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}class V$ extends F${static getType(){return"tab"}static clone(e){return new V$(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=mK(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return Y$().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&yL(126),super.setTextContent("\t")}spliceText(e,t,n,r){return""===n&&0===t||"\t"===n&&1===t||yL(286),this}setDetail(e){return 2!==e&&yL(127),this}setMode(e){return"normal"!==e&&yL(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Y$(){return jK(new V$)}function G$(e){return e instanceof V$}class X${constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:AV(RV(OV(this,"next")),RV(OV(e,"next")))<0}getNode(){const e=KH(this.key);return null===e&&yL(20),e}set(e,t,n,r){const i=this._selection,a=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,PW()||(HH()===a&&WH(e),null!==i&&(i.setCachedNodes(null),i.dirty=!0)))}}function J$(e,t,n){return new X$(e,t,n)}function Z$(e,t){let n=t.__key,r=e.offset,i="element";if(H$(t)){i="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!eH(t)){const e=t.getNextSibling();if(H$(e))n=e.__key,r=0,i="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function Q$(e,t){if(eH(t)){const n=t.getLastDescendant();eH(n)||H$(n)?Z$(e,n):Z$(e,t)}else Z$(e,t)}class eW{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!rW(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new eW(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let i;if(H$(r))i=r.select();else{const e=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(e,e)}i.insertNodes(e);for(let a=0;a<n;a++)t[a].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const r of t){const e=KH(r);null!==e&&n.push(e)}return PW()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((vW()||bW())===this&&e[0]){const t=pV(e[0],"next");MV(SV(t,t))}for(const t of e)t.remove()}}function tW(e){return e instanceof nW}class nW{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!tW(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=function(e){const t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);const i=new Set,a=new Set;for(const o of e)if(uV(o)){const{origin:e}=o;0===t.length?i.add(e):(a.add(e),t.push(e))}else{const{origin:e}=o;eH(e)&&a.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),lV(e.focus)&&eH(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let o=yV(e.focus.origin,"previous");uV(o)&&i.has(o.origin)&&!o.origin.isEmpty()&&o.origin.is(t[t.length-1]);o=vV(o))i.delete(o.origin),t.pop();for(;t.length>1;){const e=t[t.length-1];if(!eH(e)||a.has(e)||e.isEmpty()||i.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){const n=RV(e.anchor),r=RV(e.anchor.getFlipped()),i=e=>sV(e)?e.origin:e.getNodeAtCaret(),a=i(n)||i(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(a)}return t}(UV(PV(this),"next"));return PW()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,a=r.isBefore(i),[o,s]=aW(this);let l="",u=!0;for(let c=0;c<e.length;c++){const f=e[c];if(eH(f)&&!f.isInline())u||(l+="\n"),u=!f.isEmpty();else if(u=!1,H$(f)){let e=f.getTextContent();f===t?f===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=o<s?e.slice(o,s):e.slice(s,o)):e=a?e.slice(o):e.slice(s):f===n&&(e=a?e.slice(0,s):e.slice(0,o)),l+=e}else!rH(f)&&!k$(f)||f===n&&this.isCollapsed()||(l+=f.getTextContent())}return l}applyDOMRange(e){const t=RW(),n=t.getEditorState()._selection,r=dW(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[i,a]=r;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(a.key,a.offset,a.type,!0),wU(this)}clone(){const e=this.anchor,t=this.focus;return new nW(J$(e.key,e.offset,e.type),J$(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=zH(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=KL[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let i=0;i<r;i++){const e=t[i];"\n"===e||"\r\n"===e?n.push(C$()):"\t"===e?n.push(Y$()):n.push(W$(e))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,i=this.style;let a=t,o=n;!this.isCollapsed()&&n.isBefore(t)&&(a=n,o=t),"element"===a.type&&function(e,t,n,r){const i=e.getNode(),a=i.getChildAtIndex(e.offset),o=W$(),s=aH(i)?vH().append(o):o;o.setFormat(n),o.setStyle(r),null===a?i.append(s):a.insertBefore(s),e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}(a,o,r,i),"element"===o.type&&jV(o,RV(OV(o,"next")));const s=a.offset;let l=o.offset;const u=this.getNodes(),c=u.length;let f=u[0];H$(f)||yL(26);const d=f.getTextContent().length,p=f.getParentOrThrow();let h=u[c-1];if(1===c&&"element"===o.type&&(l=d,o.set(a.key,l,"text")),this.isCollapsed()&&s===d&&(IH(f)||!f.canInsertTextAfter()||!p.canInsertTextAfter()&&null===f.getNextSibling())){let t=f.getNextSibling();if(H$(t)&&t.canInsertTextBefore()&&!IH(t)||(t=W$(),t.setFormat(r),t.setStyle(i),p.canInsertTextAfter()?f.insertAfter(t):p.insertAfter(t)),t.select(0,0),f=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===s&&(IH(f)||!f.canInsertTextBefore()||!p.canInsertTextBefore()&&null===f.getPreviousSibling())){let t=f.getPreviousSibling();if(H$(t)&&!IH(t)||(t=W$(),t.setFormat(r),p.canInsertTextBefore()?f.insertBefore(t):p.insertBefore(t)),t.select(),f=t,""!==e)return void this.insertText(e)}else if(f.isSegmented()&&s!==d){const e=W$(f.getTextContent());e.setFormat(r),f.replace(e),f=e}else if(!this.isCollapsed()&&""!==e){const t=h.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||eH(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),fW(this.anchor,this.focus,null),void this.insertText(e)}if(1===c){if(FH(f)){const t=W$(e);return t.select(),void f.replace(t)}const t=f.getFormat(),n=f.getStyle();if(s!==l||t===r&&n===i){if(G$(f)){const t=W$(e);return t.setFormat(r),t.setStyle(i),t.select(),void f.replace(t)}}else{if(""!==f.getTextContent()){const t=W$(e);if(t.setFormat(r),t.setStyle(i),t.select(),0===s)f.insertBefore(t,!1);else{const[e]=f.splitText(s);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}f.setFormat(r),f.setStyle(i)}const a=l-s;f=f.spliceText(s,a,e,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...f.getParentKeys(),...h.getParentKeys()]),n=eH(f)?f:f.getParentOrThrow();let r=eH(h)?h:h.getParentOrThrow(),i=h;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===o.type&&(0!==l||""===h.getTextContent())||"element"===o.type&&h.getIndexWithinParent()<l)if(H$(h)&&!FH(h)&&l!==h.getTextContentSize()){if(h.isSegmented()){const e=W$(h.getTextContent());h.replace(e),h=e}aH(o.getNode())||"text"!==o.type||(h=h.spliceText(0,l,"")),t.add(h.__key)}else{const e=h.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?h.remove():e.remove()}else t.add(h.__key);const a=r.getChildren(),p=new Set(u),m=n.is(r),g=n.isInline()&&null===f.getNextSibling()?n:f;for(let e=a.length-1;e>=0;e--){const t=a[e];if(t.is(f)||eH(t)&&t.isParentOf(f))break;t.isAttached()&&(!p.has(t)||t.is(i)?m||g.insertAfter(t,!1):t.remove())}if(!m){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(FH(f))if(s===d)f.select();else{const t=W$(e);t.select(),f.replace(t)}else f=f.spliceText(s,d-s,e,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<c;e++){const n=u[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){const e=vW()===this;TV(this,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"removeEmptySlices";if(e.isCollapsed())return e;const n="root",r="next";let i=t;const a=UV(e,r),o=IV(a.anchor,n),s=IV(a.focus.getFlipped(),n),l=new Set,u=[];for(const h of a.iterNodeCarets(n))if(uV(h))l.add(h.origin.getKey());else if(lV(h)){const{origin:e}=h;eH(e)&&!l.has(e.getKey())||u.push(e)}for(const h of u)h.remove();for(const h of a.getTextSlices()){if(!h)continue;const{origin:e}=h.caret,t=e.getTextContentSize(),n=FV(pV(e,r)),a=e.getMode();if(Math.abs(h.distance)===t&&"removeEmptySlices"===i||"token"===a&&0!==h.distance)n.remove();else if(0!==h.distance){i="removeEmptySlices";let e=h.removeTextSlice();const t=h.caret.origin;if("segmented"===a){const t=e.origin,i=W$(t.getTextContent()).setStyle(t.getStyle()).setFormat(t.getFormat());n.replaceOrInsert(i),e=hV(i,r,e.offset)}t.is(o[0].origin)&&(o[0]=e),t.is(s[0].origin)&&(s[0]=e.getFlipped())}}let c,f;for(const h of o)if(BV(h)){c=RV(h);break}for(const h of s)if(BV(h)){f=RV(h);break}const d=function(e,t,n){if(!e||!t)return null;const r=e.getParentAtCaret(),i=t.getParentAtCaret();if(!r||!i)return null;const a=r.getParents().reverse();a.push(r);const o=i.getParents().reverse();o.push(i);const s=Math.min(a.length,o.length);let l;for(l=0;l<s&&a[l]===o[l];l++);const u=(e,t)=>{let n;for(let r=l;r<e.length;r++){const i=e[r];if(DK(i))return;!n&&t(i)&&(n=i)}return n},c=u(a,qK),f=c&&u(o,e=>n.has(e.getKey())&&qK(e));return c&&f?[c,f]:null}(c,f,l);if(d){const[e,t]=d;yV(e,"previous").splice(0,t.getChildren()),t.remove()}const p=[c,f,...o,...s].find(BV);if(p)return NV(LV(RV(p),e.direction));yL(269,JSON.stringify(o.map(e=>e.origin.__key)))}(PV(this))),e&&vW()!==this&&eK(this)}formatText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isCollapsed())return this.toggleFormat(e),void WH(null);const n=this.getNodes(),r=[];for(const b of n)H$(b)&&r.push(b);const i=t=>{n.forEach(n=>{if(eH(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}})},a=r.length;if(0===a)return this.toggleFormat(e),WH(null),void i(t);const o=this.anchor,s=this.focus,l=this.isBackward(),u=l?s:o,c=l?o:s;let f=0,d=r[0],p="element"===u.type?0:u.offset;if("text"===u.type&&p===d.getTextContentSize()&&(f=1,d=r[1],p=0),null==d)return;const h=d.getFormatFlags(e,t);i(h);const m=a-1;let g=r[m];const y="text"===c.type?c.offset:g.getTextContentSize();if(d.is(g)){if(p===y)return;if(IH(d)||0===p&&y===d.getTextContentSize())d.setFormat(h);else{const e=d.splitText(p,y),t=0===p?e[0]:e[1];t.setFormat(h),"text"===u.type&&u.set(t.__key,0,"text"),"text"===c.type&&c.set(t.__key,y-p,"text")}return void(this.format=h)}0===p||IH(d)||([,d]=d.splitText(p),p=0),d.setFormat(h);const v=g.getFormatFlags(e,h);y>0&&(y===g.getTextContentSize()||IH(g)||([g]=g.splitText(y)),g.setFormat(v));for(let b=f+1;b<m;b++){const t=r[b],n=t.getFormatFlags(e,v);t.setFormat(n)}"text"===u.type&&u.set(d.__key,p,"text"),"text"===c.type&&c.set(g.__key,y,"text"),this.format=h|v}insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const t=vW();return tW(t)||yL(134),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=$K(t,qK),r=e[e.length-1];if(eH(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=AW(this);n.splice(t,0,e),r.selectEnd()}return}if(!e.some(e=>(eH(e)||rH(e))&&!e.isInline())){eH(n)||yL(211,t.constructor.name,t.getType());const i=AW(this);return n.splice(i,0,e),void r.selectEnd()}const i=function(e){const t=vH();let n=null;for(let r=0;r<e.length;r++){const i=e[r],a=k$(i);if(a||rH(i)&&i.isInline()||eH(i)&&i.isInline()||H$(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),a))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),a=i.getLastDescendant(),o=i.getChildren(),s=eH(n)&&n.isEmpty()?null:this.insertParagraph(),l=o[o.length-1];let u=o[0];var c;eH(c=u)&&qK(c)&&!c.isEmpty()&&eH(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(eH(n)||yL(211,t.constructor.name,t.getType()),n.append(...u.getChildren()),u=o[1]),u&&(null===n&&yL(212,t.constructor.name,t.getType()),function(e,t){const n=t.getParentOrThrow().getLastChild();let r=t;const i=[t];for(;r!==n;)r.getNextSibling()||yL(140),r=r.getNextSibling(),i.push(r);let a=e;for(const o of i)a=a.insertAfter(o)}(n,u));const f=$K(a,qK);s&&eH(f)&&(s.canMergeWhenEmpty()||qK(l))&&(f.append(...s.getChildren()),s.remove()),eH(n)&&n.isEmpty()&&n.remove(),a.selectEnd();const d=eH(n)?n.getLastChild():null;k$(d)&&f!==n&&d.remove()}insertParagraph(){if("root"===this.anchor.key){const e=vH();return ZH().splice(this.anchor.offset,0,[e]),e.select(),e}const e=AW(this),t=$K(this.anchor.getNode(),qK);eH(t)||yL(213);const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(e){const t=C$();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,i=this.focus;let a=e[0],o=e[n];const[s,l]=aW(this);if(0===t)return[];if(1===t){if(H$(a)&&!this.isCollapsed()){const e=s>l?l:s,t=s>l?s:l,n=a.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[a]}const u=r.isBefore(i);if(H$(a)){const t=u?s:l;t===a.getTextContentSize()?e.shift():0!==t&&([,a]=a.splitText(t),e[0]=a)}if(H$(o)){const t=o.getTextContent().length,r=u?l:s;0===r?e.pop():r!==t&&([o]=o.splitText(r),e[n]=o)}return e}modify(e,t,n){if(kW(this,e,t,n))return;const r="move"===e,i=RW(),a=FK(kK(i));if(!a)return;const o=i._blockCursorElement,s=i._rootElement,l=this.focus.getNode();if(null===s||null===o||!eH(l)||l.isInline()||l.canBeEmpty()||PK(o,i,s),this.dirty){let e=NK(i,this.anchor.key),t=NK(i,this.focus.key);"text"===this.anchor.type&&(e=RH(e)),"text"===this.focus.type&&(t=RH(t)),e&&t&&EW(a,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,n,r){e.modify(t,n,r)}(a,e,t?"backward":"forward",n),a.rangeCount>0){const e=a.getRangeAt(0),n=this.anchor.getNode(),i=aH(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(DK(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!r){const n=this.getNodes(),r=[];let o=!1;for(let e=0;e<n.length;e++){const t=n[e];AK(t,i)?r.push(t):o=!0}if(o&&r.length>0)if(t){const e=r[0];eH(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=r[r.length-1];eH(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}a.anchorNode===e.startContainer&&a.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,i=n.offset,a=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,i,a,!0)}(this)}}"lineboundary"===n&&kW(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&eH(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(eH(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=wV(OV(t,e?"previous":"next"));if(r.getTextSlices().every(e=>null===e||0===e.distance)){let e={type:"initial"};for(const t of r.iterNodeCarets("shadowRoot"))if(uV(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(eH(r.anchor.origin)&&r.anchor.origin.isEmpty()){const e=RV(t);TV(this,SV(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(lV(t)){if(eH(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(rH(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&eH(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const e=gW();e.add(t.origin.getKey()),eK(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){const{caret:t,block:n}=e;return TV(this,SV(!t.origin.isEmpty()&&n.isEmpty()?FV(pV(n,t.direction)):r.anchor,t)),this.removeText()}}const i=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&oW(this,t.getNode()))return}else{const r="text"===i.type?i.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){const t=i.offset,a=r.getTextContentSize();if(r.is(n)||e&&t!==a||!e&&0!==t)return void lW(r,e,t)}else if(null!==n&&n.isSegmented()){const i=t.offset,a=n.getTextContentSize();if(n.is(r)||e&&0!==i||!e&&i!==a)return void lW(n,e,i)}!function(e,t){const n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,a=r.offset,o=e<a,s=o?e:a,l=o?a:e,u=l-1;s!==u&&function(e){return!(rK(e)||sW(e))}(i.getTextContent().slice(s,l))&&(t?r.set(r.key,u,r.type):n.set(n.key,u,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&aH(e.getParent())&&null===e.getPreviousSibling()&&oW(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function rW(e){return e instanceof eW}function iW(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function aW(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[iW(n),iW(r)]}function oW(e,t){for(let n=t;n;n=n.getParent()){if(eH(n)){if(n.collapseAtStart(e))return!0;if(DK(n))break}if(n.getPreviousSibling())break}return!1}const sW=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("\u2764\ufe0f")&&t("#\ufe0f\u20e3")&&t("\ud83d\udc4d"))return t}catch(e){}return()=>!1})();function lW(e,t,n){const r=e,i=r.getTextContent().split(/(?=\s)/g),a=i.length;let o=0,s=0;for(let u=0;u<a;u++){const e=u===a-1;if(s=o,o+=i[u].length,t&&o===n||o>n||e){i.splice(u,1),e&&(s=void 0);break}}const l=i.join("").trim();""===l?r.remove():(r.setTextContent(l),r.select(s,s))}function uW(e,t,n,r){let i,a=t;if(BK(e)){let o=!1;const s=e.childNodes,l=s.length,u=r._blockCursorElement;a===l&&(o=!0,a=l-1);let c=s[a],f=!1;if(c===u)c=s[a+1],f=!0;else if(null!==u){const n=u.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,u)&&a--}if(i=tK(c),H$(i))a=nK(i,o);else{let s=tK(e);if(null===s)return null;if(eH(s)){const l=r.getElementByKey(s.getKey());null===l&&yL(214);const u=s.getDOMSlot(l);[s,a]=u.resolveChildIndex(s,l,e,t),eH(s)||yL(215),o&&a>=s.getChildrenSize()&&(a=Math.max(0,s.getChildrenSize()-1));let c=s.getChildAtIndex(a);if(eH(c)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(c,0,n)){const e=o?c.getLastDescendant():c.getFirstDescendant();null===e?s=c:(c=e,s=eH(c)?c:c.getParentOrThrow()),a=0}H$(c)?(i=c,s=null,a=nK(c,o)):c!==s&&o&&!f&&(eH(s)||yL(216),a=Math.min(s.getChildrenSize(),a+1))}else{const n=s.getIndexWithinParent();a=0===t&&rH(s)&&tK(e)===s?n:n+1,s=s.getParentOrThrow()}if(eH(s))return J$(s.__key,a,"element")}}else i=tK(e);return H$(i)?J$(i.__key,a,"text"):null}function cW(e,t,n){const r=e.offset,i=e.getNode();if(0===r){const r=i.getPreviousSibling(),a=i.getParent();if(t){if((n||!t)&&null===r&&eH(a)&&a.isInline()){const t=a.getPreviousSibling();H$(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else eH(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):H$(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===i.getTextContent().length){const r=i.getNextSibling(),a=i.getParent();if(t&&eH(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&eH(a)&&a.isInline()&&!a.canInsertTextAfter()){const t=a.getNextSibling();H$(t)&&e.set(t.__key,0,"text")}}}function fW(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),i=e.is(t);cW(e,r,i),cW(t,!r,i),i&&t.set(e.key,e.offset,e.type);const a=RW();if(a.isComposing()&&a._compositionKey!==e.key&&tW(n)){const r=n.anchor,i=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(i.key,i.offset,i.type,!0)}}}function dW(e,t,n,r,i,a){if(null===e||null===n||!jH(i,e,n))return null;const o=uW(e,t,tW(a)?a.anchor:null,i);if(null===o)return null;const s=uW(n,r,tW(a)?a.focus:null,i);if(null===s)return null;if("element"===o.type&&"element"===s.type){const t=tK(e),r=tK(n);if(rH(t)&&rH(r))return null}return fW(o,s,a),[o,s]}function pW(e){return eH(e)&&!e.isInline()}function hW(e,t,n,r,i,a){const o=BW(),s=new nW(J$(e,t,i),J$(n,r,a),0,"");return s.dirty=!0,o._selection=s,s}function mW(){const e=J$("root",0,"element"),t=J$("root",0,"element");return new nW(e,t,0,"")}function gW(){return new eW(new Set)}function yW(e,t,n,r){const i=n._window;if(null===i)return null;const a=r||i.event,o=a?a.type:void 0,s="selectionchange"===o,l=!eU&&(s||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&a&&3===a.detail||"drop"===o||void 0===o);let u,c,f,d;if(tW(e)&&!l)return e.clone();if(null===t)return null;if(u=t.anchorNode,c=t.focusNode,f=t.anchorOffset,d=t.focusOffset,s&&tW(e)&&!jH(n,u,c))return e.clone();const p=dW(u,f,c,d,n,e);if(null===p)return null;const[h,m]=p;return new nW(h,m,tW(e)?e.format:0,tW(e)?e.style:"")}function vW(){return BW()._selection}function bW(){return RW()._editorState._selection}function xW(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.anchor,a=e.focus,o=i.getNode(),s=a.getNode();if(!t.is(o)&&!t.is(s))return;const l=t.__key;if(e.isCollapsed()){const t=i.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);i.set(l,n,"element"),a.set(l,n,"element"),wW(e)}}else{const o=e.isBackward(),s=o?a:i,u=s.getNode(),c=o?i:a,f=c.getNode();if(t.is(u)){const e=s.offset;(n<=e&&r>0||n<e&&r<0)&&s.set(l,Math.max(0,e+r),"element")}if(t.is(f)){const e=c.offset;(n<=e&&r>0||n<e&&r<0)&&c.set(l,Math.max(0,e+r),"element")}}wW(e)}function wW(e){const t=e.anchor,n=t.offset,r=e.focus,i=r.offset,a=t.getNode(),o=r.getNode();if(e.isCollapsed()){if(!eH(a))return;const e=a.getChildrenSize(),i=n>=e,o=i?a.getChildAtIndex(e-1):a.getChildAtIndex(n);if(H$(o)){let e=0;i&&(e=o.getTextContentSize()),t.set(o.__key,e,"text"),r.set(o.__key,e,"text")}}else{if(eH(a)){const e=a.getChildrenSize(),r=n>=e,i=r?a.getChildAtIndex(e-1):a.getChildAtIndex(n);if(H$(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if(eH(o)){const e=o.getChildrenSize(),t=i>=e,n=t?o.getChildAtIndex(e-1):o.getChildAtIndex(i);if(H$(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function NW(e,t,n,r,i){let a=null,o=0,s=null;null!==r?(a=r.__key,H$(r)?(o=r.getTextContentSize(),s="text"):eH(r)&&(o=r.getChildrenSize(),s="element")):null!==i&&(a=i.__key,H$(i)?s="text":eH(i)&&(s="element")),null!==a&&null!==s?e.set(a,o,s):(o=t.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function SW(e,t,n,r,i){"text"===e.type?e.set(n,e.offset+(t?0:i),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function EW(e,t,n,r,i){try{e.setBaseAndExtent(t,n,r,i)}catch(e){}}function AW(e){let t=e;e.isCollapsed()||t.removeText();const n=vW();tW(n)&&(t=n),tW(t)||yL(161);const r=t.anchor;let i=r.getNode(),a=r.offset;for(;!qK(i);){const e=i;if([i,a]=CW(i,a),e.is(i))break}return a}function CW(e,t){const n=e.getParent();if(!n){const e=vH();return ZH().append(e),e.select(),[ZH(),0]}if(H$(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const i=0===t?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!eH(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new nW(J$(e.__key,t,"element"),J$(e.__key,t,"element"),0,""),i=e.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function kW(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"decorators-and-blocks";if("move"===t&&"character"===r&&!e.isCollapsed()){const[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}const a=OV(e.focus,n?"previous":"next"),o="lineboundary"===r,s="move"===t;let l=a,u="decorators-and-blocks"===i;if(!zV(l)){for(const e of l){u=!1;const{origin:t}=e;if(!rH(t)||t.isIsolated()||(l=e,!o||!t.isInline()))break}if(u)for(const e of wV(a).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(uV(e))e.origin.isInline()||(l=e);else{if(eH(e.origin))continue;rH(e.origin)&&!e.origin.isInline()&&(l=e)}break}}if(l===a)return!1;if(s&&!o&&rH(l.origin)&&l.origin.isKeyboardSelectable()){const e=gW();return e.add(l.origin.getKey()),eK(e),!0}return l=RV(l),s&&jV(e.anchor,l),jV(e.focus,l),u||!o}let _W=null,DW=null,OW=!1,jW=!1,MW=0;const TW={characterData:!0,childList:!0,subtree:!0};function PW(){return OW||null!==_W&&_W._readOnly}function FW(){OW&&yL(13)}function IW(){MW>99&&yL(14)}function BW(){return null===_W&&yL(195,zW()),_W}function RW(){return null===DW&&yL(196,zW()),DW}function zW(){let e=0;const t=new Set,n=NH.version;if("undefined"!=typeof window)for(const i of document.querySelectorAll("[contenteditable]")){const r=PH(i);if(MH(r))e++;else if(r){let e=String(r.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function LW(e,t,n){const r=t.__type,i=CH(e,r);let a=n.get(r);void 0===a&&(a=Array.from(i.transforms),n.set(r,a));const o=a.length;for(let s=0;s<o&&(a[s](t),t.isAttached());s++);}function UW(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function qW(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const i of r)n.add(i)}function $W(e){return WW(e,RW()._nodes)}function WW(e,t){const n=e.type,r=t.get(n);void 0===r&&yL(17,n);const i=r.klass;e.type!==i.getType()&&yL(18,i.name);const a=i.importJSON(e),o=e.children;if(eH(a)&&Array.isArray(o))for(let s=0;s<o.length;s++){const e=WW(o[s],t);a.append(e)}return a}function HW(e,t,n){const r=_W,i=OW,a=DW;_W=t,OW=!0,DW=e;try{return n()}finally{_W=r,OW=i,DW=a}}function KW(e,t){const n=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null===n)return;const a=e._editorState,o=a._selection,s=n._selection,l=0!==e._dirtyType,u=_W,c=OW,f=DW,d=e._updating,p=e._observer;let h=null;if(e._pendingEditorState=null,e._editorState=n,!i&&l&&null!==p){DW=e,_W=n,OW=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;p.disconnect(),h=function(e,t,n,r,i,a){TU="",BU="",PU="",RU=2===r,LU=null,EU=n,SU=n._config,AU=n._nodes,CU=EU._listeners.mutation,kU=i,_U=a,DU=e._nodeMap,OU=t._nodeMap,zU=t._readOnly,jU=new Map(n._keyToDOMMap);const o=new Map;return MU=o,QU("root",null),EU=void 0,AU=void 0,kU=void 0,_U=void 0,DU=void 0,OU=void 0,SU=void 0,jU=void 0,MU=void 0,o}(a,n,e,t,r,i)}catch(t){if(t instanceof Error&&e._onError(t),jW)throw t;return xH(e,null,r,n),uU(e),e._dirtyType=2,jW=!0,KW(e,a),void(jW=!1)}finally{p.observe(r,TW),e._updating=d,_W=u,OW=c,DW=f}}n._readOnly||(n._readOnly=!0);const m=e._dirtyLeaves,g=e._dirtyElements,y=e._normalizedNodes,v=e._updateTags,b=e._deferred;l&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const i=t._nodeMap;let a;for(a in r)i.has(a)||(r===n&&(r=XH(e)),delete r[a])}(e,n);const x=i?null:FK(kK(e));if(e._editable&&null!==x&&(l||null===s||s.dirty)&&null!==r&&!v.has(hH)){DW=e,_W=n;try{if(null!==p&&p.disconnect(),l||null===s||s.dirty){const t=e._blockCursorElement;null!==t&&PK(t,e,r),function(e,t,n,r,i,a){const o=r.anchorNode,s=r.focusNode,l=r.anchorOffset,u=r.focusOffset,c=document.activeElement;if(i.has(dH)&&c!==a||null!==c&&OH(c))return;if(!tW(t))return void(null!==e&&jH(n,o,s)&&r.removeAllRanges());const f=t.anchor,d=t.focus,p=f.key,h=d.key,m=NK(n,p),g=NK(n,h),y=f.offset,v=d.offset,b=t.format,x=t.style,w=t.isCollapsed();let N=m,S=g,E=!1;if("text"===f.type){N=RH(m);const e=f.getNode();E=e.getFormat()!==b||e.getStyle()!==x}else tW(e)&&"text"===e.anchor.type&&(E=!0);var A,C,k,_,D;if("text"===d.type&&(S=RH(g)),null!==N&&null!==S&&(w&&(null===e||E||tW(e)&&(e.format!==b||e.style!==x))&&(A=b,C=x,k=y,_=p,D=performance.now(),u$=[A,C,k,_,D]),l!==y||u!==v||o!==N||s!==S||"Range"===r.type&&w||(null!==c&&a.contains(c)||a.focus({preventScroll:!0}),"element"===f.type))){if(EW(r,N,y,S,v),!i.has(pH)&&t.isCollapsed()&&null!==a&&a===document.activeElement){const e=tW(t)&&"element"===t.anchor.type?N.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=EK(n),i=CK(r);if(null===r||null===i)return;let{top:a,bottom:o}=t,s=0,l=0,u=n;for(;null!==u;){const t=u===r.body;if(t)s=0,l=kK(e).innerHeight;else{const e=u.getBoundingClientRect();s=e.top,l=e.bottom}let n=0;if(a<s?n=-(s-a):o>l&&(n=o-l),0!==n)if(t)i.scrollBy(0,n);else{const e=u.scrollTop;u.scrollTop+=n;const t=u.scrollTop-e;a-=t,o-=t}if(t)break;u=SK(u)}}(n,t,a)}}n$=!0}}(o,s,e,x,v,r)}!function(e,t,n){let r=e._blockCursorElement;if(tW(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const i=n.anchor,a=i.getNode(),o=i.offset;let s=!1,l=null;if(o===a.getChildrenSize())TK(a.getChildAtIndex(o-1))&&(s=!0);else{const t=a.getChildAtIndex(o);if(null!==t&&TK(t)){const n=t.getPreviousSibling();(null===n||TK(n))&&(s=!0,l=e.getElementByKey(t.__key))}}if(s){const n=e.getElementByKey(a.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=DL(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===l?n.appendChild(r):n.insertBefore(r,l))}}null!==r&&PK(r,e,t)}(e,r,s)}finally{null!==p&&p.observe(r,TW),DW=f,_W=u}}null!==h&&function(e,t,n,r,i){const a=Array.from(e._listeners.mutation),o=a.length;for(let s=0;s<o;s++){const[e,o]=a[s];for(const a of o){const o=t.get(a);void 0!==o&&e(o,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}}(e,h,v,m,a),tW(s)||null===s||null!==o&&o.is(s)||e.dispatchCommand(iq,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,VW("decorator",e,!0,w)),function(e,t,n){const r=JH(t),i=JH(n);r!==i&&VW("textcontent",e,!0,i)}(e,t||a,n),VW("update",e,!0,{dirtyElements:g,dirtyLeaves:m,editorState:n,mutatedNodes:h,normalizedNodes:y,prevEditorState:t||a,tags:v}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,b),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;GW(e,t,r)}}}(e)}function VW(e,t,n){const r=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];for(let e=0;e<n.length;e++)n[e].apply(null,a)}finally{t._updating=r}}function YW(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,i]=t;let a;if(void 0!==i){if(a=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const t=e._pendingEditorState;null===t&&yL(191),t._flushSync=!0}a&&e._deferred.push(a),qW(e,i.tag)}n()}}return r}function GW(e,t,n){const r=e._updateTags;let i,a=!1,o=!1;void 0!==n&&(i=n.onUpdate,qW(e,n.tag),a=n.skipTransforms||!1,o=n.discrete||!1),i&&e._deferred.push(i);const s=e._editorState;let l=e._pendingEditorState,u=!1;(null===l||l._readOnly)&&(l=e._pendingEditorState=oH(l||s),u=!0),l._flushSync=o;const c=_W,f=OW,d=DW,p=e._updating;_W=l,OW=!1,e._updating=!0,DW=e;const h=e._headless||null===e.getRootElement();EH(null);try{u&&(h?null!==s._selection&&(l._selection=s._selection.clone()):l._selection=function(e,t){const n=e.getEditorState()._selection,r=FK(kK(e));return tW(n)||null==n?yW(n,r,e,t):n.clone()}(e,n&&n.event||null));const r=e._compositionKey;t(),a=YW(e,a),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(tW(r)){const e=r.anchor,t=r.focus;let i;if("text"===e.type&&(i=e.getNode(),i.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();i!==e&&e.selectionTransform(n,r)}}}(l,e),0!==e._dirtyType&&(a?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const i of n){const e=r.get(i);H$(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&xU(e)}}(l,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,a=HH(),o=new Map;let s=n,l=s.size,u=r,c=u.size;for(;l>0||c>0;){if(l>0){t._dirtyLeaves=new Set;for(const e of s){const r=i.get(e);H$(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&xU(r),void 0!==r&&UW(r,a)&&LW(t,r,o),n.add(e)}if(s=t._dirtyLeaves,l=s.size,l>0){MW++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map,u.delete("root")&&u.set("root",!0);for(const e of u){const n=e[0],s=e[1];if(r.set(n,s),!s)continue;const l=i.get(n);void 0!==l&&UW(l,a)&&LW(t,l,o)}s=t._dirtyLeaves,l=s.size,u=t._dirtyElements,c=u.size,MW++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),YW(e),function(e,t,n,r){const i=e._nodeMap,a=t._nodeMap,o=[];for(const[s]of r){const e=a.get(s);void 0!==e&&(e.isAttached()||(eH(e)&&QL(e,s,i,a,o,r),i.has(s)||r.delete(s),o.push(s)))}for(const s of o)a.delete(s);for(const s of n){const e=a.get(s);void 0===e||e.isAttached()||(i.has(s)||n.delete(s),a.delete(s))}}(s,l,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(l._flushSync=!0);const i=l._selection;if(tW(i)){const e=l._nodeMap,t=i.anchor.key,n=i.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||yL(19)}else rW(i)&&0===i._nodes.size&&(l._selection=null)}catch(g){return g instanceof Error&&e._onError(g),e._pendingEditorState=s,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void KW(e)}finally{_W=c,OW=f,DW=d,e._updating=p,MW=0}const m=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(l,e);m?l._flushSync?(l._flushSync=!1,KW(e)):u&&_H(()=>{KW(e)}):(l._flushSync=!1,u&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function XW(e,t,n){DW===e&&void 0===n?t():GW(e,t,n)}class JW{constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new JW(this.element,e,this.after)}withAfter(e){return new JW(this.element,this.before,e)}withElement(e){return this.element===e?this:new JW(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&yL(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&yL(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&yL(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(EL||SL);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,i),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const i=ZW(t,n);i.push(r);const a=ZW(t,this.element);let o=e.getIndexWithinParent();for(let s=0;s<a.length;s++){const e=i[s],t=a[s];if(void 0===e||e<t)break;if(e>t){o+=1;break}}return[e.getParentOrThrow(),o]}}function ZW(e,t){const n=[];let r=t;for(;r!==e&&null!==r;r=r.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return r!==e&&yL(225),n.reverse()}class QW extends S${constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return GL[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=RW()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(H$(t)&&e.push(t),eH(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;eH(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;eH(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return eH(e)&&e.getLastDescendant()||e||null}const r=t[e];return eH(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:KH(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&yL(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:KH(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&yL(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContent(),eH(i)&&r!==n-1&&!i.isInline()&&(e+=LL)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContentSize(),eH(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=YL[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=KL[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return zH(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){FW();const n=vW();let r=e,i=t;const a=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(H$(e)||eH(e))return e.select(0,0)}else if(!(void 0!==e&&e!==a||void 0!==t&&t!==a)){const e=this.getLastChild();if(H$(e)||eH(e))return e.select()}void 0===r&&(r=a),void 0===i&&(i=a);const o=this.__key;return tW(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):hW(o,r,o,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?YL[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,i=this.getChildrenSize(),a=this.getWritable();e+t<=i||yL(226,String(e),String(t),String(i));const o=a.__key,s=[],l=[],u=this.getChildAtIndex(e+t);let c=null,f=i-t+r;if(0!==e)if(e===i)c=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(c=t.getPreviousSibling())}if(t>0){let e=null===c?this.getFirstChild():c.getNextSibling();for(let n=0;n<t;n++){null===e&&yL(100);const t=e.getNextSibling(),n=e.__key;qH(e.getWritable()),l.push(n),e=t}}let d=c;for(let p=0;p<r;p++){const e=n[p];null!==d&&e.is(d)&&(c=d=d.getPreviousSibling());const t=e.getWritable();t.__parent===o&&f--,qH(t);const r=e.__key;if(null===d)a.__first=r,t.__prev=null;else{const e=d.getWritable();e.__next=r,t.__prev=e.__key}e.__key===o&&yL(76),t.__parent=o,s.push(r),d=e}if(e+t===i)null!==d&&(d.getWritable().__next=null,a.__last=d.__key);else if(null!==u){const e=u.getWritable();if(null!==d){const t=d.getWritable();e.__prev=d.__key,t.__next=u.__key}else e.__prev=null}if(a.__size=f,l.length){const e=vW();if(tW(e)){const t=new Set(l),n=new Set(s),{anchor:r,focus:i}=e;tH(r,t,n)&&NW(r,r.getNode(),this,c,u),tH(i,t,n)&&NW(i,i.getNode(),this,c,u),0!==f||this.canBeEmpty()||DK(this)||this.remove()}}return a}getDOMSlot(e){return new JW(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(BK(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");const n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let i=this.getFirstChild();i;i=i.getNextSibling()){const e=t.getElementByKey(i.getKey());null!==e&&(null==r?(n.insertChild(e),r=e):r!==e&&n.replaceChild(e,r),r=r.nextSibling)}}}function eH(e){return e instanceof QW}function tH(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class nH extends S${decorate(e,t){yL(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function rH(e){return e instanceof nH}class iH extends QW{static getType(){return"root"}static clone(){return new iH}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){yL(51)}getTextContent(){const e=this.__cachedText;return!PW()&&0!==RW()._dirtyType||null===e?super.getTextContent():e}remove(){yL(52)}replace(e){yL(53)}insertBefore(e){yL(54)}insertAfter(e){yL(55)}updateDOM(e,t){return!1}splice(e,t,n){for(const r of n)eH(r)||rH(r)||yL(282);return super.splice(e,t,n)}static importJSON(e){return ZH().updateFromJSON(e)}collapseAtStart(){return!0}}function aH(e){return e instanceof iH}function oH(e){return new uH(new Map(e._nodeMap))}function sH(){return new uH(new Map([["root",new iH]]))}function lH(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&yL(130,n.name),eH(e)){const r=t.children;Array.isArray(r)||yL(59,n.name);const i=e.getChildren();for(let e=0;e<i.length;e++){const t=lH(i[e]);r.push(t)}}return t}class uH{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return HW(t&&t.editor||null,this,e)}clone(e){const t=new uH(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return HW(null,this,()=>({root:lH(ZH())}))}}const cH="historic",fH="history-merge",dH="collaboration",pH="skip-scroll-into-view",hH="skip-dom-selection";class mH extends QW{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class gH extends QW{static getType(){return"paragraph"}static clone(e){return new gH(e.__key)}createDOM(e){const t=document.createElement("p"),n=mK(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:yH,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(BK(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return vH().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const n=vH();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||H$(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function yH(e){const t=vH();return e.style&&(t.setFormat(e.style.textAlign),GK(e,t)),{node:t}}function vH(){return jK(new gH)}function bH(e){return e instanceof gH}function xH(e,t,n,r){const i=e._keyToDOMMap;i.clear(),e._editorState=sH(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const a=e._observer;null!==a&&(a.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function wH(e){const t=e||{},n=DW,r=t.theme||{},i=void 0===e?n:t.parentEditor||null,a=t.disableEvents||!1,o=sH(),s=t.namespace||(null!==i?i._config.namespace:aK()),l=t.editorState,u=[iH,F$,E$,V$,gH,mH,...t.nodes||[]],{onError:c,html:f}=t,d=void 0===t.editable||t.editable;let p;if(void 0===e&&null!==n)p=n._nodes;else{p=new Map;for(let e=0;e<u.length;e++){let t=u[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}const{ownNodeConfig:i}=ZK(t),a=t.getType(),o=t.transform(),s=new Set;i&&i.$transform&&s.add(i.$transform),null!==o&&s.add(o),p.set(a,{exportDOM:f&&f.export?f.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,sharedNodeState:cU(u[e]),transforms:s})}}const h=new NH(o,i,p,{disableEvents:a,namespace:s,theme:r},c||console.error,function(e,t){const n=new Map,r=new Set,i=e=>{Object.keys(e).forEach(t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])})};return e.forEach(e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&i(n)}),t&&i(t),n}(p,f?f.import:void 0),d,e);return void 0!==l&&(h._pendingEditorState=l,h._dirtyType=2),h}class NH{constructor(e,t,n,r,i,a,o,s){this._createEditorArgs=s,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=aK(),this._onError=i,this._htmlConversions=a,this._editable=o,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&yL(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(e);void 0===i&&yL(36,String(e));const a=i[n];return a.add(t),()=>{a.delete(t),i.every(e=>0===e.size)&&r.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;let a=i.get(t);void 0===a&&(a=new Set,i.set(t,a)),a.add(r);const o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{a.delete(r),0===a.size&&i.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&yL(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=VK(n).get(t.getType());if(!r)return;const i=new Map;for(const a of r.keys())i.set(a,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){const e=this.registerNodeTransformToKlass(i,t);r.push(e)}return function(e,t){const n=VK(e.getEditorState()),r=[];for(const i of t){const e=n.get(i);e&&r.push(e)}0!==r.length&&e.update(()=>{for(const e of r)for(const t of e.keys()){const e=KH(t);e&&e.markDirty()}},null===e._pendingEditorState?{tag:fH}:void 0)}(this,r.map(e=>e.klass.getType())),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return xK(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=mK(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,xH(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=t$.get(t);if(void 0===n)return;const r=n-1;r>=0||yL(164),t$.set(t,r),0===r&&t.removeEventListener("selectionchange",b$);const i=PH(e);MH(i)?(function(e){if(null!==e._parentEditor){const t=iK(e),n=t[t.length-1]._key;v$.get(n)===e&&v$.delete(n)}else v$.delete(e._key)}(i),e.__lexicalEditor=null):i&&yL(198);const a=y$(e);for(let o=0;o<a.length;o++)a[o]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=CK(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,uU(this),this._updateTags.add(fH),KW(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=t$.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",b$),t$.set(n,(r||0)+1),e.__lexicalEditor=t;const i=y$(e);for(let a=0;a<Xq.length;a++){const[n,r]=Xq[a],o="function"==typeof r?e=>{w$(e)||(x$(e),(t.isEditable()||"click"===n)&&r(e,t))}:e=>{if(w$(e))return;x$(e);const r=t.isEditable();switch(n){case"cut":return r&&xK(t,Lq,e);case"copy":return xK(t,zq,e);case"paste":return r&&xK(t,fq,e);case"dragstart":return r&&xK(t,Iq,e);case"dragover":return r&&xK(t,Bq,e);case"dragend":return r&&xK(t,Rq,e);case"focus":return r&&xK(t,Kq,e);case"blur":return r&&xK(t,Vq,e);case"drop":return r&&xK(t,Pq,e)}};e.addEventListener(n,o),i.push(()=>{e.removeEventListener(n,o)})}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add(fH),KW(this);VW("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&yL(38);let n=e;n._readOnly&&(n=oH(e),n._selection=e._selection?e._selection.clone():null),lU(this);const r=this._pendingEditorState,i=this._updateTags,a=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=a&&i.add(a),KW(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=a&&i.add(a),this._updating||KW(this)}parseEditorState(e,t){return function(e,t,n){const r=sH(),i=_W,a=OW,o=DW,s=t._dirtyElements,l=t._dirtyLeaves,u=t._cloneNotNeeded,c=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,_W=r,OW=!1,DW=t,EH(null);try{const i=t._nodes;WW(e.root,i),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=s,t._dirtyLeaves=l,t._cloneNotNeeded=u,t._dirtyType=c,_W=i,OW=a,DW=o}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return KW(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,n){e._updating?e._updates.push([t,n]):GW(e,t,n)}(this,e,t)}focus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),XW(this,()=>{const r=vW(),i=ZH();null!==r?r.dirty||eK(r.clone()):0!==i.getChildrenSize()&&("rootStart"===t.defaultSelection?i.selectStart():i.selectEnd()),function(e){FW(),RW()._updateTags.add(e)}("focus"),function(e){FW(),RW()._deferred.push(e)}(()=>{n.removeAttribute("autocapitalize"),e&&e()})}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=FK(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,VW("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}NH.version="0.33.1+prod.esm";let SH=null;function EH(e){SH=e}let AH=1;function CH(e,t){const n=kH(e,t);return void 0===n&&yL(30,t),n}function kH(e,t){return e._nodes.get(t)}const _H="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function DH(e){return rH(GH(e))}function OH(e){const t=document.activeElement;if(!BK(t))return!1;const n=t.nodeName;return rH(GH(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==PH(t))}function jH(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!OH(t)&&TH(t)===e}catch(e){return!1}}function MH(e){return e instanceof NH}function TH(e){let t=e;for(;null!=t;){const e=PH(t);if(MH(e))return e;t=SK(t)}return null}function PH(e){return e?e.__lexicalEditor:null}function FH(e){return G$(e)||e.isToken()}function IH(e){return FH(e)||e.isSegmented()}function BH(e){return RK(e)&&3===e.nodeType}function RH(e){let t=e;for(;null!=t;){if(BH(t))return t;t=t.firstChild}return null}function zH(e,t,n){const r=KL[t];if(null!==n&&(e&r)==(n&r))return e;let i=e^r;return"subscript"===t?i&=~KL.superscript:"superscript"===t?i&=~KL.subscript:"lowercase"===t?(i&=~KL.uppercase,i&=~KL.capitalize):"uppercase"===t?(i&=~KL.lowercase,i&=~KL.capitalize):"capitalize"===t&&(i&=~KL.lowercase,i&=~KL.uppercase),i}function LH(e){return H$(e)||k$(e)||rH(e)}function UH(e,t){const n=function(){const e=SH;return SH=null,e}();if(null!=(t=t||n&&n.__key))return void(e.__key=t);FW(),IW();const r=RW(),i=BW(),a=""+AH++;i._nodeMap.set(a,e),eH(e)?r._dirtyElements.set(a,!0):r._dirtyLeaves.add(a),r._cloneNotNeeded.add(a),r._dirtyType=1,e.__key=a}function qH(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),a=e.getNextSibling(),o=null!==a?a.__key:null,s=null!==i?i.__key:null,l=null!==i?i.getWritable():null,u=null!==a?a.getWritable():null;null===i&&(r.__first=o),null===a&&(r.__last=s),null!==l&&(l.__next=o),null!==u&&(u.__prev=s),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function $H(e){IW();const t=e.getLatest(),n=t.__parent,r=BW(),i=RW(),a=r._nodeMap,o=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,a,o);const s=t.__key;i._dirtyType=1,eH(e)?o.set(s,!0):i._dirtyLeaves.add(s)}function WH(e){FW();const t=RW(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=KH(n);null!==e&&e.getWritable()}if(null!==e){const t=KH(e);null!==t&&t.getWritable()}}}function HH(){return PW()?null:RW()._compositionKey}function KH(e,t){const n=(t||BW())._nodeMap.get(e);return void 0===n?null:n}function VH(e,t){const n=YH(e,RW());return void 0!==n?KH(n,t):null}function YH(e,t){return e[`__lexicalKey_${t._key}`]}function GH(e,t){let n=e;for(;null!=n;){const e=VH(n,t);if(null!==e)return e;n=SK(n)}return null}function XH(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function JH(e){return e.read(()=>ZH().getTextContent())}function ZH(){return QH(BW())}function QH(e){return e._nodeMap.get("root")}function eK(e){FW();const t=BW();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function tK(e){const t=RW(),n=function(e,t){let n=e;for(;null!=n;){const e=YH(n,t);if(void 0!==e)return e;n=SK(n)}return null}(e,t);return null===n?e===t.getRootElement()?KH("root"):null:KH(n)}function nK(e,t){return t?e.getTextContentSize():0}function rK(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function iK(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function aK(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function oK(e){return BH(e)?e.nodeValue:null}function sK(e,t,n){const r=FK(kK(t));if(null===r)return;const i=r.anchorNode;let{anchorOffset:a,focusOffset:o}=r;if(null!==i){let t=oK(i);const r=GH(i);if(null!==t&&H$(r)){if(t===zL&&n){const e=n.length;t=n,a=e,o=e}null!==t&&lK(r,t,a,o,e)}}}function lK(e,t,n,r,i){let a=e;if(a.isAttached()&&(i||!a.isDirty())){const o=a.isComposing();let s=t;(o||i)&&t[t.length-1]===zL&&(s=t.slice(0,-1));const l=a.getTextContent();if(i||s!==l){if(""===s){if(WH(null),SL||EL||_L)a.remove();else{const e=RW();setTimeout(()=>{e.update(()=>{a.isAttached()&&a.remove()})},20)}return}const t=a.getParent(),i=bW(),l=a.getTextContentSize(),u=HH(),c=a.getKey();if(a.isToken()||null!==u&&c===u&&!o||tW(i)&&(null!==t&&!t.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===e.__key&&0===i.anchor.offset&&!a.canInsertTextBefore()&&!o||i.focus.key===e.__key&&i.focus.offset===l&&!a.canInsertTextAfter()&&!o))return void a.markDirty();const f=vW();if(!tW(f)||null===n||null===r)return void a.setTextContent(s);if(f.setTextNodeRange(a,n,a,r),a.isSegmented()){const e=W$(a.getTextContent());a.replace(e),a=e}a.setTextContent(s)}}}function uK(e,t,n){const r=t[n]||!1;return"any"===r||r===e[n]}function cK(e,t,n){return function(e,t){return uK(e,t,"altKey")&&uK(e,t,"ctrlKey")&&uK(e,t,"shiftKey")&&uK(e,t,"metaKey")}(e,n)&&e.key.toLowerCase()===t.toLowerCase()}const fK={ctrlKey:!xL,metaKey:xL},dK={altKey:xL,ctrlKey:!xL};function pK(e){return"Backspace"===e.key}function hK(e){return cK(e,"a",fK)}function mK(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const i=e[t];if("string"==typeof i){const e=DL(i);return n[t]=e,e}return i}function gK(e,t,n,r,i){if(0===n.size)return;const a=r.__type,o=r.__key,s=t.get(a);void 0===s&&yL(33,a);const l=s.klass;let u=e.get(l);void 0===u&&(u=new Map,e.set(l,u));const c=u.get(o),f="destroyed"===c&&"created"===i;(void 0===c||f)&&u.set(o,f?"updated":i)}function yK(e,t,n){const r=e.getParent();let i=n,a=e;return null!==r&&(t&&0===n?(i=a.getIndexWithinParent(),a=r):t||n!==a.getChildrenSize()||(i=a.getIndexWithinParent()+1,a=r)),a.getChildAtIndex(t?i-1:i)}function vK(e,t){const n=e.offset;if("element"===e.type)return yK(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?yK(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function bK(e){const t=kK(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function xK(e,t,n){return function(e,t,n){const r=iK(e);for(let i=4;i>=0;i--)for(let a=0;a<r.length;a++){const o=r[a],s=o._commands.get(t);if(void 0!==s){const t=s[i];if(void 0!==t){const r=Array.from(t),i=r.length;let a=!1;if(XW(o,()=>{for(let t=0;t<i;t++)if(r[t](n,e))return void(a=!0)}),a)return a}}}return!1}(e,t,n)}function wK(e){return!aH(e)&&!e.isLastChild()&&!e.isInline()}function NK(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&yL(75,t),n}function SK(e){const t=e.assignedSlot||e.parentElement;return zK(t)?t.host:t}function EK(e){return function(e){return RK(e)&&9===e.nodeType}(e)?e:BK(e)?e.ownerDocument:null}function AK(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function CK(e){const t=EK(e);return t?t.defaultView:null}function kK(e){const t=e._window;return null===t&&yL(78),t}function _K(e){return eH(e)&&e.isInline()||rH(e)&&e.isInline()}function DK(e){return aH(e)||eH(e)&&e.isShadowRoot()}function OK(e){const t=e.constructor.clone(e);return UH(t,null),t.afterCloneFrom(e),t}function jK(e){const t=RW(),n=e.getType(),r=kH(t,n);void 0===r&&yL(200,e.constructor.name,n);const{replace:i,replaceWithKlass:a}=r;if(null!==i){const t=i(e),r=t.constructor;return null!==a?t instanceof a||yL(201,a.name,a.getType(),r.name,r.getType(),e.constructor.name,n):t instanceof e.constructor&&r!==e.constructor||yL(202,r.name,r.getType(),e.constructor.name,n),t.__key===e.__key&&yL(203,e.constructor.name,n,r.name,r.getType()),t}return e}function MK(e,t){!aH(e.getParent())||eH(t)||rH(t)||yL(99)}function TK(e){return(rH(e)||eH(e)&&!e.canBeEmpty())&&!e.isInline()}function PK(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function FK(e){return vL?(e||window).getSelection():null}function IK(e){return BK(e)&&"A"===e.tagName}function BK(e){return RK(e)&&1===e.nodeType}function RK(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function zK(e){return RK(e)&&11===e.nodeType}function LK(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function UK(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function qK(e){if(rH(e)&&!e.isInline())return!0;if(!eH(e)||DK(e))return!1;const t=e.getFirstChild(),n=null===t||k$(t)||H$(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function $K(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function WK(){return RW()}const HK=new WeakMap,KK=new Map;function VK(e){if(!e._readOnly&&e.isEmpty())return KK;e._readOnly||yL(192);let t=HK.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}return t}(e),HK.set(e,t)),t}function YK(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function GK(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function XK(e){return!0===e.__lexicalUnmanaged}function JK(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)&&e[t]!==S$[t]}function ZK(e){const t=ZL in e.prototype?e.prototype[ZL]():void 0,n=function(e){return e===nH||e===QW||e===S$}(e),r=!n&&JK(e,"getType")?e.getType():void 0;let i,a=r;if(t)if(r)i=t[r];else for(const[o,s]of Object.entries(t))a=o,i=s;if(!n&&a&&(JK(e,"getType")||(e.getType=()=>a),JK(e,"clone")||(e.clone=t=>(EH(t),new e)),JK(e,"importJSON")||(e.importJSON=i&&i.$importJSON||(t=>(new e).updateFromJSON(t))),!JK(e,"importDOM")&&i)){const{importDOM:t}=i;t&&(e.importDOM=()=>t)}return{ownNodeConfig:i,ownNodeType:a}}const QK={next:"previous",previous:"next"};class eV{constructor(e){this.origin=e}[Symbol.iterator](){return EV({hasNext:lV,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return pV(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return pV(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next")===this.direction?t:Array.from(t).reverse();let r=this;const i=this.getParentAtCaret(),a=new Map;for(let o=r.getAdjacentCaret();null!==o&&a.size<e;o=o.getAdjacentCaret()){const e=o.origin.getWritable();a.set(e.getKey(),e)}for(const o of n){if(a.size>0){const e=r.getNodeAtCaret();if(e)if(a.delete(e.getKey()),a.delete(o.getKey()),e.is(o)||r.origin.is(o));else{const t=o.getParent();t&&t.is(i)&&o.remove(),e.replace(o)}else null===e&&yL(263,Array.from(a).join(" "))}else r.insert(o);r=pV(o,this.direction)}for(const o of a.values())o.remove();return this}}class tV extends eV{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:yV(e,this.direction)}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return pV(iV(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=rV(this.direction);return pV(this.getNodeAtCaret(),e)||yV(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof tV&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const nV={root:aH,shadowRoot:DK};function rV(e){return QK[e]}function iV(e){return nV[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root"](e)?null:e}class aV extends eV{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:pV(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return eH(this.origin)?yV(this.origin,this.direction):null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return pV(iV(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=rV(this.direction);return pV(this.getNodeAtCaret(),e)||yV(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof aV&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof aV||e instanceof oV)&&this.direction===e.direction&&this.origin.is(e.origin)}}class oV extends eV{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:hV(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return pV(iV(this.getParentAtCaret(),e),this.direction)}getFlipped(){return hV(this.origin,rV(this.direction),this.offset)}isSamePointCaret(e){return e instanceof oV&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof aV||e instanceof oV)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return pV(this.origin,this.direction)}}function sV(e){return e instanceof oV}function lV(e){return e instanceof aV}function uV(e){return e instanceof tV}const cV={next:class extends oV{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends oV{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},fV={next:class extends aV{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends aV{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},dV={next:class extends tV{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends tV{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function pV(e,t){return e?new fV[t](e):null}function hV(e,t,n){return e?new cV[t](e,mV(e,n)):null}function mV(e,t){const n=e.getTextContentSize();let r="next"===t?n:"previous"===t?0:t;return(r<0||r>n)&&(function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);t.search=n.toString(),console.warn(`Minified Lexical warning #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(t),String(n),e.getKey()),r=r<0?0:n),r}function gV(e,t){return new xV(e,t)}function yV(e,t){return eH(e)?new dV[t](e):null}function vV(e){return e&&function(e){return e&&e.getChildCaret()||e}(e.getAdjacentCaret())}class bV{type="node-caret-range";constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new bV(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=e=>{const t=this[e].getLatest();return sV(t)?function(e,t){const{direction:n,origin:r}=e;return gV(e,mV(r,"focus"===t?rV(n):n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){const{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[gV(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";const t=sV(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=sV(n),i=t=>t.isSameNodeCaret(n)?null:vV(t)||t.getParentCaret(e);return EV({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:i(t),map:e=>e,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class xV{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),i=e.getTextContent();return hV(e.setTextContent(i.slice(0,n)+i.slice(r)),t,n)}}function wV(e){return SV(e,pV(ZH(),e.direction))}function NV(e){return SV(e,e)}function SV(e,t){return e.direction!==t.direction&&yL(265),new bV(e,t,e.direction)}function EV(e){const{initial:t,hasNext:n,step:r,map:i}=e;let a=t;return{[Symbol.iterator](){return this},next(){if(!n(a))return{done:!0,value:void 0};const e={done:!1,value:i(a)};return a=r(a),e}}}function AV(e,t){const n=DV(e.origin,t.origin);switch(null===n&&yL(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const n="text"===e.type,r="text"===t.type;return n&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return CV(n)}}function CV(e){const{a:t,b:n}=e,r=t.__key,i=n.__key;let a=t,o=n;for(;a&&o;a=a.getNextSibling(),o=o.getNextSibling()){if(a.__key===i)return-1;if(o.__key===r)return 1}return null===a?1:-1}function kV(e,t){return t.is(e)}function _V(e){return eH(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function DV(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[r,i]=_V(e);r;i=r,r=r.getParent())n.set(r,i);for(let[r,i]=_V(t);r;i=r,r=r.getParent()){const a=n.get(r);if(void 0!==a)return null===a?(kV(e,r)||yL(276),{commonAncestor:r,type:"ancestor"}):null===i?(kV(t,r)||yL(277),{commonAncestor:r,type:"descendant"}):((eH(a)||kV(e,a))&&(eH(i)||kV(t,i))&&r.is(a.getParent())&&r.is(i.getParent())||yL(278),{a:a,b:i,commonAncestor:r,type:"branch"})}return null}function OV(e,t){const{type:n,key:r,offset:i}=e,a=function(e){const t=KH(e);return null===t&&yL(63,e),t}(e.key);return"text"===n?(H$(a)||yL(266,a.getType(),r),hV(a,t,i)):(eH(a)||yL(267,a.getType(),r),function(e,t,n){let r=yV(e,"next");for(let i=0;i<t;i++){const e=r.getAdjacentCaret();if(null===e)break;r=e}return LV(r,n)}(a,e.offset,t))}function jV(e,t){const{origin:n,direction:r}=t,i="next"===r;sV(t)?e.set(n.getKey(),t.offset,"text"):lV(t)?H$(n)?e.set(n.getKey(),mV(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(i?1:0),"element"):(uV(t)&&eH(n)||yL(268),e.set(n.getKey(),i?0:n.getChildrenSize(),"element"))}function MV(e){const t=vW(),n=tW(t)?t:mW();return TV(n,e),eK(n),n}function TV(e,t){jV(e.anchor,t.anchor),jV(e.focus,t.focus)}function PV(e){const{anchor:t,focus:n}=e,r=OV(t,"next"),i=OV(n,"next"),a=AV(r,i)<=0?"next":"previous";return SV(LV(r,a),LV(i,a))}function FV(e){const{direction:t,origin:n}=e,r=pV(n,rV(t)).getNodeAtCaret();return r?pV(r,t):yV(n.getParentOrThrow(),t)}function IV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";const n=[e];for(let r=uV(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(FV(r));return n}function BV(e){return!!e&&e.origin.isAttached()}function RV(e){const t=function(e){let t=e;for(;uV(t);){const e=vV(t);if(!uV(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(H$(t.origin))return sV(t)?t:hV(t.origin,n,n);const r=t.getAdjacentCaret();return lV(r)&&H$(r.origin)?hV(r.origin,n,rV(n)):t}function zV(e){return sV(e)&&e.offset!==mV(e.origin,e.direction)}function LV(e,t){return e.direction===t?e:e.getFlipped()}function UV(e,t){return e.direction===t?e:SV(LV(e.focus,t),LV(e.anchor,t))}function qV(e){const{origin:t,offset:n,direction:r}=e;if(n===mV(t,r))return e.getSiblingCaret();if(n===mV(t,rV(r)))return FV(e.getSiblingCaret());const[i]=t.splitText(n);return H$(i)||yL(281),LV(pV(i,"next"),r)}function $V(e,t){return!0}function WV(e){let{$copyElementNode:t=OK,$splitTextPointCaretNext:n=qV,rootMode:r="shadowRoot",$shouldSplit:i=$V}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(sV(e))return n(e);const a=e.getParentCaret(r);if(a){const{origin:n}=a;if(uV(e)&&(!n.canBeEmpty()||!i(n,"first")))return FV(a);const r=function(e){const t=[];for(let n=e.getAdjacentCaret();n;n=n.getAdjacentCaret())t.push(n.origin);return t}(e);(r.length>0||n.canBeEmpty()&&i(n,"last"))&&a.insert(t(n).splice(0,0,r))}return a}const HV="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,KV=HV?r.useLayoutEffect:r.useEffect,VV={tag:fH};function YV(e){let{initialConfig:t,children:n}=e;const i=(0,r.useMemo)(()=>{const{theme:e,namespace:n,nodes:r,onError:i,editorState:a,html:o}=t,s=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}}(null,e),l=wH({editable:t.editable,html:o,namespace:n,nodes:r,onError:e=>i(e,l),theme:e});return function(e,t){if(null!==t)if(void 0===t)e.update(()=>{const t=ZH();if(t.isEmpty()){const n=vH();t.append(n);const r=HV?document.activeElement:null;(null!==vW()||null!==r&&r===e.getRootElement())&&n.select()}},VV);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,VV);break}case"object":e.setEditorState(t,VV);break;case"function":e.update(()=>{ZH().isEmpty()&&t(e)},VV)}}(l,a),[l,s]},[]);return KV(()=>{const e=t.editable,[n]=i;n.setEditable(void 0===e||e)},[]),(0,v.jsx)(mL.Provider,{value:i,children:n})}const GV="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function XV(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function JV(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return!1;let n=ZH().getTextContent();return t&&(n=n.trim()),""===n}function ZV(e){return()=>function(e){if(!JV(e,!1))return!1;const t=ZH().getChildren(),n=t.length;if(n>1)return!1;for(let r=0;r<n;r++){const e=t[r];if(rH(e))return!1;if(eH(e)){if(!bH(e))return!1;if(0!==e.__indent)return!1;const t=e.getChildren(),n=t.length;for(let e=0;e<n;e++)if(!H$(t[r]))return!1}}return!0}(e)}function QV(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const eY="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,tY=eY&&"documentMode"in document?document.documentMode:null,nY=(eY&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),eY&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!eY||!("InputEvent"in window)||tY)&&new window.InputEvent("input"),eY&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),eY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,eY&&/Android/.test(navigator.userAgent),eY&&/^(?=.*Chrome).*/i.test(navigator.userAgent));eY&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function rY(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i&&"string"==typeof i)for(const[t]of i.matchAll(/\S+/g))e.push(t);return e}function iY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function aY(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=rY(...n);i.length>0&&e.classList.add(...i)}function oY(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=rY(...n);i.length>0&&e.classList.remove(...i)}function sY(e){return e?e.getAdjacentCaret():null}function lY(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null}const uY=(e,t)=>{let n=e;for(;n!==ZH()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};function cY(e){const t=vW()||bW();let n;if(tW(t))n=OV(t.focus,"next");else{if(null!=t){const e=t.getNodes(),r=e[e.length-1];r&&(n=pV(r,"next"))}n=n||yV(ZH(),"previous").getFlipped().insert(vH())}const r=function(e,t,n){let r=LV(t,"next");for(let i=r;i;i=WV(i,n))r=i;return sV(r)&&QV(283),r.insert(e.isInline()?vH().append(e):e),LV(pV(e.getLatest(),"next"),t.direction)}(e,n),i=vV(r);return MV(NV(uV(i)?RV(i):r)),e.getLatest()}function fY(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function dY(e,t){yV(e,"next").insert(t)}function pY(e,t){return hY(e,t,null)}function hY(e,t,n){let r=!1;for(const i of gY(e))t(i)?null!==n&&n(i):(r=!0,eH(i)&&hY(i,t,n||(e=>i.insertAfter(e))),i.remove());return r}function mY(e,t){const n=[],r=Array.from(e).reverse();for(let i=r.pop();void 0!==i;i=r.pop())if(t(i))n.push(i);else if(eH(i))for(const e of gY(i))r.push(e);return n}function gY(e){return yY(yV(e,"previous"))}function yY(e){return EV({hasNext:lV,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}var vY=n(7950);const bY=new Map;function xY(e){const t={};if(!e)return t;const n=e.split(";");for(const r of n)if(""!==r){const[e,n]=r.split(/:([^]+)/);e&&n&&(t[e.trim()]=n.trim())}return t}function wY(e){let t=bY.get(e);return void 0===t&&(t=xY(e),bY.set(e,t)),t}function NY(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!IH(t)&&null!==n){const[r,i]=n,a=e.isBackward(),o=r.getNode(),s=i.getNode(),l=t.is(o),u=t.is(s);if(l||u){const[n,r]=aW(e),i=o.is(s),l=t.is(a?s:o),u=t.is(a?o:s);let c,f=0;i?(f=n>r?r:n,c=n>r?n:r):l?(f=a?r:n,c=void 0):u&&(f=0,c=a?n:r),t.__text=t.__text.slice(f,c)}}return t}function SY(e){const t=e.getStyle(),n=xY(t);bY.set(t,n)}function EY(e){const t=e.anchor.getNode(),n=aH(t)?t:t.getParentOrThrow(),r=WK().getElementByKey(n.getKey());if(null===r)return!1;const i=r.ownerDocument.defaultView;return null!==i&&"vertical-rl"===i.getComputedStyle(r).writingMode}function AY(e,t){const n=EY(e)?!t:t,r=OV(e.focus,n?"previous":"next");if(zV(r))return!1;for(const i of wV(r)){if(uV(i))return!i.origin.isInline();if(!eH(i.origin)){if(rH(i.origin))return!0;break}}return!1}function CY(e,t,n){const r=function(e){const t=e.anchor.getNode();return"rtl"===(aH(t)?t:t.getParentOrThrow()).getDirection()}(e);let i;i=EY(e)||r?!n:n,function(e,t,n,r){e.modify(t?"extend":"move",n,r)}(e,t,i,"character")}function kY(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null===r||t.isSelected(r);const a=eH(t)&&t.excludeFromCopy("html");let o=t;if(null!==r){let e=YK(t);e=H$(e)&&null!==r?NY(r,e):e,o=e}const s=eH(o)?o.getChildren():[],l=kH(e,o.getType());let u;u=l&&void 0!==l.exportDOM?l.exportDOM(e,o):o.exportDOM(e);const{element:c,after:f}=u;if(!c)return!1;const d=document.createDocumentFragment();for(let p=0;p<s.length;p++){const n=s[p],a=kY(e,n,d,r);!i&&eH(t)&&a&&t.extractWithChild(n,r,"html")&&(i=!0)}if(i&&!a){if((BK(c)||zK(c))&&c.append(d),n.append(c),f){const e=f.call(o,c);e&&(zK(c)?c.replaceChildren(e):c.replaceWith(e))}}else n.append(d);return i}const _Y=new Set(["STYLE","SCRIPT"]);function DY(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Map,a=arguments.length>5?arguments[5]:void 0,o=[];if(_Y.has(e.nodeName))return o;let s=null;const l=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let i=null;if(void 0!==r)for(const a of r){const t=a(e);null!==t&&(null===i||(i.priority||0)<=(t.priority||0))&&(i=t)}return null!==i?i.conversion:null}(e,t),u=l?l(e):null;let c=null;if(null!==u){c=u.after;const t=u.node;if(s=Array.isArray(t)?t[t.length-1]:t,null!==s){for(const[,e]of i)if(s=e(s,a),!s)break;s&&o.push(...Array.isArray(t)?t:[s])}null!=u.forChild&&i.set(e.nodeName,u.forChild)}const f=e.childNodes;let d=[];const p=(null==s||!DK(s))&&(null!=s&&pW(s)||r);for(let h=0;h<f.length;h++)d.push(...DY(f[h],t,n,p,new Map(i),s));return null!=c&&(d=c(d)),UK(e)&&(d=function(e,t,n){const r=e.style.textAlign,i=[];let a=[];for(let o=0;o<t.length;o++){const e=t[o];if(pW(e))r&&!e.getFormat()&&e.setFormat(r),i.push(e);else if(a.push(e),o===t.length-1||o<t.length-1&&pW(t[o+1])){const e=n();e.setFormat(r),e.append(...a),i.push(e),a=[]}}return i}(e,d,p?()=>{const e=new mH;return n.push(e),e}:vH)),null==s?d.length>0?o=o.concat(d):UK(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&(LK(e.nextSibling)&&LK(e.previousSibling))}(e)&&(o=o.concat(C$())):eH(s)&&s.append(...d),o}function OY(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function jY(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return MY(n,function(e){const t=[];for(let n=0;n<e.length;n++){const r=$W(e[n]);H$(r)&&SY(r),t.push(r)}return t}(e.nodes),t)}catch(e){}const i=e.getData("text/html"),a=e.getData("text/plain");if(i&&a!==i)try{return MY(n,function(e,t){const n=t.body?t.body.childNodes:[];let r=[];const i=[];for(let a=0;a<n.length;a++){const t=n[a];if(!_Y.has(t.nodeName)){const n=DY(t,e,i,!1);null!==n&&(r=r.concat(n))}}return function(e){for(const t of e)t.getNextSibling()instanceof mH&&t.insertAfter(C$());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(i),r}(n,(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(i),"text/html")),t)}catch(e){}const o=a||e.getData("text/uri-list");if(null!=o)if(tW(t)){const e=o.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=vW();if(tW(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([Y$()]):n.insertText(r)}}}else t.insertRawText(o)}function MY(e,t,n){e.dispatchCommand(aq,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(tW(e)&&e.isCollapsed()){let t=null;const n=OV(e.anchor,"previous");if(n)if(sV(n))t=n.origin;else{const e=SV(n,yV(ZH(),"next").getFlipped());for(const n of e){if(H$(n.origin)){t=n.origin;break}if(eH(n.origin)&&!n.origin.isInline())break}}if(t&&H$(t)){const n=t.getFormat(),r=t.getStyle();e.format===n&&e.style===r||(e.format=n,e.style=r,e.dirty=!0)}}}(n))}function TY(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=null===t||n.isSelected(t);const a=eH(n)&&n.excludeFromCopy("html");let o=n;if(null!==t){let e=YK(n);e=H$(e)&&null!==t?NY(t,e):e,o=e}const s=eH(o)?o.getChildren():[],l=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&OY(58,n.name),eH(e)){const e=t.children;Array.isArray(e)||OY(59,n.name)}return t}(o);if(H$(o)){const e=o.__text;e.length>0?l.text=e:i=!1}for(let u=0;u<s.length;u++){const r=s[u],a=TY(e,t,r,l.children);!i&&eH(n)&&a&&n.extractWithChild(r,t,"clone")&&(i=!0)}if(i&&!a)r.push(l);else if(Array.isArray(l.children))for(let u=0;u<l.children.length;u++){const e=l.children[u];r.push(e)}return i}let PY=null;async function FY(e,t,n){if(null!==PY)return!1;if(null!==t)return new Promise((r,i)=>{e.update(()=>{r(IY(e,t,n))})});const r=e.getRootElement(),i=e._window||window,a=window.document,o=FK(i);if(null===r||null===o)return!1;const s=a.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(a.createTextNode("#")),r.append(s);const l=new Range;return l.setStart(s,0),l.setEnd(s,1),o.removeAllRanges(),o.addRange(l),new Promise((t,r)=>{const i=e.registerCommand(zq,r=>(fY(r,ClipboardEvent)&&(i(),null!==PY&&(window.clearTimeout(PY),PY=null),t(IY(e,r,n))),!0),4);PY=window.setTimeout(()=>{i(),PY=null,t(!1)},50),a.execCommand("copy"),s.remove()})}function IY(e,t,n){if(void 0===n){const t=FK(e._window);if(!t)return!1;const r=t.anchorNode,i=t.focusNode;if(null!==r&&null!==i&&!jH(e,r,i))return!1;const a=vW();if(null===a)return!1;n=RY(a)}t.preventDefault();const r=t.clipboardData;return null!==r&&(function(e,t){for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}(r,n),!0)}const BY=[["text/html",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vW();return null==t&&OY(166),tW(t)&&t.isCollapsed()||0===t.getNodes().length?"":function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=ZH().getChildren();for(let i=0;i<r.length;i++)kY(e,r[i],n,t);return n.innerHTML}(e,t)}],["application/x-lexical-editor",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vW();return null==t&&OY(166),tW(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){const n=[],r=ZH().getChildren();for(let i=0;i<r.length;i++)TY(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]];function RY(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vW();const t={"text/plain":e?e.getTextContent():""};if(e){const n=WK();for(const[r,i]of BY){const a=i(n,e);null!==a&&(t[r]=a)}}return t}function zY(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const LY="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,UY=LY&&"documentMode"in document?document.documentMode:null,qY=!(!LY||!("InputEvent"in window)||UY)&&"getTargetRanges"in new window.InputEvent("input"),$Y=LY&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),WY=LY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,HY=LY&&/^(?=.*Chrome).*/i.test(navigator.userAgent),KY=LY&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!HY,VY=rq("DRAG_DROP_PASTE_FILE");class YY extends QW{static getType(){return"quote"}static clone(e){return new YY(e.__key)}createDOM(e){const t=document.createElement("blockquote");return aY(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:QY,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(BK(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return GY().updateFromJSON(e)}insertNewAfter(e,t){const n=vH(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=vH();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function GY(){return jK(new YY)}class XY extends QW{static getType(){return"heading"}static clone(e){return new XY(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){aY(n,r[t])}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:ZY,priority:0}),h2:e=>({conversion:ZY,priority:0}),h3:e=>({conversion:ZY,priority:0}),h4:e=>({conversion:ZY,priority:0}),h5:e=>({conversion:ZY,priority:0}),h6:e=>({conversion:ZY,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&JY(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>JY(e)?{conversion:e=>({node:eG("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(BK(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return eG(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?e.anchor.offset:0,r=this.getLastDescendant(),i=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?vH():eG(this.getTag()),a=this.getDirection();if(i.setDirection(a),this.insertAfter(i,t),0===n&&!this.isEmpty()&&e){const e=vH();e.select(),this.replace(e,!0)}return i}collapseAtStart(){const e=this.isEmpty()?vH():eG(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function JY(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function ZY(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=eG(t),null!==e.style&&(GK(e,n),n.setFormat(e.style.textAlign))),{node:n}}function QY(e){const t=GY();return null!==e.style&&(t.setFormat(e.style.textAlign),GK(e,t)),{node:t}}function eG(){return jK(new XY(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"h1"))}function tG(e){let t=null;if(fY(e,DragEvent)?t=e.dataTransfer:fY(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function nG(e){const t=vW();if(!tW(t))return!1;const n=new Set,r=t.getNodes();for(let i=0;i<r.length;i++){const t=r[i],a=t.getKey();if(n.has(a))continue;const o=uY(t,e=>eH(e)&&!e.isInline());if(null===o)continue;const s=o.getKey();o.canIndent()&&!n.has(s)&&(n.add(s),e(o))}return n.size>0}function rG(e){return rH(GH(e))}function iG(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function aG(e){return iY(e.registerCommand(oq,e=>{const t=vW();return!!rW(t)&&(t.clear(),!0)},0),e.registerCommand(sq,e=>{const t=vW();return tW(t)?(t.deleteCharacter(e),!0):!!rW(t)&&(t.deleteNodes(),!0)},0),e.registerCommand(pq,e=>{const t=vW();return!!tW(t)&&(t.deleteWord(e),!0)},0),e.registerCommand(hq,e=>{const t=vW();return!!tW(t)&&(t.deleteLine(e),!0)},0),e.registerCommand(cq,t=>{const n=vW();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const r=t.dataTransfer;if(null!=r)jY(r,n,e);else if(tW(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0},0),e.registerCommand(dq,()=>{const e=vW();return!!tW(e)&&(e.removeText(),!0)},0),e.registerCommand(mq,e=>{const t=vW();return!!tW(t)&&(t.formatText(e),!0)},0),e.registerCommand(Fq,e=>{const t=vW();if(!tW(t)&&!rW(t))return!1;const n=t.getNodes();for(const r of n){const t=uY(r,e=>eH(e)&&!e.isInline());null!==t&&t.setFormat(e)}return!0},0),e.registerCommand(lq,e=>{const t=vW();return!!tW(t)&&(t.insertLineBreak(e),!0)},0),e.registerCommand(uq,()=>{const e=vW();return!!tW(e)&&(e.insertParagraph(),!0)},0),e.registerCommand(jq,()=>(function(e){let t=vW()||bW();null===t&&(t=ZH().selectEnd()),t.insertNodes(e)}([Y$()]),!0),0),e.registerCommand(Mq,()=>nG(e=>{const t=e.getIndent();e.setIndent(t+1)}),0),e.registerCommand(Tq,()=>nG(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),0),e.registerCommand(Sq,e=>{const t=vW();if(rW(t)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(tW(t)){const n=vK(t.focus,!0);if(!e.shiftKey&&rH(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1},0),e.registerCommand(Eq,e=>{const t=vW();if(rW(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(tW(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===ZH().getChildrenSize()}(t))return e.preventDefault(),!0;const n=vK(t.focus,!1);if(!e.shiftKey&&rH(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},0),e.registerCommand(wq,e=>{const t=vW();if(rW(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!tW(t))return!1;if(AY(t,!0)){const n=e.shiftKey;return e.preventDefault(),CY(t,n,!0),!0}return!1},0),e.registerCommand(bq,e=>{const t=vW();if(rW(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!tW(t))return!1;const n=e.shiftKey;return!!AY(t,!1)&&(e.preventDefault(),CY(t,n,!1),!0)},0),e.registerCommand(kq,t=>{if(rG(t.target))return!1;const n=vW();if(tW(n)){if(function(e){if(!e.isCollapsed())return!1;const{anchor:t}=e;if(0!==t.offset)return!1;const n=t.getNode();if(aH(n))return!1;const r=function(e){const t=uY(e,e=>eH(e)&&!e.isInline());return eH(t)||QV(4,e.__key),t}(n);return r.getIndent()>0&&(r.is(n)||n.is(r.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(Tq,void 0);if(WY&&"ko-KR"===navigator.language)return!1}else if(!rW(n))return!1;return t.preventDefault(),e.dispatchCommand(sq,!0)},0),e.registerCommand(Dq,t=>{if(rG(t.target))return!1;const n=vW();return!(!tW(n)&&!rW(n))&&(t.preventDefault(),e.dispatchCommand(sq,!1))},0),e.registerCommand(Aq,t=>{const n=vW();if(!tW(n))return!1;if(iG(n),null!==t){if((WY||$Y||KY)&&qY)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(lq,!1)}return e.dispatchCommand(uq,void 0)},0),e.registerCommand(_q,()=>!!tW(vW())&&(e.blur(),!0),0),e.registerCommand(Pq,t=>{const[,n]=tG(t);if(n.length>0){const r=zY(t.clientX,t.clientY);if(null!==r){const{offset:t,node:i}=r,a=GH(i);if(null!==a){const e=mW();if(H$(a))e.anchor.set(a.getKey(),t,"text"),e.focus.set(a.getKey(),t,"text");else{const t=a.getParentOrThrow().getKey(),n=a.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}eK(wU(e))}e.dispatchCommand(VY,n)}return t.preventDefault(),!0}return!!tW(vW())},0),e.registerCommand(Iq,e=>{const[t]=tG(e),n=vW();return!(t&&!tW(n))},0),e.registerCommand(Bq,e=>{const[t]=tG(e),n=vW();if(t&&!tW(n))return!1;const r=zY(e.clientX,e.clientY);if(null!==r){rH(GH(r.node))&&e.preventDefault()}return!0},0),e.registerCommand(Uq,()=>(function(e){const t=ZH();if(tW(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),wU(e),e}{const e=t.select(0,t.getChildrenSize());eK(wU(e))}}(),!0),0),e.registerCommand(zq,t=>(FY(e,fY(t,ClipboardEvent)?t:null),!0),0),e.registerCommand(Lq,t=>(async function(e,t){await FY(t,fY(e,ClipboardEvent)?e:null),t.update(()=>{const e=vW();tW(e)?e.removeText():rW(e)&&e.getNodes().forEach(e=>e.remove())})}(t,e),!0),0),e.registerCommand(fq,t=>{const[,n,r]=tG(t);return n.length>0&&!r?(e.dispatchCommand(VY,n),!0):(!RK(t.target)||!OH(t.target))&&(null!==vW()&&(function(e,t){e.preventDefault(),t.update(()=>{const n=vW(),r=fY(e,InputEvent)||fY(e,KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&jY(r,n,t)},{tag:"paste"})}(t,e),!0))},0),e.registerCommand(Cq,e=>{const t=vW();return tW(t)&&iG(t),!1},0),e.registerCommand(Oq,e=>{const t=vW();return tW(t)&&iG(t),!1},0))}const oG="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function sG(e){return e.getEditorState().read(ZV(e.isComposing()))}function lG(e){let{contentEditable:t,placeholder:n=null,ErrorBoundary:i}=e;const[a]=gL(),o=function(e,t){const[n,i]=(0,r.useState)(()=>e.getDecorators());return oG(()=>e.registerDecoratorListener(e=>{(0,vY.flushSync)(()=>{i(e)})}),[e]),(0,r.useEffect)(()=>{i(e.getDecorators())},[e]),(0,r.useMemo)(()=>{const i=[],a=Object.keys(n);for(let o=0;o<a.length;o++){const s=a[o],l=(0,v.jsx)(t,{onError:t=>e._onError(t),children:(0,v.jsx)(r.Suspense,{fallback:null,children:n[s]})}),u=e.getElementByKey(s);null!==u&&i.push((0,vY.createPortal)(l,u,s))}return i},[t,n,e])}(a,i);return function(e){oG(()=>iY(aG(e),function(e){const n=window.location.origin,r=r=>{if(r.origin!==n)return;const i=e.getRootElement();if(document.activeElement!==i)return;const a=r.data;if("string"==typeof a){let n;try{n=JSON.parse(a)}catch(t){return}if(n&&"nuanria_messaging"===n.protocol&&"request"===n.type){const t=n.payload;if(t&&"makeChanges"===t.functionId){const n=t.args;if(n){const[t,i,a,o,s,l]=n;e.update(()=>{const e=vW();if(tW(e)){const n=e.anchor;let l=n.getNode(),u=0,c=0;if(H$(l)&&t>=0&&i>=0&&(u=t,c=t+i,e.setTextNodeRange(l,u,l,c)),u===c&&""===a||(e.insertRawText(a),l=n.getNode()),H$(l)){u=o,c=o+s;const t=l.getTextContentSize();u=u>t?t:u,c=c>t?t:c,e.setTextNodeRange(l,u,l,c)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}(e)),[e])}(a),(0,v.jsxs)(v.Fragment,{children:[t,(0,v.jsx)(uG,{content:n}),o]})}function uG(e){let{content:t}=e;const[n]=gL(),i=function(e){const[t,n]=(0,r.useState)(()=>sG(e));return oG(()=>{function t(){const t=sG(e);n(t)}return t(),iY(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(n),a=function(e){const[t]=gL(),n=(0,r.useMemo)(()=>e(t),[t,e]),[i,a]=(0,r.useState)(()=>n.initialValueFn()),o=(0,r.useRef)(i);return GV(()=>{const{initialValueFn:e,subscribe:t}=n,r=e();return o.current!==r&&(o.current=r,a(r)),t(e=>{o.current=e,a(e)})},[n,e]),i}(XV);return i?"function"==typeof t?t(a):t:null}const cG="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;const fG=(0,r.forwardRef)(function(e,t){let{editor:n,ariaActiveDescendant:i,ariaAutoComplete:a,ariaControls:o,ariaDescribedBy:s,ariaErrorMessage:l,ariaExpanded:u,ariaInvalid:c,ariaLabel:f,ariaLabelledBy:d,ariaMultiline:p,ariaOwns:h,ariaRequired:m,autoCapitalize:g,className:y,id:b,role:x="textbox",spellCheck:w=!0,style:N,tabIndex:S,"data-testid":E,...A}=e;const[C,k]=(0,r.useState)(n.isEditable()),_=(0,r.useCallback)(e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView?n.setRootElement(e):n.setRootElement(null)},[n]),D=(0,r.useMemo)(()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}}(t,_),[_,t]);return cG(()=>(k(n.isEditable()),n.registerEditableListener(e=>{k(e)})),[n]),(0,v.jsx)("div",{"aria-activedescendant":C?i:void 0,"aria-autocomplete":C?a:"none","aria-controls":C?o:void 0,"aria-describedby":s,...null!=l?{"aria-errormessage":l}:{},"aria-expanded":C&&"combobox"===x?!!u:void 0,...null!=c?{"aria-invalid":c}:{},"aria-label":f,"aria-labelledby":d,"aria-multiline":p,"aria-owns":C?h:void 0,"aria-readonly":!C||void 0,"aria-required":m,autoCapitalize:g,className:y,contentEditable:C,"data-testid":E,id:b,ref:D,role:x,spellCheck:w,style:N,tabIndex:S,...A})});function dG(e){return e.getEditorState().read(ZV(e.isComposing()))}const pG=(0,r.forwardRef)(function(e,t){const{placeholder:n,...r}=e,[i]=gL();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(fG,{editor:i,...r,ref:t}),null!=n&&(0,v.jsx)(hG,{editor:i,content:n})]})});function hG(e){let{content:t,editor:n}=e;const i=function(e){const[t,n]=(0,r.useState)(()=>dG(e));return cG(()=>{function t(){const t=dG(e);n(t)}return t(),iY(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(n),[a,o]=(0,r.useState)(n.isEditable());if((0,r.useLayoutEffect)(()=>(o(n.isEditable()),n.registerEditableListener(e=>{o(e)})),[n]),!i)return null;let s=null;return"function"==typeof t?s=t(a):null!==t&&(s=t),null===s?null:(0,v.jsx)("div",{"aria-hidden":!0,children:s})}function mG(e,t){let n=Date.now(),r=0;return(i,a,o,s,l,u)=>{const c=Date.now();if(u.has(cH))return r=0,n=c,2;const f=function(e,t,n,r,i){if(null===e||0===n.size&&0===r.size&&!i)return 0;const a=t._selection,o=e._selection;if(i)return 1;if(!(tW(a)&&tW(o)&&o.isCollapsed()&&a.isCollapsed()))return 0;const s=function(e,t,n){const r=e._nodeMap,i=[];for(const a of t){const e=r.get(a);void 0!==e&&i.push(e)}for(const[a,o]of n){if(!o)continue;const e=r.get(a);void 0===e||aH(e)||i.push(e)}return i}(t,n,r);if(0===s.length)return 0;if(s.length>1){const n=t._nodeMap,r=n.get(a.anchor.key),i=n.get(o.anchor.key);return r&&i&&!e._nodeMap.has(r.__key)&&H$(r)&&1===r.__text.length&&1===a.anchor.offset?2:0}const l=s[0],u=e._nodeMap.get(l.__key);if(!H$(u)||!H$(l)||u.__mode!==l.__mode)return 0;const c=u.__text,f=l.__text;if(c===f)return 0;const d=a.anchor,p=o.anchor;if(d.key!==p.key||"text"!==d.type)return 0;const h=d.offset,m=p.offset,g=f.length-c.length;return 1===g&&m===h-1?2:-1===g&&m===h+1?3:-1===g&&m===h?4:0}(i,a,s,l,e.isComposing()),d=(()=>{const d=null===o||o.editor===e,p=u.has("history-push");if(!p&&d&&u.has(fH))return 0;if(null===i)return 1;const h=a._selection;return s.size>0||l.size>0?!1===p&&0!==f&&f===r&&c<n+t&&d||1===s.size&&function(e,t,n){const r=t._nodeMap.get(e),i=n._nodeMap.get(e),a=t._selection,o=n._selection;return!(tW(a)&&tW(o)&&"element"===a.anchor.type&&"element"===a.focus.type&&"text"===o.anchor.type&&"text"===o.focus.type||!H$(r)||!H$(i)||r.__parent!==i.__parent)&&JSON.stringify(t.read(()=>r.exportJSON()))===JSON.stringify(n.read(()=>i.exportJSON()))}(Array.from(s)[0],i,a)?0:1:null!==h?0:2})();return n=c,r=f,d}}function gG(e){e.undoStack=[],e.redoStack=[],e.current=null}function yG(e){let{delay:t,externalHistoryState:n}=e;const[i]=gL();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const i=(0,r.useMemo)(()=>t||{current:null,redoStack:[],undoStack:[]},[t]);(0,r.useEffect)(()=>function(e,t,n){const r=mG(e,n),i=iY(e.registerCommand(gq,()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==r.length){const i=t.current,a=r.pop();null!==i&&(n.push(i),e.dispatchCommand(Wq,!0)),0===r.length&&e.dispatchCommand(Hq,!1),t.current=a||null,a&&a.editor.setEditorState(a.editorState,{tag:cH})}}(e,t),!0),0),e.registerCommand(yq,()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==n.length){const i=t.current;null!==i&&(r.push(i),e.dispatchCommand(Hq,!0));const a=n.pop();0===n.length&&e.dispatchCommand(Wq,!1),t.current=a||null,a&&a.editor.setEditorState(a.editorState,{tag:cH})}}(e,t),!0),0),e.registerCommand(qq,()=>(gG(t),!1),0),e.registerCommand($q,()=>(gG(t),e.dispatchCommand(Wq,!1),e.dispatchCommand(Hq,!1),!0),0),e.registerUpdateListener(n=>{let{editorState:i,prevEditorState:a,dirtyLeaves:o,dirtyElements:s,tags:l}=n;const u=t.current,c=t.redoStack,f=t.undoStack,d=null===u?null:u.editorState;if(null!==u&&i===d)return;const p=r(a,i,u,o,s,l);if(1===p)0!==c.length&&(t.redoStack=[],e.dispatchCommand(Wq,!1)),null!==u&&(f.push({...u}),e.dispatchCommand(Hq,!0));else if(2===p)return;t.current={editor:e,editorState:i}}));return i}(e,i,n),[n,e,i])}(i,n,t),null}const vG="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function bG(e){let{ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:n=!1,onChange:r}=e;const[i]=gL();return vG(()=>{if(r)return i.registerUpdateListener(e=>{let{editorState:a,dirtyElements:o,dirtyLeaves:s,prevEditorState:l,tags:u}=e;n&&0===o.size&&0===s.size||t&&u.has(fH)||l.isEmpty()||r(a,i,u)})},[i,t,n,r]),null}function xG(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function wG(e){let t=1,n=e.getParent();for(;null!=n;){if(LG(n)){const e=n.getParent();if(VG(e)){t++,n=e.getParent();continue}xG(40)}return t}return t}function NG(e){let t=e.getParent();VG(t)||xG(40);let n=t;for(;null!==n;)n=n.getParent(),VG(n)&&(t=n);return t}function SG(e){let t=[];const n=e.getChildren().filter(LG);for(let r=0;r<n.length;r++){const e=n[r],i=e.getFirstChild();VG(i)?t=t.concat(SG(i)):t.push(e)}return t}function EG(e){return LG(e)&&VG(e.getFirstChild())}function AG(e){return zG().append(e)}function CG(e,t){return LG(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function kG(e){const t=vW();if(null!==t){let n=t.getNodes();if(tW(t)){const r=t.getStartEndPoints();null===r&&xG(143);const[i]=r,a=i.getNode(),o=a.getParent();if(DK(a)){const e=a.getFirstChild();if(e)n=e.selectStart().getNodes();else{const e=vH();a.append(e),n=e.select().getNodes()}}else if(CG(a,n)){const t=KG(e);if(DK(o)){a.replace(t);const e=zG();eH(a)&&(e.setFormat(a.getFormatType()),e.setIndent(a.getIndent())),t.append(e)}else if(LG(a)){const e=a.getParentOrThrow();_G(t,e.getChildren()),e.replace(t)}return}}const r=new Set;for(let t=0;t<n.length;t++){const i=n[t];if(eH(i)&&i.isEmpty()&&!LG(i)&&!r.has(i.getKey())){DG(i,e);continue}let a=LH(i)?i.getParent():LG(i)&&i.isEmpty()?i:null;for(;null!=a;){const t=a.getKey();if(VG(a)){if(!r.has(t)){const n=KG(e);_G(n,a.getChildren()),a.replace(n),r.add(t)}break}{const n=a.getParent();if(DK(n)&&!r.has(t)){r.add(t),DG(a,e);break}a=n}}}}}function _G(e,t){e.splice(e.getChildrenSize(),0,t)}function DG(e,t){if(VG(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=zG();let a;if(_G(i,e.getChildren()),VG(n)&&t===n.getListType())n.append(i),VG(r)&&t===r.getListType()&&(_G(n,r.getChildren()),r.remove()),a=n;else if(VG(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(i),a=r;else{const n=KG(t);n.append(i),e.replace(n),a=n}return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),e.remove(),a}function OG(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&EG(n)&&EG(r)&&(OG(n.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function jG(){const e=vW();if(tW(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(CG(r,n))t.add(NG(r));else for(let e=0;e<n.length;e++){const r=n[e];if(LH(r)){const e=lY(r,IG);null!=e&&t.add(NG(e))}}for(const i of t){let t=i;const n=SG(i);for(const r of n){const n=vH().setTextStyle(e.style).setTextFormat(e.format);_G(n,r.getChildren()),t.insertAfter(n),t=n,r.__key===e.anchor.key&&jV(e.anchor,RV(yV(n,"next"))),r.__key===e.focus.key&&jV(e.focus,RV(yV(n,"next"))),r.remove()}i.remove()}}}function MG(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())LG(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),VG(r.getFirstChild())||n++)}function TG(e){const t=new Set;if(EG(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(EG(r)&&EG(i)){const n=i.getFirstChild();if(VG(n)){n.append(e);const i=r.getFirstChild();VG(i)&&(_G(n,i.getChildren()),r.remove(),t.add(r.getKey()))}}else if(EG(r)){const t=r.getFirstChild();if(VG(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(EG(i)){const t=i.getFirstChild();VG(t)&&t.append(e)}else if(VG(n)){const t=zG().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),a=KG(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(a),a.append(e),i?i.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function PG(e){if(EG(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(VG(n?n.getParent():void 0)&&LG(n)&&VG(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),i=zG(),a=KG(r);i.append(a),e.getPreviousSiblings().forEach(e=>a.append(e));const o=zG(),s=KG(r);o.append(s),_G(s,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(e)}}}function FG(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)if(i&&"string"==typeof i)for(const[t]of i.matchAll(/\S+/g))e.push(t);return e}class IG extends QW{$config(){return this.config("listitem",{$transform:e=>{if(null==e.__checked)return;const t=e.getParent();VG(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)},extends:QW,importDOM:{li:()=>({conversion:BG,priority:0})}})}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(arguments.length>2?arguments[2]:void 0),this.__value=void 0===e?1:e,this.__checked=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,t,n){const r=this.getParent();VG(r)&&"check"===r.getListType()&&function(e,t,n){VG(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}(t,this,e),t.value=this.__value,function(e,t,n){const r=[],i=[],a=t.list,o=a?a.listitem:void 0;let s;if(a&&a.nested&&(s=a.nested.listitem),void 0!==o&&r.push(...FG(o)),a){const e=n.getParent(),t=VG(e)&&"check"===e.getListType(),o=n.getChecked();t&&!o||i.push(a.listitemUnchecked),t&&o||i.push(a.listitemChecked),t&&r.push(o?a.listitemChecked:a.listitemUnchecked)}if(void 0!==s){const e=FG(s);n.getChildren().some(e=>VG(e))?r.push(...e):i.push(...e)}i.length>0&&oY(e,...i),r.length>0&&aY(e,...r)}(t,n.theme,this);const i=e?e.__style:"",a=this.__style;i!==a&&(""===a?t.removeAttribute("style"):t.style.cssText=a),function(e,t,n){const r=wY(t.__textStyle);for(const i in r)e.style.setProperty(`--listitem-marker-${i}`,r[i]);if(n)for(const i in wY(n.__textStyle))i in r||e.style.removeProperty(`--listitem-marker-${i}`)}(t,this,e)}updateDOM(e,t,n){const r=t;return this.updateListItemDOM(e,r,n),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),n=this.getFormatType();n&&(t.style.textAlign=n);const r=this.getDirection();return r&&(t.dir=r),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(eH(t)&&this.canMergeWith(t)){const e=t.getChildren();this.append(...e),t.remove()}else super.append(t)}return this}replace(e,t){if(LG(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!VG(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=KG(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&(eH(e)||xG(139),this.getChildren().forEach(t=>{e.append(t)})),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow();if(VG(n)||xG(39),LG(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const i=KG(n.getListType());r.forEach(e=>i.append(e)),e.insertAfter(i,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&EG(t)&&EG(n)&&(OG(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=zG().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=vH();this.getChildren().forEach(e=>t.append(e));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),i=LG(r);if(1===n.getChildrenSize())if(i)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,i=e.focus,a=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(a,r.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(a,i.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return VG(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;LG(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&xG(117),(e=Math.floor(e))>=0||xG(199);let t=this.getIndent();for(;t!==e;)t<e?(TG(this),t++):(PG(this),t--);return this}canInsertAfter(e){return LG(e)}canReplaceWith(e){return LG(e)}canMergeWith(e){return LG(e)||bH(e)}extractWithChild(e,t){if(!tW(t))return!1;const n=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return KG("bullet")}canMergeWhenEmpty(){return!0}}function BG(e){if(e.classList.contains("task-list-item"))for(const n of e.children)if("INPUT"===n.tagName)return RG(n);const t=e.getAttribute("aria-checked");return{node:zG("true"===t||"false"!==t&&void 0)}}function RG(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:zG(e.hasAttribute("checked"))}}function zG(e){return jK(new IG(void 0,e))}function LG(e){return e instanceof IG}class UG extends QW{$config(){return this.config("list",{$transform:e=>{!function(e){const t=e.getNextSibling();VG(t)&&e.getListType()===t.getListType()&&OG(e,t)}(e),MG(e)},extends:QW,importDOM:{ol:()=>({conversion:WG,priority:0}),ul:()=>({conversion:WG,priority:0})}})}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(arguments.length>2?arguments[2]:void 0);const n=HG[e]||e;this.__listType=n,this.__tag="number"===n?"ol":"ul",this.__start=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,qG(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(qG(t,n.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return BK(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,n){let r=n;for(let i=0;i<n.length;i++){const e=n[i];LG(e)||(r===n&&(r=[...n]),r[i]=zG().append(!eH(e)||VG(e)||e.isInline()?e:W$(e.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return LG(e)}}function qG(e,t,n){const r=[],i=[],a=t.list;if(void 0!==a){const e=a[`${n.__tag}Depth`]||[],t=wG(n)-1,o=t%e.length,s=e[o],l=a[n.__tag];let u;const c=a.nested,f=a.checklist;if(void 0!==c&&c.list&&(u=c.list),void 0!==l&&r.push(l),void 0!==f&&"check"===n.__listType&&r.push(f),void 0!==s){r.push(...FG(s));for(let t=0;t<e.length;t++)t!==o&&i.push(n.__tag+t)}if(void 0!==u){const e=FG(u);t>1?r.push(...e):i.push(...e)}}i.length>0&&oY(e,...i),r.length>0&&aY(e,...r)}function $G(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(LG(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach(e=>{VG(e)&&t.push(AG(e))})}else t.push(AG(r))}return t}function WG(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=KG("number",e.start):"ul"===t&&(n=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(const t of e.childNodes)if(BK(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?KG("check"):KG("bullet")),{after:$G,node:n}}const HG={ol:"number",ul:"bullet"};function KG(){return jK(new UG(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}function VG(e){return e instanceof UG}rq("INSERT_CHECK_LIST_COMMAND");const YG=rq("UPDATE_LIST_START_COMMAND"),GG=rq("INSERT_UNORDERED_LIST_COMMAND"),XG=rq("INSERT_ORDERED_LIST_COMMAND"),JG=rq("REMOVE_LIST_COMMAND");function ZG(e){return iY(e.registerCommand(XG,()=>(kG("number"),!0),1),e.registerCommand(YG,e=>{const{listNodeKey:t,newStart:n}=e,r=KH(t);return!!VG(r)&&("number"===r.getListType()&&(r.setStart(n),MG(r)),!0)},1),e.registerCommand(GG,()=>(kG("bullet"),!0),1),e.registerCommand(JG,()=>(jG(),!0),1),e.registerCommand(uq,()=>function(){const e=vW();if(!tW(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!LG(t)||0!==t.getChildrenSize())return!1;const n=NG(t),r=t.getParent();VG(r)||xG(40);const i=r.getParent();let a;if(DK(i))a=vH(),n.insertAfter(a);else{if(!LG(i))return!1;a=zG(),i.insertAfter(a)}a.setTextStyle(e.style).setTextFormat(e.format).select();const o=t.getNextSiblings();if(o.length>0){const e=KG(r.getListType());if(LG(a)){const t=zG();t.append(e),a.insertAfter(t)}else a.insertAfter(e);e.append(...o)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!LG(e)&&!VG(e))break;t=e}t.remove()}(t),!0}(),1),e.registerNodeTransform(IG,e=>{const t=e.getFirstChild();if(t){if(H$(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=vW();tW(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}}),e.registerNodeTransform(F$,e=>{const t=e.getParent();if(LG(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}}))}function QG(e){let{hasStrictIndent:t=!1}=e;const[n]=gL();return(0,r.useEffect)(()=>{if(!n.hasNodes([UG,IG]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[n]),(0,r.useEffect)(()=>{if(t)return function(e){const t=e=>{const t=e.getParent();if(VG(e.getFirstChild())||!VG(t))return;const n=uY(e,e=>LG(e)&&VG(e.getParent())&&LG(e.getPreviousSibling()));if(null===n&&e.getIndent()>0)e.setIndent(0);else if(LG(n)){const r=n.getPreviousSibling();if(LG(r)){const n=function(e){let t=e,n=t.getFirstChild();for(;VG(n);){const e=n.getLastChild();if(!LG(e))break;t=e,n=t.getFirstChild()}return t}(r),i=n.getParent();if(VG(i)){const n=wG(i);n+1<wG(t)&&e.setIndent(n)}}}};return e.registerNodeTransform(UG,e=>{const n=[e];for(;n.length>0;){const e=n.shift();if(VG(e))for(const r of e.getChildren())if(LG(r)){t(r);const e=r.getFirstChild();VG(e)&&n.push(e)}}})}(n)},[n,t]),function(e){(0,r.useEffect)(()=>ZG(e),[e])}(n),null}const eX=new Set(["http:","https:","mailto:","sms:","tel:"]);class tX extends QW{static getType(){return"link"}static clone(e){return new tX(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>2?arguments[2]:void 0);const{target:n=null,rel:r=null,title:i=null}=t;this.__url=e,this.__target=n,this.__rel=r,this.__title=i}createDOM(e){const t=document.createElement("a");return this.updateLinkDOM(null,t,e),aY(t,e.theme.link),t}updateLinkDOM(e,t,n){if(IK(t)){e&&e.__url===this.__url||(t.href=this.sanitizeUrl(this.__url));for(const n of["target","rel","title"]){const r=`__${n}`,i=this[r];e&&e[r]===i||(i?t[n]=i:t.removeAttribute(n))}}}updateDOM(e,t,n){return this.updateLinkDOM(e,t,n),!1}static importDOM(){return{a:e=>({conversion:nX,priority:1})}}static importJSON(e){return rX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=pX(e);try{const t=new URL(pX(e));if(!eX.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=rX(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!tW(t))return!1;const r=t.anchor.getNode(),i=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function nX(e){let t=null;if(IK(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=rX(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function rX(){return jK(new tX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function iX(e){return e instanceof tX}class aX extends tX{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e,arguments.length>2?arguments[2]:void 0),this.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked}static getType(){return"autolink"}static clone(e){return new aX(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,n){return super.updateDOM(e,t,n)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return oX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow().insertNewAfter(e,t);if(eH(n)){const e=oX(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(e),e}return null}}function oX(){return jK(new aX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function sX(e){return e instanceof aX}const lX=rq("TOGGLE_LINK_COMMAND");function uX(e,t){if("element"===e.type){const n=e.getNode();return eH(n)||function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function cX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{target:n,title:r}=t,i=void 0===t.rel?"noreferrer":t.rel,a=vW();if(null===a||!tW(a)&&!rW(a))return;if(rW(a)){const t=a.getNodes();if(0===t.length)return;return void t.forEach(t=>{if(null===e){const e=uY(t,e=>!sX(e)&&iX(e));e&&(e.insertBefore(t),0===e.getChildren().length&&e.remove())}else{const r=uY(t,e=>!sX(e)&&iX(e));if(r)r.setURL(e),void 0!==n&&r.setTarget(n),void 0!==i&&r.setRel(i);else{const r=rX(e,{rel:i,target:n});t.insertBefore(r),r.append(t)}}})}const o=a.extract();if(null===e)return void o.forEach(e=>{const t=uY(e,e=>!sX(e)&&iX(e));if(t){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}});const s=new Set,l=t=>{s.has(t.getKey())||(s.add(t.getKey()),t.setURL(e),void 0!==n&&t.setTarget(n),void 0!==i&&t.setRel(i),void 0!==r&&t.setTitle(r))};if(1===o.length){const e=fX(o[0],iX);if(null!==e)return l(e)}!function(e){const t=vW();if(!tW(t))return e();const n=wU(t),r=n.isBackward(),i=uX(n.anchor,r?-1:0),a=uX(n.focus,r?0:-1);e();if(i||a){const e=vW();if(tW(e)){const t=e.clone();if(i){const e=i.getParent();e&&t.anchor.set(e.getKey(),i.getIndexWithinParent()+(r?1:0),"element")}if(a){const e=a.getParent();e&&t.focus.set(e.getKey(),a.getIndexWithinParent()+(r?0:1),"element")}eK(wU(t))}}}(()=>{let t=null;for(const a of o){if(!a.isAttached())continue;const o=fX(a,iX);if(o){l(o);continue}if(eH(a)){if(!a.isInline())continue;if(iX(a)){if(!(sX(a)||null!==t&&t.getParentOrThrow().isParentOf(a))){l(a),t=a;continue}for(const e of a.getChildren())a.insertBefore(e);a.remove();continue}}const s=a.getPreviousSibling();iX(s)&&s.is(t)?s.append(a):(t=rX(e,{rel:i,target:n,title:r}),a.insertAfter(t),t.append(a))}})}function fX(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}const dX=/^\+?[0-9\s()-]{5,}$/;function pX(e){return e.match(/^[a-z][a-z0-9+.-]*:/i)||e.match(/^[/#.]/)?e:e.includes("@")?`mailto:${e}`:dX.test(e)?`tel:${e}`:`https://${e}`}function hX(e){let{validateUrl:t,attributes:n}=e;const[i]=gL();return(0,r.useEffect)(()=>{if(!i.hasNodes([tX]))throw new Error("LinkPlugin: LinkNode not registered on editor");return iY(i.registerCommand(lX,e=>{if(null===e)return cX(e),!0;if("string"==typeof e)return!(void 0!==t&&!t(e))&&(cX(e,n),!0);{const{url:t,target:r,rel:i,title:a}=e;return cX(t,{...n,rel:i,target:r,title:a}),!0}},1),void 0!==t?i.registerCommand(fq,e=>{const r=vW();if(!tW(r)||r.isCollapsed()||!fY(e,ClipboardEvent))return!1;if(null===e.clipboardData)return!1;const a=e.clipboardData.getData("text");return!!t(a)&&!r.getNodes().some(e=>eH(e))&&(i.dispatchCommand(lX,{...n,url:a}),e.preventDefault(),!0)},1):()=>{})},[i,t,n]),null}const mX=/^(\d+(?:\.\d+)?)px$/,gX=3,yX=2,vX=0,bX=1;class xX extends QW{static getType(){return"tablecell"}static clone(e){return new xX(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:NX,priority:0}),th:e=>({conversion:NX,priority:0})}}static importJSON(e){return SX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vX,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;super(arguments.length>3?arguments[3]:void 0),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),wX(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),aY(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(BK(t.element)){const e=t.element;e.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||75}px`,e.style.verticalAlign=this.getVerticalAlign()||"top",e.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...wX(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gX;const n=this.getWritable();return n.__headerState=e&t|n.__headerState&~t,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==vX}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function wX(e){return"middle"===e||"bottom"===e}function NX(e){const t=e,n=e.nodeName.toLowerCase();let r;mX.test(t.style.width)&&(r=parseFloat(t.style.width));const i=SX("th"===n?bX:vX,t.colSpan,r);i.__rowSpan=t.rowSpan;const a=t.style.backgroundColor;""!==a&&(i.__backgroundColor=a);const o=t.style.verticalAlign;wX(o)&&(i.__verticalAlign=o);const s=t.style,l=(s&&s.textDecoration||"").split(" "),u="700"===s.fontWeight||"bold"===s.fontWeight,c=l.includes("line-through"),f="italic"===s.fontStyle,d=l.includes("underline");return{after:e=>{const t=[];let n=null;const r=()=>{if(n){const e=n.getFirstChild();k$(e)&&1===n.getChildrenSize()&&e.remove()}};for(const i of e)_K(i)||H$(i)||k$(i)?(H$(i)&&(u&&i.toggleFormat("bold"),c&&i.toggleFormat("strikethrough"),f&&i.toggleFormat("italic"),d&&i.toggleFormat("underline")),n?n.append(i):(n=vH().append(i),t.push(n))):(t.push(i),r(),n=null);return r(),0===t.length&&t.push(vH()),t},node:i}}function SX(){return jK(new xX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vX,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0))}function EX(e){return e instanceof xX}const AX=rq("INSERT_TABLE_COMMAND");function CX(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];for(const o of i)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class kX extends QW{static getType(){return"tablerow"}static clone(e){return new kX(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:_X,priority:0})}}static importJSON(e){return DX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...void 0===e?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),aY(t,e.theme.tableRow),t}extractWithChild(e,t,n){return"html"===n}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function _X(e){const t=e;let n;return mX.test(t.style.height)&&(n=parseFloat(t.style.height)),{after:e=>mY(e,EX),node:DX(n)}}function DX(e){return jK(new kX(e))}function OX(e){return e instanceof kX}const jX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,MX=jX&&"documentMode"in document?document.documentMode:null,TX=jX&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function PX(e){const t=uY(e,e=>LJ(e));if(LJ(t))return t;throw new Error("Expected table cell to be inside of table.")}jX&&"InputEvent"in window&&!MX&&new window.InputEvent("input");const FX=(e,t)=>e===gX||e===t?t:vX;function IX(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[,,n]=HX(e),[r,i]=$X(n,e,e),a=r[0].length,{startRow:o}=i;let s=null;if(t){const t=o+e.__rowSpan-1,i=r[t],l=DX();for(let e=0;e<a;e++){const{cell:n,startRow:r}=i[e];if(r+n.__rowSpan-1<=t){const t=i[e].cell.__headerState,n=FX(t,yX);l.append(SX(n).append(vH()))}else n.setRowSpan(n.__rowSpan+1)}const u=n.getChildAtIndex(t);OX(u)||CX(256),u.insertAfter(l),s=l}else{const e=o,t=r[e],i=DX();for(let n=0;n<a;n++){const{cell:r,startRow:a}=t[n];if(a===e){const e=t[n].cell.__headerState,r=FX(e,yX);i.append(SX(r).append(vH()))}else r.setRowSpan(r.__rowSpan+1)}const l=n.getChildAtIndex(e);OX(l)||CX(257),l.insertBefore(i),s=i}return s}function BX(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[,,r]=HX(e),[i,a]=$X(r,e,e),o=i.length,{startColumn:s}=a,l=t?s+e.__colSpan-1:s-1,u=r.getFirstChild();OX(u)||CX(120);let c=null;function f(){const e=SX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vX).append(vH());return null===c&&(c=e),e}let d=u;e:for(let h=0;h<o;h++){if(0!==h){const e=d.getNextSibling();OX(e)||CX(121),d=e}const e=i[h],t=e[l<0?0:l].cell.__headerState,n=FX(t,bX);if(l<0){zX(d,f(n));continue}const{cell:r,startColumn:a,startRow:o}=e[l];if(a+r.__colSpan-1<=l){let t=r,i=o,a=l;for(;i!==h&&t.__rowSpan>1;){if(a-=r.__colSpan,!(a>=0)){d.append(f(n));continue e}{const{cell:n,startRow:r}=e[a];t=n,i=r}}t.insertAfter(f(n))}else r.setColSpan(r.__colSpan+1)}null!==c&&n&&RX(c);const p=r.getColWidths();if(p){const e=[...p],t=l<0?0:l,n=e[t];e.splice(t,0,n),r.setColWidths(e)}return c}function RX(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function zX(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function LX(e){if(0===e.length)return null;const t=PX(e[0]),[n]=WX(t,null,null);let r=1/0,i=-1/0,a=1/0,o=-1/0;const s=new Set;for(const p of n)for(const t of p){if(!t||!t.cell)continue;const n=t.cell.getKey();if(!s.has(n)&&e.some(e=>e.is(t.cell))){s.add(n);const e=t.startRow,l=t.startColumn,u=t.cell.__rowSpan||1,c=t.cell.__colSpan||1;r=Math.min(r,e),i=Math.max(i,e+u-1),a=Math.min(a,l),o=Math.max(o,l+c-1)}}if(r===1/0||a===1/0)return null;const l=i-r+1,u=o-a+1,c=n[r][a];if(!c.cell)return null;const f=c.cell;f.setColSpan(u),f.setRowSpan(l);const d=new Set([f.getKey()]);for(let p=r;p<=i;p++)for(let e=a;e<=o;e++){const t=n[p][e];if(!t.cell)continue;const r=t.cell,i=r.getKey();d.has(i)||(d.add(i),UX(r)||f.append(...r.getChildren()),r.remove())}return 0===f.getChildrenSize()&&f.append(vH()),f}function UX(e){if(1!==e.getChildrenSize())return!1;const t=e.getFirstChildOrThrow();return!(!bH(t)||!t.isEmpty())}function qX(e){const[t,n,r]=HX(e),i=t.__colSpan,a=t.__rowSpan;if(1===i&&1===a)return;const[o,s]=$X(r,t,t),{startColumn:l,startRow:u}=s,c=t.__headerState&yX,f=Array.from({length:i},(e,t)=>{let n=c;for(let r=0;0!==n&&r<o.length;r++)n&=o[r][t+l].cell.__headerState;return n}),d=t.__headerState&bX,p=Array.from({length:a},(e,t)=>{let n=d;for(let r=0;0!==n&&r<o[0].length;r++)n&=o[t+u][r].cell.__headerState;return n});if(i>1){for(let e=1;e<i;e++)t.insertAfter(SX(f[e]|p[0]).append(vH()));t.setColSpan(1)}if(a>1){let e;for(let t=1;t<a;t++){const r=u+t,a=o[r];e=(e||n).getNextSibling(),OX(e)||CX(125);let s=null;for(let e=0;e<l;e++){const t=a[e],n=t.cell;t.startRow===r&&(s=n),n.__colSpan>1&&(e+=n.__colSpan-1)}if(null===s)for(let n=i-1;n>=0;n--)zX(e,SX(f[n]|p[t]).append(vH()));else for(let e=i-1;e>=0;e--)s.insertAfter(SX(f[e]|p[t]).append(vH()))}t.setRowSpan(1)}}function $X(e,t,n){const[r,i,a]=WX(e,t,n);return null===i&&CX(207),null===a&&CX(208),[r,i,a]}function WX(e,t,n){const r=[];let i=null,a=null;function o(e){let t=r[e];return void 0===t&&(r[e]=t=[]),t}const s=e.getChildren();for(let l=0;l<s.length;l++){const e=s[l];OX(e)||CX(209);const r=o(l);for(let u=e.getFirstChild(),c=0;null!=u;u=u.getNextSibling()){for(EX(u)||CX(147);void 0!==r[c];)c++;const e={cell:u,startColumn:c,startRow:l},{__rowSpan:f,__colSpan:d}=u;for(let t=0;t<f&&!(l+t>=s.length);t++){const n=o(l+t);for(let t=0;t<d;t++)n[c+t]=e}null!==t&&null===i&&t.is(u)&&(i=e),null!==n&&null===a&&n.is(u)&&(a=e)}}return[r,i,a]}function HX(e){let t;if(e instanceof xX)t=e;else if("__type"in e){const n=uY(e,EX);EX(n)||CX(148),t=n}else{const n=uY(e.getNode(),EX);EX(n)||CX(148),t=n}const n=t.getParent();OX(n)||CX(149);const r=n.getParent();return LJ(r)||CX(210),[t,n,r]}function KX(e,t,n){let r,i=Math.min(t.startColumn,n.startColumn),a=Math.min(t.startRow,n.startRow),o=Math.max(t.startColumn+t.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),s=Math.max(t.startRow+t.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const l=e[t][n];if(!l)continue;const u=l.startColumn+l.cell.__colSpan-1,c=l.startRow+l.cell.__rowSpan-1,f=l.startColumn<=o&&u>=i,d=l.startRow<=s&&c>=a;if(f&&d){const e=Math.min(i,l.startColumn),t=Math.max(o,u),n=Math.min(a,l.startRow),f=Math.max(s,c);e===i&&t===o&&n===a&&f===s||(i=e,o=t,a=n,s=f,r=!0)}}}while(r);return{maxColumn:o,maxRow:s,minColumn:i,minRow:a}}function VX(e){const[t,,n]=HX(e),r=n.getChildren(),i=r.length,a=r[0].getChildren().length,o=new Array(i);for(let s=0;s<i;s++)o[s]=new Array(a);for(let s=0;s<i;s++){const e=r[s].getChildren();let n=0;for(let r=0;r<e.length;r++){for(;o[s][n];)n++;const i=e[r],a=i.__rowSpan||1,l=i.__colSpan||1;for(let e=0;e<a;e++)for(let t=0;t<l;t++)o[s+e][n+t]=i;if(t===i)return{colSpan:l,columnIndex:n,rowIndex:s,rowSpan:a};n+=l}}return null}function YX(e){const[[t,n,r,i],[a,o,s,l]]=["anchor","focus"].map(t=>{const n=e[t].getNode(),r=uY(n,EX);EX(r)||CX(238,t,n.getKey(),n.getType());const i=r.getParent();OX(i)||CX(239,t);const a=i.getParent();return LJ(a)||CX(240,t),[n,r,i,a]});return i.is(l)||CX(241),{anchorCell:n,anchorNode:t,anchorRow:r,anchorTable:i,focusCell:o,focusNode:a,focusRow:s,focusTable:l}}class GX{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return"root"!==this.tableKey&&"root"!==this.anchor.key&&"element"===this.anchor.type&&"root"!==this.focus.key&&"element"===this.focus.type}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return XX(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new GX(this.tableKey,J$(this.anchor.key,this.anchor.offset,this.anchor.type),J$(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(EX).forEach(e=>{const n=e.getFirstChild();bH(n)&&(t|=n.getTextFormat())});return!!(t&KL[e])}insertNodes(e){const t=this.focus.getNode();eH(t)||CX(151),wU(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=YX(this),n=VX(e);null===n&&CX(153);const r=VX(t);null===r&&CX(155);const i=Math.min(n.columnIndex,r.columnIndex),a=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),o=Math.min(n.rowIndex,r.rowIndex),s=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(i,a),fromY:Math.min(o,s),toX:Math.max(i,a),toY:Math.max(o,s)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(null!==e)return e;const{anchorTable:t,anchorCell:n,focusCell:r}=YX(this),i=r.getParents()[1];if(i!==t){if(t.isParentOf(r)){const e=i.getParent();null==e&&CX(159),this.set(this.tableKey,r.getKey(),e.getKey())}else{const e=t.getParent();null==e&&CX(158),this.set(this.tableKey,e.getKey(),r.getKey())}return this.getNodes()}const[a,o,s]=$X(t,n,r),{minColumn:l,maxColumn:u,minRow:c,maxRow:f}=KX(a,o,s),d=new Map([[t.getKey(),t]]);let p=null;for(let m=c;m<=f;m++)for(let e=l;e<=u;e++){const{cell:t}=a[m][e],n=t.getParent();OX(n)||CX(160),n!==p&&(d.set(n.getKey(),n),p=n),d.has(t.getKey())||ZX(t,e=>{d.set(e.getKey(),e)})}const h=Array.from(d.values());return PW()||(this._cachedNodes=h),h}getTextContent(){const e=this.getNodes().filter(e=>EX(e));let t="";for(let n=0;n<e.length;n++){const r=e[n],i=r.__parent,a=(e[n+1]||{}).__parent;t+=r.getTextContent()+(a!==i?"\n":"\t")}return t}}function XX(e){return e instanceof GX}function JX(){const e=J$("root",0,"element"),t=J$("root",0,"element");return new GX("root",e,t)}function ZX(e,t){const n=[[e]];for(let r=n.at(-1);void 0!==r&&n.length>0;r=n.at(-1)){const e=r.pop();void 0===e?n.pop():!1!==t(e)&&eH(e)&&n.push(e.getChildren())}}function QX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WK();const n=KH(e);LJ(n)||CX(231,e);const r=rJ(n,t.getElementByKey(e));return null===r&&CX(232,e),{tableElement:r,tableNode:n}}class eJ{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(e=>e()),this.listenersToRemove.clear()}$lookup(){return QX(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver(e=>{this.editor.getEditorState().read(()=>{let t=!1;for(let i=0;i<e.length;i++){const n=e[i].target.nodeName;if("TABLE"===n||"TBODY"===n||"THEAD"===n||"TR"===n){t=!0;break}}if(!t)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=pJ(n,r)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:t,tableElement:n}=this.$lookup();this.table=pJ(t,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:n}=this.$lookup();hJ(e,pJ(t,n),null),null!==vW()&&(eK(null),e.dispatchCommand(iq,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();oY(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();aY(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(null!==e){e.tableKey!==this.tableNodeKey&&CX(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),hJ(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return null!==e&&(this.nextFocus=null),e}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const e=FK(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.editor,{tableNode:r}=this.$lookup(),i=e.x,a=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===i&&this.anchorY===a&&!t){if(i===this.focusX&&a===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=i,this.focusY=a,this.isHighlightingCells){const t=TJ(r,e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==t)return this.focusCellNodeKey=t.getKey(),this.tableSelection=function(e,t,n){e.getKey(),t.getKey(),n.getKey();const r=vW(),i=XX(r)?r.clone():JX();return i.set(e.getKey(),t.getKey(),n.getKey()),i}(r,this.$getAnchorTableCellOrThrow(),t),eK(this.tableSelection),n.dispatchCommand(iq,void 0),hJ(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?KH(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return null===e&&CX(234),e}$getFocusTableCell(){return this.focusCellNodeKey?KH(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return null===e&&CX(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),n=TJ(t,e.elem);if(null!==n){const e=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():JX(),this.anchorCellNodeKey=e}}$formatCells(e){const t=vW();XX(t)||CX(236);const n=mW(),r=n.anchor,i=n.focus,a=t.getNodes().filter(EX);a.length>0||CX(237);const o=a[0].getFirstChild(),s=bH(o)?o.getFormatFlags(e,null):null;a.forEach(t=>{r.set(t.getKey(),0,"element"),i.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e,s)}),eK(t),this.editor.dispatchCommand(iq,void 0)}$clearText(){const{editor:e}=this,t=KH(this.tableNodeKey);if(!LJ(t))throw new Error("Expected TableNode.");const n=vW();XX(n)||CX(253);const r=n.getNodes().filter(EX),i=t.getFirstChild(),a=t.getLastChild();if(r.length>0&&null!==i&&null!==a&&OX(i)&&OX(a)&&r[0]===i.getFirstChild()&&r[r.length-1]===a.getLastChild()){t.selectPrevious();const n=t.getParent();return t.remove(),void(aH(n)&&n.isEmpty()&&e.dispatchCommand(uq,void 0))}r.forEach(e=>{if(eH(e)){const t=vH(),n=W$();t.append(n),e.append(t),e.getChildren().forEach(e=>{e!==t&&e.remove()})}}),hJ(e,this.table,null),eK(null),e.dispatchCommand(iq,void 0)}}const tJ="__lexicalTableSelection";function nJ(e){return BK(e)&&"TABLE"===e.nodeName}function rJ(e,t){if(!t)return t;const n=nJ(t)?t:e.getDOMSlot(t).element;return"TABLE"!==n.nodeName&&CX(245,t.nodeName),n}function iJ(e){return e._window}function aJ(e,t){for(let n=t,r=null;null!==n;n=n.getParent()){if(e.is(n))return r;EX(n)&&(r=n)}return null}const oJ=[[Eq,"down"],[Sq,"up"],[wq,"backward"],[bq,"forward"]],sJ=[pq,hq,sq],lJ=[kq,Dq];function uJ(e,t,n,r){const i=n.getRootElement(),a=iJ(n);null!==i&&null!==a||CX(246);const o=new eJ(n,e.getKey()),s=rJ(e,t);!function(e,t){null!==cJ(e)&&CX(205),e[tJ]=t}(s,o),o.listenersToRemove.add(()=>function(e,t){cJ(e)===t&&delete e[tJ]}(s,o));const l=t=>{if(o.pointerType=t.pointerType,0!==t.button||!RK(t.target)||!a)return;const r=fJ(t.target);null!==r&&n.update(()=>{const n=bW();if(TX&&t.shiftKey&&wJ(n,e)&&(tW(n)||XX(n))){const i=n.anchor.getNode(),a=aJ(e,n.anchor.getNode());a?(o.$setAnchorCellForSelection(MJ(o,a)),o.$setFocusCellForSelection(r),DJ(t)):(e.isBefore(i)?e.selectStart():e.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else"touch"!==t.pointerType&&o.$setAnchorCellForSelection(r)}),(()=>{if(o.isSelecting)return;const e=()=>{o.isSelecting=!1,a.removeEventListener("pointerup",e),a.removeEventListener("pointermove",t)},t=r=>{if(!(e=>!(1&~e.buttons))(r)&&o.isSelecting)return o.isSelecting=!1,a.removeEventListener("pointerup",e),void a.removeEventListener("pointermove",t);if(!RK(r.target))return;let i=null;const l=!(TX||s.contains(r.target));if(l)i=dJ(s,r.target);else for(const e of document.elementsFromPoint(r.clientX,r.clientY))if(i=dJ(s,e),i)break;!i||null!==o.focusCell&&i.elem===o.focusCell.elem||(o.setNextFocus({focusCell:i,override:l}),n.dispatchCommand(iq,void 0))};o.isSelecting=!0,a.addEventListener("pointerup",e,o.listenerOptions),a.addEventListener("pointermove",t,o.listenerOptions)})()};s.addEventListener("pointerdown",l,o.listenerOptions),o.listenersToRemove.add(()=>{s.removeEventListener("pointerdown",l)});const u=e=>{e.detail>=3&&RK(e.target)&&null!==fJ(e.target)&&e.preventDefault()};s.addEventListener("mousedown",u,o.listenerOptions),o.listenersToRemove.add(()=>{s.removeEventListener("mousedown",u)});const c=e=>{const t=e.target;0===e.button&&RK(t)&&n.update(()=>{const e=vW();XX(e)&&e.tableKey===o.tableNodeKey&&i.contains(t)&&o.$clearHighlight()})};a.addEventListener("pointerdown",c,o.listenerOptions),o.listenersToRemove.add(()=>{a.removeEventListener("pointerdown",c)});for(const[p,h]of oJ)o.listenersToRemove.add(n.registerCommand(p,t=>_J(n,t,h,e,o),3));o.listenersToRemove.add(n.registerCommand(_q,t=>{const n=vW();if(XX(n)){const r=aJ(e,n.focus.getNode());if(null!==r)return DJ(t),r.selectEnd(),!0}return!1},3));const f=t=>()=>{const n=vW();if(!wJ(n,e))return!1;if(XX(n))return o.$clearText(),!0;if(tW(n)){if(!EX(aJ(e,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),i=n.focus.getNode(),a=e.isParentOf(r),s=e.isParentOf(i);if(a&&!s||s&&!a)return o.$clearText(),!0;const l=uY(n.anchor.getNode(),e=>eH(e)),u=l&&uY(l,e=>eH(e)&&EX(e.getParent()));if(!eH(u)||!eH(l))return!1;if(t===hq&&null===u.getPreviousSibling())return!0}return!1};for(const p of sJ)o.listenersToRemove.add(n.registerCommand(p,f(p),4));const d=t=>{const n=vW();if(!XX(n)&&!tW(n))return!1;const r=e.isParentOf(n.anchor.getNode());if(r!==e.isParentOf(n.focus.getNode())){const t=r?"anchor":"focus",i=r?"focus":"anchor",{key:a,offset:o,type:s}=n[i];return e[n[t].isBefore(n[i])?"selectPrevious":"selectNext"]()[i].set(a,o,s),!1}return!!wJ(n,e)&&!!XX(n)&&(t&&(t.preventDefault(),t.stopPropagation()),o.$clearText(),!0)};for(const p of lJ)o.listenersToRemove.add(n.registerCommand(p,d,4));return o.listenersToRemove.add(n.registerCommand(Lq,e=>{const t=vW();if(t){if(!XX(t)&&!tW(t))return!1;FY(n,fY(e,ClipboardEvent)?e:null,RY(t));const r=d(e);return tW(t)?(t.removeText(),!0):r}return!1},4)),o.listenersToRemove.add(n.registerCommand(mq,t=>{const n=vW();if(!wJ(n,e))return!1;if(XX(n))return o.$formatCells(t),!0;if(tW(n)){const e=uY(n.anchor.getNode(),e=>EX(e));if(!EX(e))return!1}return!1},4)),o.listenersToRemove.add(n.registerCommand(Fq,t=>{const n=vW();if(!XX(n)||!wJ(n,e))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();if(!EX(r)||!EX(i))return!1;if(function(e,t){if(XX(e)){const n=e.anchor.getNode(),r=e.focus.getNode();if(t&&n&&r){const[e]=$X(t,n,r);return n.getKey()===e[0][0].cell.getKey()&&r.getKey()===e[e.length-1].at(-1).cell.getKey()}}return!1}(n,e))return e.setFormat(t),!0;const[a,o,s]=$X(e,r,i),l=Math.max(o.startRow+o.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1),u=Math.max(o.startColumn+o.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),c=Math.min(o.startRow,s.startRow),f=Math.min(o.startColumn,s.startColumn),d=new Set;for(let e=c;e<=l;e++)for(let n=f;n<=u;n++){const r=a[e][n].cell;if(d.has(r))continue;d.add(r),r.setFormat(t);const i=r.getChildren();for(let e=0;e<i.length;e++){const n=i[e];eH(n)&&!n.isInline()&&n.setFormat(t)}}return!0},4)),o.listenersToRemove.add(n.registerCommand(cq,t=>{const r=vW();if(!wJ(r,e))return!1;if(XX(r))return o.$clearHighlight(),!1;if(tW(r)){const i=uY(r.anchor.getNode(),e=>EX(e));if(!EX(i))return!1;if("string"==typeof t){const i=jJ(n,r,e);if(i)return OJ(i,e,[W$(t)]),!0}}return!1},4)),r&&o.listenersToRemove.add(n.registerCommand(Oq,t=>{const n=vW();if(!tW(n)||!n.isCollapsed()||!wJ(n,e))return!1;const r=AJ(n.anchor.getNode());return!(null===r||!e.is(CJ(r)))&&(DJ(t),function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",i=e[n]();if(eH(i))return i.selectEnd();const a=uY(e,OX);null===a&&CX(247);for(let s=a[n]();OX(s);s=s[n]()){const e=s[r]();if(eH(e))return e.selectEnd()}const o=uY(a,LJ);null===o&&CX(248),"next"===t?o.selectNext():o.selectPrevious()}(r,t.shiftKey?"previous":"next"),!0)},4)),o.listenersToRemove.add(n.registerCommand(Kq,t=>e.isSelected(),3)),o.listenersToRemove.add(n.registerCommand(aq,(e,t)=>{if(n!==t)return!1;const{nodes:r,selection:i}=e,a=i.getStartEndPoints(),o=XX(i),s=tW(i)&&null!==uY(i.anchor.getNode(),e=>EX(e))&&null!==uY(i.focus.getNode(),e=>EX(e))||o;if(1!==r.length||!LJ(r[0])||!s||null===a)return!1;const[l,u]=a,[c,f,d]=HX(l),p=uY(u.getNode(),e=>EX(e));if(!(EX(c)&&EX(p)&&OX(f)&&LJ(d)))return!1;const h=r[0],[m,g,y]=$X(d,c,p),[v]=WX(h,null,null),b=m.length,x=b>0?m[0].length:0;let w=g.startRow,N=g.startColumn,S=v.length,E=S>0?v[0].length:0;if(o){const e=KX(m,g,y),t=e.maxRow-e.minRow+1,n=e.maxColumn-e.minColumn+1;w=e.minRow,N=e.minColumn,S=Math.min(S,t),E=Math.min(E,n)}let A=!1;const C=Math.min(b,w+S)-1,k=Math.min(x,N+E)-1,_=new Set;for(let n=w;n<=C;n++)for(let e=N;e<=k;e++){const t=m[n][e];_.has(t.cell.getKey())||1===t.cell.__rowSpan&&1===t.cell.__colSpan||(qX(t.cell),_.add(t.cell.getKey()),A=!0)}let[D]=WX(d.getWritable(),null,null);const O=S-b+w;for(let n=0;n<O;n++)IX(D[b-1][0].cell);const j=E-x+N;for(let n=0;n<j;n++)BX(D[0][x-1].cell,!0,!1);[D]=WX(d.getWritable(),null,null);for(let n=w;n<w+S;n++)for(let e=N;e<N+E;e++){const t=n-w,r=e-N,i=v[t][r];if(i.startRow!==t||i.startColumn!==r)continue;const a=i.cell;if(1!==a.__rowSpan||1!==a.__colSpan){const t=[],r=Math.min(n+a.__rowSpan,w+S)-1,i=Math.min(e+a.__colSpan,N+E)-1;for(let a=n;a<=r;a++)for(let n=e;n<=i;n++){const e=D[a][n];t.push(e.cell)}LX(t),A=!0}const{cell:o}=D[n][e],s=o.getChildren();a.getChildren().forEach(e=>{H$(e)?(vH().append(e),o.append(e)):o.append(e)}),s.forEach(e=>e.remove())}if(o&&A){const[e]=WX(d.getWritable(),null,null);e[g.startRow][g.startColumn].cell.selectEnd()}return!0},4)),o.listenersToRemove.add(n.registerCommand(iq,()=>{const t=vW(),r=bW(),i=o.getAndClearNextFocus();if(null!==i){const{focusCell:n}=i;if(XX(t)&&t.tableKey===o.tableNodeKey)return(n.x!==o.focusX||n.y!==o.focusY)&&(o.$setFocusCellForSelection(n),!0);if(n!==o.anchorCell&&wJ(t,e))return o.$setFocusCellForSelection(n),!0}if(o.getAndClearShouldCheckSelection()&&tW(r)&&tW(t)&&t.isCollapsed()){const n=t.anchor.getNode(),r=e.getFirstChild(),i=AJ(n);if(null!==i&&OX(r)){const t=r.getFirstChild();if(EX(t)&&e.is(uY(i,n=>n.is(e)||n.is(t))))return t.selectStart(),!0}}if(tW(t)){const{anchor:i,focus:a}=t,s=i.getNode(),l=a.getNode(),u=AJ(s),c=AJ(l),f=!(!u||!e.is(CJ(u))),d=!(!c||!e.is(CJ(c))),p=f!==d,h=f&&d,m=t.isBackward();if(p){const r=t.clone();if(d){const[t]=$X(e,c,c),n=t[0][0].cell,i=t[t.length-1].at(-1).cell;r.focus.set(m?n.getKey():i.getKey(),m?n.getChildrenSize():i.getChildrenSize(),"element")}else if(f){const[t]=$X(e,u,u),n=t[0][0].cell,i=t[t.length-1].at(-1).cell;r.anchor.set(m?i.getKey():n.getKey(),m?i.getChildrenSize():0,"element")}eK(r),gJ(n,o)}else if(h&&(u.is(c)||(o.$setAnchorCellForSelection(MJ(o,u)),o.$setFocusCellForSelection(MJ(o,c),!0)),"touch"===o.pointerType&&o.isSelecting&&t.isCollapsed()&&tW(r)&&r.isCollapsed())){const e=AJ(r.anchor.getNode());e&&!e.is(c)&&(o.$setAnchorCellForSelection(MJ(o,e)),o.$setFocusCellForSelection(MJ(o,c),!0),o.pointerType=null)}}else if(t&&XX(t)&&t.is(r)&&t.tableKey===e.getKey()){const r=FK(a);if(r&&r.anchorNode&&r.focusNode){const i=GH(r.focusNode),a=i&&!e.isParentOf(i),o=GH(r.anchorNode),s=o&&e.isParentOf(o);if(a&&s&&r.rangeCount>0){const i=function(e,t){return yW(null,e,t,null)}(r,n);i&&(i.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),r.removeAllRanges(),eK(i))}}}return t&&!t.is(r)&&(XX(t)||XX(r))&&o.tableSelection&&!o.tableSelection.is(r)?(XX(t)&&t.tableKey===o.tableNodeKey?o.$updateTableTableSelection(t):!XX(t)&&XX(r)&&r.tableKey===o.tableNodeKey&&o.$updateTableTableSelection(null),!1):(o.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.$enableHighlightStyle(),mJ(t.table,t=>{const n=t.elem;t.highlighted=!1,EJ(e,t),n.getAttribute("style")||n.removeAttribute("style")})}(n,o):!o.hasHijackedSelectionStyles&&e.isSelected()&&gJ(n,o),!1)},4)),o.listenersToRemove.add(n.registerCommand(uq,()=>{const t=vW();if(!tW(t)||!t.isCollapsed()||!wJ(t,e))return!1;const r=jJ(n,t,e);return!!r&&(OJ(r,e),!0)},4)),o}function cJ(e){return e[tJ]||null}function fJ(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function dJ(e,t){if(!e.contains(t))return null;let n=null;for(let r=t;null!=r;r=r.parentNode){if(r===e)return n;const t=r.nodeName;"TD"!==t&&"TH"!==t||(n=r._cell||null)}return null}function pJ(e,t){const n=[],r={columns:0,domRows:n,rows:0};let i=rJ(e,t).querySelector("tr"),a=0,o=0;for(n.length=0;null!=i;){const e=i.nodeName;if("TD"===e||"TH"===e){const e={elem:i,hasBackgroundColor:""!==i.style.backgroundColor,highlighted:!1,x:a,y:o};i._cell=e;let t=n[o];void 0===t&&(t=n[o]=[]),t[a]=e}else{const e=i.firstChild;if(null!=e){i=e;continue}}const t=i.nextSibling;if(null!=t){a++,i=t;continue}const r=i.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;o++,a=0,i=e}}return r.columns=a+1,r.rows=o+1,r}function hJ(e,t,n){const r=new Set(n?n.getNodes():[]);mJ(t,(t,n)=>{const i=t.elem;r.has(n)?(t.highlighted=!0,SJ(e,t)):(t.highlighted=!1,EJ(e,t),i.getAttribute("style")||i.removeAttribute("style"))})}function mJ(e,t){const{domRows:n}=e;for(let r=0;r<n.length;r++){const e=n[r];if(e)for(let n=0;n<e.length;n++){const i=e[n];if(!i)continue;const a=GH(i.elem);null!==a&&t(i,a,{x:n,y:r})}}}function gJ(e,t){t.$disableHighlightStyle(),mJ(t.table,t=>{t.highlighted=!0,SJ(e,t)})}const yJ=(e,t,n,r,i)=>{const a="forward"===i;switch(i){case"backward":case"forward":return n!==(a?e.table.columns-1:0)?NJ(t.getCellNodeFromCordsOrThrow(n+(a?1:-1),r,e.table),a):r!==(a?e.table.rows-1:0)?NJ(t.getCellNodeFromCordsOrThrow(a?0:e.table.columns-1,r+(a?1:-1),e.table),a):a?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?NJ(t.getCellNodeFromCordsOrThrow(n,r-1,e.table),!1):t.selectPrevious(),!0;case"down":return r!==e.table.rows-1?NJ(t.getCellNodeFromCordsOrThrow(n,r+1,e.table),!0):t.selectNext(),!0;default:return!1}};function vJ(e,t){let n,r;if(t.startColumn===e.minColumn)n="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;n="maxColumn"}if(t.startRow===e.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;r="maxRow"}return[n,r]}function bJ(e){let[t,n]=e;return["minColumn"===t?"maxColumn":"minColumn","minRow"===n?"maxRow":"minRow"]}function xJ(e,t,n){let[r,i]=n;const a=t[i],o=e[a];void 0===o&&CX(250,i,String(a));const s=t[r],l=o[s];return void 0===l&&CX(250,r,String(s)),l}function wJ(e,t){if(tW(e)||XX(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}function NJ(e,t){t?e.selectStart():e.selectEnd()}function SJ(e,t){const n=t.elem,r=e._config.theme;EX(GH(n))||CX(131),aY(n,r.tableCellSelected)}function EJ(e,t){const n=t.elem;EX(GH(n))||CX(131);oY(n,e._config.theme.tableCellSelected)}function AJ(e){const t=uY(e,EX);return EX(t)?t:null}function CJ(e){const t=uY(e,LJ);return LJ(t)?t:null}function kJ(e,t,n,r,i,a,o){const s=OV(n.focus,i?"previous":"next");if(zV(s))return!1;let l=s;for(const g of wV(s).iterNodeCarets("shadowRoot")){if(!lV(g)||!eH(g.origin))return!1;l=g}const u=l.getParentAtCaret();if(!EX(u))return!1;const c=u,f=function(e){for(const t of wV(e).iterNodeCarets("root")){const{origin:n}=t;if(EX(n)){if(uV(t))return yV(n,e.direction)}else if(!OX(n))break}return null}(pV(c,l.direction)),d=uY(c,LJ);if(!d||!d.is(a))return!1;const p=e.getElementByKey(c.getKey()),h=fJ(p);if(!p||!h)return!1;const m=function(e,t){const n=e.getElementByKey(t.getKey());return null===n&&CX(230),pJ(t,n)}(e,d);if(o.table=m,f)if("extend"===r){const t=fJ(e.getElementByKey(f.origin.getKey()));if(!t)return!1;o.$setAnchorCellForSelection(h),o.$setFocusCellForSelection(t,!0)}else{const e=RV(f);jV(n.anchor,e),jV(n.focus,e)}else if("extend"===r)o.$setAnchorCellForSelection(h),o.$setFocusCellForSelection(h,!0);else{const e=function(e){const t=vV(e);return uV(t)?RV(t):e}(pV(d,s.direction));jV(n.anchor,e),jV(n.focus,e)}return DJ(t),!0}function _J(e,t,n,r,i){if(("up"===n||"down"===n)&&function(e){const t=e.getRootElement();return!!t&&(t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls"))}(e))return!1;const a=vW();if(!wJ(a,r)){if(tW(a)){if("backward"===n){if(a.focus.offset>0)return!1;const e=function(e){for(let t=e,n=e;null!==n;t=n,n=n.getParent())if(eH(n)){if(n!==t&&n.getFirstChild()!==t)return null;if(!n.isInline())return n}return null}(a.focus.getNode());if(!e)return!1;const n=e.getPreviousSibling();return!!LJ(n)&&(DJ(t),t.shiftKey?a.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(t.shiftKey&&("up"===n||"down"===n)){const e=a.focus.getNode();if(!a.isCollapsed()&&("up"===n&&!a.isBackward()||"down"===n&&a.isBackward())){let i=uY(e,e=>LJ(e));if(EX(i)&&(i=uY(i,LJ)),i!==r)return!1;if(!i)return!1;const o="down"===n?i.getNextSibling():i.getPreviousSibling();if(!o)return!1;let s=0;"up"===n&&eH(o)&&(s=o.getChildrenSize());let l=o;if("up"===n&&eH(o)){l=o.getLastChild()||o,s=H$(l)?l.getTextContentSize():0}const u=a.clone();return u.focus.set(l.getKey(),s,H$(l)?"text":"element"),eK(u),DJ(t),!0}if(DK(e)){const e="up"===n?a.getNodes()[a.getNodes().length-1]:a.getNodes()[0];if(e&&null!==aJ(r,e)){const e=r.getFirstDescendant(),t=r.getLastDescendant();if(!e||!t)return!1;const[n]=HX(e),[a]=HX(t),o=r.getCordsFromCellNode(n,i.table),s=r.getCordsFromCellNode(a,i.table),l=r.getDOMCellFromCordsOrThrow(o.x,o.y,i.table),u=r.getDOMCellFromCordsOrThrow(s.x,s.y,i.table);return i.$setAnchorCellForSelection(l),i.$setFocusCellForSelection(u,!0),!0}return!1}{let r=uY(e,e=>eH(e)&&!e.isInline());if(EX(r)&&(r=uY(r,LJ)),!r)return!1;const o="down"===n?r.getNextSibling():r.getPreviousSibling();if(LJ(o)&&i.tableNodeKey===o.getKey()){const e=o.getFirstDescendant(),r=o.getLastDescendant();if(!e||!r)return!1;const[i]=HX(e),[s]=HX(r),l=a.clone();return l.focus.set(("up"===n?i:s).getKey(),"up"===n?0:s.getChildrenSize(),"element"),DJ(t),eK(l),!0}}}}return"down"===n&&IJ(e)&&i.setShouldCheckSelection(),!1}if(tW(a)){if("backward"===n||"forward"===n)return kJ(e,t,a,t.shiftKey?"extend":"move","backward"===n,r,i);if(a.isCollapsed()){const{anchor:o,focus:s}=a,l=uY(o.getNode(),EX),u=uY(s.getNode(),EX);if(!EX(l)||!l.is(u))return!1;const c=CJ(l);if(c!==r&&null!=c){const r=rJ(c,e.getElementByKey(c.getKey()));if(null!=r)return i.table=pJ(c,r),_J(e,t,n,c,i)}const f=e.getElementByKey(l.__key),d=e.getElementByKey(o.key);if(null==d||null==f)return!1;let p;if("element"===o.type)p=d.getBoundingClientRect();else{const t=FK(iJ(e));if(null===t||0===t.rangeCount)return!1;p=t.getRangeAt(0).getBoundingClientRect()}const h="up"===n?l.getFirstChild():l.getLastChild();if(null==h)return!1;const m=e.getElementByKey(h.__key);if(null==m)return!1;const g=m.getBoundingClientRect();if("up"===n?g.top>p.top-p.height:p.bottom+p.height>g.bottom){DJ(t);const e=r.getCordsFromCellNode(l,i.table);if(!t.shiftKey)return yJ(i,r,e.x,e.y,n);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,i.table);i.$setAnchorCellForSelection(t),i.$setFocusCellForSelection(t,!0)}return!0}}}else if(XX(a)){const{anchor:o,focus:s}=a,l=uY(o.getNode(),EX),u=uY(s.getNode(),EX),[c]=a.getNodes();LJ(c)||CX(251);const f=rJ(c,e.getElementByKey(c.getKey()));if(!EX(l)||!EX(u)||!LJ(c)||null==f)return!1;i.$updateTableTableSelection(a);const d=pJ(c,f),p=r.getCordsFromCellNode(l,d),h=r.getDOMCellFromCordsOrThrow(p.x,p.y,d);if(i.$setAnchorCellForSelection(h),DJ(t),t.shiftKey){const[e,t,a]=$X(r,l,u);return function(e,t,n,r,i){const a=KX(t,n,r),o=function(e,t){const{minColumn:n,maxColumn:r,minRow:i,maxRow:a}=t;let o=1,s=1,l=1,u=1;const c=e[i],f=e[a];for(let d=n;d<=r;d++)o=Math.max(o,c[d].cell.__rowSpan),u=Math.max(u,f[d].cell.__rowSpan);for(let d=i;d<=a;d++)s=Math.max(s,e[d][n].cell.__colSpan),l=Math.max(l,e[d][r].cell.__colSpan);return{bottomSpan:u,leftSpan:s,rightSpan:l,topSpan:o}}(t,a),{topSpan:s,leftSpan:l,bottomSpan:u,rightSpan:c}=o,f=function(e,t){const n=vJ(e,t);return null===n&&CX(249,t.cell.getKey()),n}(a,n),[d,p]=bJ(f);let h=a[d],m=a[p];"forward"===i?h+="maxColumn"===d?1:l:"backward"===i?h-="minColumn"===d?1:c:"down"===i?m+="maxRow"===p?1:s:"up"===i&&(m-="minRow"===p?1:u);const g=t[m];if(void 0===g)return!1;const y=g[h];if(void 0===y)return!1;const[v,b]=function(e,t,n){const r=KX(e,t,n),i=vJ(r,t);if(i)return[xJ(e,r,i),xJ(e,r,bJ(i))];const a=vJ(r,n);if(a)return[xJ(e,r,bJ(a)),xJ(e,r,a)];const o=["minColumn","minRow"];return[xJ(e,r,o),xJ(e,r,bJ(o))]}(t,n,y),x=MJ(e,v.cell),w=MJ(e,b.cell);return e.$setAnchorCellForSelection(x),e.$setFocusCellForSelection(w,!0),!0}(i,e,t,a,n)}return u.selectEnd(),!0}return!1}function DJ(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function OJ(e,t,n){const r=vH();"first"===e?t.insertBefore(r):t.insertAfter(r),r.append(...n||[]),r.selectEnd()}function jJ(e,t,n){const r=n.getParent();if(!r)return;const i=FK(iJ(e));if(!i)return;const a=i.anchorNode,o=e.getElementByKey(r.getKey()),s=rJ(n,e.getElementByKey(n.getKey()));if(!a||!o||!s||!o.contains(a)||s.contains(a))return;const l=uY(t.anchor.getNode(),e=>EX(e));if(!l)return;const u=uY(l,e=>LJ(e));if(!LJ(u)||!u.is(n))return;const[c,f]=$X(n,l,l),d=c[0][0],p=c[c.length-1][c[0].length-1],{startRow:h,startColumn:m}=f,g=h===d.startRow&&m===d.startColumn,y=h===p.startRow&&m===p.startColumn;return g?"first":y?"last":void 0}function MJ(e,t){const{tableNode:n}=e.$lookup(),r=n.getCordsFromCellNode(t,e.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,e.table)}function TJ(e,t,n){return aJ(e,GH(t,n))}function PJ(e,t,n){if(!t.theme.tableAlignment)return;const r=[],i=[];for(const a of["center","right"]){const e=t.theme.tableAlignment[a];e&&(a===n?i:r).push(e)}oY(e,...r),aY(e,...i)}const FJ=new WeakSet;function IJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WK();return FJ.has(e)}class BJ extends QW{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new BJ(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:RJ,priority:1})}}static importJSON(e){return zJ().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,n){return"html"===n}getDOMSlot(e){const t=nJ(e)?e:e.querySelector("table");return nJ(t)||CX(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const r=document.createElement("colgroup");if(n.appendChild(r),function(e){e.__lexicalUnmanaged=!0}(r),aY(n,e.theme.table),this.updateTableElement(null,n,e),IJ(t)){const t=document.createElement("div"),r=e.theme.tableScrollableWrapper;return r?aY(t,r):t.style.cssText="overflow-x: auto;",t.appendChild(n),this.updateTableWrapper(null,t,n,e),t}return n}updateTableWrapper(e,t,n,r){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(e,t,n,r){r>0?(aY(e,n.theme.tableFrozenColumn),t.setAttribute("data-lexical-frozen-column","true")):(oY(e,n.theme.tableFrozenColumn),t.removeAttribute("data-lexical-frozen-column"))}(t,n,r,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(e,t,n,r){r>0?(aY(e,n.theme.tableFrozenRow),t.setAttribute("data-lexical-frozen-row","true")):(oY(e,n.theme.tableFrozenRow),t.removeAttribute("data-lexical-frozen-row"))}(t,n,r,this.__frozenRowCount)}updateTableElement(e,t,n){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(e,t,n){n?(aY(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):(oY(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}(t,n,this.__rowStriping),function(e,t,n,r){const i=e.querySelector("colgroup");if(!i)return;const a=[];for(let o=0;o<n;o++){const e=document.createElement("col"),t=r&&r[o];t&&(e.style.width=`${t}px`),a.push(e)}i.replaceChildren(...a)}(t,0,this.getColumnCount(),this.getColWidths()),PJ(t,n,this.getFormatType())}updateDOM(e,t,n){const r=this.getDOMSlot(t).element;return t===r===IJ()||(BK(i=t)&&"DIV"===i.nodeName&&this.updateTableWrapper(e,t,r,n),this.updateTableElement(e,r,n),!1);var i}exportDOM(e){const t=super.exportDOM(e),{element:n}=t;return{after:n=>{if(t.after&&(n=t.after(n)),!nJ(n)&&BK(n)&&(n=n.querySelector("table")),!nJ(n))return null;PJ(n,e._config,this.getFormatType());const[r]=WX(this,null,null),i=new Map;for(const e of r)for(const t of e){const e=t.cell.getKey();i.has(e)||i.set(e,{colSpan:t.cell.getColSpan(),startColumn:t.startColumn})}const a=new Set;for(const e of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const t=e.getAttribute("data-temporary-table-cell-lexical-key");if(t){const n=i.get(t);if(e.removeAttribute("data-temporary-table-cell-lexical-key"),n){i.delete(t);for(let e=0;e<n.colSpan;e++)a.add(e+n.startColumn)}}}const o=n.querySelector(":scope > colgroup");if(o){const e=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter((e,t)=>a.has(t));o.replaceChildren(...e)}const s=n.querySelectorAll(":scope > tr");if(s.length>0){const e=document.createElement("tbody");for(const t of s)e.appendChild(t);n.append(e)}return n},element:!nJ(n)&&BK(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:r}=t;for(let i=0;i<n;i++){const t=r[i];if(null!=t)for(let n=0;n<t.length;n++){const r=t[n];if(null==r)continue;const{elem:a}=r,o=TJ(this,a);if(null!==o&&e.is(o))return{x:n,y:i}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:r}=n,i=r[t];if(null==i)return null;const a=i[e<i.length?e:i.length-1];return null==a?null:a}getDOMCellFromCordsOrThrow(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(null==r)return null;const i=GH(r.elem);return EX(i)?i:null}getCellNodeFromCordsOrThrow(e,t,n){const r=this.getCellNodeFromCords(e,t,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(e=>{EX(e)&&(t+=e.getColSpan())}),t}}function RJ(e){const t=zJ();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),e.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),e.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);const n=e.querySelector(":scope > colgroup");if(n){let e=[];for(const t of n.querySelectorAll(":scope > col")){let n=t.style.width||"";if(!mX.test(n)&&(n=t.getAttribute("width")||"",!/^\d+$/.test(n))){e=void 0;break}e.push(parseFloat(n))}e&&t.setColWidths(e)}return{after:e=>mY(e,OX),node:t}}function zJ(){return jK(new BJ)}function LJ(e){return e instanceof BJ}function UJ(e){let{rows:t,columns:n,includeHeaders:r}=e;const i=vW()||bW();if(!i||!tW(i))return!1;if(CJ(i.anchor.getNode()))return!1;const a=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=zJ();for(let i=0;i<e;i++){const e=DX();for(let r=0;r<t;r++){let t=vX;"object"==typeof n?(0===i&&n.rows&&(t|=bX),0===r&&n.columns&&(t|=yX)):n&&(0===i&&(t|=bX),0===r&&(t|=yX));const a=SX(t),o=vH();o.append(W$()),a.append(o),e.append(a)}r.append(e)}return r}(Number(t),Number(n),r);cY(a);const o=a.getFirstDescendant();return H$(o)&&o.select(),!0}function qJ(e){OX(e.getParent())?e.isEmpty()&&e.append(vH()):e.remove()}function $J(e){LJ(e.getParent())?pY(e,EX):e.remove()}function WJ(e){pY(e,OX);const[t]=WX(e,null,null),n=t.reduce((e,t)=>Math.max(e,t.length),0),r=e.getChildren();for(let i=0;i<t.length;++i){const e=r[i];if(!e)continue;OX(e)||CX(254,e.constructor.name,e.getType());const a=t[i].reduce((e,t)=>t?1+e:e,0);if(a!==n)for(let t=a;t<n;++t){const t=SX();t.append(vH()),e.append(t)}}}function HJ(e){if(e.detail<3||!RK(e.target))return!1;const t=GH(e.target);if(null===t)return!1;const n=uY(t,e=>eH(e)&&!e.isInline());return null!==n&&(!!EX(n.getParent())&&(n.select(0),!0))}function KJ(e){let{hasCellMerge:t=!0,hasCellBackgroundColor:n=!0,hasTabHandler:i=!0,hasHorizontalScroll:a=!1}=e;const[o]=gL();return(0,r.useEffect)(()=>{IJ(o)!==a&&(function(e,t){t?FJ.add(e):FJ.delete(e)}(o,a),o.registerNodeTransform(BJ,()=>{})())},[o,a]),(0,r.useEffect)(()=>function(e){return e.hasNodes([BJ])||CX(255),iY(e.registerCommand(AX,UJ,0),e.registerCommand(aq,(t,n)=>{let{nodes:r,selection:i}=t;return!(e!==n||!tW(i))&&null!==CJ(i.anchor.getNode())&&r.some(LJ)},0),e.registerCommand(oq,HJ,0),e.registerNodeTransform(BJ,WJ),e.registerNodeTransform(kX,$J),e.registerNodeTransform(xX,qJ))}(o),[o]),(0,r.useEffect)(()=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new Map,r=(r,i,a)=>{const o=rJ(r,a),s=uJ(r,o,e,t);n.set(i,[s,o])},i=e.registerMutationListener(BJ,t=>{e.getEditorState().read(()=>{for(const[e,i]of t){const t=n.get(e);if("created"===i||"updated"===i){const{tableNode:i,tableElement:a}=QX(e);void 0===t?r(i,e,a):a!==t[1]&&(t[0].removeListeners(),n.delete(e),r(i,e,a))}else"destroyed"===i&&void 0!==t&&(t[0].removeListeners(),n.delete(e))}},{editor:e})},{skipInitialization:!1});return()=>{i();for(const[,[e]]of n)e.removeListeners()}}(o,i),[o,i]),(0,r.useEffect)(()=>{if(!t)return function(e){return e.registerNodeTransform(xX,e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=HX(e),[n]=$X(t,e,e),r=n.length,i=n[0].length;let a=t.getFirstChild();OX(a)||CX(175);const o=[];for(let e=0;e<r;e++){0!==e&&(a=a.getNextSibling(),OX(a)||CX(175));let t=null;for(let r=0;r<i;r++){const i=n[e][r],s=i.cell;if(i.startRow===e&&i.startColumn===r)t=s,o.push(s);else if(s.getColSpan()>1||s.getRowSpan()>1){EX(s)||CX(176);const e=SX(s.__headerState);null!==t?t.insertAfter(e):dY(a,e)}}}for(const e of o)e.setColSpan(1),e.setRowSpan(1)}})}(o)},[o,t]),(0,r.useEffect)(()=>{if(!n)return o.registerNodeTransform(xX,e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)})},[o,n,t]),null}function VJ(e){let{src:t,altText:n}=e;return(0,v.jsx)("img",{src:t,alt:n,style:{maxWidth:"100%"}})}class YJ extends nH{static getType(){return"image"}static clone(e){return new YJ(e.__src,e.__altText,e.__key)}static importJSON(e){const{src:t,altText:n}=e;return GJ({src:t,altText:n})}exportJSON(){return{src:this.__src,altText:this.__altText,type:"image",version:1}}constructor(e,t,n){super(n),this.__src=e,this.__altText=t}createDOM(){return document.createElement("span")}updateDOM(){return!1}decorate(){return(0,v.jsx)(VJ,{src:this.__src,altText:this.__altText})}}function GJ(e){let{altText:t,src:n}=e;return new YJ(n,t)}const XJ=rq("INSERT_IMAGE_COMMAND");function JJ(){const[e]=gL();return(0,r.useEffect)(()=>e.registerCommand(XJ,t=>{const n=prompt("Enter image URL:",t.src||"https://via.placeholder.com/300");if(n){const r=GJ({altText:t.altText,src:n});e.update(()=>{e.getRootElement().append(r)})}return!0},0),[e]),null}n(2999),n(3241),n(3636),n(7956),n(8486),n(7646),n(944),n(7819),n(5775),n(8466),n(3817),n(9765),n(684),n(7932),n(6043),n(3782);!function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach(function(n){var r=t[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}}),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(Prism);const ZJ=globalThis.Prism||window.Prism;const QJ=e=>{const t=/^diff-([\w-]+)/i;try{if(!e)return!1;const n=t.exec(e);return n?ZJ.languages.hasOwnProperty("diff")&&ZJ.languages.hasOwnProperty(n[1]):ZJ.languages.hasOwnProperty(e)}catch(e){return!1}};function eZ(e,t){for(const n of e.childNodes){if(BK(n)&&n.tagName===t)return!0;eZ(n,t)}return!1}const tZ="data-language",nZ="data-highlight-language";class rZ extends QW{static getType(){return"code"}static clone(e){return new rZ(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=QJ(e)}createDOM(e){const t=document.createElement("code");aY(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(tZ,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(nZ,n)),t}updateDOM(e,t,n){const r=this.__language,i=e.__language;return r?r!==i&&(t.setAttribute(tZ,r),this.__isSyntaxHighlightSupported&&t.setAttribute(nZ,r)):i&&(t.removeAttribute(tZ),e.__isSyntaxHighlightSupported&&t.removeAttribute(nZ)),!1}exportDOM(e){const t=document.createElement("pre");aY(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(tZ,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(nZ,n)),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||eZ(e,"BR"))?{conversion:oZ,priority:1}:null,div:()=>({conversion:sZ,priority:1}),pre:()=>({conversion:oZ,priority:0}),table:e=>fZ(e)?{conversion:lZ,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&fZ(n)?{conversion:uZ,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&fZ(t)?{conversion:uZ,priority:3}:null}}}static importJSON(e){return iZ().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=vH();return this.insertAfter(e,t),e}const{anchor:i,focus:a}=e,o=(i.isBefore(a)?i:a).getNode();if(H$(o)){let e=yZ(o);const t=[];for(;;)if(G$(e))t.push(Y$()),e=e.getNextSibling();else{if(!mZ(e))break;{let n=0;const r=e.getTextContent(),i=e.getTextContentSize();for(;n<i&&" "===r[n];)n++;if(0!==n&&t.push(hZ(" ".repeat(n))),n!==i)break;e=e.getNextSibling()}}const n=o.splitText(i.offset)[0],r=0===i.offset?0:1,a=n.getIndexWithinParent()+r,s=o.getParentOrThrow(),l=[C$(),...t];s.splice(a,0,l);const u=t[t.length-1];u?u.select():0===i.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(aZ(o)){const{offset:t}=e.anchor;o.splice(t,0,[C$()]),o.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=vH();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=QJ(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}}function iZ(e){return jK(new rZ(e))}function aZ(e){return e instanceof rZ}function oZ(e){return{node:iZ(e.getAttribute(tZ))}}function sZ(e){const t=e,n=cZ(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(cZ(t))return!0;t=t.parentElement}return!1}(t)?{node:n?iZ():null}:{node:null}}function lZ(){return{node:iZ()}}function uZ(){return{node:null}}function cZ(e){return null!==e.style.fontFamily.match("monospace")}function fZ(e){return e.classList.contains("js-file-line-container")}class dZ extends F${constructor(){let e=arguments.length>1?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>2?arguments[2]:void 0),this.__highlightType=e}static getType(){return"code-highlight"}static clone(e){return new dZ(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e);return aY(t,pZ(e.theme,this.__highlightType)),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),i=pZ(n.theme,e.__highlightType),a=pZ(n.theme,this.__highlightType);return i!==a&&(i&&oY(t,i),a&&aY(t,a)),r}static importJSON(e){return hZ().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return iZ()}}function pZ(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function hZ(){return jK(new dZ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function mZ(e){return e instanceof dZ}function gZ(e,t){let n=e;for(let r=pV(e,t);r&&(mZ(r.origin)||G$(r.origin));r=sY(r))n=r.origin;return n}function yZ(e){return gZ(e,"previous")}new Set;const vZ={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",underline:"editor-text-underline"},code:"editor-code"},bZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xZ=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},wZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},NZ=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var SZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EZ=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:u,...c}=e;return(0,r.createElement)("svg",{ref:t,...SZ,width:i,height:i,stroke:n,strokeWidth:o?24*Number(a)/Number(i):a,className:wZ("lucide",s),...!l&&!NZ(c)&&{"aria-hidden":"true"},...c},[...u.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),AZ=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:a,...o}=n;return(0,r.createElement)(EZ,{ref:i,iconNode:t,className:wZ(`lucide-${bZ(xZ(e))}`,`lucide-${e}`,a),...o})});return n.displayName=xZ(e),n},CZ=AZ("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),kZ=AZ("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]),_Z=AZ("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),DZ=AZ("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),OZ=AZ("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),jZ=AZ("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),MZ=AZ("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),TZ=AZ("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),PZ=AZ("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),FZ=AZ("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),IZ=AZ("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),BZ=AZ("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),RZ=AZ("align-justify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),zZ=[{value:"paragraph",label:"Normal"},{value:"h1",label:"Heading 1"},{value:"h2",label:"Heading 2"},{value:"h3",label:"Heading 3"},{value:"code",label:"Code Block"},{value:"quote",label:"Quote"}],LZ=e=>{let{icon:t,active:n,...r}=e;return(0,v.jsx)("button",{className:"icon-btn "+(n?"active":""),type:"button",...r,children:t})},UZ=()=>(0,v.jsx)("div",{className:"divider"}),qZ=e=>{let{value:t,opts:n,onChange:r}=e;return(0,v.jsx)("select",{className:"select",value:t,onChange:e=>r(e.target.value),children:n.map(e=>(0,v.jsx)("option",{value:e.value,children:e.label},e.value))})},$Z=()=>{const[e]=gL(),[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)("paragraph"),[l,u]=(0,r.useState)(!1),[c,f]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)("left"),g=(0,r.useCallback)(()=>{const e=vW();if(!tW(e))return;u(e.hasFormat("bold")),f(e.hasFormat("italic")),p(e.hasFormat("underline"));const t=e.anchor.getNode().getTopLevelElementOrThrow();s("heading"===t.getType()?t.getTag():t.getType()),m(t.getFormatType()||"left")},[]);return(0,r.useEffect)(()=>e.registerCommand(iq,()=>(g(),!1),1),[e,g]),(0,r.useEffect)(()=>e.registerCommand(Hq,e=>(n(e),!1),1),[e]),(0,r.useEffect)(()=>e.registerCommand(Wq,e=>(a(e),!1),1),[e]),(0,v.jsxs)("div",{className:"toolbar",children:[(0,v.jsx)(LZ,{icon:(0,v.jsx)(CZ,{size:18}),disabled:!t,onClick:()=>e.dispatchCommand(gq,void 0)}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(kZ,{size:18}),disabled:!i,onClick:()=>e.dispatchCommand(yq,void 0)}),(0,v.jsx)(UZ,{}),(0,v.jsx)(qZ,{value:o,opts:zZ,onChange:t=>e.dispatchCommand(Fq,t)}),(0,v.jsx)(UZ,{}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(_Z,{size:18}),active:l,onClick:()=>e.dispatchCommand(mq,"bold")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(DZ,{size:18}),active:c,onClick:()=>e.dispatchCommand(mq,"italic")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(OZ,{size:18}),active:d,onClick:()=>e.dispatchCommand(mq,"underline")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(jZ,{size:18}),onClick:()=>e.dispatchCommand(mq,"code")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(MZ,{size:18}),onClick:()=>e.dispatchCommand(lX,"https://")}),(0,v.jsx)(UZ,{}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(TZ,{size:18}),onClick:()=>e.dispatchCommand(XJ,{src:"",altText:"image"})}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(PZ,{size:18}),onClick:()=>e.dispatchCommand(AX,{rows:3,columns:3})}),(0,v.jsx)(UZ,{}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(FZ,{size:18}),active:"left"===h,onClick:()=>e.dispatchCommand(Fq,"left")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(IZ,{size:18}),active:"center"===h,onClick:()=>e.dispatchCommand(Fq,"center")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(BZ,{size:18}),active:"right"===h,onClick:()=>e.dispatchCommand(Fq,"right")}),(0,v.jsx)(LZ,{icon:(0,v.jsx)(RZ,{size:18}),active:"justify"===h,onClick:()=>e.dispatchCommand(Fq,"justify")})]})},WZ=e=>{let{templateToInsert:t}=e;const[n]=gL();return(0,r.useEffect)(()=>{t&&n.update(()=>{const e=ZH(),n=t.key;switch(e.append(vH()),n){case"weeklyReview":e.append(eG("h2").append(W$("Weekly Review")),KG("bullet").append(zG().append(W$("Week 1: ")),zG().append(W$("Week 2: "))));break;case"savingsGoals":e.append(eG("h2").append(W$("Savings Goals")),KG("bullet").append(zG().append(W$("Emergency Fund: ")),zG().append(W$("Short-term Goal: "))))}})},[t,n]),null};function HZ(){return(0,v.jsx)("div",{className:"editor-placeholder",children:"Enter your notes..."})}const KZ=e=>{let{value:t,onChange:n,templateToInsert:r}=e;const i={namespace:"MyNotesEditor",theme:vZ,editorState:t,nodes:[XY,UG,IG,YY,rZ,aX,tX,YJ,BJ,xX,kX],onError:e=>console.error(e)};return(0,v.jsx)(YV,{initialConfig:i,children:(0,v.jsxs)("div",{className:"editor-container",children:[(0,v.jsx)($Z,{}),(0,v.jsxs)("div",{className:"editor-inner",children:[(0,v.jsx)(lG,{contentEditable:(0,v.jsx)(pG,{className:"editor-input"}),placeholder:(0,v.jsx)(HZ,{}),ErrorBoundary:e=>{let{error:t}=e;return(0,v.jsx)("div",{children:t.message})}}),(0,v.jsx)(yG,{}),(0,v.jsx)(QG,{}),(0,v.jsx)(hX,{}),(0,v.jsx)(KJ,{}),(0,v.jsx)(JJ,{}),(0,v.jsx)(bG,{onChange:e=>{n(JSON.stringify(e.toJSON()))}}),(0,v.jsx)(WZ,{templateToInsert:r})]})]})})},VZ=["January","February","March","April","May","June","July","August","September","October","November","December"];function YZ(e){if("string"!==typeof e)return!1;try{JSON.parse(e)}catch(t){return!1}return!0}function GZ(e){return JSON.stringify({root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:e,type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}})}const XZ=()=>{const{actions:e,formatCurrency:t}=q(),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(""),[s,l]=(0,r.useState)(null),[u,c]=(0,r.useState)((new Date).getMonth()),[f,d]=(0,r.useState)(!0),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),y=(0,r.useRef)(null),[b,x]=(0,r.useState)(null),[w,N]=(0,r.useState)(0),S=(0,r.useCallback)(()=>{var n,r;const i=(new Date).getFullYear(),a=VZ[u],o=(null===(n=e.calculations)||void 0===n||null===(r=n.getNetMonthlyIncome)||void 0===r?void 0:r.call(n))||0;return`{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"# ${a} ${i} Budget Notes","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"heading","tag":"h1","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"- Net Income: ${t(o)}","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}`},[u,e.calculations,t]),E=e=>{localStorage.setItem(`budget-notes-${u}`,e),localStorage.setItem(`budget-notes-title-${u}`,a);const t=new Date;localStorage.setItem(`budget-notes-lastsaved-${u}`,t.toISOString()),l(t)},A=(0,r.useCallback)(()=>{null!==n&&E(n)},[n,a,u]);(0,r.useEffect)(()=>{let e=localStorage.getItem(`budget-notes-${u}`);const t=localStorage.getItem(`budget-notes-title-${u}`);e&&!YZ(e)&&(e=GZ(e)),i(e||S()),o(t||`${VZ[u]} Budget Notes`),N(e=>e+1);const n=localStorage.getItem(`budget-notes-lastsaved-${u}`);l(n?new Date(n):null)},[u,S]),(0,r.useEffect)(()=>{if(!f)return;const e=setTimeout(A,2e3);return()=>clearTimeout(e)},[n,a,f,A]);const C=e=>x({key:e,timestamp:Date.now()}),k=e=>{g(e),h(!0)};return null===n?(0,v.jsx)("div",{children:"Loading notes..."}):(0,v.jsxs)("div",{className:"page-container",children:[p&&(0,v.jsx)("div",{className:"confirmation-overlay",children:(0,v.jsxs)("div",{className:"confirmation-modal",children:[(0,v.jsxs)("h3",{children:["\u26a0\ufe0f Confirm ",m]}),(0,v.jsxs)("p",{children:["Are you sure you want to ",m," the notes? This action cannot be undone."]}),(0,v.jsxs)("div",{className:"confirmation-actions",children:[(0,v.jsx)(K,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),(0,v.jsxs)(K,{variant:"danger",onClick:()=>{const e="clear"===m?'{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}':S();i(e),E(e),N(e=>e+1),h(!1),g(null)},children:["Yes, ",m]})]})]})}),(0,v.jsxs)("div",{className:"page-content",children:[(0,v.jsxs)("div",{className:"notes-header",children:[(0,v.jsx)("h1",{className:"page-title",children:"\ud83d\udcdd Budget Notes"}),s&&(0,v.jsxs)("div",{className:"last-saved",children:["\u2705 Saved: ",s.toLocaleTimeString()]})]}),(0,v.jsxs)(Gz,{className:"notes-editor-card",children:[(0,v.jsxs)("div",{className:"card-header",children:[(0,v.jsx)(lL,{type:"text",value:a,onChange:e=>o(e.target.value),placeholder:"Note title...",className:"note-title-input"}),(0,v.jsxs)("div",{className:"notes-actions",children:[(0,v.jsxs)("label",{className:"auto-save-toggle",children:[(0,v.jsx)("input",{type:"checkbox",checked:f,onChange:e=>d(e.target.checked)}),(0,v.jsx)("span",{children:"Auto-save"})]}),(0,v.jsx)(K,{onClick:()=>A(),children:"\ud83d\udcbe Save"}),(0,v.jsx)(K,{variant:"outline",onClick:()=>{var e;null===(e=y.current)||void 0===e||e.click()},children:"\ud83d\udce5 Import"}),(0,v.jsx)(K,{variant:"outline",onClick:()=>{},children:"\ud83d\udcc4 Export MD"}),(0,v.jsx)(K,{variant:"danger",onClick:()=>k("reset"),children:"\ud83d\udd04 Reset"}),(0,v.jsx)(K,{variant:"danger",onClick:()=>k("clear"),children:"\u274c Clear"})]})]}),(0,v.jsx)(KZ,{value:n,onChange:i,templateToInsert:b},w)]}),(0,v.jsxs)(Gz,{className:"quick-templates-card",children:[(0,v.jsx)("div",{className:"card-header",children:(0,v.jsx)("h3",{children:"\ud83d\udccb Quick Templates"})}),(0,v.jsx)("div",{className:"card-content",children:(0,v.jsxs)("div",{className:"templates-grid",children:[(0,v.jsx)(K,{onClick:()=>C("weeklyReview"),children:"\ud83d\udcc5 Weekly Review"}),(0,v.jsx)(K,{onClick:()=>C("savingsGoals"),children:"\ud83c\udfaf Savings Goals"}),(0,v.jsx)(K,{onClick:()=>C("billTracker"),children:"\ud83d\udccb Bill Tracker"}),(0,v.jsx)(K,{onClick:()=>C("reflection"),children:"\ud83e\udd14 Reflection"})]})})]})]}),(0,v.jsx)("input",{ref:y,type:"file",accept:".json,.md,.txt",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{const t=e.target.result,n=YZ(t)?t:GZ(t);i(n),E(n),N(e=>e+1)},n.readAsText(t),e.target.value=""},style:{display:"none"}})]})},JZ=()=>{const{state:e,actions:t}=q(),{exportToJSON:n,importFromJSON:i,exportToCSV:o,getCurrentState:s}=Y(),[l,u]=(0,r.useState)(!1),[c,f]=(0,r.useState)(null),[d,p]=(0,r.useState)(""),h=(0,r.useRef)(null),m=async e=>{u(!0);try{const t=await o(e);t.success&&f({type:"export",success:!0,message:`${e} data exported successfully as ${t.filename}`,timestamp:(new Date).toLocaleString()})}catch(t){f({type:"export",success:!1,message:t.message,timestamp:(new Date).toLocaleString()})}u(!1)},g=(()=>{var t;const n=Object.values(e.data.monthly||{}).reduce((e,t)=>e+t.length,0),r=Object.values(e.data.annual||{}).reduce((e,t)=>e+t.length,0);return{income:(null===(t=e.data.income)||void 0===t?void 0:t.length)||0,monthlyExpenses:n,annualExpenses:r,totalExpenses:n+r,categories:Object.keys(e.data.monthly||{}).length+Object.keys(e.data.annual||{}).length,accounts:Array.isArray(e.data.accounts)?e.data.accounts.length:0,dataSize:JSON.stringify(e.data).length}})();return(0,v.jsxs)("div",{className:"import-export-redesigned",children:[(0,v.jsxs)("div",{className:"page-header",children:[(0,v.jsx)("h2",{className:"page-title",children:"\ud83d\udcc2 Data Management"}),(0,v.jsx)("p",{className:"page-description",children:"Import, export, and manage your budget data with comprehensive backup and restore options"})]}),(0,v.jsxs)("div",{className:"data-overview-dashboard",children:[(0,v.jsxs)("div",{className:"overview-stats",children:[(0,v.jsxs)("div",{className:"stat-card primary",children:[(0,v.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-number",children:g.totalExpenses}),(0,v.jsx)("div",{className:"stat-label",children:"Total Expenses"}),(0,v.jsxs)("div",{className:"stat-detail",children:[g.monthlyExpenses," monthly \u2022 ",g.annualExpenses," annual"]})]})]}),(0,v.jsxs)("div",{className:"stat-card success",children:[(0,v.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb5"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-number",children:g.income}),(0,v.jsx)("div",{className:"stat-label",children:"Income Sources"}),(0,v.jsx)("div",{className:"stat-detail",children:"Active revenue streams"})]})]}),(0,v.jsxs)("div",{className:"stat-card info",children:[(0,v.jsx)("div",{className:"stat-icon",children:"\ud83c\udff7\ufe0f"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-number",children:g.categories}),(0,v.jsx)("div",{className:"stat-label",children:"Categories"}),(0,v.jsx)("div",{className:"stat-detail",children:"Budget organization"})]})]}),(0,v.jsxs)("div",{className:"stat-card warning",children:[(0,v.jsx)("div",{className:"stat-icon",children:"\ud83d\udcbe"}),(0,v.jsxs)("div",{className:"stat-content",children:[(0,v.jsx)("div",{className:"stat-number",children:Math.round(g.dataSize/1024)}),(0,v.jsx)("div",{className:"stat-label",children:"KB Data Size"}),(0,v.jsx)("div",{className:"stat-detail",children:"Storage footprint"})]})]})]}),(0,v.jsx)("div",{className:"last-updated-info",children:(0,v.jsxs)("div",{className:"update-indicator",children:[(0,v.jsx)("span",{className:"update-dot"}),(0,v.jsxs)("span",{className:"update-text",children:["Last updated: ",new Date(e.lastUpdated).toLocaleDateString()]})]})})]}),(0,v.jsxs)("div",{className:"main-actions-grid",children:[(0,v.jsxs)("div",{className:"action-section export-section",children:[(0,v.jsxs)("div",{className:"section-header",children:[(0,v.jsx)("div",{className:"section-icon export",children:"\ud83d\udce4"}),(0,v.jsx)("div",{className:"section-title",children:"Export Data"}),(0,v.jsx)("div",{className:"section-subtitle",children:"Backup your budget data"})]}),(0,v.jsxs)("div",{className:"primary-action-card",children:[(0,v.jsxs)("div",{className:"action-header",children:[(0,v.jsx)("div",{className:"action-icon",children:"\ud83d\uddc2\ufe0f"}),(0,v.jsxs)("div",{className:"action-info",children:[(0,v.jsx)("h4",{children:"Complete Backup"}),(0,v.jsx)("p",{children:"Export all data as JSON for full backup"})]})]}),(0,v.jsxs)("div",{className:"action-form",children:[(0,v.jsx)(lL,{type:"text",placeholder:"Custom filename (optional)",value:d,onChange:e=>p(e.target.value),className:"filename-input"}),(0,v.jsx)(K,{variant:"primary",onClick:async()=>{u(!0);try{const e=await n(d);e.success&&!e.cancelled&&f({type:"export",success:!0,message:`Data exported successfully as ${e.filename}`,timestamp:(new Date).toLocaleString()})}catch(e){f({type:"export",success:!1,message:e.message,timestamp:(new Date).toLocaleString()})}u(!1)},disabled:l,className:"primary-action-btn",children:l?"Exporting...":"Create Backup"})]})]}),(0,v.jsxs)("div",{className:"secondary-actions",children:[(0,v.jsxs)("div",{className:"secondary-header",children:[(0,v.jsx)("h5",{children:"\ud83d\udccb Spreadsheet Exports"}),(0,v.jsx)("p",{children:"Export data in CSV format for Excel/Sheets"})]}),(0,v.jsxs)("div",{className:"csv-export-grid",children:[(0,v.jsxs)(K,{variant:"outline",onClick:()=>m("income"),disabled:l,className:"csv-btn",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb5"}),(0,v.jsx)("span",{children:"Income"})]}),(0,v.jsxs)(K,{variant:"outline",onClick:()=>m("monthly"),disabled:l,className:"csv-btn",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc5"}),(0,v.jsx)("span",{children:"Monthly"})]}),(0,v.jsxs)(K,{variant:"outline",onClick:()=>m("annual"),disabled:l,className:"csv-btn",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc6"}),(0,v.jsx)("span",{children:"Annual"})]}),(0,v.jsxs)(K,{variant:"outline",onClick:()=>m("all"),disabled:l,className:"csv-btn featured",children:[(0,v.jsx)("span",{className:"btn-icon",children:"\ud83d\udcca"}),(0,v.jsx)("span",{children:"Complete"})]})]})]})]}),(0,v.jsxs)("div",{className:"action-section import-section",children:[(0,v.jsxs)("div",{className:"section-header",children:[(0,v.jsx)("div",{className:"section-icon import",children:"\ud83d\udce5"}),(0,v.jsx)("div",{className:"section-title",children:"Import Data"}),(0,v.jsx)("div",{className:"section-subtitle",children:"Restore from backup"})]}),(0,v.jsxs)("div",{className:"warning-banner",children:[(0,v.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,v.jsxs)("div",{className:"warning-content",children:[(0,v.jsx)("strong",{children:"Data Replacement Warning"}),(0,v.jsx)("p",{children:"Importing will replace all current data. Export a backup first!"})]})]}),(0,v.jsxs)("div",{className:"primary-action-card",children:[(0,v.jsxs)("div",{className:"action-header",children:[(0,v.jsx)("div",{className:"action-icon",children:"\ud83d\udcc2"}),(0,v.jsxs)("div",{className:"action-info",children:[(0,v.jsx)("h4",{children:"Restore Backup"}),(0,v.jsx)("p",{children:"Import complete data from JSON file"})]})]}),(0,v.jsxs)("div",{className:"action-form",children:[(0,v.jsx)(K,{variant:"success",onClick:()=>{var e;null===(e=h.current)||void 0===e||e.click()},disabled:l,className:"primary-action-btn",children:l?"Importing...":"Select Backup File"}),(0,v.jsx)("input",{ref:h,type:"file",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t){u(!0);try{const e=await i(t);e.success&&!e.cancelled&&f({type:"import",success:!0,message:`Data imported successfully from ${e.filename}`,stats:e.stats,timestamp:(new Date).toLocaleString()})}catch(n){f({type:"import",success:!1,message:n.message,timestamp:(new Date).toLocaleString()})}u(!1),e.target.value=""}},style:{display:"none"}})]})]}),(0,v.jsxs)("div",{className:"import-requirements",children:[(0,v.jsx)("h5",{children:"\ud83d\udccb Import Requirements"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:"JSON files from this application only"}),(0,v.jsx)("li",{children:"Data validation before import"}),(0,v.jsx)("li",{children:"Confirmation dialog with statistics"}),(0,v.jsx)("li",{children:"Complete data replacement"})]})]})]})]}),(0,v.jsxs)("div",{className:"management-tools-grid",children:[(0,v.jsxs)(Gz,{className:"diagnostic-card",children:[(0,v.jsxs)("div",{className:"tool-header",children:[(0,v.jsx)("div",{className:"tool-icon",children:"\ud83d\udd0d"}),(0,v.jsxs)("div",{className:"tool-info",children:[(0,v.jsx)("h4",{children:"System Diagnostics"}),(0,v.jsx)("p",{children:"Analyze data structure and identify issues"})]})]}),(0,v.jsx)(K,{variant:"outline",onClick:()=>{var t;const n=s(),r={totalIncome:(null===(t=e.data.income)||void 0===t?void 0:t.length)||0,totalMonthlyExpenses:Object.values(e.data.monthly||{}).reduce((e,t)=>e+t.length,0),totalAnnualExpenses:Object.values(e.data.annual||{}).reduce((e,t)=>e+t.length,0),dataSize:JSON.stringify(n).length,lastUpdated:e.lastUpdated,accounts:Array.isArray(e.data.accounts)?e.data.accounts.length:0};f({type:"diagnosis",success:!0,message:"Data diagnosis completed",stats:r,timestamp:(new Date).toLocaleString()})},disabled:l,className:"diagnostic-btn",children:"Run Diagnosis"})]}),(0,v.jsxs)(Gz,{className:"danger-card",children:[(0,v.jsxs)("div",{className:"tool-header",children:[(0,v.jsx)("div",{className:"tool-icon",children:"\u26a0\ufe0f"}),(0,v.jsxs)("div",{className:"tool-info",children:[(0,v.jsx)("h4",{children:"Reset Data"}),(0,v.jsx)("p",{children:"Permanently delete all budget data"})]})]}),(0,v.jsx)(K,{variant:"danger",onClick:()=>{window.confirm("Are you sure you want to reset ALL budget data? This action cannot be undone.")&&(t.resetData(),f({type:"reset",success:!0,message:"All budget data has been reset",timestamp:(new Date).toLocaleString()}))},disabled:l,className:"danger-btn",children:"Reset All Data"})]}),(0,v.jsxs)(Gz,{className:"info-card",children:[(0,v.jsxs)("div",{className:"tool-header",children:[(0,v.jsx)("div",{className:"tool-icon",children:"\u2139\ufe0f"}),(0,v.jsxs)("div",{className:"tool-info",children:[(0,v.jsx)("h4",{children:"App Information"}),(0,v.jsxs)("p",{children:["Version ",a," \u2022 Local Storage"]})]})]}),(0,v.jsxs)("div",{className:"app-details",children:[(0,v.jsxs)("div",{className:"detail-row",children:[(0,v.jsx)("span",{children:"Data Format:"}),(0,v.jsx)("span",{children:"v2.0"})]}),(0,v.jsxs)("div",{className:"detail-row",children:[(0,v.jsx)("span",{children:"Backup Frequency:"}),(0,v.jsx)("span",{children:"Weekly"})]})]})]})]}),c&&(0,v.jsxs)("div",{className:"operation-result-banner "+(c.success?"success":"error"),children:[(0,v.jsxs)("div",{className:"result-content",children:[(0,v.jsx)("div",{className:"result-icon",children:c.success?"\u2705":"\u274c"}),(0,v.jsxs)("div",{className:"result-info",children:[(0,v.jsxs)("div",{className:"result-title",children:[c.type.charAt(0).toUpperCase()+c.type.slice(1),c.success?" Completed":" Failed"]}),(0,v.jsx)("div",{className:"result-message",children:c.message}),c.timestamp&&(0,v.jsx)("div",{className:"result-timestamp",children:c.timestamp})]}),c.stats&&(0,v.jsx)("div",{className:"result-stats",children:(0,v.jsx)("div",{className:"stats-summary",children:Object.entries(c.stats).slice(0,4).map(e=>{let[t,n]=e;return(0,v.jsxs)("div",{className:"stat-summary-item",children:[(0,v.jsxs)("span",{className:"stat-key",children:[t,":"]}),(0,v.jsx)("span",{className:"stat-value",children:n})]},t)})})})]}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>f(null),className:"close-result-btn",children:"\u2715"})]})]})},ZZ=()=>{const{state:e,actions:t}=q(),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),[u,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)(""),[h,m]=(0,r.useState)({name:"",url:"",description:"",category:"",tags:""}),[g,y]=(0,r.useState)({name:"",icon:"\ud83d\udd17",color:"#3498db"}),b=e.data.links||{},x=e.data.linkCategories||{},w=e=>{if(!e||"string"!==typeof e)return"Invalid URL";try{let t=e;e.match(/^https?:\/\//)||(t="https://"+e);return new URL(t).hostname}catch(t){return console.warn("Invalid URL detected:",e,t),"Invalid URL"}},N=e=>{if(e&&"string"===typeof e)try{let t=e;e.match(/^https?:\/\//)||(t="https://"+e),new URL(t),window.open(t,"_blank","noopener,noreferrer")}catch(t){alert("Invalid URL: "+e)}else alert("Invalid URL")},S=(e,t)=>{m(n=>({...n,[e]:"name"===e||"description"===e||"tags"===e?f(t):t}))},E=(e,t)=>{y(n=>({...n,[e]:"name"===e?f(t):t}))},A=()=>{m({name:"",url:"",description:"",category:"",tags:""}),l(!1),o(null)},C=(0,r.useMemo)(()=>{if(!d)return b;const e={};return Object.keys(b).forEach(t=>{const n=b[t].filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase())||e.tags&&e.tags.some(e=>e.toLowerCase().includes(d.toLowerCase())));n.length>0&&(e[t]=n)}),e},[b,d]),k=(0,r.useMemo)(()=>{let e=0,t=Object.keys(b).length,n=0;return Object.values(b).forEach(t=>{e+=t.length,n=Math.max(n,t.length)}),{totalLinks:e,totalCategories:t,largestCategorySize:n||0}},[b]),_=e=>x[e]||{name:e.charAt(0).toUpperCase()+e.slice(1),icon:"\ud83d\udd17",color:"#3498db"};return(0,v.jsxs)("div",{className:"links-page",children:[(0,v.jsx)("div",{className:"links-header",children:(0,v.jsxs)("div",{className:"header-content",children:[(0,v.jsxs)("div",{className:"header-text",children:[(0,v.jsxs)("h1",{className:"page-title",children:[(0,v.jsx)("span",{className:"title-icon",children:"\ud83d\udd17"}),"My Links Hub"]}),(0,v.jsx)("p",{className:"page-description",children:"Organize and access all your important websites in one place. From banking and utilities to shopping and work resources - keep everything at your fingertips."})]}),(0,v.jsxs)("div",{className:"header-stats",children:[(0,v.jsxs)("div",{className:"stat-card",children:[(0,v.jsx)("div",{className:"stat-number",children:k.totalLinks}),(0,v.jsx)("div",{className:"stat-label",children:"Total Links"})]}),(0,v.jsxs)("div",{className:"stat-card",children:[(0,v.jsx)("div",{className:"stat-number",children:k.totalCategories}),(0,v.jsx)("div",{className:"stat-label",children:"Categories"})]})]})]})}),(0,v.jsxs)("div",{className:"action-bar",children:[(0,v.jsxs)("div",{className:"primary-actions",children:[(0,v.jsxs)(K,{variant:"primary",onClick:()=>l(!0),className:"add-link-btn",children:[(0,v.jsx)("span",{children:"+"})," Add New Link"]}),(0,v.jsxs)(K,{variant:"success",onClick:()=>c(!0),className:"add-category-btn",children:[(0,v.jsx)("span",{children:"\ud83d\udcc1"})," New Category"]})]}),(0,v.jsxs)("div",{className:"secondary-actions",children:[(0,v.jsxs)("div",{className:"search-box",children:[(0,v.jsx)(lL,{type:"text",placeholder:"Search links...",value:d,onChange:e=>p(e.target.value),className:"search-input"}),(0,v.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,v.jsxs)(K,{variant:"outline",onClick:()=>{const e={exportDate:(new Date).toISOString(),version:"1.0",links:b,categories:x},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`my-links-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},className:"export-btn",children:[(0,v.jsx)("span",{children:"\ud83d\udce4"})," Export"]})]})]}),0===k.totalLinks&&(0,v.jsxs)("div",{className:"empty-state",children:[(0,v.jsxs)("div",{className:"empty-content",children:[(0,v.jsx)("div",{className:"empty-icon",children:"\ud83d\ude80"}),(0,v.jsx)("h2",{children:"Let's Get Started!"}),(0,v.jsx)("p",{children:"Create your first category and add links to websites you visit frequently. Choose from our suggested categories below or create your own."}),(0,v.jsx)("div",{className:"empty-actions",children:(0,v.jsx)(K,{variant:"primary",onClick:()=>l(!0),size:"lg",children:"Add Your First Link"})})]}),(0,v.jsxs)("div",{className:"suggested-categories",children:[(0,v.jsx)("h4",{children:"Suggested Categories"}),(0,v.jsx)("div",{className:"suggestions-grid",children:[{name:"Banking & Finance",icon:"\ud83c\udfe6",color:"#27ae60",examples:["Online banking","Credit cards","Investment accounts"]},{name:"Utilities",icon:"\u26a1",color:"#f39c12",examples:["Electricity","Gas","Water","Internet"]},{name:"Insurance",icon:"\ud83d\udee1\ufe0f",color:"#e74c3c",examples:["Health insurance","Auto insurance","Home insurance"]},{name:"Government",icon:"\ud83c\udfdb\ufe0f",color:"#9b59b6",examples:["Tax services","DMV","City services"]},{name:"Shopping",icon:"\ud83d\uded2",color:"#f1c40f",examples:["Amazon","Grocery stores","Clothing"]},{name:"Work & Professional",icon:"\ud83d\udcbc",color:"#34495e",examples:["Company portal","Professional tools","Training"]},{name:"Health & Medical",icon:"\u2695\ufe0f",color:"#16a085",examples:["Doctor portals","Pharmacy","Health records"]},{name:"Education",icon:"\ud83d\udcda",color:"#8e44ad",examples:["Online courses","School portals","Research"]},{name:"Home & Garden",icon:"\ud83c\udfe1",color:"#2ecc71",examples:["Home improvement","Gardening","Real estate"]},{name:"Travel",icon:"\u2708\ufe0f",color:"#3498db",examples:["Airlines","Hotels","Travel planning"]}].map((e,t)=>{const n=e.name.toLowerCase().replace(/[^a-z0-9]/g,"").replace(/finance|medical|professional|garden/,"");return(0,v.jsxs)("div",{className:"suggestion-card","data-category":n,onClick:()=>{return y({name:(t=e).name,icon:t.icon,color:t.color}),void c(!0);var t},style:{"--suggestion-color":e.color,"--suggestion-color-light":e.color+"90"},children:[(0,v.jsxs)("div",{className:"suggestion-header",children:[(0,v.jsx)("span",{className:"suggestion-icon",style:{color:e.color},children:e.icon}),(0,v.jsx)("span",{className:"suggestion-name",children:e.name})]}),(0,v.jsx)("div",{className:"suggestion-examples",children:e.examples.join(", ")})]},t)})})]})]}),u&&(0,v.jsxs)(Gz,{className:"form-overlay",children:[(0,v.jsxs)("div",{className:"form-header",children:[(0,v.jsx)("h3",{children:"Create New Category"}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>c(!1),children:"\u2715"})]}),(0,v.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!g.name)return void alert("Please provide a category name.");const r=g.name.toLowerCase().replace(/[^a-z0-9]/g,"_"),i={...x,[r]:{name:g.name,icon:g.icon,color:g.color,createdDate:(new Date).toISOString()}};t.updateData({...e.data,linkCategories:i}),y({name:"",icon:"\ud83d\udd17",color:"#3498db"}),c(!1),m(e=>({...e,category:r})),l(!0)},className:"category-form",children:[(0,v.jsxs)("div",{className:"form-grid",children:[(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{children:"Category Name *"}),(0,v.jsx)(lL,{type:"text",value:g.name,onChange:e=>E("name",e.target.value),placeholder:"e.g., Banking & Finance",required:!0})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{children:"Icon"}),(0,v.jsx)(lL,{type:"text",value:g.icon,onChange:e=>E("icon",e.target.value),placeholder:"\ud83d\udd17"})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{children:"Color"}),(0,v.jsx)(lL,{type:"color",value:g.color,onChange:e=>E("color",e.target.value)})]})]}),(0,v.jsxs)("div",{className:"form-actions",children:[(0,v.jsx)(K,{type:"submit",variant:"primary",children:"Create Category"}),(0,v.jsx)(K,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"})]})]})]}),s&&(0,v.jsxs)(Gz,{className:"form-overlay",children:[(0,v.jsxs)("div",{className:"form-header",children:[(0,v.jsx)("h3",{children:a?"Edit Link":"Add New Link"}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:A,children:"\u2715"})]}),(0,v.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(e=>{if(!e.name||!e.url||!e.category)return!1;try{let t=e.url;return e.url.match(/^https?:\/\//)||(t="https://"+e.url),new URL(t),!0}catch{return!1}})(h))return void alert("Please provide a valid name, URL, and category.");const n=h.category,r={...b};r[n]||(r[n]=[]);const i={...h,id:a?a.id:Date.now().toString(),addedDate:a?a.addedDate:(new Date).toISOString(),tags:h.tags?h.tags.split(",").map(e=>e.trim()):[]};if(a){const e=r[n].findIndex(e=>e.id===a.id);-1!==e&&(r[n][e]=i)}else r[n].push(i);t.updateLinks(r),A()},className:"link-form",children:[(0,v.jsxs)("div",{className:"form-grid",children:[(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{children:"Link Name *"}),(0,v.jsx)(lL,{type:"text",value:h.name,onChange:e=>S("name",e.target.value),placeholder:"e.g., Chase Online Banking",required:!0})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{children:"URL *"}),(0,v.jsx)(lL,{type:"url",value:h.url,onChange:e=>S("url",e.target.value),placeholder:"https://example.com",required:!0})]}),(0,v.jsxs)("div",{className:"form-group",children:[(0,v.jsx)("label",{children:"Category *"}),(0,v.jsxs)("select",{value:h.category,onChange:e=>S("category",e.target.value),required:!0,className:"form-select",children:[(0,v.jsx)("option",{value:"",children:"Select a category"}),Object.keys(x).map(e=>(0,v.jsx)("option",{value:e,children:_(e).name},e))]})]}),(0,v.jsxs)("div",{className:"form-group full-width",children:[(0,v.jsx)("label",{children:"Description"}),(0,v.jsx)(lL,{type:"text",value:h.description,onChange:e=>S("description",e.target.value),placeholder:"Optional description"})]}),(0,v.jsxs)("div",{className:"form-group full-width",children:[(0,v.jsx)("label",{children:"Tags"}),(0,v.jsx)(lL,{type:"text",value:h.tags,onChange:e=>S("tags",e.target.value),placeholder:"banking, finance, credit (comma separated)"})]})]}),(0,v.jsxs)("div",{className:"form-actions",children:[(0,v.jsx)(K,{type:"submit",variant:"primary",children:a?"Update Link":"Add Link"}),(0,v.jsx)(K,{type:"button",variant:"secondary",onClick:A,children:"Cancel"})]})]})]}),k.totalLinks>0&&(0,v.jsx)("div",{className:"links-grid",children:Object.keys(C).map(e=>{const r=C[e],a=_(e),s=n===e;return(0,v.jsxs)(Gz,{className:"category-card",children:[(0,v.jsxs)("div",{className:"category-header",style:{borderLeft:`4px solid ${a.color}`},children:[(0,v.jsxs)("button",{className:"category-toggle",onClick:()=>i(s?null:e),children:[(0,v.jsx)("span",{className:"category-icon",style:{color:a.color},children:a.icon}),(0,v.jsxs)("div",{className:"category-info",children:[(0,v.jsx)("span",{className:"category-name",children:a.name}),(0,v.jsxs)("span",{className:"category-count",children:[r.length," ",1===r.length?"link":"links"]})]}),(0,v.jsx)("span",{className:"expand-icon",children:s?"\u25bc":"\u25b6"})]}),(0,v.jsx)("div",{className:"category-actions",children:(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>{m(t=>({...t,category:e})),l(!0)},children:"+ Add"})})]}),s&&(0,v.jsx)("div",{className:"category-content",children:(0,v.jsx)("div",{className:"links-list",children:r.map(n=>(0,v.jsxs)("div",{className:"link-item",children:[(0,v.jsxs)("div",{className:"link-main",children:[(0,v.jsxs)("button",{className:"link-button",onClick:()=>N(n.url),style:{color:a.color},children:[(0,v.jsx)("span",{className:"link-icon",children:"\ud83d\udd17"}),(0,v.jsxs)("div",{className:"link-info",children:[(0,v.jsx)("div",{className:"link-name",children:n.name}),(0,v.jsx)("div",{className:"link-url",children:w(n.url)})]})]}),n.description&&(0,v.jsx)("div",{className:"link-description",children:n.description}),n.tags&&n.tags.length>0&&(0,v.jsx)("div",{className:"link-tags",children:n.tags.map(e=>(0,v.jsx)("span",{className:"tag",children:e},e))}),(0,v.jsxs)("div",{className:"link-metadata",children:["Added ",new Date(n.addedDate).toLocaleDateString()]})]}),(0,v.jsxs)("div",{className:"link-actions",children:[(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>N(n.url),children:"Visit"}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>((e,t)=>{m({name:t.name||"",url:t.url||"",description:t.description||"",category:e,tags:t.tags?t.tags.join(", "):""}),o({...t,category:e}),l(!0)})(e,n),children:"Edit"}),(0,v.jsx)(K,{variant:"danger",size:"sm",onClick:()=>((e,n)=>{if(window.confirm("Are you sure you want to delete this link?")){const r={...b};r[e]=r[e].filter(e=>e.id!==n),t.updateLinks(r)}})(e,n.id),children:"Delete"})]})]},n.id))})})]},e)})}),k.totalLinks>0&&(0,v.jsxs)(Gz,{className:"quick-access-section",children:[(0,v.jsxs)("h3",{children:[(0,v.jsx)("span",{children:"\u26a1"}),"Quick Access"]}),(0,v.jsx)("div",{className:"quick-links-grid",children:Object.keys(b).map(e=>{const t=b[e]||[],n=_(e);return 0===t.length?null:(0,v.jsxs)("div",{className:"quick-category",children:[(0,v.jsxs)("div",{className:"quick-category-header",children:[(0,v.jsx)("span",{className:"quick-icon",style:{color:n.color},children:n.icon}),(0,v.jsx)("span",{className:"quick-name",children:n.name})]}),(0,v.jsxs)("div",{className:"quick-links",children:[t.slice(0,4).map(e=>(0,v.jsx)("button",{className:"quick-link",onClick:()=>N(e.url),title:`${e.name} - ${e.url}`,children:e.name},e.id)),t.length>4&&(0,v.jsxs)("button",{className:"quick-more",onClick:()=>i(e),children:["+",t.length-4," more"]})]})]},e)})})]})]})},QZ=()=>{const{state:e,calculations:t,formatCurrency:n}=q(),[i,a]=(0,r.useState)([]),[o,u]=(0,r.useState)(!1),[c,f]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{d()},[e.data]);const d=()=>{const e=[],r=new Date;r.setHours(0,0,0,0);t.getUpcomingExpenses().forEach(t=>{t.daysUntil<=l&&e.push({id:`upcoming-${t.name}-${t.daysUntil}`,type:t.daysUntil<=s?"error":"warning",title:t.daysUntil<=0?"Overdue Expense":"Upcoming Expense",message:`${t.name} (${n(t.actual||t.amount)}) ${t.daysUntil<=0?"was due":"is due"} ${m(t.date)}`,action:{label:"View Details",callback:()=>{t.type}},priority:t.daysUntil<=0?"high":"medium",timestamp:new Date})});const i=t.getNetMonthlyIncome();i<0&&e.push({id:"budget-deficit",type:"error",title:"Budget Deficit Alert",message:`Your monthly expenses exceed income by ${n(Math.abs(i))}`,action:{label:"Review Budget",callback:()=>{}},priority:"high",timestamp:new Date});const o=t.getSavingsRate();o<10&&i>=0&&e.push({id:"low-savings-rate",type:"warning",title:"Low Savings Rate",message:`Your savings rate is ${o.toFixed(1)}%. Consider aiming for 10-20%.`,action:{label:"Optimize Budget",callback:()=>{}},priority:"low",timestamp:new Date});const u=localStorage.getItem("family-budget-last-backup"),f=u?new Date(u):null,d=f?Math.floor((r-f)/864e5):999;d>30&&e.push({id:"backup-reminder",type:"info",title:"Backup Reminder",message:u?`Last backup was ${d} days ago. Consider creating a new backup.`:"No recent backup found. Consider exporting your data for safekeeping.",action:{label:"Create Backup",callback:()=>{}},priority:"low",timestamp:new Date});const p=t.getTotalIncome(),h=t.getTotalMonthlyExpenses()+t.getMonthlyAnnualImpact(),g=Math.abs(p-h);g>.1*p&&p>0&&e.push({id:"budget-variance",type:"warning",title:"Budget Variance Alert",message:`Large variance detected between income and expenses (${n(g)})`,action:{label:"Review Numbers",callback:()=>{}},priority:"medium",timestamp:new Date});const y=e.filter(e=>!c.has(e.id));a(y)},p=e=>{f(t=>new Set([...t,e]))},h=e=>{switch(e){case"error":return"\ud83d\udea8";case"warning":return"\u26a0\ufe0f";case"info":return"\u2139\ufe0f";case"success":return"\u2705";default:return"\ud83d\udce2"}},g=e=>{switch(e){case"high":return"var(--danger)";case"medium":return"var(--warning)";case"low":return"var(--info)";default:return"var(--text-secondary)"}},y=i.filter(e=>!c.has(e.id)),b=y.filter(e=>"high"===e.priority).length;return 0===y.length?null:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"notification-badge-container",children:(0,v.jsxs)("button",{className:"notification-badge "+(b>0?"urgent":""),onClick:()=>u(!o),children:[(0,v.jsx)("span",{className:"badge-icon",children:"\ud83d\udd14"}),y.length>0&&(0,v.jsx)("span",{className:"badge-count",children:y.length})]})}),o&&(0,v.jsx)("div",{className:"notification-panel",children:(0,v.jsx)(Gz,{title:"\ud83d\udd14 Notifications",className:"notification-card",headerActions:(0,v.jsxs)("div",{className:"notification-actions",children:[(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>{const e=i.map(e=>e.id);f(t=>new Set([...t,...e]))},children:"Dismiss All"}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>u(!1),children:"\u2715"})]}),children:(0,v.jsx)("div",{className:"notifications-list",children:0===y.length?(0,v.jsxs)("div",{className:"no-notifications",children:[(0,v.jsx)("span",{className:"no-notifications-icon",children:"\u2705"}),(0,v.jsx)("span",{className:"no-notifications-text",children:"All caught up!"})]}):y.sort((e,t)=>{const n={high:3,medium:2,low:1},r=n[t.priority]-n[e.priority];return 0!==r?r:new Date(t.timestamp)-new Date(e.timestamp)}).map(e=>(0,v.jsx)("div",{className:`notification-item ${e.type} priority-${e.priority}`,children:(0,v.jsxs)("div",{className:"notification-content",children:[(0,v.jsxs)("div",{className:"notification-header",children:[(0,v.jsx)("span",{className:"notification-icon",children:h(e.type)}),(0,v.jsx)("span",{className:"notification-title",children:e.title}),(0,v.jsx)("div",{className:"priority-indicator",style:{backgroundColor:g(e.priority)}})]}),(0,v.jsx)("div",{className:"notification-message",children:e.message}),(0,v.jsxs)("div",{className:"notification-footer",children:[(0,v.jsx)("div",{className:"notification-timestamp",children:e.timestamp.toLocaleTimeString()}),(0,v.jsxs)("div",{className:"notification-buttons",children:[e.action&&(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>{e.action.callback(),p(e.id)},children:e.action.label}),(0,v.jsx)(K,{variant:"outline",size:"sm",onClick:()=>p(e.id),children:"Dismiss"})]})]})]})},e.id))})})}),o&&(0,v.jsx)("div",{className:"notification-backdrop",onClick:()=>u(!1)})]})};var eQ=n(1929),tQ=n.n(eQ);const nQ=e=>{let{onClose:t}=e;const[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),s=(0,r.useRef)(null),l=(0,r.useRef)(null);(0,r.useEffect)(()=>{l.current&&l.current.focus()},[]),(0,r.useEffect)(()=>{const e=e=>{if(document.activeElement!==l.current)return;const t=e.key;(/[0-9+\-*/.=]/.test(t)||"Enter"===t||"Escape"===t||"Backspace"===t||"Delete"===t)&&e.preventDefault(),/[0-9]/.test(t)||["+","-","*","/"].includes(t)?u(t):"."===t?u("."):"Enter"===t||"="===t?d():"Escape"===t||"Delete"===t?c():"Backspace"===t&&f()};return l.current&&l.current.addEventListener("keydown",e),()=>{l.current&&l.current.removeEventListener("keydown",e)}},[n,a]);const u=e=>{a?(i(e),o(!1)):i(t=>t+e)},c=()=>{i(""),o(!1),l.current&&l.current.focus()},f=()=>{a?c():i(e=>e.slice(0,-1))},d=()=>{if(!a&&""!==n)try{const e=n.replace(/[^0-9+\-*/.() ]/g,""),t=new Function("return "+e)();if(isNaN(t)||!isFinite(t))throw new Error("Invalid calculation");i(String(t))}catch(e){i("Error"),o(!0)}};return(0,v.jsx)(tQ(),{handle:".calculator-header",nodeRef:s,children:(0,v.jsxs)("div",{ref:s,className:"calculator-modal",children:[(0,v.jsxs)("div",{className:"calculator-header",children:[(0,v.jsx)("h4",{id:"calculator-title",children:"\ud83e\uddee Calculator"}),(0,v.jsx)("button",{className:"close-button",onClick:t,children:"\xd7"})]}),(0,v.jsx)("input",{ref:l,type:"text",className:"calculator-display "+(a?"error":""),value:n||"0",onChange:e=>{const t=e.target.value;/^[0-9+\-*/.() ]*$/.test(t)&&(i(t),a&&o(!1))},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text");/^[0-9+\-*/.() ]*$/.test(t)&&(a?(i(t),o(!1)):i(e=>e+t))},placeholder:"0",autoComplete:"off",spellCheck:"false"}),(0,v.jsxs)("div",{className:"keypad-grid",children:[(0,v.jsx)("button",{className:"keypad-button clear",onClick:c,children:"C"}),(0,v.jsx)("button",{className:"keypad-button backspace",onClick:f,children:"\u232b"}),["7","8","9","/","4","5","6","*","1","2","3","-","0",".","=","+"].map(e=>(0,v.jsx)("button",{className:"keypad-button",onClick:()=>"="===e?d():u(e),children:e},e))]}),(0,v.jsx)("div",{className:"calculator-instructions",children:(0,v.jsx)("small",{children:"\ud83d\udca1 Click input field to type \u2022 Ctrl+C to copy \u2022 Ctrl+V to paste \u2022 Enter for equals \u2022 Esc to clear"})})]})})},rQ={home:tL,income:oL,monthly:fL,annual:pL,planner:hL,notes:XZ,import:JZ,links:ZZ};function iQ(){const{state:e}=q(),t=rQ[e.currentPage]||tL;return(0,v.jsx)(t,{})}function aQ(){const{state:e,actions:t}=q();return(0,r.useEffect)(()=>{document.documentElement.setAttribute("data-theme",e.theme)},[e.theme]),(0,r.useEffect)(()=>(e.isCalculatorOpen?document.body.classList.add("calculator-open"):document.body.classList.remove("calculator-open"),()=>{document.body.classList.remove("calculator-open")}),[e.isCalculatorOpen]),(0,r.useEffect)(()=>{const n=n=>{if("Escape"===n.key&&e.isCalculatorOpen&&(n.preventDefault(),t.toggleCalculator()),"INPUT"!==n.target.tagName&&"TEXTAREA"!==n.target.tagName){if(n.ctrlKey||n.metaKey)if("s"===n.key){n.preventDefault();const e=new CustomEvent("exportData");window.dispatchEvent(e)}else"p"===n.key&&(n.preventDefault(),window.print());n.ctrlKey&&n.shiftKey&&"C"===n.key&&(n.preventDefault(),t.toggleCalculator())}};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[t,e.isCalculatorOpen]),(0,v.jsxs)("div",{className:"app-container",children:[(0,v.jsx)(W,{}),(0,v.jsx)($,{}),(0,v.jsx)("main",{className:"main-content",children:(0,v.jsx)("div",{className:"page-container",children:(0,v.jsx)(iQ,{})})}),(0,v.jsx)(QZ,{}),(0,v.jsxs)("div",{className:"version-indicator",children:[(0,v.jsx)("span",{children:"Family Budget v2.0.0"}),(0,v.jsxs)("span",{className:"last-updated",children:["Updated: ",new Date(e.lastUpdated).toLocaleString()]})]}),e.isCalculatorOpen&&(0,v.jsx)("div",{className:"calculator-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"calculator-title",children:(0,v.jsx)(nQ,{onClose:t.toggleCalculator})})]})}const oQ=function(){return(0,v.jsx)(Mb,{children:(0,v.jsx)(U,{children:(0,v.jsx)(aQ,{})})})},sQ=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,v.jsx)(r.StrictMode,{children:(0,v.jsx)(oQ,{})})),sQ()})()})();
//# sourceMappingURL=main.ac744e6d.js.map