/*! For license information please see main.32da0539.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},684:()=>{Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift})},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+l+("(?:\\u200d(?:"+[i,o,s].join("|")+")"+u+l+")*"),d="(?:"+[i+r+"?",r,o,s,n].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+c,"g");e.exports=function(e){return e.match(f)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,i,o,s){var l=-1,u=t.length;for(i||(i=a),s||(s=[]);++l<u;){var c=t[l];n>0&&i(c)?n>1?e(c,n-1,i,o,s):r(s,c):o||(s[s.length]=c)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),i=n(2222),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(2222);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),i=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(i.get||i.set)?a(o,n,i):o[n]=e[n]);return o}(e,t)}(n(5043)),a=c(n(5173)),i=c(n(7950)),o=n(1212),s=n(1777),l=n(2447),u=c(n(5387));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let h=p;class m extends r.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,o.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,o.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const r=(0,o.getTouchIdentifier)(e);this.touchIdentifier=r;const a=(0,s.getControlPosition)(e,r,this);if(null==a)return;const{x:i,y:l}=a,c=(0,s.createCoreData)(this,i,l);(0,u.default)("DraggableCore: handleDragStart: %j",c),(0,u.default)("calling",this.props.onStart);!1!==this.props.onStart(e,c)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,o.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=l,(0,o.addEvent)(n,h.move,this.handleDrag),(0,o.addEvent)(n,h.stop,this.handleDragStop))}),d(this,"handleDrag",e=>{const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=r-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);(0,u.default)("DraggableCore: handleDrag: %j",a);if(!1!==this.props.onDrag(e,a)&&!1!==this.mounted)this.lastX=n,this.lastY=r;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(i){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}}),d(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:r}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=r-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,r=this.lastY+t}const a=(0,s.createCoreData)(this,n,r);if(!1===this.props.onStop(e,a)||!1===this.mounted)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(i.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,u.default)("DraggableCore: Removing handlers"),(0,o.removeEvent)(i.ownerDocument,h.move,this.handleDrag),(0,o.removeEvent)(i.ownerDocument,h.stop,this.handleDragStop))}),d(this,"onMouseDown",e=>(h=p,this.handleDragStart(e))),d(this,"onMouseUp",e=>(h=p,this.handleDragStop(e))),d(this,"onTouchStart",e=>(h=f,this.handleDragStart(e))),d(this,"onTouchEnd",e=>(h=f,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,o.addEvent)(e,f.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,o.removeEvent)(t,p.move,this.handleDrag),(0,o.removeEvent)(t,f.move,this.handleDrag),(0,o.removeEvent)(t,p.stop,this.handleDragStop),(0,o.removeEvent)(t,f.stop,this.handleDragStop),(0,o.removeEvent)(e,f.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,o.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:i.default.findDOMNode(this)}render(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,d(m,"displayName","DraggableCore"),d(m,"propTypes",{allowAnyClick:a.default.bool,allowMobileScroll:a.default.bool,children:a.default.node.isRequired,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),d(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},944:()=>{!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1147:e=>{"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,n){return t({},e,n)};e.exports=function(e){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.preserveFormatting,s=void 0!==o&&o,l=i.escapeMapFn,u=void 0===l?a:l,c=String(e),d="",f=u(t({},n),s?t({},r):{}),p=Object.keys(f),h=function(){var e=!1;p.forEach(function(t,n){e||c.length>=t.length&&c.slice(0,t.length)===t&&(d+=f[p[n]],c=c.slice(t.length,c.length),e=!0)}),e||(d+=c.slice(0,1),c=c.slice(1,c.length))};c;)h();return d}},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=u,t.addEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&u(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=s(e,t,"px");return{[(0,a.browserPrefixToKey)("transform",a.default)]:n}},t.createSVGTransform=function(e,t){return s(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,r.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,r.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=s,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingTop),t-=(0,r.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,r.int)(n.paddingLeft),t-=(0,r.int)(n.paddingRight),t},t.matchesSelector=o,t.matchesSelectorAndParentsTo=function(e,t,n){let r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){const r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:i}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderTopWidth),t+=(0,r.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,r.int)(n.borderLeftWidth),t+=(0,r.int)(n.borderRightWidth),t},t.removeClassName=c,t.removeEvent=function(e,t,n,r){if(!e)return;const a={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var r=n(2447),a=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(i.get||i.set)?a(o,n,i):o[n]=e[n]);return o}(e,t)}(n(1561));let i="";function o(e,t){return i||(i=(0,r.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,r.isFunction)(e[t])})),!!(0,r.isFunction)(e[i])&&e[i](t)}function s(e,t,n){let{x:r,y:a}=e,i=`translate(${r}${n},${a}${n})`;if(t){i=`translate(${`${"string"===typeof t.x?t.x:t.x+n}`}, ${`${"string"===typeof t.y?t.y:t.y+n}`})`+i}return i}function l(e){if(e)try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},1234:()=>{},1268:(e,t,n)=>{var r=n(5428),a=n(7574),i=n(6832),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=r;const n=["Moz","Webkit","O","ms"];function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let r=0;r<n.length;r++)if(a(e,n[r])in t)return n[r];return""}function a(e,t){return t?`${t}${function(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)}`:e}t.default=r()},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),i=n(9096);e.exports=function(e,t){var n={};return t=i(t,3),a(e,function(e,a,i){r(n,a,t(e,a,i))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const a=!(0,r.isNum)(e.lastX),o=i(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:o}=e.props;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);const s=i(e);if("string"===typeof o){const{ownerDocument:e}=s,t=e.defaultView;let n;if("parent"===o)n=s.parentNode;else{n=s.getRootNode().querySelector(o)}if(!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');const i=n,l=t.getComputedStyle(s),u=t.getComputedStyle(i);o={left:-s.offsetLeft+(0,r.int)(u.paddingLeft)+(0,r.int)(l.marginLeft),top:-s.offsetTop+(0,r.int)(u.paddingTop)+(0,r.int)(l.marginTop),right:(0,a.innerWidth)(i)-(0,a.outerWidth)(s)-s.offsetLeft+(0,r.int)(u.paddingRight)-(0,r.int)(l.marginRight),bottom:(0,a.innerHeight)(i)-(0,a.outerHeight)(s)-s.offsetTop+(0,r.int)(u.paddingBottom)-(0,r.int)(l.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){const r="number"===typeof t?(0,a.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;const o=i(n),s=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){const r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(2447),a=n(1212);function i(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},1929:(e,t,n)=>{"use strict";const{default:r,DraggableCore:a}=n(8136);e.exports=r,e.exports.default=r,e.exports.DraggableCore=a},1937:function(e){!function(){"use strict";var t={s:1,n:0,d:1};function n(e,t){if(isNaN(e=parseInt(e,10)))throw u();return e*t}function r(e,t){if(0===t)throw l();var n=Object.create(s.prototype);n.s=e<0?-1:1;var r=o(e=e<0?-e:e,t);return n.n=e/r,n.d=t/r,n}function a(e){for(var t={},n=e,r=2,a=4;a<=n;){for(;n%r===0;)n/=r,t[r]=(t[r]||0)+1;a+=1+2*r++}return n!==e?n>1&&(t[n]=(t[n]||0)+1):t[e]=(t[e]||0)+1,t}var i=function(e,r){var a,i=0,o=1,s=1,d=0,f=0,p=0,h=1,m=1,g=0,y=1,v=1,b=1,x=1e7;if(void 0===e||null===e);else if(void 0!==r){if(s=(i=e)*(o=r),i%1!==0||o%1!==0)throw c()}else switch(typeof e){case"object":if("d"in e&&"n"in e)i=e.n,o=e.d,"s"in e&&(i*=e.s);else{if(!(0 in e))throw u();i=e[0],1 in e&&(o=e[1])}s=i*o;break;case"number":if(e<0&&(s=e,e=-e),e%1===0)i=e;else if(e>0){for(e>=1&&(e/=m=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));y<=x&&b<=x;){if(e===(a=(g+v)/(y+b))){y+b<=x?(i=g+v,o=y+b):b>y?(i=v,o=b):(i=g,o=y);break}e>a?(g+=v,y+=b):(v+=g,b+=y),y>x?(i=v,o=b):(i=g,o=y)}i*=m}else(isNaN(e)||isNaN(r))&&(o=i=NaN);break;case"string":if(null===(y=e.match(/\d+|./g)))throw u();if("-"===y[g]?(s=-1,g++):"+"===y[g]&&g++,y.length===g+1?f=n(y[g++],s):"."===y[g+1]||"."===y[g]?("."!==y[g]&&(d=n(y[g++],s)),(++g+1===y.length||"("===y[g+1]&&")"===y[g+3]||"'"===y[g+1]&&"'"===y[g+3])&&(f=n(y[g],s),h=Math.pow(10,y[g].length),g++),("("===y[g]&&")"===y[g+2]||"'"===y[g]&&"'"===y[g+2])&&(p=n(y[g+1],s),m=Math.pow(10,y[g+1].length)-1,g+=3)):"/"===y[g+1]||":"===y[g+1]?(f=n(y[g],s),h=n(y[g+2],1),g+=3):"/"===y[g+3]&&" "===y[g+1]&&(d=n(y[g],s),f=n(y[g+2],s),h=n(y[g+4],1),g+=5),y.length<=g){s=i=p+(o=h*m)*d+m*f;break}default:throw u()}if(0===o)throw l();t.s=s<0?-1:1,t.n=Math.abs(i),t.d=Math.abs(o)};function o(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function s(e,n){if(i(e,n),!(this instanceof s))return r(t.s*t.n,t.d);e=o(t.d,t.n),this.s=t.s,this.n=t.n/e,this.d=t.d/e}var l=function(){return new Error("Division by Zero")},u=function(){return new Error("Invalid argument")},c=function(){return new Error("Parameters must be integer")};s.prototype={s:1,n:0,d:1,abs:function(){return r(this.n,this.d)},neg:function(){return r(-this.s*this.n,this.d)},add:function(e,n){return i(e,n),r(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(e,n){return i(e,n),r(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(e,n){return i(e,n),r(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(e,n){return i(e,n),r(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return r(this.s*this.n,this.d)},mod:function(e,n){if(isNaN(this.n)||isNaN(this.d))return new s(NaN);if(void 0===e)return r(this.s*this.n%this.d,1);if(i(e,n),0===t.n&&0===this.d)throw l();return r(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(e,n){return i(e,n),r(o(t.n,this.n)*o(t.d,this.d),t.d*this.d)},lcm:function(e,n){return i(e,n),0===t.n&&0===this.n?r(0,1):r(t.n*this.n,o(t.n,this.n)*o(t.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new s(NaN):r(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return r(this.s*this.d,this.n)},pow:function(e,n){if(i(e,n),1===t.d)return t.s<0?r(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):r(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var o=a(this.n),s=a(this.d),l=1,u=1;for(var c in o)if("1"!==c){if("0"===c){l=0;break}if(o[c]*=t.n,o[c]%t.d!==0)return null;o[c]/=t.d,l*=Math.pow(c,o[c])}for(var c in s)if("1"!==c){if(s[c]*=t.n,s[c]%t.d!==0)return null;s[c]/=t.d,u*=Math.pow(c,s[c])}return t.s<0?r(u,l):r(l,u)},equals:function(e,n){return i(e,n),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(e,n){i(e,n);var r=this.s*this.n*t.d-t.s*t.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),n=t.toContinued(),a=1;a<n.length;a++){for(var i=r(n[a-1],1),o=a-2;o>=0;o--)i=i.inverse().add(n[o]);if(Math.abs(i.sub(t).valueOf())<e)return i.mul(this.s)}return this},divisible:function(e,n){return i(e,n),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,a=this.d;return this.s<0&&(n+="-"),1===a?n+=r:(e&&(t=Math.floor(r/a))>0&&(n+=t,n+=" ",r%=a),n+=r,n+="/",n+=a),n},toLatex:function(e){var t,n="",r=this.n,a=this.d;return this.s<0&&(n+="-"),1===a?n+=r:(e&&(t=Math.floor(r/a))>0&&(n+=t,r%=a),n+="\\frac{",n+=r,n+="}{",n+=a,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(t)||isNaN(n))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t=this.n,n=this.d;if(isNaN(t)||isNaN(n))return"NaN";e=e||15;var r=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,n),a=function(e,t,n){for(var r=1,a=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),i=0;i<300;i++){if(r===a)return i;r=10*r%t,a=10*a%t}return 0}(0,n,r),i=this.s<0?"-":"";if(i+=t/n|0,t%=n,(t*=10)&&(i+="."),r){for(var o=a;o--;)i+=t/n|0,t%=n,t*=10;i+="(";for(o=r;o--;)i+=t/n|0,t%=n,t*=10;i+=")"}else for(o=e;t&&o--;)i+=t/n|0,t%=n,t*=10;return i}},Object.defineProperty(s,"__esModule",{value:!0}),s.default=s,s.Fraction=s,e.exports=s}()},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2222:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),i=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},2430:function(e,t,n){var r;!function(a,i,o){var s,l=256,u=o.pow(l,6),c=o.pow(2,52),d=2*c,f=255;function p(e,t,n){var r=[],f=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(a.crypto||a.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,v(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,y(v(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(o.random=e,t):e})(b,f,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<l;)o[a]=a++;for(a=0;a<l;a++)o[a]=o[i=f&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=f&a+1],n=n*l+o[f&(o[a]=o[i=f&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(g(e[n],t-1))}catch(i){}return r.length?r:"string"==a?e:e+"\0"}function y(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),i),e.exports){e.exports=p;try{s=n(1234)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),i=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=o(s+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),i=n(9096),o=n(8883),s=n(320),l=n(7574),u=n(5893),c=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[c];var f=-1;t=r(t,l(i));var p=o(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++f,value:e}});return s(p,function(e,t){return u(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(2222),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(o.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var I,B=Object.assign;function R(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var z=!1;function L(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function q(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case S:return"Portal";case A:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ne=null;function Ee(e){if(e=ma(e)){if("function"!==typeof we)throw Error(i(280));var t=e.stateNode;t&&(t=ya(t),we(e.stateNode,e.type,t))}}function Ae(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function ke(e,t){return e(t)}function _e(){}var De=!1;function je(e,t,n){if(De)return e(t,n);De=!0;try{return ke(e,t,n)}finally{De=!1,(null!==Se||null!==Ne)&&(_e(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=ya(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(c)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(ec){Me=!1}function Pe(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Ie=null,Be=!1,Re=null,ze={onError:function(e){Fe=!0,Ie=e}};function Le(e,t,n,r,a,i,o,s,l){Fe=!1,Ie=null,Pe.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(qe(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return $e(a),e;if(o===r)return $e(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ve=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,Qe=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,rt=null,at=null;var it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var lt=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=ct(s):0!==(i&=o)&&(r=ct(i))}else 0!==(o=n&~a)?r=ct(o):0!==i&&(r=ct(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,St,Nt,Et,At=!1,Ct=[],kt=null,_t=null,Dt=null,jt=new Map,Ot=new Map,Mt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ma(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=ha(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Et(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ma(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Rt(e,t,n){Bt(e)&&n.delete(t)}function zt(){At=!1,null!==kt&&Bt(kt)&&(kt=null),null!==_t&&Bt(_t)&&(_t=null),null!==Dt&&Bt(Dt)&&(Dt=null),jt.forEach(Rt),Ot.forEach(Rt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Lt(t,e)}if(0<Ct.length){Lt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Lt(kt,e),null!==_t&&Lt(_t,e),null!==Dt&&Lt(Dt,e),jt.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)It(n),null===n.blockedOn&&Mt.shift()}var Ut=x.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,r){var a=vt,i=Ut.transition;Ut.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=a,Ut.transition=i}}function Ht(e,t,n,r){var a=vt,i=Ut.transition;Ut.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=a,Ut.transition=i}}function Kt(e,t,n,r){if($t){var a=Yt(e,t,n,r);if(null===a)Lr(e,t,r,Vt,n),Pt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return kt=Ft(kt,e,t,n,r,a),!0;case"dragenter":return _t=Ft(_t,e,t,n,r,a),!0;case"mouseover":return Dt=Ft(Dt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return jt.set(i,Ft(jt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ot.set(i,Ft(Ot.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Tt.indexOf(e)){for(;null!==a;){var i=ma(a);if(null!==i&&xt(i),null===(i=Yt(e,t,n,r))&&Lr(e,t,r,Vt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Lr(e,t,r,null,n)}}var Vt=null;function Yt(e,t,n,r){if(Vt=null,null!==(e=ha(e=xe(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case Qe:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function Qt(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(ln),cn=B({},ln,{view:0,detail:0}),dn=rn(cn),fn=B({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(fn),hn=rn(B({},fn,{dataTransfer:0})),mn=rn(B({},cn,{relatedTarget:0})),gn=rn(B({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=rn(B({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vn=rn(B({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Nn(){return Sn}var En=rn(B({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=rn(B({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(B({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),kn=rn(B({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=rn(B({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=[9,13,27,32],jn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Mn=c&&"TextEvent"in window&&!On,Tn=c&&(!jn||On&&8<On&&11>=On),Pn=String.fromCharCode(32),Fn=!1;function In(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function qn(e,t,n,r){Ae(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Un=null,$n=null;function Wn(e){Pr(e,0)}function Hn(e){if(V(ga(e)))return e}function Kn(e,t){if("change"===e)return t}var Vn=!1;if(c){var Yn;if(c){var Gn="oninput"in document;if(!Gn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Gn="function"===typeof Xn.oninput}Yn=Gn}else Yn=!1;Vn=Yn&&(!document.documentMode||9<document.documentMode)}function Jn(){Un&&(Un.detachEvent("onpropertychange",Zn),$n=Un=null)}function Zn(e){if("value"===e.propertyName&&Hn($n)){var t=[];qn(t,$n,e,xe(e)),je(Wn,t)}}function Qn(e,t,n){"focusin"===e?(Jn(),$n=n,(Un=t).attachEvent("onpropertychange",Zn)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn($n)}function tr(e,t){if("click"===e)return Hn(t)}function nr(e,t){if("input"===e||"change"===e)return Hn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!rr(e[a],t[a]))return!1}return!0}function ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=ir(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ir(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&ur(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=or(n,i);var o=or(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=c&&"documentMode"in document&&11>=document.documentMode,fr=null,pr=null,hr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==fr||fr!==Y(r)||("selectionStart"in(r=fr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&ar(hr,r)||(hr=r,0<(r=Ur(pr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},br={},xr={};function wr(e){if(br[e])return br[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return br[e]=n[t];return e}c&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var Sr=wr("animationend"),Nr=wr("animationiteration"),Er=wr("animationstart"),Ar=wr("transitionend"),Cr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Cr.set(e,t),l(t,[e])}for(var Dr=0;Dr<kr.length;Dr++){var jr=kr[Dr];_r(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}_r(Sr,"onAnimationEnd"),_r(Nr,"onAnimationIteration"),_r(Er,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,l,u){if(Le.apply(this,arguments),Fe){if(!Fe)throw Error(i(198));var c=Ie;Fe=!1,Ie=null,Be||(Be=!0,Re=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;Tr(a,s,u),i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;Tr(a,s,u),i=l}}}if(Be)throw e=Re,Be=!1,Re=null,e}function Fr(e,t){var n=t[da];void 0===n&&(n=t[da]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ir(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[Br]){e[Br]=!0,o.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ir(t,!1,e),Ir(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ir("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Gt(t)){case 1:var a=Wt;break;case 4:a=Ht;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ha(s)))return;if(5===(l=o.tag)||6===l){r=i=o;continue e}s=s.parentNode}}r=r.return}je(function(){var r=i,a=xe(n),o=[];e:{var s=Cr.get(e);if(void 0!==s){var l=un,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Sr:case Nr:case Er:l=gn;break;case Ar:l=kn;break;case"scroll":l=dn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Oe(h,f))&&c.push(qr(h,m,p)))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!ha(u)&&!u[ca])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ha(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:ga(l),p=null==u?s:ga(u),(s=new c(m,h+"leave",l,n,a)).target=d,s.relatedTarget=p,m=null,ha(a)===r&&((c=new c(f,h+"enter",u,n,a)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,h=0,p=c=l;p;p=$r(p))h++;for(p=0,m=f;m;m=$r(m))p++;for(;0<h-p;)c=$r(c),h--;for(;0<p-h;)f=$r(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=$r(c),f=$r(f)}c=null}else c=null;null!==l&&Wr(o,s,l,c,!1),null!==u&&null!==d&&Wr(o,d,u,c,!0)}if("select"===(l=(s=r?ga(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Ln(s))if(Vn)g=nr;else{g=er;var y=Qn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tr);switch(g&&(g=g(e,r))?qn(o,g,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ga(r):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(fr=y,pr=r,hr=null);break;case"focusout":hr=pr=fr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,a);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,a)}var v;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Rn?In(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Rn&&(v=Qt()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,Rn=!0)),0<(y=Ur(r,b)).length&&(b=new vn(b,e,null,n,a),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!jn&&In(e,t)?(e=Qt(),Zt=Jt=Xt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(a=new vn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=v))}Pr(o,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Oe(e,n))&&r.unshift(qr(e,i,a)),null!=(i=Oe(e,t))&&r.push(qr(e,i,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(l=Oe(n,i))&&o.unshift(qr(n,l,s)):a||null!=(l=Oe(n,i))&&o.push(qr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Vr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Kr,"")}function Yr(e,t,n){if(t=Vr(t),Vr(e)!==t&&n)throw Error(i(425))}function Gr(){}var Xr=null,Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"===typeof setTimeout?setTimeout:void 0,ea="function"===typeof clearTimeout?clearTimeout:void 0,ta="function"===typeof Promise?Promise:void 0,na="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ta?function(e){return ta.resolve(null).then(e).catch(ra)}:Qr;function ra(e){setTimeout(function(){throw e})}function aa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);qt(t)}function ia(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var sa=Math.random().toString(36).slice(2),la="__reactFiber$"+sa,ua="__reactProps$"+sa,ca="__reactContainer$"+sa,da="__reactEvents$"+sa,fa="__reactListeners$"+sa,pa="__reactHandles$"+sa;function ha(e){var t=e[la];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ca]||n[la]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oa(e);null!==e;){if(n=e[la])return n;e=oa(e)}return t}n=(e=n).parentNode}return null}function ma(e){return!(e=e[la]||e[ca])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ga(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ya(e){return e[ua]||null}var va=[],ba=-1;function xa(e){return{current:e}}function wa(e){0>ba||(e.current=va[ba],va[ba]=null,ba--)}function Sa(e,t){ba++,va[ba]=e.current,e.current=t}var Na={},Ea=xa(Na),Aa=xa(!1),Ca=Na;function ka(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _a(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){wa(Aa),wa(Ea)}function ja(e,t,n){if(Ea.current!==Na)throw Error(i(168));Sa(Ea,t),Sa(Aa,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,$(e)||"Unknown",a));return B({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ca=Ea.current,Sa(Ea,e),Sa(Aa,Aa.current),!0}function Ta(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Ca),r.__reactInternalMemoizedMergedChildContext=e,wa(Aa),wa(Ea),Sa(Ea,e)):wa(Aa),Sa(Aa,n)}var Pa=null,Fa=!1,Ia=!1;function Ba(e){null===Pa?Pa=[e]:Pa.push(e)}function Ra(){if(!Ia&&null!==Pa){Ia=!0;var e=0,t=vt;try{var n=Pa;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pa=null,Fa=!1}catch(a){throw null!==Pa&&(Pa=Pa.slice(e+1)),Ke(Ze,Ra),a}finally{vt=t,Ia=!1}}return null}var za=[],La=0,qa=null,Ua=0,$a=[],Wa=0,Ha=null,Ka=1,Va="";function Ya(e,t){za[La++]=Ua,za[La++]=qa,qa=e,Ua=t}function Ga(e,t,n){$a[Wa++]=Ka,$a[Wa++]=Va,$a[Wa++]=Ha,Ha=e;var r=Ka;e=Va;var a=32-it(r)-1;r&=~(1<<a),n+=1;var i=32-it(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ka=1<<32-it(t)+a|n<<a|r,Va=i+e}else Ka=1<<i|n<<a|r,Va=e}function Xa(e){null!==e.return&&(Ya(e,1),Ga(e,1,0))}function Ja(e){for(;e===qa;)qa=za[--La],za[La]=null,Ua=za[--La],za[La]=null;for(;e===Ha;)Ha=$a[--Wa],$a[Wa]=null,Va=$a[--Wa],$a[Wa]=null,Ka=$a[--Wa],$a[Wa]=null}var Za=null,Qa=null,ei=!1,ti=null;function ni(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ri(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Za=e,Qa=ia(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Za=e,Qa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ha?{id:Ka,overflow:Va}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ku(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Za=e,Qa=null,!0);default:return!1}}function ai(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ii(e){if(ei){var t=Qa;if(t){var n=t;if(!ri(e,t)){if(ai(e))throw Error(i(418));t=ia(n.nextSibling);var r=Za;t&&ri(e,t)?ni(r,n):(e.flags=-4097&e.flags|2,ei=!1,Za=e)}}else{if(ai(e))throw Error(i(418));e.flags=-4097&e.flags|2,ei=!1,Za=e}}}function oi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Za=e}function si(e){if(e!==Za)return!1;if(!ei)return oi(e),ei=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Qa)){if(ai(e))throw li(),Error(i(418));for(;t;)ni(e,t),t=ia(t.nextSibling)}if(oi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Qa=ia(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Qa=null}}else Qa=Za?ia(e.stateNode.nextSibling):null;return!0}function li(){for(var e=Qa;e;)e=ia(e.nextSibling)}function ui(){Qa=Za=null,ei=!1}function ci(e){null===ti?ti=[e]:ti.push(e)}var di=x.ReactCurrentBatchConfig;function fi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function pi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hi(e){return(0,e._init)(e._payload)}function mi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Tu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&hi(i)===t.type)?((r=a(t,n.props)).ref=fi(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=fi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=fi(e,null,t),n.return=e,n;case S:return(t=Pu(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Ou(t,e.mode,n,null)).return=e,t;pi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?c(e,t,n,r):null;case M:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:d(e,t,n,r,null);pi(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,a,null);pi(t,r)}return null}function m(a,i,s,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(a,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=o(y,i,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===s.length)return n(a,d),ei&&Ya(a,m),u;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],l))&&(i=o(d,i,m),null===c?u=d:c.sibling=d,c=d);return ei&&Ya(a,m),u}for(d=r(a,d);m<s.length;m++)null!==(g=h(d,a,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(a,e)}),ei&&Ya(a,m),u}function g(a,s,l,u){var c=F(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(a,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),ei&&Ya(a,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(a,v.value,u))&&(s=o(v,s,g),null===d?c=v:d.sibling=v,d=v);return ei&&Ya(a,g),c}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=h(m,a,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ei&&Ya(a,g),c}return function e(r,i,o,l){if("object"===typeof o&&null!==o&&o.type===N&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=i;null!==c;){if(c.key===u){if((u=o.type)===N){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&hi(u)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=fi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===N?((i=Ou(o.props.children,r.mode,l,o.key)).return=r,r=i):((l=ju(o.type,o.key,o.props,null,r.mode,l)).ref=fi(r,i,o),l.return=r,r=l)}return s(r);case S:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Pu(o,r.mode,l)).return=r,r=i}return s(r);case M:return e(r,i,(c=o._init)(o._payload),l)}if(te(o))return m(r,i,o,l);if(F(o))return g(r,i,o,l);pi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Tu(o,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var gi=mi(!0),yi=mi(!1),vi=xa(null),bi=null,xi=null,wi=null;function Si(){wi=xi=bi=null}function Ni(e){var t=vi.current;wa(vi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){bi=e,wi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===bi)throw Error(i(308));xi=e,bi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var ki=null;function _i(e){null===ki?ki=[e]:ki.push(e)}function Di(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,_i(t)):(n.next=a.next,a.next=n),t.interleaved=n,ji(e,r)}function ji(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ti(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ji(e,n)}return null===(a=r.interleaved)?(t.next=t,_i(r)):(t.next=a.next,a.next=t),r.interleaved=t,ji(e,n)}function Ii(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ri(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?i=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,c=u=l=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=B({},d,f);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=d}}function zi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Li={},qi=xa(Li),Ui=xa(Li),$i=xa(Li);function Wi(e){if(e===Li)throw Error(i(174));return e}function Hi(e,t){switch(Sa($i,t),Sa(Ui,e),Sa(qi,Li),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wa(qi),Sa(qi,t)}function Ki(){wa(qi),wa(Ui),wa($i)}function Vi(e){Wi($i.current);var t=Wi(qi.current),n=le(t,e.type);t!==n&&(Sa(Ui,e),Sa(qi,n))}function Yi(e){Ui.current===e&&(wa(qi),wa(Ui))}var Gi=xa(0);function Xi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ji=[];function Zi(){for(var e=0;e<Ji.length;e++)Ji[e]._workInProgressVersionPrimary=null;Ji.length=0}var Qi=x.ReactCurrentDispatcher,eo=x.ReactCurrentBatchConfig,to=0,no=null,ro=null,ao=null,io=!1,oo=!1,so=0,lo=0;function uo(){throw Error(i(321))}function co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,a,o){if(to=o,no=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qi.current=null===e||null===e.memoizedState?Go:Xo,e=n(r,a),oo){o=0;do{if(oo=!1,so=0,25<=o)throw Error(i(301));o+=1,ao=ro=null,t.updateQueue=null,Qi.current=Jo,e=n(r,a)}while(oo)}if(Qi.current=Yo,t=null!==ro&&null!==ro.next,to=0,ao=ro=no=null,io=!1,t)throw Error(i(300));return e}function po(){var e=0!==so;return so=0,e}function ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ao?no.memoizedState=ao=e:ao=ao.next=e,ao}function mo(){if(null===ro){var e=no.alternate;e=null!==e?e.memoizedState:null}else e=ro.next;var t=null===ao?no.memoizedState:ao.next;if(null!==t)ao=t,ro=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ro=e).memoizedState,baseState:ro.baseState,baseQueue:ro.baseQueue,queue:ro.queue,next:null},null===ao?no.memoizedState=ao=e:ao=ao.next=e}return ao}function go(e,t){return"function"===typeof t?t(e):t}function yo(e){var t=mo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ro,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((to&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,no.lanes|=d,Ml|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,no.lanes|=o,Ml|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vo(e){var t=mo(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);rr(o,t.memoizedState)||(ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bo(){}function xo(e,t){var n=no,r=mo(),a=t(),o=!rr(r.memoizedState,a);if(o&&(r.memoizedState=a,ms=!0),r=r.queue,Mo(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ao&&1&ao.memoizedState.tag){if(n.flags|=2048,ko(9,So.bind(null,n,r,a,t),void 0,null),null===Al)throw Error(i(349));0!==(30&to)||wo(n,t,a)}return a}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=no.updateQueue)?(t={lastEffect:null,stores:null},no.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,Eo(t)&&Ao(e)}function No(e,t,n){return n(function(){Eo(t)&&Ao(e)})}function Eo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function Ao(e){var t=ji(e,1);null!==t&&Zl(t,e,1,-1)}function Co(e){var t=ho();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},t.queue=e,e=e.dispatch=Wo.bind(null,no,e),[t.memoizedState,e]}function ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=no.updateQueue)?(t={lastEffect:null,stores:null},no.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _o(){return mo().memoizedState}function Do(e,t,n,r){var a=ho();no.flags|=e,a.memoizedState=ko(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var a=mo();r=void 0===r?null:r;var i=void 0;if(null!==ro){var o=ro.memoizedState;if(i=o.destroy,null!==r&&co(r,o.deps))return void(a.memoizedState=ko(t,n,i,r))}no.flags|=e,a.memoizedState=ko(1|t,n,i,r)}function Oo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return jo(2048,8,e,t)}function To(e,t){return jo(4,2,e,t)}function Po(e,t){return jo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Fo.bind(null,t,e),n)}function Bo(){}function Ro(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lo(e,t,n){return 0===(21&to)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=ht(),no.lanes|=n,Ml|=n,e.baseState=!0),t)}function qo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=eo.transition;eo.transition={};try{e(!1),t()}finally{vt=n,eo.transition=r}}function Uo(){return mo().memoizedState}function $o(e,t,n){var r=Jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e))Ko(t,n);else if(null!==(n=Di(e,t,n,r))){Zl(n,e,r,Xl()),Vo(n,t,r)}}function Wo(e,t,n){var r=Jl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Ko(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,rr(s,o)){var l=t.interleaved;return null===l?(a.next=a,_i(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(u){}null!==(n=Di(e,t,a,r))&&(Zl(n,e,r,a=Xl()),Vo(n,t,r))}}function Ho(e){var t=e.alternate;return e===no||null!==t&&t===no}function Ko(e,t){oo=io=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yo={readContext:Ci,useCallback:uo,useContext:uo,useEffect:uo,useImperativeHandle:uo,useInsertionEffect:uo,useLayoutEffect:uo,useMemo:uo,useReducer:uo,useRef:uo,useState:uo,useDebugValue:uo,useDeferredValue:uo,useTransition:uo,useMutableSource:uo,useSyncExternalStore:uo,useId:uo,unstable_isNewReconciler:!1},Go={readContext:Ci,useCallback:function(e,t){return ho().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=ho();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ho();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,no,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ho().memoizedState=e},useState:Co,useDebugValue:Bo,useDeferredValue:function(e){return ho().memoizedState=e},useTransition:function(){var e=Co(!1),t=e[0];return e=qo.bind(null,e[1]),ho().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=no,a=ho();if(ei){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!==(30&to)||wo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Oo(No.bind(null,r,o,e),[e]),r.flags|=2048,ko(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ho(),t=Al.identifierPrefix;if(ei){var n=Va;t=":"+t+"R"+(n=(Ka&~(1<<32-it(Ka)-1)).toString(32)+n),0<(n=so++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:Ci,useCallback:Ro,useContext:Ci,useEffect:Mo,useImperativeHandle:Io,useInsertionEffect:To,useLayoutEffect:Po,useMemo:zo,useReducer:yo,useRef:_o,useState:function(){return yo(go)},useDebugValue:Bo,useDeferredValue:function(e){return Lo(mo(),ro.memoizedState,e)},useTransition:function(){return[yo(go)[0],mo().memoizedState]},useMutableSource:bo,useSyncExternalStore:xo,useId:Uo,unstable_isNewReconciler:!1},Jo={readContext:Ci,useCallback:Ro,useContext:Ci,useEffect:Mo,useImperativeHandle:Io,useInsertionEffect:To,useLayoutEffect:Po,useMemo:zo,useReducer:vo,useRef:_o,useState:function(){return vo(go)},useDebugValue:Bo,useDeferredValue:function(e){var t=mo();return null===ro?t.memoizedState=e:Lo(t,ro.memoizedState,e)},useTransition:function(){return[vo(go)[0],mo().memoizedState]},useMutableSource:bo,useSyncExternalStore:xo,useId:Uo,unstable_isNewReconciler:!1};function Zo(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Qo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xl(),a=Jl(e),i=Pi(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(Zl(t,e,a,r),Ii(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xl(),a=Jl(e),i=Pi(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(Zl(t,e,a,r),Ii(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xl(),r=Jl(e),a=Pi(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(Zl(t,e,r,n),Ii(t,e,r))}};function ts(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ar(n,r)||!ar(a,i))}function ns(e,t,n){var r=!1,a=Na,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(a=_a(t)?Ca:Ea.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?ka(e,a):Na),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function as(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Mi(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ci(i):(i=_a(t)?Ca:Ea.current,a.context=ka(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Qo(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&es.enqueueReplaceState(a,a.state,null),Ri(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function is(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function os(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ls="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=Pi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ll||(Ll=!0,ql=r),ss(0,t)},n}function cs(e,t,n){(n=Pi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ss(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var hs=x.ReactCurrentOwner,ms=!1;function gs(e,t,n,r){t.child=null===e?yi(t,null,n,r):gi(t,e.child,n,r)}function ys(e,t,n,r,a){n=n.render;var i=t.ref;return Ai(t,a),r=fo(e,t,n,r,i,a),n=po(),null===e||ms?(ei&&n&&Xa(t),t.flags|=1,gs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ls(e,t,a))}function vs(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||_u(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,bs(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(o,r)&&e.ref===t.ref)return Ls(e,t,a)}return t.flags|=1,(e=Du(i,r)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ar(i,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Ls(e,t,a);0!==(131072&e.flags)&&(ms=!0)}}return Ss(e,t,n,r,a)}function xs(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Dl,_l),_l|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Dl,_l),_l|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Sa(Dl,_l),_l|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Sa(Dl,_l),_l|=r;return gs(e,t,a,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,a){var i=_a(n)?Ca:Ea.current;return i=ka(t,i),Ai(t,a),n=fo(e,t,n,r,i,a),r=po(),null===e||ms?(ei&&r&&Xa(t),t.flags|=1,gs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ls(e,t,a))}function Ns(e,t,n,r,a){if(_a(n)){var i=!0;Ma(t)}else i=!1;if(Ai(t,a),null===t.stateNode)zs(e,t),ns(t,n,r),as(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ci(u):u=ka(t,u=_a(n)?Ca:Ea.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&rs(t,o,r,u),Oi=!1;var f=t.memoizedState;o.state=f,Ri(t,r,o,a),l=t.memoizedState,s!==r||f!==l||Aa.current||Oi?("function"===typeof c&&(Qo(t,n,c,r),l=t.memoizedState),(s=Oi||ts(t,n,s,r,f,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ti(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Zo(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ci(l):l=ka(t,l=_a(n)?Ca:Ea.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==l)&&rs(t,o,r,l),Oi=!1,f=t.memoizedState,o.state=f,Ri(t,r,o,a);var h=t.memoizedState;s!==d||f!==h||Aa.current||Oi?("function"===typeof p&&(Qo(t,n,p,r),h=t.memoizedState),(u=Oi||ts(t,n,u,r,f,h,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,i,a)}function Es(e,t,n,r,a,i){ws(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ta(t,n,!1),Ls(e,t,i);r=t.stateNode,hs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=gi(t,e.child,null,i),t.child=gi(t,null,s,i)):gs(e,t,s,i),t.memoizedState=r.state,a&&Ta(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),Hi(e,t.containerInfo)}function Cs(e,t,n,r,a){return ui(),ci(a),t.flags|=256,gs(e,t,n,r),t.child}var ks,_s,Ds,js,Os={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ts(e,t,n){var r,a=t.pendingProps,o=Gi.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Sa(Gi,1&o),null===e)return ii(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Mu(l,a,0,null),e=Ou(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Os,e):Ps(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=os(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Mu({mode:"visible",children:r.children},a,0,null),(o=Ou(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&gi(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Os,o);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=os(o=Error(i(419)),r,void 0))}if(l=0!==(s&e.childLanes),ms||l){if(null!==(r=Al)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,ji(e,a),Zl(r,e,a,-1))}return du(),Fs(e,t,s,r=os(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nu.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Qa=ia(a.nextSibling),Za=t,ei=!0,ti=null,null!==e&&($a[Wa++]=Ka,$a[Wa++]=Va,$a[Wa++]=Ha,Ka=e.id,Va=e.overflow,Ha=t),t=Ps(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,o,n);if(s){s=a.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Du(r,s):(s=Ou(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Ms(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,a}return e=(s=e.child).sibling,a=Du(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ps(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&ci(r),gi(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Is(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Bs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Rs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=Gi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Is(e,n,t);else if(19===e.tag)Is(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(Gi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Xi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Xi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ls(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ei)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Us(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(Ja(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(t),null;case 1:case 17:return _a(t.type)&&Da(),Us(t),null;case 3:return r=t.stateNode,Ki(),wa(Aa),wa(Ea),Zi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(si(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ti&&(nu(ti),ti=null))),_s(e,t),Us(t),null;case 5:Yi(t);var a=Wi($i.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Us(t),null}if(e=Wi(qi.current),si(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[la]=t,r[ua]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)Fr(Or[a],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ae(r,o),Fr("invalid",r)}for(var l in ye(n,o),a=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Q(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Gr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[la]=t,e[ua]=r,ks(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Fr(Or[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":X(e,r),a=G(e,r),Fr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=B({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Fr("invalid",e)}for(o in ye(n,a),u=a)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":K(e),Q(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Us(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Wi($i.current),Wi(qi.current),si(t)){if(r=t.stateNode,n=t.memoizedProps,r[la]=t,(o=r.nodeValue!==n)&&null!==(e=Za))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[la]=t,t.stateNode=r}return Us(t),null;case 13:if(wa(Gi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ei&&null!==Qa&&0!==(1&t.mode)&&0===(128&t.flags))li(),ui(),t.flags|=98560,o=!1;else if(o=si(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[la]=t}else ui(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Us(t),o=!1}else null!==ti&&(nu(ti),ti=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Gi.current)?0===jl&&(jl=3):du())),null!==t.updateQueue&&(t.flags|=4),Us(t),null);case 4:return Ki(),_s(e,t),null===e&&Rr(t.stateNode.containerInfo),Us(t),null;case 10:return Ni(t.type._context),Us(t),null;case 19:if(wa(Gi),null===(o=t.memoizedState))return Us(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Xi(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(Gi,1&Gi.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Rl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Xi(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ei)return Us(t),null}else 2*Xe()-o.renderingStartTime>Rl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Gi.current,Sa(Gi,r?1&n|2:1&n),t):(Us(t),null);case 22:case 23:return su(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_l)&&(Us(t),6&t.subtreeFlags&&(t.flags|=8192)):Us(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ws(e,t){switch(Ja(t),t.tag){case 1:return _a(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ki(),wa(Aa),wa(Ea),Zi(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Yi(t),null;case 13:if(wa(Gi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ui()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wa(Gi),null;case 4:return Ki(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return su(),null;default:return null}}ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_s=function(){},Ds=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Wi(qi.current);var i,o=null;switch(n){case"input":a=G(e,a),r=G(e,r),o=[];break;case"select":a=B({},a,{value:void 0}),r=B({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Gr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Hs=!1,Ks=!1,Vs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function Gs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function Xs(e,t,n){try{n()}catch(r){xu(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Xs(t,n,i)}a=a.next}while(a!==r)}}function Qs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function tl(e){var t=e.alternate;null!==t&&(e.alternate=null,tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[la],delete t[ua],delete t[da],delete t[fa],delete t[pa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Gr));else if(4!==r&&null!==(e=e.child))for(al(e,t,n),e=e.sibling;null!==e;)al(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}var ol=null,sl=!1;function ll(e,t,n){for(n=n.child;null!==n;)ul(e,t,n),n=n.sibling}function ul(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Gs(n,t);case 6:var r=ol,a=sl;ol=null,ll(e,t,n),sl=a,null!==(ol=r)&&(sl?(e=ol,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ol.removeChild(n.stateNode));break;case 18:null!==ol&&(sl?(e=ol,n=n.stateNode,8===e.nodeType?aa(e.parentNode,n):1===e.nodeType&&aa(e,n),qt(e)):aa(ol,n.stateNode));break;case 4:r=ol,a=sl,ol=n.stateNode.containerInfo,sl=!0,ll(e,t,n),ol=r,sl=a;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&Xs(n,t,o),a=a.next}while(a!==r)}ll(e,t,n);break;case 1:if(!Ks&&(Gs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xu(n,t,s)}ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,ll(e,t,n),Ks=r):ll(e,t,n);break;default:ll(e,t,n)}}function cl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Vs),t.forEach(function(t){var r=Eu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ol=l.stateNode,sl=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,sl=!0;break e}l=l.return}if(null===ol)throw Error(i(160));ul(o,s,a),ol=null,sl=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(c){xu(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dl(t,e),pl(e),4&r){try{Zs(3,e,e.return),Qs(3,e)}catch(g){xu(e,e.return,g)}try{Zs(5,e,e.return)}catch(g){xu(e,e.return,g)}}break;case 1:dl(t,e),pl(e),512&r&&null!==n&&Gs(n,n.return);break;case 5:if(dl(t,e),pl(e),512&r&&null!==n&&Gs(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(g){xu(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(a,o),ve(l,s);var c=ve(l,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?ce(a,f):"children"===d?de(a,f):b(a,d,f,c)}switch(l){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ua]=o}catch(g){xu(e,e.return,g)}}break;case 6:if(dl(t,e),pl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){xu(e,e.return,g)}}break;case 3:if(dl(t,e),pl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){xu(e,e.return,g)}break;case 4:default:dl(t,e),pl(e);break;case 13:dl(t,e),pl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Xe())),4&r&&cl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,dl(t,e),Ks=c):dl(t,e),pl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Ys=e,d=e.child;null!==d;){for(f=Ys=d;null!==Ys;){switch(h=(p=Ys).child,p.tag){case 0:case 11:case 14:case 15:Zs(4,p,p.return);break;case 1:Gs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xu(r,n,g)}}break;case 5:Gs(p,p.return);break;case 22:if(null!==p.memoizedState){yl(f);continue}}null!==h?(h.return=p,Ys=h):yl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=he("display",s))}catch(g){xu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){xu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dl(t,e),pl(e),4&r&&cl(e);case 21:}}function pl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),il(e,rl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;al(e,rl(e),o);break;default:throw Error(i(161))}}catch(s){xu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function hl(e,t,n){Ys=e,ml(e,t,n)}function ml(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var a=Ys,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Hs;if(!o){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Hs;var u=Ks;if(Hs=o,(Ks=l)&&!u)for(Ys=a;null!==Ys;)l=(o=Ys).child,22===o.tag&&null!==o.memoizedState?vl(a):null!==l?(l.return=o,Ys=l):vl(a);for(;null!==i;)Ys=i,ml(i,t,n),i=i.sibling;Ys=a,Hs=s,Ks=u}gl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Ys=i):gl(e)}}function gl(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||Qs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Zo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&zi(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(i(163))}Ks||512&t.flags&&el(t)}catch(p){xu(t,t.return,p)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function yl(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function vl(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qs(4,t)}catch(l){xu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){xu(t,a,l)}}var i=t.return;try{el(t)}catch(l){xu(t,i,l)}break;case 5:var o=t.return;try{el(t)}catch(l){xu(t,o,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bl,xl=Math.ceil,wl=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,El=0,Al=null,Cl=null,kl=0,_l=0,Dl=xa(0),jl=0,Ol=null,Ml=0,Tl=0,Pl=0,Fl=null,Il=null,Bl=0,Rl=1/0,zl=null,Ll=!1,ql=null,Ul=null,$l=!1,Wl=null,Hl=0,Kl=0,Vl=null,Yl=-1,Gl=0;function Xl(){return 0!==(6&El)?Xe():-1!==Yl?Yl:Yl=Xe()}function Jl(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==kl?kl&-kl:null!==di.transition?(0===Gl&&(Gl=ht()),Gl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function Zl(e,t,n,r){if(50<Kl)throw Kl=0,Vl=null,Error(i(185));gt(e,n,r),0!==(2&El)&&e===Al||(e===Al&&(0===(2&El)&&(Tl|=n),4===jl&&ru(e,kl)),Ql(e,r),1===n&&0===El&&0===(1&t.mode)&&(Rl=Xe()+500,Fa&&Ra()))}function Ql(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-it(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===Al?kl:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Fa=!0,Ba(e)}(au.bind(null,e)):Ba(au.bind(null,e)),na(function(){0===(6&El)&&Ra()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=Qe;break;case 16:default:n=et;break;case 536870912:n=nt}n=Au(n,eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eu(e,t){if(Yl=-1,Gl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?kl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fu(e,r);else{t=r;var a=El;El|=2;var o=cu();for(Al===e&&kl===t||(zl=null,Rl=Xe()+500,lu(e,t));;)try{hu();break}catch(l){uu(e,l)}Si(),wl.current=o,El=a,null!==Cl?t=0:(Al=null,kl=0,t=jl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=tu(e,a))),1===t)throw n=Ol,lu(e,0),ru(e,r),Ql(e,Xe()),n;if(6===t)ru(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!rr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=fu(e,r))&&(0!==(o=pt(e))&&(r=o,t=tu(e,o))),1===t))throw n=Ol,lu(e,0),ru(e,r),Ql(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:yu(e,Il,zl);break;case 3:if(ru(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Xl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qr(yu.bind(null,e,Il,zl),t);break}yu(e,Il,zl);break;case 4:if(ru(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=Qr(yu.bind(null,e,Il,zl),r);break}yu(e,Il,zl);break;default:throw Error(i(329))}}}return Ql(e,Xe()),e.callbackNode===n?eu.bind(null,e):null}function tu(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(lu(e,t).flags|=256),2!==(e=fu(e,t))&&(t=Il,Il=n,null!==t&&nu(t)),e}function nu(e){null===Il?Il=e:Il.push.apply(Il,e)}function ru(e,t){for(t&=~Pl,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function au(e){if(0!==(6&El))throw Error(i(327));vu();var t=dt(e,0);if(0===(1&t))return Ql(e,Xe()),null;var n=fu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=tu(e,r))}if(1===n)throw n=Ol,lu(e,0),ru(e,t),Ql(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yu(e,Il,zl),Ql(e,Xe()),null}function iu(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Rl=Xe()+500,Fa&&Ra())}}function ou(e){null!==Wl&&0===Wl.tag&&0===(6&El)&&vu();var t=El;El|=1;var n=Nl.transition,r=vt;try{if(Nl.transition=null,vt=1,e)return e()}finally{vt=r,Nl.transition=n,0===(6&(El=t))&&Ra()}}function su(){_l=Dl.current,wa(Dl)}function lu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ea(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(Ja(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:Ki(),wa(Aa),wa(Ea),Zi();break;case 5:Yi(r);break;case 4:Ki();break;case 13:case 19:wa(Gi);break;case 10:Ni(r.type._context);break;case 22:case 23:su()}n=n.return}if(Al=e,Cl=e=Du(e.current,null),kl=_l=t,jl=0,Ol=null,Pl=Tl=Ml=0,Il=Fl=null,null!==ki){for(t=0;t<ki.length;t++)if(null!==(r=(n=ki[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}ki=null}return e}function uu(e,t){for(;;){var n=Cl;try{if(Si(),Qi.current=Yo,io){for(var r=no.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}io=!1}if(to=0,ao=ro=no=null,oo=!1,so=0,Sl.current=null,null===n||null===n.return){jl=1,Ol=t,Cl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=kl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=fs(s);if(null!==h){h.flags&=-257,ps(h,s,l,0,t),1&h.mode&&ds(o,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ds(o,c,t),du();break e}u=Error(i(426))}else if(ei&&1&l.mode){var y=fs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ps(y,s,l,0,t),ci(is(u,l));break e}}o=u=is(u,l),4!==jl&&(jl=2),null===Fl?Fl=[o]:Fl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,us(0,u,t));break e;case 1:l=u;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ul||!Ul.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Bi(o,cs(o,l,t));break e}}o=o.return}while(null!==o)}gu(n)}catch(x){t=x,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function cu(){var e=wl.current;return wl.current=Yo,null===e?Yo:e}function du(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Tl)||ru(Al,kl)}function fu(e,t){var n=El;El|=2;var r=cu();for(Al===e&&kl===t||(zl=null,lu(e,t));;)try{pu();break}catch(a){uu(e,a)}if(Si(),El=n,wl.current=r,null!==Cl)throw Error(i(261));return Al=null,kl=0,jl}function pu(){for(;null!==Cl;)mu(Cl)}function hu(){for(;null!==Cl&&!Ye();)mu(Cl)}function mu(e){var t=bl(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?gu(e):Cl=t,Sl.current=null}function gu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,_l)))return void(Cl=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return jl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===jl&&(jl=5)}function yu(e,t,n){var r=vt,a=Nl.transition;try{Nl.transition=null,vt=1,function(e,t,n,r){do{vu()}while(null!==Wl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Al&&(Cl=Al=null,kl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Au(et,function(){return vu(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var s=vt;vt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(Xr=$t,ur(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(l=s+a),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===a&&(l=s),p===o&&++d===r&&(u=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},$t=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Zo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(w){xu(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}m=Js,Js=!1}(e,n),fl(n,e),cr(Jr),$t=!!Xr,Jr=Xr=null,e.current=n,hl(n,e,a),Ge(),El=l,vt=s,Nl.transition=o}else e.current=n;if($l&&($l=!1,Wl=e,Hl=a),o=e.pendingLanes,0===o&&(Ul=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Ql(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ll)throw Ll=!1,e=ql,ql=null,e;0!==(1&Hl)&&0!==e.tag&&vu(),o=e.pendingLanes,0!==(1&o)?e===Vl?Kl++:(Kl=0,Vl=e):Kl=0,Ra()}(e,t,n,r)}finally{Nl.transition=a,vt=r}return null}function vu(){if(null!==Wl){var e=bt(Hl),t=Nl.transition,n=vt;try{if(Nl.transition=null,vt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Hl=0,0!==(6&El))throw Error(i(331));var a=El;for(El|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ys=c;null!==Ys;){var d=Ys;switch(d.tag){case 0:case 11:case 15:Zs(8,d,o)}var f=d.child;if(null!==f)f.return=d,Ys=f;else for(;null!==Ys;){var p=(d=Ys).sibling,h=d.return;if(tl(d),d===c){Ys=null;break}if(null!==p){p.return=h,Ys=p;break}Ys=h}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ys=v;break e}Ys=o.return}}var b=e.current;for(Ys=b;null!==Ys;){var x=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Ys=x;else e:for(s=b;null!==Ys;){if(0!==(2048&(l=Ys).flags))try{switch(l.tag){case 0:case 11:case 15:Qs(9,l)}}catch(S){xu(l,l.return,S)}if(l===s){Ys=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Ys=w;break e}Ys=l.return}}if(El=a,Ra(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(S){}r=!0}return r}finally{vt=n,Nl.transition=t}}return!1}function bu(e,t,n){e=Fi(e,t=us(0,t=is(n,t),1),1),t=Xl(),null!==e&&(gt(e,1,t),Ql(e,t))}function xu(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ul||!Ul.has(r))){t=Fi(t,e=cs(t,e=is(n,e),1),1),e=Xl(),null!==t&&(gt(t,1,e),Ql(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xl(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(kl&n)===n&&(4===jl||3===jl&&(130023424&kl)===kl&&500>Xe()-Bl?lu(e,0):Pl|=n),Ql(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Xl();null!==(e=ji(e,t))&&(gt(e,t,n),Ql(e,n))}function Nu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Eu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Su(e,n)}function Au(e,t){return Ke(e,t)}function Cu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(e,t,n,r){return new Cu(e,t,n,r)}function _u(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)_u(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case N:return Ou(n.children,a,o,t);case E:s=8,a|=8;break;case A:return(e=ku(12,n,t,2|a)).elementType=A,e.lanes=o,e;case D:return(e=ku(13,n,t,a)).elementType=D,e.lanes=o,e;case j:return(e=ku(19,n,t,a)).elementType=j,e.lanes=o,e;case T:return Mu(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case k:s=9;break e;case _:s=11;break e;case O:s=14;break e;case M:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Ou(e,t,n,r){return(e=ku(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=ku(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Tu(e,t,n){return(e=ku(6,e,null,t)).lanes=n,e}function Pu(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,a,i,o,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=ku(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),e}function Bu(e){if(!e)return Na;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_a(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(_a(n))return Oa(e,n,t)}return t}function Ru(e,t,n,r,a,i,o,s,l){return(e=Iu(n,r,!0,e,0,i,0,s,l)).context=Bu(null),n=e.current,(i=Pi(r=Xl(),a=Jl(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,gt(e,a,r),Ql(e,r),e}function zu(e,t,n,r){var a=t.current,i=Xl(),o=Jl(a);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pi(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(Zl(e,a,o,i),Ii(e,a,o)),o}function Lu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:As(t),ui();break;case 5:Vi(t);break;case 1:_a(t.type)&&Ma(t);break;case 4:Hi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(vi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(Gi,1&Gi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ts(e,t,n):(Sa(Gi,1&Gi.current),null!==(e=Ls(e,t,n))?e.sibling:null);Sa(Gi,1&Gi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Rs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Gi,Gi.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Ls(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ei&&0!==(1048576&t.flags)&&Ga(t,Ua,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var a=ka(t,Ea.current);Ai(t,n),a=fo(null,t,r,e,a,n);var o=po();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_a(r)?(o=!0,Ma(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Mi(t),a.updater=es,t.stateNode=a,a._reactInternals=t,as(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ei&&o&&Xa(t),gs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return _u(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===O)return 14}return 2}(r),e=Zo(r,e),a){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=ys(null,t,r,e,n);break e;case 14:t=vs(null,t,r,Zo(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:Zo(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:Zo(r,a),n);case 3:e:{if(As(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Ti(e,t),Ri(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cs(e,t,r,n,a=is(Error(i(423)),t));break e}if(r!==a){t=Cs(e,t,r,n,a=is(Error(i(424)),t));break e}for(Qa=ia(t.stateNode.containerInfo.firstChild),Za=t,ei=!0,ti=null,n=yi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ui(),r===a){t=Ls(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return Vi(t),null===e&&ii(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Zr(r,a)?s=null:null!==o&&Zr(r,o)&&(t.flags|=32),ws(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&ii(t),null;case 13:return Ts(e,t,n);case 4:return Hi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=gi(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ys(e,t,r,a=t.elementType===r?a:Zo(r,a),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Sa(vi,r._currentValue),r._currentValue=s,null!==o)if(rr(o.value,s)){if(o.children===a.children&&!Aa.current){t=Ls(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Pi(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ei(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ei(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}gs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ai(t,n),r=r(a=Ci(a)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return a=Zo(r=t.type,t.pendingProps),vs(e,t,r,a=Zo(r.type,a),n);case 15:return bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Zo(r,a),zs(e,t),t.tag=1,_a(r)?(e=!0,Ma(t)):e=!1,Ai(t,n),ns(t,r,a),as(t,r,a,n),Es(null,t,r,!0,e,n);case 19:return Rs(e,t,n);case 22:return xs(e,t,n)}throw Error(i(156,t.tag))};var $u="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Hu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Vu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(){}function Gu(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Lu(o);s.call(e)}}zu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Lu(o);i.call(e)}}var o=Ru(t,r,e,0,null,!1,0,"",Yu);return e._reactRootContainer=o,e[ca]=o.current,Rr(8===e.nodeType?e.parentNode:e),ou(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Lu(l);s.call(e)}}var l=Iu(e,0,!1,null,0,!1,0,"",Yu);return e._reactRootContainer=l,e[ca]=l.current,Rr(8===e.nodeType?e.parentNode:e),ou(function(){zu(t,l,n,r)}),l}(n,t,e,a,r);return Lu(o)}Hu.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zu(e,t,null,null)},Hu.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ou(function(){zu(null,e,null,null)}),t[ca]=null}},Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&It(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(yt(t,1|n),Ql(t,Xe()),0===(6&El)&&(Rl=Xe()+500,Ra()))}break;case 13:ou(function(){var t=ji(e,1);if(null!==t){var n=Xl();Zl(t,e,1,n)}}),Uu(e,1)}},wt=function(e){if(13===e.tag){var t=ji(e,134217728);if(null!==t)Zl(t,e,134217728,Xl());Uu(e,134217728)}},St=function(e){if(13===e.tag){var t=Jl(e),n=ji(e,t);if(null!==n)Zl(n,e,t,Xl());Uu(e,t)}},Nt=function(){return vt},Et=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ya(r);if(!a)throw Error(i(90));V(r),Z(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=iu,_e=ou;var Xu={usingClientEntryPoint:!1,Events:[ma,ga,ya,Ae,Ce,iu]},Ju={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zu={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{rt=Qu.inject(Zu),at=Qu}catch(ec){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(i(299));var n=!1,r="",a=$u;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Iu(e,1,!1,null,0,n,0,r,a),e[ca]=t.current,Rr(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ou(e)},t.hydrate=function(e,t,n){if(!Vu(t))throw Error(i(200));return Gu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=$u;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ru(t,null,e,1,null!=n?n:null,a,0,o,s),e[ca]=t.current,Rr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Hu(t)},t.render=function(e,t,n){if(!Vu(t))throw Error(i(200));return Gu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(i(40));return!!e._reactRootContainer&&(ou(function(){Gu(null,null,e,!1,function(){e._reactRootContainer=null,e[ca]=null})}),!0)},t.unstable_batchedUpdates=iu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Gu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),a=n(7498),i=n(9096);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2949:e=>{function t(e){var n,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(r=t(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function n(){for(var e,n,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(n=t(e))&&(a&&(a+=" "),a+=n);return a}e.exports=n,e.exports.clsx=n},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},2999:(e,t,n)=>{var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof i?new i(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,i;switch(n=n||{},a.util.type(t)){case"Object":if(i=a.util.objId(t),n[i])return n[i];for(var o in r={},n[i]=r,t)t.hasOwnProperty(o)&&(r[o]=e(t[o],n));return r;case"Array":return i=a.util.objId(t),n[i]?n[i]:(r=[],n[i]=r,t.forEach(function(t,a){r[a]=e(t,n)}),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"===typeof document)return null;if(document.currentScript&&"SCRIPT"===document.currentScript.tagName)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var a=e.classList;if(a.contains(t))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=a.util.clone(a.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var i=(r=r||a.languages)[e],o={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);n.hasOwnProperty(s)||(o[s]=i[s])}var u=r[e];return r[e]=o,a.languages.DFS(a.languages,function(t,n){n===u&&t!=e&&(this[t]=o)}),o},DFS:function e(t,n,r,i){i=i||{};var o=a.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],u=a.util.type(l);"Object"!==u||i[o(l)]?"Array"!==u||i[o(l)]||(i[o(l)]=!0,e(l,n,s,i)):(i[o(l)]=!0,e(l,n,null,i))}}},plugins:{},highlightAll:function(e,t){a.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,o=0;i=r.elements[o++];)a.highlightElement(i,!0===t,r.callback)},highlightElement:function(t,n,r){var i=a.util.getLanguage(t),o=a.languages[i];a.util.setLanguage(t,i);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&a.util.setLanguage(s,i);var l={element:t,language:i,grammar:o,code:t.textContent};function u(e){l.highlightedCode=e,a.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,a.hooks.run("after-highlight",l),a.hooks.run("complete",l),r&&r.call(l.element)}if(a.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return a.hooks.run("complete",l),void(r&&r.call(l.element));if(a.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else u(a.highlight(l.code,l.grammar,l.language));else u(a.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var a=new l;return u(a,a.head,e),s(e,a,t,a.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(a)},hooks:{all:{},add:function(e,t){var n=a.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=a.hooks.all[e];if(n&&n.length)for(var r,i=0;r=n[i++];)r(t)}},Token:i};function i(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function o(e,t,n,r){e.lastIndex=t;var a=e.exec(n);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function s(e,t,n,r,l,d){for(var f in n)if(n.hasOwnProperty(f)&&n[f]){var p=n[f];p=Array.isArray(p)?p:[p];for(var h=0;h<p.length;++h){if(d&&d.cause==f+","+h)return;var m=p[h],g=m.inside,y=!!m.lookbehind,v=!!m.greedy,b=m.alias;if(v&&!m.pattern.global){var x=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,x+"g")}for(var w=m.pattern||m,S=r.next,N=l;S!==t.tail&&!(d&&N>=d.reach);N+=S.value.length,S=S.next){var E=S.value;if(t.length>e.length)return;if(!(E instanceof i)){var A,C=1;if(v){if(!(A=o(w,N,e,y))||A.index>=e.length)break;var k=A.index,_=A.index+A[0].length,D=N;for(D+=S.value.length;k>=D;)D+=(S=S.next).value.length;if(N=D-=S.value.length,S.value instanceof i)continue;for(var j=S;j!==t.tail&&(D<_||"string"===typeof j.value);j=j.next)C++,D+=j.value.length;C--,E=e.slice(N,D),A.index-=N}else if(!(A=o(w,0,E,y)))continue;k=A.index;var O=A[0],M=E.slice(0,k),T=E.slice(k+O.length),P=N+E.length;d&&P>d.reach&&(d.reach=P);var F=S.prev;if(M&&(F=u(t,F,M),N+=M.length),c(t,F,C),S=u(t,F,new i(f,g?a.tokenize(O,g):O,b,O)),T&&u(t,S,T),C>1){var I={cause:f+","+h,reach:P};s(e,t,n,S.prev,N,I),d&&I.reach>d.reach&&(d.reach=I.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var r=t.next,a={value:n,prev:t,next:r};return t.next=a,r.prev=a,e.length++,a}function c(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;t.next=r,r.prev=t,e.length-=a}if(e.Prism=a,i.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach(function(t){r+=e(t,n)}),r}var i={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},o=t.alias;o&&(Array.isArray(o)?Array.prototype.push.apply(i.classes,o):i.classes.push(o)),a.hooks.run("wrap",i);var s="";for(var l in i.attributes)s+=" "+l+'="'+(i.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+s+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,i=n.code,o=n.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),o&&e.close()},!1),a):a;var d=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(d&&(a.filename=d.src,d.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}("undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=r),"undefined"!==typeof n.g&&(n.g.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};a["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:a},r.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if("undefined"!==typeof r&&"undefined"!==typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},t="data-src-status",n="loading",a="loaded",i="pre[data-src]:not(["+t+'="'+a+'"]):not(['+t+'="'+n+'"])';r.hooks.add("before-highlightall",function(e){e.selector+=", "+i}),r.hooks.add("before-sanity-check",function(o){var s=o.element;if(s.matches(i)){o.code="",s.setAttribute(t,n);var l=s.appendChild(document.createElement("CODE"));l.textContent="Loading\u2026";var u=s.getAttribute("data-src"),c=o.language;if("none"===c){var d=(/\.(\w+)$/.exec(u)||[,"none"])[1];c=e[d]||d}r.util.setLanguage(l,c),r.util.setLanguage(s,c);var f=r.plugins.autoloader;f&&f.loadLanguages(c),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n("\u2716 Error "+r.status+" while fetching file: "+r.statusText):n("\u2716 Error: File does not exist or is empty"))},r.send(null)}(u,function(e){s.setAttribute(t,a);var n=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],a=t[3];return r?a?[n,Number(a)]:[n,void 0]:[n,n]}}(s.getAttribute("data-range"));if(n){var i=e.split(/\r\n?|\n/g),o=n[0],u=null==n[1]?i.length:n[1];o<0&&(o+=i.length),o=Math.max(0,Math.min(o-1,i.length)),u<0&&(u+=i.length),u=Math.max(0,Math.min(u,i.length)),e=i.slice(o,u).join("\n"),s.hasAttribute("data-start")||s.setAttribute("data-start",String(o+1))}l.textContent=e,r.highlightElement(l)},function(e){s.setAttribute(t,"failed"),l.textContent=e})}}),r.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(i),a=0;t=n[a++];)r.highlightElement(t)}};var o=!1;r.fileHighlight=function(){o||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),o=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),i=n(4052),o=n(4543),s=n(9194),l=n(1268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&a(e),d=!n&&!c&&o(e),f=!n&&!c&&!d&&l(e),p=n||c||d||f,h=p?r(e.length,String):[],m=h.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3241:()=>{Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),i=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),o=void 0===o?t<n?1:-1:i(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),i=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3636:()=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},3668:(e,t,n)=>{var r=n(8902),a=n(2587),i=n(8114);e.exports=function(e,t,n,o,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var f=l.get(e),p=l.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var y=e[h],v=t[h];if(o)var b=u?o(v,y,h,t,e,l):o(y,v,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!i(g,t)&&(y===e||s(y,e,n,o,l)))return g.push(t)})){m=!1;break}}else if(y!==v&&!s(y,v,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},3782:()=>{!function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)},3817:()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),i=n(2597),o=n(914);e.exports=function(e){return i(e)?r(o(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),i=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,d,f,p,h=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-h>=c}function x(){var e=a();if(b(e))return w(e);f=setTimeout(x,function(e){var n=t-(e-p);return g?s(n,c-(e-h)):n}(e))}function w(e){return f=void 0,y&&l?v(e):(l=u=void 0,d)}function S(){var e=a(),n=b(e);if(l=arguments,u=this,p=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(x,t),m?v(e):d}(p);if(g)return clearTimeout(f),f=setTimeout(x,t),v(p)}return void 0===f&&(f=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?o(i(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),S.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=p=u=f=void 0},S.flush=function(){return void 0===f?d:w(a())},S}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)}),t});e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,N={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!E.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===i?"."+_(l,0):i,w(o)?(a="",null!=e&&(a=e.replace(k,"$&/")+"/"),D(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+_(s=e[u],u);l+=D(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=D(s=s.value,t,a,c=i+_(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],a=0;return D(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},T={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:T,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},4334:(e,t,n)=>{var r=n(7359),a=n(7066),i=n(9016),o=n(9538),s=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=a,u.xorwow=i,u.xorshift7=o,u.xor4096=s,u.tychei=l,e.exports=u},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),i=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var u=-1,c=a,d=e.length,f=!0,p=[],h=p;if(n)f=!1,c=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,c=o,h=new r}else h=t?[]:p;e:for(;++u<d;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,f&&y===y){for(var v=h.length;v--;)if(h[v]===y)continue e;t&&h.push(y),p.push(g)}else c(h,y,n)||(h!==p&&h.push(y),p.push(g))}return p}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),i=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),i=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),i=n(3366),o=n(2597),s=n(9417),l=n(1310),u=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(u(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5262:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),i=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},5387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},5422:function(e){e.exports=function(){"use strict";function e(){return!0}function t(){return!1}function n(){}const r="Argument is not a typed-function.";function a(){function i(e){return"object"===typeof e&&null!==e&&e.constructor===Object}const o=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:i},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],s={name:"any",test:e,isAny:!0};let l,u,c=0,d={createCount:0};function f(e){const t=l.get(e);if(t)return t;let n='Unknown type "'+e+'"';const r=e.toLowerCase();let a;for(a of u)if(a.toLowerCase()===r){n+='. Did you mean "'+a+'" ?';break}throw new TypeError(n)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=t?f(t).index:u.length,r=[];for(let i=0;i<e.length;++i){if(!e[i]||"string"!==typeof e[i].name||"function"!==typeof e[i].test)throw new TypeError("Object with properties {name: string, test: function} expected");const t=e[i].name;if(l.has(t))throw new TypeError('Duplicate type name "'+t+'"');r.push(t),l.set(t,{name:t,test:e[i].test,isAny:e[i].isAny,index:n+i,conversionsTo:[]})}const a=u.slice(n);u=u.slice(0,n).concat(r).concat(a);for(let i=n+r.length;i<u.length;++i)l.get(u[i]).index=i}function h(){l=new Map,u=[],c=0,p([s],!1)}function m(){let e;for(e of u)l.get(e).conversionsTo=[];c=0}function g(e){const t=u.filter(t=>{const n=l.get(t);return!n.isAny&&n.test(e)});return t.length?t:["any"]}function y(e){return e&&"function"===typeof e&&"_typedFunctionData"in e}function v(e,t,n){if(!y(e))throw new TypeError(r);const a=n&&n.exact,i=A(Array.isArray(t)?t.join(","):t),o=w(i);if(!a||o in e.signatures){const t=e._typedFunctionData.signatureMap.get(o);if(t)return t}const s=i.length;let l,u;if(a){let t;for(t in l=[],e.signatures)l.push(e._typedFunctionData.signatureMap.get(t))}else l=e._typedFunctionData.signatures;for(let r=0;r<s;++r){const e=i[r],t=[];let n;for(n of l){const a=D(n.params,r);if(a&&(!e.restParam||a.restParam)){if(!a.hasAny){const t=E(a);if(e.types.some(e=>!t.has(e.name)))continue}t.push(n)}}if(l=t,0===l.length)break}for(u of l)if(u.params.length<=s)return u;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+w(i,", ")+"))")}function b(e,t,n){return v(e,t,n).implementation}function x(e,t){const n=f(t);if(n.test(e))return e;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+t+" defined.");for(let a=0;a<r.length;a++)if(f(r[a].from).test(e))return r[a].convert(e);throw new Error("Cannot convert "+e+" to "+t)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map(e=>e.name).join(t)}function S(e){const t=0===e.indexOf("..."),n=(t?e.length>3?e.slice(3):"any":e).split("|").map(e=>f(e.trim()));let r=!1,a=t?"...":"";return{types:n.map(function(e){return r=e.isAny||r,a+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}}),name:a.slice(0,-1),hasAny:r,hasConversion:!1,restParam:t}}function N(e){const t=R(e.types.map(e=>e.name));let n=e.hasAny,r=e.name;const a=t.map(function(e){const t=f(e.from);return n=t.isAny||n,r+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}});return{types:e.types.concat(a),name:r,hasAny:n,hasConversion:a.length>0,restParam:e.restParam}}function E(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach(t=>e.typeSet.add(t.name))),e.typeSet}function A(e){const t=[];if("string"!==typeof e)throw new TypeError("Signatures must be strings");const n=e.trim();if(""===n)return t;const r=n.split(",");for(let a=0;a<r.length;++a){const e=S(r[a].trim());if(e.restParam&&a!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[a]+'": only allowed for the last parameter');if(0===e.types.length)return null;t.push(e)}return t}function C(e){const t=X(e);return!!t&&t.restParam}function k(t){if(t&&0!==t.types.length){if(1===t.types.length)return f(t.types[0].name).test;if(2===t.types.length){const e=f(t.types[0].name).test,n=f(t.types[1].name).test;return function(t){return e(t)||n(t)}}{const e=t.types.map(function(e){return f(e.name).test});return function(t){for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}}return e}function _(e){let t,n,r;if(C(e)){t=G(e).map(k);const n=t.length,r=k(X(e)),a=function(e){for(let t=n;t<e.length;t++)if(!r(e[t]))return!1;return!0};return function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return a(e)&&e.length>=n+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=k(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=k(e[0]),r=k(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(k),function(e){for(let n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function D(e,t){return t<e.length?e[t]:C(e)?X(e):null}function j(e,t){const n=D(e,t);return n?E(n):new Set}function O(e){return null===e.conversion||void 0===e.conversion}function M(e,t){const n=new Set;return e.forEach(e=>{const r=j(e.params,t);let a;for(a of r)n.add(a)}),n.has("any")?["any"]:Array.from(n)}function T(e,t,n){let r,a;const i=e||"unnamed";let o,s=n;for(o=0;o<t.length;o++){const e=[];if(s.forEach(n=>{const r=k(D(n.params,o));(o<n.params.length||C(n.params))&&r(t[o])&&e.push(n)}),0===e.length){if(a=M(s,o),a.length>0){const e=g(t[o]);return r=new TypeError("Unexpected type of argument in function "+i+" (expected: "+a.join(" or ")+", actual: "+e.join(" | ")+", index: "+o+")"),r.data={category:"wrongType",fn:i,index:o,actual:e,expected:a},r}}else s=e}const l=s.map(function(e){return C(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,l))return a=M(s,o),r=new TypeError("Too few arguments in function "+i+" (expected: "+a.join(" or ")+", index: "+t.length+")"),r.data={category:"tooFewArgs",fn:i,index:t.length,expected:a},r;const u=Math.max.apply(null,l);if(t.length>u)return r=new TypeError("Too many arguments in function "+i+" (expected: "+u+", actual: "+t.length+")"),r.data={category:"tooManyArgs",fn:i,index:t.length,expectedLength:u},r;const c=[];for(let d=0;d<t.length;++d)c.push(g(t[d]).join("|"));return r=new TypeError('Arguments of type "'+c.join(", ")+'" do not match any of the defined signatures of function '+i+"."),r.data={category:"mismatch",actual:c},r}function P(e){let t=u.length+1;for(let n=0;n<e.types.length;n++)O(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function F(e){let t=c+1;for(let n=0;n<e.types.length;n++)O(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function I(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return-1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return-1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return-1;const n=P(e)-P(t);if(n<0)return-1;if(n>0)return 1;const r=F(e)-F(t);return r<0?-1:r>0?1:0}function B(e,t){const n=e.params,r=t.params,a=X(n),i=X(r),o=C(n),s=C(r);if(o&&a.hasAny){if(!s||!i.hasAny)return 1}else if(s&&i.hasAny)return-1;let l,u=0,c=0;for(l of n)l.hasAny&&++u,l.hasConversion&&++c;let d=0,f=0;for(l of r)l.hasAny&&++d,l.hasConversion&&++f;if(u!==d)return u-d;if(o&&a.hasConversion){if(!s||!i.hasConversion)return 1}else if(s&&i.hasConversion)return-1;if(c!==f)return c-f;if(o){if(!s)return 1}else if(s)return-1;const p=(n.length-r.length)*(o?-1:1);if(0!==p)return p;const h=[];let m,g=0;for(let y=0;y<n.length;++y){const e=I(n[y],r[y]);h.push(e),g+=e}if(0!==g)return g;for(m of h)if(0!==m)return m;return 0}function R(e){if(0===e.length)return[];const t=e.map(f);e.length>1&&t.sort((e,t)=>e.index-t.index);let n=t[0].conversionsTo;if(1===e.length)return n;n=n.concat([]);const r=new Set(e);for(let a=1;a<t.length;++a){let e;for(e of t[a].conversionsTo)r.has(e.from)||(n.push(e),r.add(e.from))}return n}function z(e,t){let n=t;if(e.some(e=>e.hasConversion)){const r=C(e),a=e.map(L);n=function(){const e=[],n=r?arguments.length-1:arguments.length;for(let t=0;t<n;t++)e[t]=a[t](arguments[t]);return r&&(e[n]=arguments[n].map(a[n])),t.apply(this,e)}}let r=n;if(C(e)){const t=e.length-1;r=function(){return n.apply(this,J(arguments,0,t).concat([J(arguments,t)]))}}return r}function L(e){let t,n,r,a;const i=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(i.push(f(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=i[0],r=o[0],function(e){return t(e)?r(e):e};case 2:return t=i[0],n=i[1],r=o[0],a=o[1],function(e){return t(e)?r(e):n(e)?a(e):e};default:return function(e){for(let t=0;t<o.length;t++)if(i[t](e))return o[t](e);return e}}}function q(e){function t(e,n,r){if(n<e.length){const a=e[n];let i=[];if(a.restParam){const e=a.types.filter(O);e.length<a.types.length&&i.push({types:e,name:"..."+e.map(e=>e.name).join("|"),hasAny:e.some(e=>e.isAny),hasConversion:!1,restParam:!0}),i.push(a)}else i=a.types.map(function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}});return Q(i,function(a){return t(e,n+1,r.concat([a]))})}return[r]}return t(e,0,[])}function U(e,t){const n=Math.max(e.length,t.length);for(let s=0;s<n;s++){const n=j(e,s),r=j(t,s);let a,i=!1;for(a of r)if(n.has(a)){i=!0;break}if(!i)return!1}const r=e.length,a=t.length,i=C(e),o=C(t);return i?o?r===a:a>=r:o?r>=a:r===a}function $(e){return e.map(e=>ae(e)?ne(e.referToSelf.callback):re(e)?te(e.referTo.references,e.referTo.callback):e)}function W(e,t,n){const r=[];let a;for(a of e){let e=n[a];if("number"!==typeof e)throw new TypeError('No definition for referenced signature "'+a+'"');if(e=t[e],"function"!==typeof e)return!1;r.push(e)}return r}function H(e,t,n){const r=$(e),a=new Array(r.length).fill(!1);let i=!0;for(;i;){i=!1;let e=!0;for(let o=0;o<r.length;++o){if(a[o])continue;const s=r[o];if(ae(s))r[o]=s.referToSelf.callback(n),r[o].referToSelf=s.referToSelf,a[o]=!0,e=!1;else if(re(s)){const n=W(s.referTo.references,r,t);n?(r[o]=s.referTo.callback.apply(this,n),r[o].referTo=s.referTo,a[o]=!0,e=!1):i=!0}}if(e&&i)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function K(e){const t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach(n=>{const r=e[n];if(t.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function V(e,r){if(d.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");d.warnAgainstDeprecatedThis&&K(r);const a=[],i=[],o={},s=[];let l;for(l in r){if(!Object.prototype.hasOwnProperty.call(r,l))continue;const e=A(l);if(!e)continue;a.forEach(function(t){if(U(t,e))throw new TypeError('Conflicting signatures "'+w(t)+'" and "'+w(e)+'".')}),a.push(e);const t=i.length;i.push(r[l]);const n=e.map(N);let u;for(u of q(n)){const e=w(u);s.push({params:u,name:e,fn:t}),u.every(e=>!e.hasConversion)&&(o[e]=t)}}s.sort(B);const u=H(i,o,le);let c;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(o[c]=u[o[c]]);const f=[],p=new Map;for(c of s)p.has(c.name)||(c.fn=u[c.fn],f.push(c),p.set(c.name,c));const h=f[0]&&f[0].params.length<=2&&!C(f[0].params),m=f[1]&&f[1].params.length<=2&&!C(f[1].params),g=f[2]&&f[2].params.length<=2&&!C(f[2].params),y=f[3]&&f[3].params.length<=2&&!C(f[3].params),v=f[4]&&f[4].params.length<=2&&!C(f[4].params),b=f[5]&&f[5].params.length<=2&&!C(f[5].params),x=h&&m&&g&&y&&v&&b;for(let t=0;t<f.length;++t)f[t].test=_(f[t].params);const S=h?k(f[0].params[0]):t,E=m?k(f[1].params[0]):t,D=g?k(f[2].params[0]):t,j=y?k(f[3].params[0]):t,O=v?k(f[4].params[0]):t,M=b?k(f[5].params[0]):t,T=h?k(f[0].params[1]):t,P=m?k(f[1].params[1]):t,F=g?k(f[2].params[1]):t,I=y?k(f[3].params[1]):t,R=v?k(f[4].params[1]):t,L=b?k(f[5].params[1]):t;for(let t=0;t<f.length;++t)f[t].implementation=z(f[t].params,f[t].fn);const $=h?f[0].implementation:n,W=m?f[1].implementation:n,V=g?f[2].implementation:n,Y=y?f[3].implementation:n,G=v?f[4].implementation:n,X=b?f[5].implementation:n,J=h?f[0].params.length:-1,Z=m?f[1].params.length:-1,Q=g?f[2].params.length:-1,ee=y?f[3].params.length:-1,te=v?f[4].params.length:-1,ne=b?f[5].params.length:-1,re=x?6:0,ae=f.length,ie=f.map(e=>e.test),oe=f.map(e=>e.implementation),se=function(){for(let e=re;e<ae;e++)if(ie[e](arguments))return oe[e].apply(this,arguments);return d.onMismatch(e,arguments,f)};function le(e,t){return arguments.length===J&&S(e)&&T(t)?$.apply(this,arguments):arguments.length===Z&&E(e)&&P(t)?W.apply(this,arguments):arguments.length===Q&&D(e)&&F(t)?V.apply(this,arguments):arguments.length===ee&&j(e)&&I(t)?Y.apply(this,arguments):arguments.length===te&&O(e)&&R(t)?G.apply(this,arguments):arguments.length===ne&&M(e)&&L(t)?X.apply(this,arguments):se.apply(this,arguments)}try{Object.defineProperty(le,"name",{value:e})}catch(ue){}return le.signatures=o,le._typedFunctionData={signatures:f,signatureMap:p},le}function Y(e,t,n){throw T(e,t,n)}function G(e){return J(e,0,e.length-1)}function X(e){return e[e.length-1]}function J(e,t,n){return Array.prototype.slice.call(e,t,n)}function Z(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Q(e,t){return Array.prototype.concat.apply([],e.map(t))}function ee(){const e=G(arguments).map(e=>w(A(e))),t=X(arguments);if("function"!==typeof t)throw new TypeError("Callback function expected as last argument");return te(e,t)}function te(e,t){return{referTo:{references:e,callback:t}}}function ne(e){if("function"!==typeof e)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function re(e){return e&&"object"===typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"===typeof e.referTo.callback}function ae(e){return e&&"object"===typeof e.referToSelf&&"function"===typeof e.referToSelf.callback}function ie(e,t){if(!e)return t;if(t&&t!==e){const n=new Error("Function names do not match (expected: "+e+", actual: "+t+")");throw n.data={actual:t,expected:e},n}return e}function oe(e){let t;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(y(e[n])||"string"===typeof e[n].signature)&&(t=ie(t,e[n].name));return t}function se(e,t){let n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(n in e&&t[n]!==e[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:t[n],destFunction:e[n]},r}e[n]=t[n]}}h(),p(o);const le=d;function ue(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw new SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return d=function(e){const t="string"===typeof e;let n=t?e:"";const r={};for(let a=t?1:0;a<arguments.length;++a){const e=arguments[a];let o,s={};if("function"===typeof e?(o=e.name,"string"===typeof e.signature?s[e.signature]=e:y(e)&&(s=e.signatures)):i(e)&&(s=e,t||(o=oe(e))),0===Object.keys(s).length){const t=new TypeError("Argument to 'typed' at index "+a+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:a,argument:e},t}t||(n=ie(n,o)),se(r,s)}return V(n||"",r)},d.create=a,d.createCount=le.createCount,d.onMismatch=Y,d.throwMismatchError=Y,d.createError=T,d.clear=h,d.clearConversions=m,d.addTypes=p,d._findType=f,d.referTo=ee,d.referToSelf=ne,d.convert=x,d.findSignature=v,d.find=b,d.isTypedFunction=y,d.warnAgainstDeprecatedThis=!0,d.addType=function(e,t){let n="any";!1!==t&&l.has("Object")&&(n="Object"),d.addTypes([e],n)},d.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};ue(e);const n=f(e.to),r=n.conversionsTo.find(t=>t.from===e.from);if(r){if(!t||!t.override)throw new Error('There is already a conversion from "'+e.from+'" to "'+n.name+'"');d.removeConversion({from:r.from,to:e.to,convert:r.convert})}n.conversionsTo.push({from:e.from,convert:e.convert,index:c++})},d.addConversions=function(e,t){e.forEach(e=>d.addConversion(e,t))},d.removeConversion=function(e){ue(e);const t=f(e.to),n=Z(t.conversionsTo,t=>t.from===e.from);if(!n)throw new Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(n.convert!==e.convert)throw new Error("Conversion to remove does not match existing conversion");const r=t.conversionsTo.indexOf(n);t.conversionsTo.splice(r,1)},d.resolve=function(e,t){if(!y(e))throw new TypeError(r);const n=e._typedFunctionData.signatures;for(let r=0;r<n.length;++r)if(n[r].test(t))return n[r];return null},d}return a()}()},5428:(e,t,n)=>{var r=n(6913),a=n(6173),i=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),i=n(793),o=n(7760),s=n(3892),l=n(6788);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=l,e.exports=u},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),l=Array(s);++o<s;)l[o]=i[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=i[o];return u[t]=n(l),r(e,this,u)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),i=n(6350);e.exports=function(e,t){return i(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,o,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var f=u[d];if(!(l?f in t:a.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<c;){var y=e[f=u[d]],v=t[f];if(i)var b=l?i(v,y,f,t,e,s):i(y,v,f,e,t,s);if(!(void 0===b?y===v||o(y,v,n,i,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5775:()=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++a<s;){var u=r(i[a],o[a]);if(u)return a>=l?u:u*("desc"==n[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===n(i[l],l,i))break}return t}}},5939:e=>{e.exports=function e(t,n){"use strict";var r,a,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},d=c(t).replace(o,"")||"",f=c(n).replace(o,"")||"",p=d.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=f.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(d.match(l),16)||1!==p.length&&d.match(s)&&Date.parse(d),g=parseInt(f.match(l),16)||m&&f.match(s)&&Date.parse(f)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var y=0,v=Math.max(p.length,h.length);y<v;y++){if(r=!(p[y]||"").match(u)&&parseFloat(p[y])||p[y]||0,a=!(h[y]||"").match(u)&&parseFloat(h[y])||h[y]||0,isNaN(r)!==isNaN(a))return isNaN(r)?1:-1;if(typeof r!==typeof a&&(r+="",a+=""),r<a)return-1;if(r>a)return 1}return 0}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6043:()=>{!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6288:function(e,t,n){var r;!function(e,a){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),a=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case f:case p:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case h:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===i}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),i=n(9987),o=n(5752),s=n(6924),l=n(4052),u=n(4543),c=n(1268),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?f:s(e),w=b?f:s(t),S=(x=x==d?p:x)==p,N=(w=w==d?p:w)==p,E=x==w;if(E&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(E&&!S)return y||(y=new r),v||c(e)?a(e,t,n,m,g,y):i(e,t,x,n,m,g,y);if(!(1&n)){var A=S&&h.call(e,"__wrapped__"),C=N&&h.call(t,"__wrapped__");if(A||C){var k=A?e.value():e,_=C?t.value():t;return y||(y=new r),g(k,_,n,m,y)}}return!!E&&(y||(y=new r),o(e,t,n,m,g,y))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,i){var o=n.length,s=o,l=!i;if(null==e)return!s;for(e=Object(e);o--;){var u=n[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=n[o])[0],d=e[c],f=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var p=new r;if(i)var h=i(d,f,c,e,t,p);if(!(void 0===h?a(f,d,3,i,p):h))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),i=16-(a-r);if(r=a,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(2222);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e===e,o=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||a&&s&&u||!n&&u||!i)return 1;if(!a&&!o&&!c&&e<t||c&&n&&i&&!a&&!o||l&&n&&i||!s&&i||!u)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),i=n(3279);e.exports=function(e){return e&&e.length?r(e,i,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),i=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),i=n(7768),o=n(2070),s=n(6600),l=n(6913),u=n(6996),c="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(r),g=u(a),y=u(i),v=u(o),b=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=h||a&&x(new a)!=c||i&&x(i.resolve())!=d||o&&x(new o)!=f||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return h;case g:return c;case y:return d;case v:return f;case b:return p}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),a=n(7857),i=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?f:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,i,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),i=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},7066:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),i=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),i=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<a&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,T(S);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(C),C=-1),h=!0;var i=p;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!D());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&a(u),x(n)}else a(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&P(w,d.startTime-n),l=!1}return l}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,E=!1,A=null,C=-1,k=5,_=-1;function D(){return!(t.unstable_now()-_<k)}function j(){if(null!==A){var e=t.unstable_now();_=e;var n=!0;try{n=A(!0,e)}finally{n?N():(E=!1,A=null)}}else E=!1}if("function"===typeof b)N=function(){b(j)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=j,N=function(){M.postMessage(null)}}else N=function(){y(j,0)};function T(e){A=e,E||(E=!0,N())}function P(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,T(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,P(w,i-o))):(e.sortIndex=s,n(u,e),m||h||(m=!0,T(S))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,a),!0;case 5:return c.fn.call(c.context,t,r,a,i),!0;case 6:return c.fn.call(c.context,t,r,a,i,o),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[i]=1===u.length?u[0]:u:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7359:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},7424:(e,t,n)=>{var r=n(755),a=n(2536),i=n(5647),o=n(929),s=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7646:()=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},7676:(e,t,n)=>{var r=n(8189),a=n(6311),i=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=a(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7768:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},7819:()=>{Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7932:()=>{!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7956:()=>{Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},8114:e=>{e.exports=function(e,t){return e.has(t)}},8136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var a,i,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(a=t?r:n){if(a.has(e))return a.get(e);a.set(e,o)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((i=(a=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(i.get||i.set)?a(o,n,i):o[n]=e[n]);return o}(e,t)}(n(5043)),a=f(n(5173)),i=f(n(7950)),o=n(2949),s=n(1212),l=n(1777),u=n(2447),c=f(n(935)),d=f(n(5387));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(null,arguments)}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:r}=t;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),h(this,"onDragStart",(e,t)=>{(0,d.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),h(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=r;r.x+=this.state.slackX,r.y+=this.state.slackY;const[a,i]=(0,l.getBoundPosition)(this,r.x,r.y);r.x=a,r.y=i,r.slackX=this.state.slackX+(e-r.x),r.slackY=this.state.slackY+(t-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-this.state.x,n.deltaY=r.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(r)}),h(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??i.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:a,defaultClassName:i,defaultClassNameDragging:u,defaultClassNameDragged:d,position:f,positionOffset:h,scale:m,...g}=this.props;let y={},v=null;const b=!Boolean(f)||this.state.dragging,x=f||a,w={x:(0,l.canDragX)(this)&&b?this.state.x:x.x,y:(0,l.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(w,h):y=(0,s.createCSSTransform)(w,h);const S=(0,o.clsx)(n.props.className||"",i,{[u]:this.state.dragging,[d]:this.state.dragged});return r.createElement(c.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:S,style:{...n.props.style,...y},transform:v}))}}t.default=m,h(m,"displayName","Draggable"),h(m,"propTypes",{...c.default.propTypes,axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),h(m,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},8182:(e,t,n)=>{var r=n(2070),a=n(5713),i=n(2074),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",u=l+"Invalid argument: ",c=l+"Exponent out of range: ",d=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,i,o,l,u,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?_(t,f):t;if(u=e.d,c=t.d,o=e.e,a=t.e,u=u.slice(),i=o-a){for(i<0?(r=u,i=-i,l=c.length):(r=c,a=o,l=u.length),i>(l=(o=Math.ceil(f/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=u.length)-(i=c.length)<0&&(i=l,r=c,c=u,u=r),n=0;i;)n=(u[--i]=u[i]+c[i]+n)/h|0,u[i]%=h;for(n&&(u.unshift(n),++a),l=u.length;0==u[--l];)u.pop();return t.d=u,t.e=a,s?_(t,f):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(u+e)}function x(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=A(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=A(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return _(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(C(n,o),C(e,o),o),s=!0,_(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):_(new r(n),a)},y.naturalExponential=y.exp=function(){return S(this)},y.naturalLogarithm=y.ln=function(){return C(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):D(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(l+"NaN")}for(e=N(u),s=!1,0==(a=Math.sqrt(+u))||a==1/0?(((t=x(u.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new c(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(a.toString()),a=o=(n=c.precision)+3;;)if(r=(i=r).plus(w(u,i,o+2)).times(.5),x(i.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(_(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,_(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,o,l,u,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,(u=p.length)<(c=m.length)&&(i=p,p=m,m=i,o=u,u=c,c=o),i=[],r=o=u+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=u+r;a>r;)l=i[a]+m[r]*p[a-r-1]+t,i[a--]=l%h|0,t=l/h|0;i[a]=(i[a]+t)%h|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?_(e,f.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),_(n,e+N(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=j(r,!0):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=j(r=_(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?j(a):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=j((r=_(new o(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return _(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,u,c=this,f=c.constructor,p=+(e=new f(e));if(!e.s)return new f(a);if(!(c=new f(c)).s){if(e.s<1)throw Error(l+"Infinity");return c}if(c.eq(a))return c;if(r=f.precision,e.eq(a))return _(c,r);if(u=(t=e.e)>=(n=e.d.length-1),o=c.s,u){if((n=p<0?-p:p)<=m){for(i=new f(a),t=Math.ceil(r/7+4),s=!1;n%2&&O((i=i.times(c)).d,t),0!==(n=d(n/2));)O((c=c.times(c)).d,t);return s=!0,e.s<0?new f(a).div(i):_(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,s=!1,i=e.times(C(c,r+12)),s=!0,(i=S(i)).s=o,i},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=j(a,(n=N(a))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,i),void 0===t?t=o.rounding:b(t,0,8),r=j(a=_(new o(a),e,t),e<=(n=N(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),_(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),n=e.constructor;return j(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,u,c,d,f,p,m,g,y,v,b,x,w,S,E,A,C,k,D=r.constructor,j=r.s==a.s?1:-1,O=r.d,M=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(l+"Division by zero");for(u=r.e-a.e,C=M.length,E=O.length,g=(m=new D(j)).d=[],c=0;M[c]==(O[c]||0);)++c;if(M[c]>(O[c]||0)&&--u,(x=null==i?i=D.precision:o?i+(N(r)-N(a))+1:i)<0)return new D(0);if(x=x/7+2|0,c=0,1==C)for(d=0,M=M[0],x++;(c<E||d)&&x--;c++)w=d*h+(O[c]||0),g[c]=w/M|0,d=w%M|0;else{for((d=h/(M[0]+1)|0)>1&&(M=e(M,d),O=e(O,d),C=M.length,E=O.length),S=C,v=(y=O.slice(0,C)).length;v<C;)y[v++]=0;(k=M.slice()).unshift(0),A=M[0],M[1]>=h/2&&++A;do{d=0,(s=t(M,y,C,v))<0?(b=y[0],C!=v&&(b=b*h+(y[1]||0)),(d=b/A|0)>1?(d>=h&&(d=h-1),1==(s=t(f=e(M,d),y,p=f.length,v=y.length))&&(d--,n(f,C<p?k:M,p))):(0==d&&(s=d=1),f=M.slice()),(p=f.length)<v&&f.unshift(0),n(y,f,v),-1==s&&(s=t(M,y,C,v=y.length))<1&&(d++,n(y,C<v?k:M,v)),v=y.length):0===s&&(d++,y=[0]),g[c++]=d,s&&y[0]?y[v++]=O[S]||0:(y=[O[S]],v=1)}while((S++<E||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=u,_(m,o?i+N(m)+1:i)}}();function S(e,t){var n,r,i,o,l,u=0,d=0,p=e.constructor,h=p.precision;if(N(e)>16)throw Error(c+N(e));if(!e.s)return new p(a);for(null==t?(s=!1,l=h):l=t,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(f(2,d))/Math.LN10*2+5|0,n=r=i=new p(a),p.precision=l;;){if(r=_(r.times(e),l),n=n.times(++u),x((o=i.plus(w(r,n,l))).d).slice(0,l)===x(i.d).slice(0,l)){for(;d--;)i=_(i.times(i),l);return p.precision=h,null==t?(s=!0,_(i,h)):i}i=o}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return _(new e(e.LN10),t)}function A(e){for(var t="";e--;)t+="0";return t}function C(e,t){var n,r,i,o,u,c,d,f,p,h=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,f=v):f=t,m.eq(10))return null==t&&(s=!0),E(y,f);if(f+=10,y.precision=f,r=(n=x(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=E(y,f+2,v).times(o+""),m=C(new y(r+"."+n.slice(1)),f-10).plus(d),y.precision=v,null==t?(s=!0,_(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),h++;for(o=N(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),c=u=m=w(m.minus(a),m.plus(a),f),p=_(m.times(m),f),i=3;;){if(u=_(u.times(p),f),x((d=c.plus(w(u,new y(i),f))).d).slice(0,f)===x(c.d).slice(0,f))return c=c.times(2),0!==o&&(c=c.plus(E(y,f+2,v).times(o+""))),c=w(c,new y(h),f),y.precision=v,null==t?(s=!0,_(c,v)):c;c=d,i+=2}}function k(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(c+n)}else e.s=0,e.e=0,e.d=[0];return e}function _(e,t,n){var r,a,i,o,l,u,p,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,p=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(p=i=y[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=p/(i=f(10,o-a-1))%10|0,u=t<0||void 0!==y[m+1]||p%i,u=n<4?(l||u)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||u||6==n&&(r>0?a>0?p/f(10,o-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return u?(i=N(e),y.length=1,t=t-i-1,y[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=f(10,7-r),y[m]=a>0?(p/f(10,o-a)%f(10,a)|0)*i:0),u)for(;;){if(0==m){(y[0]+=i)==h&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=h)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(c+N(e));return e}function D(e,t){var n,r,a,i,o,l,u,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?_(t,m):t;if(u=e.d,f=t.d,r=t.e,c=e.e,u=u.slice(),o=c-r){for((d=o<0)?(n=u,o=-o,l=f.length):(n=f,r=c,l=u.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=u.length)<(l=f.length))&&(l=a),a=0;a<l;a++)if(u[a]!=f[a]){d=u[a]<f[a];break}o=0}for(d&&(n=u,u=f,f=n,t.s=-t.s),l=u.length,a=f.length-l;a>0;--a)u[l++]=0;for(a=f.length;a>o;){if(u[--a]<f[a]){for(i=a;i&&0===u[--i];)u[i]=h-1;--u[i],u[a]+=h}u[a]-=f[a]}for(;0===u[--l];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,s?_(t,m):t):new p(0)}function j(e,t,n){var r,a=N(e),i=x(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+A(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+A(-a-1)+i,n&&(r=n-o)>0&&(i+=A(r))):a>=o?(i+=A(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+A(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=A(r))),e.s<0?"-"+i:i}function O(e,t){if(e.length>t)return e.length=t,!0}function M(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):k(t,e.toString())}if("string"!==typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(u+e);k(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=M,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),i=n(3279),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},8466:()=>{!function(e){var t=e.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};t.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:t},boolean:t.boolean,variable:t.variable}}(Prism)},8468:(e,t,n)=>{var r=n(5816),a=n(644),i=n(4020);e.exports=function(e,t,n){return t===t?i(e,t,n):r(e,a,n)}},8486:()=>{!function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,a=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+a+i+"(?:"+a+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+a+i+")(?:"+a+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+a+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+a+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(t){["url","bold","italic","strike","code-snippet"].forEach(function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])})}),e.hooks.add("after-tokenize",function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!==typeof t)for(var n=0,r=t.length;n<r;n++){var a=t[n];if("code"===a.type){var i=a.content[1],o=a.content[3];if(i&&o&&"code-language"===i.type&&"code-block"===o.type&&"string"===typeof i.content){var s=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());o.alias?"string"===typeof o.alias?o.alias=[o.alias,l]:o.alias.push(l):o.alias=[l]}}else e(a.content)}}(e.tokens)}),e.hooks.add("wrap",function(t){if("code-block"===t.type){for(var n="",r=0,a=t.classes.length;r<a;r++){var i=t.classes[r],u=/language-(.+)/.exec(i);if(u){n=u[1];break}}var c=e.languages[n];if(c)t.content=e.highlight(function(e){var t=e.replace(o,"");return t=t.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(e,t){var n;if("#"===(t=t.toLowerCase())[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),l(n);var r=s[t];return r||e})}(t.content),c,n);else if(n&&"none"!==n&&e.plugins.autoloader){var d="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=d,e.plugins.autoloader.loadLanguages(n,function(){var t=document.getElementById(d);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))})}}});var o=RegExp(e.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism)},8541:(e,t,n)=>{var r=n(9812),a=n(149),i=n(4052),o=n(2222),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),i=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=i,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,function(e,r,a){i[++n]=t(e,r,a)}),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),i=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9016:function(e,t,n){var r;!function(e,a){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},9057:(e,t,n)=>{var r=n(5324),a=n(2777),i=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var f=l(t[u]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&o(f,c)&&(i(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),i=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),i=n(715);e.exports=function(e){return a(e)?i(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),i=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),a=n(9096),i=n(61);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),i=n(8673);e.exports=function(e){return r(e,i,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9538:function(e,t,n){var r;!function(e,a){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&o(r,n),a.state=function(){return o(n,{})}),a}a&&a.exports?a.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,a))||(a.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},9621:(e,t,n)=>{var r=n(7529),a=n(7828),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return i.call(e,t)}))}:a;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,i){for(var o=-1,s=n(t((r-e)/(a||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(2222);e.exports=function(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=o}return u}},9765:()=>{!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:e=>{function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function a(){r.off(e,a),t.apply(n,arguments)}return a._=t,this.on(e,a,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=n.length;r<a;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],a=[];if(r&&t)for(var i=0,o=r.length;i<o;i++)r[i].fn!==t&&r[i].fn._!==t&&a.push(r[i]);return a.length?n[e]=a:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:i,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),i=n(3211),o=n(3668),s=n(4160),l=n(2074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var g=o(p(e),p(t),r,u,d,f);return f.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),i=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!a(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,o);return u>-1?s[l?t[u]:u]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".38c8711d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="family-budget-react:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,o=r[0],s=r[1],l=r[2],u=0;if(o.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkfamily_budget_react=self.webpackChunkfamily_budget_react||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{createAbs:()=>ao,createAccessorNode:()=>cp,createAcos:()=>Ad,createAcosh:()=>Wd,createAcot:()=>Kd,createAcoth:()=>Yd,createAcsc:()=>Xd,createAcsch:()=>Zd,createAdd:()=>Xf,createAddScalar:()=>uo,createAnd:()=>wc,createApply:()=>oo,createApplyTransform:()=>av,createArg:()=>Ks,createArrayNode:()=>fp,createAsec:()=>ef,createAsech:()=>nf,createAsin:()=>af,createAsinh:()=>of,createAssignmentNode:()=>bp,createAtan:()=>sf,createAtan2:()=>uf,createAtanh:()=>df,createAtomicMass:()=>Fy,createAvogadro:()=>Iy,createBellNumbers:()=>lg,createBigNumberClass:()=>ga,createBignumber:()=>xi,createBin:()=>Mu,createBitAnd:()=>Rs,createBitNot:()=>Ls,createBitOr:()=>Us,createBitXor:()=>Hs,createBlockNode:()=>wp,createBohrMagneton:()=>my,createBohrRadius:()=>wy,createBoltzmann:()=>By,createBoolean:()=>bi,createCatalan:()=>cg,createCbrt:()=>ho,createCeil:()=>wo,createChain:()=>Rh,createChainClass:()=>Oh,createClassicalElectronRadius:()=>Sy,createClone:()=>Fa,createColumn:()=>ll,createColumnTransform:()=>iv,createCombinations:()=>Am,createCombinationsWithRep:()=>_m,createCompare:()=>Nc,createCompareNatural:()=>kc,createCompareText:()=>jc,createCompile:()=>eh,createComplex:()=>wi,createComplexClass:()=>Aa,createComposition:()=>fg,createConcat:()=>ol,createConcatTransform:()=>xv,createConditionalNode:()=>Np,createConductanceQuantum:()=>gy,createConj:()=>Ys,createConstantNode:()=>Mp,createCorr:()=>wm,createCos:()=>pf,createCosh:()=>mf,createCot:()=>gf,createCoth:()=>vf,createCoulomb:()=>py,createCount:()=>cl,createCreateUnit:()=>Nd,createCross:()=>fl,createCsc:()=>bf,createCsch:()=>wf,createCtranspose:()=>ou,createCube:()=>No,createCumSum:()=>lm,createCumSumTransform:()=>kv,createDeepEqual:()=>Gc,createDenseMatrixClass:()=>Ta,createDerivative:()=>_g,createDet:()=>zh,createDeuteronMass:()=>_y,createDiag:()=>hl,createDiff:()=>Ml,createDiffTransform:()=>Sv,createDistance:()=>am,createDivide:()=>nm,createDivideScalar:()=>Wu,createDot:()=>tp,createDotDivide:()=>rc,createDotMultiply:()=>xs,createDotPow:()=>tc,createE:()=>Vg,createEfimovFactor:()=>Py,createEigs:()=>Hh,createElectricConstant:()=>dy,createElectronMass:()=>Ny,createElementaryCharge:()=>hy,createEqual:()=>Mc,createEqualScalar:()=>pi,createEqualText:()=>Fc,createErf:()=>yu,createEvaluate:()=>nh,createExp:()=>Eo,createExpm:()=>Vh,createExpm1:()=>Co,createFactorial:()=>qm,createFalse:()=>qg,createFaraday:()=>Ry,createFermiCoupling:()=>Ey,createFft:()=>uu,createFibonacciHeapClass:()=>ld,createFilter:()=>gl,createFilterTransform:()=>sv,createFineStructure:()=>Ay,createFirstRadiation:()=>zy,createFix:()=>jo,createFlatten:()=>bl,createFloor:()=>Po,createForEach:()=>wl,createForEachTransform:()=>uv,createFormat:()=>Ou,createFraction:()=>Si,createFractionClass:()=>ka,createFreqz:()=>Pg,createFunctionAssignmentNode:()=>Pp,createFunctionNode:()=>Xp,createGamma:()=>Bm,createGasConstant:()=>qy,createGcd:()=>Go,createGetMatrixDataType:()=>El,createGravitationConstant:()=>sy,createGravity:()=>Xy,createHartreeEnergy:()=>Cy,createHasNumericValue:()=>ti,createHelp:()=>Ih,createHelpClass:()=>Dh,createHex:()=>Pu,createHypot:()=>Zf,createI:()=>ty,createIdentity:()=>Cl,createIfft:()=>du,createIm:()=>Gs,createImmutableDenseMatrixClass:()=>id,createIndex:()=>ap,createIndexClass:()=>od,createIndexNode:()=>Ip,createIndexTransform:()=>cv,createInfinity:()=>$g,createIntersect:()=>im,createInv:()=>Lh,createInverseConductanceQuantum:()=>yy,createInvmod:()=>ys,createIsInteger:()=>Wa,createIsNaN:()=>si,createIsNegative:()=>Ja,createIsNumeric:()=>Qa,createIsPositive:()=>ri,createIsPrime:()=>qu,createIsZero:()=>ii,createKldivergence:()=>$m,createKlitzing:()=>xy,createKron:()=>_l,createLN10:()=>Xg,createLN2:()=>Gg,createLOG10E:()=>Zg,createLOG2E:()=>Jg,createLarger:()=>$c,createLargerEq:()=>Kc,createLcm:()=>Jo,createLeafCount:()=>hg,createLeftShift:()=>gc,createLgamma:()=>zm,createLog:()=>Gu,createLog10:()=>Qo,createLog1p:()=>Ju,createLog2:()=>ts,createLoschmidt:()=>Ly,createLsolve:()=>oc,createLsolveAll:()=>cc,createLup:()=>oh,createLusolve:()=>Eh,createLyap:()=>tm,createMad:()=>pm,createMagneticConstant:()=>cy,createMagneticFluxQuantum:()=>vy,createMap:()=>Dl,createMapTransform:()=>dv,createMatrix:()=>Ei,createMatrixClass:()=>Da,createMatrixFromColumns:()=>ji,createMatrixFromFunction:()=>Ci,createMatrixFromRows:()=>_i,createMax:()=>rd,createMaxTransform:()=>hv,createMean:()=>cm,createMeanTransform:()=>mv,createMedian:()=>fm,createMin:()=>ad,createMinTransform:()=>gv,createMod:()=>qo,createMode:()=>Cu,createMolarMass:()=>Yy,createMolarMassC12:()=>Gy,createMolarPlanckConstant:()=>Uy,createMolarVolume:()=>$y,createMultinomial:()=>Hm,createMultiply:()=>as,createMultiplyScalar:()=>ns,createNaN:()=>Wg,createNeutronMass:()=>Dy,createNode:()=>op,createNorm:()=>ep,createNot:()=>nl,createNthRoot:()=>os,createNthRoots:()=>Qu,createNuclearMagneton:()=>by,createNull:()=>Ug,createNumber:()=>mi,createNumeric:()=>Uu,createObjectNode:()=>Rp,createOct:()=>Tu,createOnes:()=>Tl,createOperatorNode:()=>Lp,createOr:()=>rl,createParenthesisNode:()=>Up,createParse:()=>Zp,createParser:()=>ih,createParserClass:()=>rh,createPartitionSelect:()=>ed,createPermutations:()=>Vm,createPhi:()=>Yg,createPi:()=>Hg,createPickRandom:()=>Qm,createPinv:()=>Uh,createPlanckCharge:()=>ev,createPlanckConstant:()=>ly,createPlanckLength:()=>Jy,createPlanckMass:()=>Zy,createPlanckTemperature:()=>tv,createPlanckTime:()=>Qy,createPolynomialRoot:()=>kh,createPow:()=>Hu,createPrint:()=>Bu,createPrintTransform:()=>Ov,createProd:()=>Du,createProtonMass:()=>ky,createQr:()=>sh,createQuantileSeq:()=>vm,createQuantileSeqTransform:()=>Av,createQuantumOfCirculation:()=>jy,createRandom:()=>ng,createRandomInt:()=>ag,createRange:()=>Rl,createRangeClass:()=>_a,createRangeNode:()=>Wp,createRangeTransform:()=>yv,createRationalize:()=>jg,createRe:()=>Xs,createReducedPlanckConstant:()=>uy,createRelationalNode:()=>Kp,createReplacer:()=>Ig,createReshape:()=>Ll,createResize:()=>ql,createResolve:()=>Eg,createResultSet:()=>Pn,createReviver:()=>Fg,createRightArithShift:()=>vc,createRightLogShift:()=>xc,createRotate:()=>$l,createRotationMatrix:()=>Hl,createRound:()=>Yu,createRow:()=>Kl,createRowTransform:()=>vv,createRydberg:()=>Oy,createSQRT1_2:()=>Qg,createSQRT2:()=>ey,createSackurTetrode:()=>Wy,createSchur:()=>Qh,createSec:()=>Sf,createSech:()=>Ef,createSecondRadiation:()=>Hy,createSetCartesian:()=>Of,createSetDifference:()=>Tf,createSetDistinct:()=>Ff,createSetIntersect:()=>Bf,createSetIsSubset:()=>zf,createSetMultiplicity:()=>qf,createSetPowerset:()=>$f,createSetSize:()=>Hf,createSetSymDifference:()=>Vf,createSetUnion:()=>Gf,createSign:()=>ls,createSimplify:()=>xg,createSimplifyConstant:()=>wg,createSimplifyCore:()=>Ng,createSin:()=>Af,createSinh:()=>kf,createSize:()=>Yl,createSlu:()=>xh,createSmaller:()=>Bc,createSmallerEq:()=>Lc,createSolveODE:()=>gu,createSort:()=>nd,createSpaClass:()=>ud,createSparse:()=>wd,createSparseMatrixClass:()=>hi,createSpeedOfLight:()=>oy,createSplitUnit:()=>Mi,createSqrt:()=>us,createSqrtm:()=>Gh,createSquare:()=>ds,createSqueeze:()=>Xl,createStd:()=>bm,createStdTransform:()=>Nv,createStefanBoltzmann:()=>Ky,createStirlingS2:()=>og,createString:()=>yi,createSubset:()=>Zl,createSubsetTransform:()=>bv,createSubtract:()=>ps,createSubtractScalar:()=>fo,createSum:()=>om,createSumTransform:()=>Ev,createSylvester:()=>Jh,createSymbolNode:()=>Vp,createSymbolicEqual:()=>Cg,createTan:()=>_f,createTanh:()=>Df,createTau:()=>Kg,createThomsonCrossSection:()=>My,createTo:()=>zu,createTrace:()=>np,createTranspose:()=>au,createTrue:()=>Lg,createTypeOf:()=>ui,createTyped:()=>_n,createUnaryMinus:()=>to,createUnaryPlus:()=>ro,createUnequal:()=>Jc,createUnitClass:()=>yd,createUnitFunction:()=>bd,createUppercaseE:()=>ry,createUppercasePi:()=>ny,createUsolve:()=>lc,createUsolveAll:()=>fc,createVacuumImpedance:()=>fy,createVariance:()=>gm,createVarianceTransform:()=>Dv,createVersion:()=>ay,createWeakMixingAngle:()=>Ty,createWienDisplacement:()=>Vy,createXgcd:()=>ms,createXor:()=>al,createZeros:()=>lu,createZeta:()=>Eu,createZpk2tf:()=>Mg});var t={};n.r(t),n.d(t,{scaleBand:()=>$E,scaleDiverging:()=>xj,scaleDivergingLog:()=>wj,scaleDivergingPow:()=>Nj,scaleDivergingSqrt:()=>Ej,scaleDivergingSymlog:()=>Sj,scaleIdentity:()=>hk,scaleImplicit:()=>qE,scaleLinear:()=>pk,scaleLog:()=>Nk,scaleOrdinal:()=>UE,scalePoint:()=>HE,scalePow:()=>Mk,scaleQuantile:()=>Wk,scaleQuantize:()=>Hk,scaleRadial:()=>Fk,scaleSequential:()=>pj,scaleSequentialLog:()=>hj,scaleSequentialPow:()=>gj,scaleSequentialQuantile:()=>vj,scaleSequentialSqrt:()=>yj,scaleSequentialSymlog:()=>mj,scaleSqrt:()=>Tk,scaleSymlog:()=>kk,scaleThreshold:()=>Kk,scaleTime:()=>uj,scaleUtc:()=>cj,tickFormat:()=>dk});var r=n(5043),a=n(4391),i=n(7950),o=n(579);const s=(0,r.createContext)();function l(){const e=(0,r.useContext)(s);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const u=e=>{let{children:t}=e;const[n,a]=(0,r.useState)("light");(0,r.useEffect)(()=>{const e=localStorage.getItem("family-budget-theme");if(e)a(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;a(e?"dark":"light")}},[]),(0,r.useEffect)(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("family-budget-theme",n)},[n]),(0,r.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{localStorage.getItem("family-budget-theme")||a(e.matches?"dark":"light")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]);const i={theme:n,toggleTheme:()=>{a(e=>"light"===e?"dark":"light")},setTheme:e=>{a(e)},isDark:"dark"===n};return(0,o.jsx)(s.Provider,{value:i,children:t})},c="3.0.0",d={MONTHLY:[{key:"housing",name:"\ud83c\udfe0 Housing",icon:"\ud83c\udfe0"},{key:"taxes",name:"\ud83d\udcb8 Taxes",icon:"\ud83d\udcb8"},{key:"utilities",name:"\u26a1 Utilities",icon:"\u26a1"},{key:"insurance",name:"\ud83d\udee1\ufe0f Insurance",icon:"\ud83d\udee1\ufe0f"},{key:"banking",name:"\ud83c\udfe6 Banking",icon:"\ud83c\udfe6"},{key:"loans",name:"\ud83d\udcb3 Loans",icon:"\ud83d\udcb3"},{key:"credit",name:"\ud83d\udcb0 Credit",icon:"\ud83d\udcb0"},{key:"subscriptions",name:"\ud83d\udcf1 Subscriptions",icon:"\ud83d\udcf1"},{key:"food",name:"\ud83c\udf54 Food",icon:"\ud83c\udf54"},{key:"transportation",name:"\ud83d\ude97 Transportation",icon:"\ud83d\ude97"},{key:"medical",name:"\u2695\ufe0f Medical",icon:"\u2695\ufe0f"},{key:"personal",name:"\ud83d\udc64 Personal",icon:"\ud83d\udc64"},{key:"shopping",name:"\ud83d\uded2 Shopping",icon:"\ud83d\uded2"},{key:"dog",name:"\ud83d\udc15 Pet Care",icon:"\ud83d\udc15"},{key:"maintenance",name:"\ud83d\udd27 Maintenance",icon:"\ud83d\udd27"},{key:"gifts",name:"\ud83c\udf81 Gifts",icon:"\ud83c\udf81"}],ANNUAL:[{key:"yearly-subs",name:"\ud83d\udcc5 Annual Subscriptions",icon:"\ud83d\udcc5"},{key:"yearly-car",name:"\ud83d\ude99 Annual Car Expenses",icon:"\ud83d\ude99"},{key:"yearly-bank",name:"\ud83c\udfdb\ufe0f Annual Banking",icon:"\ud83c\udfdb\ufe0f"},{key:"yearly-insurance",name:"\ud83d\udee1\ufe0f Annual Insurance",icon:"\ud83d\udee1\ufe0f"},{key:"yearly-taxes",name:"\ud83d\udcca Annual Taxes",icon:"\ud83d\udcca"},{key:"yearly-travel",name:"\u2708\ufe0f Travel & Vacation",icon:"\u2708\ufe0f"},{key:"yearly-education",name:"\ud83c\udf93 Education",icon:"\ud83c\udf93"},{key:"yearly-professional",name:"\ud83d\udcbc Professional Development",icon:"\ud83d\udcbc"}]},f=30,p={PRIMARY:["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#e67e22","#95a5a6","#f1c40f"],EXPENSES:["#e74c3c","#c0392b","#a93226","#922b21","#7b241c","#641e16","#58181a","#4a1c1d","#3b1f20","#2d2223"],INCOME:["#2ecc71","#27ae60","#229954","#1e8449","#196f3d","#145a32","#0f4c26","#0a3d1b","#052e0f","#001f04"]};function h(){const e={},t={};return d.MONTHLY.forEach(t=>{e[t.key]=[]}),d.ANNUAL.forEach(e=>{t[e.key]=[]}),{income:[],monthly:e,annual:t,accounts:[],plannerState:{weeklyIncome:[0,0,0,0],weeklyExpenses:[0,0,0,0],monthlyTargets:{}},links:{},exportVersion:1,preferences:{currency:"USD",dateFormat:"MM/DD/YYYY",theme:"light",notifications:!0}}}function m(e){return"string"!==typeof e?e:e.trim().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"")}function g(e){try{if("object"!==typeof e||null===e)return{valid:!1,error:"Invalid data format"};const t=e.data||e;if(!function(e){if(!e||"object"!==typeof e)return!1;const t=["income","monthly","annual","accounts"];for(const n of t)if(!e.hasOwnProperty(n))return console.warn(`Missing required property: ${n}`),!1;return Array.isArray(e.income)?"object"!==typeof e.monthly||"object"!==typeof e.annual?(console.warn("Monthly and annual expenses must be objects"),!1):!!Array.isArray(e.accounts)||(console.warn("Accounts must be an array"),!1):(console.warn("Income must be an array"),!1)}(t))return{valid:!1,error:"Invalid budget data structure"};let n=0;return t.monthly&&Object.values(t.monthly).forEach(e=>{Array.isArray(e)&&(n+=e.length)}),t.annual&&Object.values(t.annual).forEach(e=>{Array.isArray(e)&&(n+=e.length)}),{valid:!0,data:t,stats:{totalExpenses:n,hasIncome:Array.isArray(t.income)&&t.income.length>0,hasAccounts:Array.isArray(t.accounts)&&t.accounts.length>0}}}catch(t){return{valid:!1,error:t.message}}}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";const r=parseFloat(e)||0;try{return new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}catch(a){return`$${r.toFixed(2)}`}}function v(e){if(null===e||void 0===e||""===e)return 0;if("string"===typeof e){const t=e.replace(/[$,\s]/g,""),n=parseFloat(t);return isNaN(n)?0:n}const t=parseFloat(e);return isNaN(t)?0:t}function b(e){if(!e)return"";const t=new Date(e),n=new Date,r=t.getTime()-n.getTime(),a=Math.ceil(r/864e5);return 0===a?"Today":1===a?"Tomorrow":-1===a?"Yesterday":a>0?`In ${a} days`:a<0?`${Math.abs(a)} days ago`:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";if(!e)return"";const n=new Date(e);if(isNaN(n.getTime()))return"";const r={"MM/DD/YYYY":{month:"2-digit",day:"2-digit",year:"numeric"},"DD/MM/YYYY":{day:"2-digit",month:"2-digit",year:"numeric"},"YYYY-MM-DD":{year:"numeric",month:"2-digit",day:"2-digit"},"MMM DD, YYYY":{month:"short",day:"numeric",year:"numeric"},"MMMM DD, YYYY":{month:"long",day:"numeric",year:"numeric"}};try{return"YYYY-MM-DD"===t?n.toISOString().split("T")[0]:new Intl.DateTimeFormat("en-US",r[t]||r["MM/DD/YYYY"]).format(n)}catch(a){return n.toLocaleDateString()}}(e)}function x(e){return e?e.replace(/-/g," ").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return`${e}_${(new Date).toISOString().slice(0,19).replace(/[T:]/g,"-")}.${t}`}const S=(0,r.createContext)(),N="LOAD_DATA",E="UPDATE_DATA",A="UPDATE_INCOME",C="UPDATE_MONTHLY_EXPENSE",k="REMOVE_MONTHLY_EXPENSE",_="UPDATE_ANNUAL_EXPENSE",D="REMOVE_ANNUAL_EXPENSE",j="ADD_ACCOUNT",O="UPDATE_ACCOUNT",M="REMOVE_ACCOUNT",T="UPDATE_PLANNER",P="SET_CURRENT_PAGE",F="RESET_DATA",I="TOGGLE_THEME",B="TOGGLE_CALCULATOR",R="UPDATE_LINKS",z="UPDATE_LINK_CATEGORIES",L="ADD_LINK_CATEGORY",q="REMOVE_LINK_CATEGORY",U={data:{...h(),links:{},linkCategories:{banking:{name:"Banking & Finance",icon:"\ud83c\udfe6",color:"#27ae60",createdDate:(new Date).toISOString()},utilities:{name:"Utilities",icon:"\u26a1",color:"#f39c12",createdDate:(new Date).toISOString()},government:{name:"Government",icon:"\ud83c\udfdb\ufe0f",color:"#9b59b6",createdDate:(new Date).toISOString()}}},currentPage:"home",theme:"light",isLoading:!1,lastUpdated:(new Date).toISOString(),plannerState:{},currentWeek:1,isCalculatorOpen:!1};function $(e,t){switch(t.type){case N:return{...e,data:{...e.data,...t.payload,linkCategories:t.payload.linkCategories||e.data.linkCategories,links:t.payload.links||{}},lastUpdated:(new Date).toISOString()};case E:return{...e,data:{...e.data,...t.payload},lastUpdated:(new Date).toISOString()};case R:return{...e,data:{...e.data,links:t.payload},lastUpdated:(new Date).toISOString()};case z:return{...e,data:{...e.data,linkCategories:t.payload},lastUpdated:(new Date).toISOString()};case L:return{...e,data:{...e.data,linkCategories:{...e.data.linkCategories,[t.categoryKey]:{...t.payload,createdDate:(new Date).toISOString()}}},lastUpdated:(new Date).toISOString()};case q:const{[t.categoryKey]:n,...r}=e.data.linkCategories,{[t.categoryKey]:a,...i}=e.data.links;return{...e,data:{...e.data,linkCategories:r,links:i},lastUpdated:(new Date).toISOString()};case A:return{...e,data:{...e.data,income:t.payload},lastUpdated:(new Date).toISOString()};case C:const o=[...e.data.monthly[t.category]||[]];return t.index>=0&&t.index<o.length?o[t.index]=t.payload:o.push(t.payload),{...e,data:{...e.data,monthly:{...e.data.monthly,[t.category]:o}},lastUpdated:(new Date).toISOString()};case k:const s=(e.data.monthly[t.category]||[]).filter((e,n)=>n!==t.index);return{...e,data:{...e.data,monthly:{...e.data.monthly,[t.category]:s}},lastUpdated:(new Date).toISOString()};case _:const l=[...e.data.annual[t.category]||[]];return t.index>=0&&t.index<l.length?l[t.index]=t.payload:l.push(t.payload),{...e,data:{...e.data,annual:{...e.data.annual,[t.category]:l}},lastUpdated:(new Date).toISOString()};case D:const u=(e.data.annual[t.category]||[]).filter((e,n)=>n!==t.index);return{...e,data:{...e.data,annual:{...e.data.annual,[t.category]:u}},lastUpdated:(new Date).toISOString()};case j:const c=Array.isArray(e.data.accounts)?[...e.data.accounts]:[];return c.push(t.payload),{...e,data:{...e.data,accounts:c},lastUpdated:(new Date).toISOString()};case O:const d=Array.isArray(e.data.accounts)?e.data.accounts.map(e=>e.id===t.payload.id?{...e,...t.payload}:e):[];return{...e,data:{...e.data,accounts:d},lastUpdated:(new Date).toISOString()};case M:const f=Array.isArray(e.data.accounts)?e.data.accounts.filter(e=>e.id!==t.id):[];return{...e,data:{...e.data,accounts:f},lastUpdated:(new Date).toISOString()};case T:return{...e,data:{...e.data,plannerState:t.payload},lastUpdated:(new Date).toISOString()};case P:return{...e,currentPage:t.payload};case F:return{...U,data:h()};case I:return{...e,theme:"light"===e.theme?"dark":"light"};case B:return{...e,isCalculatorOpen:!e.isCalculatorOpen};default:return e}}function W(e){let{children:t}=e;const[n,a]=(0,r.useReducer)($,U);(0,r.useEffect)(()=>{try{const e=localStorage.getItem("family-budget-data");if(e){const t=JSON.parse(e);t&&"object"===typeof t&&a({type:N,payload:t})}}catch(e){0}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem("family-budget-data",JSON.stringify(n.data))}catch(e){0}},[n.data]);const i={loadData:e=>{a({type:N,payload:e})},updateData:e=>{a({type:E,payload:e})},updateIncome:e=>{a({type:A,payload:e})},updateMonthlyExpense:(e,t,n)=>{a({type:C,payload:t,category:e,index:n})},removeMonthlyExpense:(e,t)=>{a({type:k,category:e,index:t})},updateAnnualExpense:(e,t,n)=>{a({type:_,payload:t,category:e,index:n})},removeAnnualExpense:(e,t)=>{a({type:D,category:e,index:t})},addAccount:e=>{a({type:j,payload:e})},updateAccount:e=>{a({type:O,payload:e})},removeAccount:e=>{a({type:M,id:e})},updatePlanner:e=>{a({type:T,payload:e})},setCurrentPage:e=>{a({type:P,payload:e})},resetData:()=>{a({type:F})},toggleTheme:()=>{a({type:I})},toggleCalculator:()=>{a({type:B})},updateLinks:e=>{a({type:R,payload:e})},updateLinkCategories:e=>{a({type:z,payload:e})},addLinkCategory:(e,t)=>{a({type:L,categoryKey:e,payload:t})},removeLinkCategory:e=>{a({type:q,categoryKey:e})},addLink:(e,t)=>{const r=n.data.links||{},i=r[e]||[],o={...t,id:t.id||`link-${Date.now()}`,addedDate:t.addedDate||(new Date).toISOString()},s={...r,[e]:[...i,o]};a({type:R,payload:s})},updateLink:(e,t,r)=>{const i=n.data.links||{},o=(i[e]||[]).map(e=>e.id===t?{...e,...r}:e),s={...i,[e]:o};a({type:R,payload:s})},removeLink:(e,t)=>{const r=n.data.links||{},i=(r[e]||[]).filter(e=>e.id!==t),o={...r,[e]:i};a({type:R,payload:o})},distributeMonthlyToWeekly:(e,t,r)=>{const i=n.data.plannerState[e]||{weeks:Array(5).fill(0),transferred:Array(5).fill(!1),paid:Array(5).fill(!1)};if(r){const o=new Date(r).getDate();let s=Math.ceil(o/7)-1;s=Math.max(0,Math.min(4,s));const l=[...i.weeks];l[s]=t;const u={...i,weeks:l},c={...n.data.plannerState,[e]:u};a({type:T,payload:c})}},autoPopulatePlanner:()=>{const e={...n.data.plannerState};n.data.monthly&&Object.values(n.data.monthly).flat().forEach(t=>{if(t.name&&t.name.trim()&&!e[t.name]){const n=parseFloat(t.actual||t.amount||0);if(n>0){let r=Array(5).fill(0);if(t.date){const e=new Date(t.date).getDate();let a=Math.ceil(e/7)-1;a=Math.max(0,Math.min(4,a)),r[a]=n}else{const e=n/5;r=Array(5).fill(e)}e[t.name]={weeks:r,transferred:t.transferred?Array(5).fill(t.transferred):Array(5).fill(!1),paid:t.paid?Array(5).fill(t.paid):Array(5).fill(!1)}}}}),n.data.annual&&Object.values(n.data.annual).flat().forEach(t=>{if(t.name&&t.name.trim()&&!e[t.name]){const n=parseFloat(t.actual||t.amount||0);if(n>0){const r=n/12;let a=Array(5).fill(0);if(t.date){const e=new Date(t.date).getDate();let n=Math.ceil(e/7)-1;n=Math.max(0,Math.min(4,n)),a[n]=r}else{const e=r/5;a=Array(5).fill(e)}e[t.name]={weeks:a,transferred:t.transferred?Array(5).fill(t.transferred):Array(5).fill(!1),paid:t.paid?Array(5).fill(t.paid):Array(5).fill(!1)}}}}),a({type:T,payload:e})},updateExpenseStatus:(e,t,r,i,o,s)=>{let l={...n.data.monthly},u={...n.data.annual},c={...n.data.plannerState};if(t&&c[t]){const e={...c[t]};e[i]||(e[i]=Array(5).fill(!1)),e[i]=[...e[i]],e[i][r]=o,c[t]=e}"monthly"===s&&e&&Object.keys(l).forEach(t=>{const n=(l[t]||[]).findIndex(t=>t.id===e);-1!==n&&(l[t][n]={...l[t][n],[i]:o})}),"annual"===s&&e&&Object.keys(u).forEach(t=>{const n=(u[t]||[]).findIndex(t=>t.id===e);-1!==n&&(u[t][n]={...u[t][n],[i]:o})}),a({type:E,payload:{...n.data,monthly:l,annual:u,plannerState:c}})}},s={getTotalIncome:()=>Array.isArray(n.data.income)?n.data.income.reduce((e,t)=>e+(parseFloat(t.amount)||0),0):0,getTotalMonthlyExpenses:()=>{let e=0;return Object.values(n.data.monthly||{}).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{e+=parseFloat(t.actual||t.amount||0)})}),e},getTotalAnnualExpenses:()=>{let e=0;return Object.values(n.data.annual||{}).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{e+=parseFloat(t.actual||t.amount||0)})}),e},getMonthlyBalance:()=>s.getTotalIncome()-s.getTotalMonthlyExpenses()-s.getTotalAnnualExpenses()/12,getNetMonthlyIncome:()=>s.getMonthlyBalance(),getAnnualSavings:()=>12*s.getMonthlyBalance(),getCashFlow:()=>{const e=s.getTotalIncome(),t=s.getTotalMonthlyExpenses()+s.getTotalAnnualExpenses()/12;return{income:e,expenses:t,netIncome:e-t,savingsRate:e>0?(e-t)/e*100:0}},getSavingsRate:()=>{const e=s.getTotalIncome(),t=s.getTotalMonthlyExpenses()+s.getTotalAnnualExpenses()/12;return e<=0?0:(e-t)/e*100},getUpcomingExpenses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const t=[],r=new Date,a=new Date(r.getTime()+24*e*60*60*1e3);return Object.entries(n.data.monthly||{}).forEach(e=>{let[n,i]=e;i.forEach(e=>{if(e.date&&e.name){const i=new Date(e.date);i>=r&&i<=a&&t.push({...e,category:n,type:"monthly",daysUntilDue:Math.ceil((i-r)/864e5)})}})}),Object.entries(n.data.annual||{}).forEach(e=>{let[n,i]=e;i.forEach(e=>{if(e.date&&e.name){const i=new Date(e.date);i>=r&&i<=a&&t.push({...e,category:n,type:"annual",daysUntilDue:Math.ceil((i-r)/864e5)})}})}),t.sort((e,t)=>e.daysUntilDue-t.daysUntilDue)},getOverdueExpenses:()=>{const e=[],t=new Date;return Object.entries(n.data.monthly||{}).forEach(n=>{let[r,a]=n;a.forEach(n=>{if(n.date&&n.name&&!n.paid){const a=new Date(n.date);a<t&&e.push({...n,category:r,type:"monthly",daysOverdue:Math.ceil((t-a)/864e5)})}})}),Object.entries(n.data.annual||{}).forEach(n=>{let[r,a]=n;a.forEach(n=>{if(n.date&&n.name&&!n.paid){const a=new Date(n.date);a<t&&e.push({...n,category:r,type:"annual",daysOverdue:Math.ceil((t-a)/864e5)})}})}),e.sort((e,t)=>t.daysOverdue-e.daysOverdue)},getExpensesByStatus:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unpaid";const t=[];return Object.entries(n.data.monthly||{}).forEach(n=>{let[r,a]=n;a.forEach(n=>{if(n.name){const a=n.paid||!1,i=n.transferred||!1;"paid"===e&&a||"transferred"===e&&i?t.push({...n,category:r,type:"monthly"}):"unpaid"!==e||a||t.push({...n,category:r,type:"monthly"})}})}),Object.entries(n.data.annual||{}).forEach(n=>{let[r,a]=n;a.forEach(n=>{if(n.name){const a=n.paid||!1,i=n.transferred||!1;"paid"===e&&a||"transferred"===e&&i?t.push({...n,category:r,type:"annual"}):"unpaid"!==e||a||t.push({...n,category:r,type:"annual"})}})}),t},getWeeklyPlannerTotals:()=>{const e=[0,0,0,0,0],t=s.getWeeklyIncome(),r=n.data.plannerState||{};return Object.values(r).forEach(t=>{t.weeks&&Array.isArray(t.weeks)&&t.weeks.forEach((t,n)=>{n<5&&(e[n]+=parseFloat(t)||0)})}),e.map((e,n)=>({week:n+1,income:t[n]||0,expenses:e,balance:(t[n]||0)-e,expenseCount:Object.values(r).filter(e=>e.weeks&&e.weeks[n]&&parseFloat(e.weeks[n])>0).length}))},getPlannerExpensesByWeek:e=>{if(e<0||e>=5)return[];const t=[],r=n.data.plannerState||{};return Object.entries(r).forEach(n=>{let[r,a]=n;if(a.weeks&&a.weeks[e]){const n=parseFloat(a.weeks[e])||0;n>0&&t.push({name:r,amount:n,paid:!!a.paid&&a.paid[e],transferred:!!a.transferred&&a.transferred[e],week:e+1})}}),t.sort((e,t)=>t.amount-e.amount)},getTotalPlannedIncome:()=>s.getWeeklyIncome().reduce((e,t)=>e+t,0),getTotalPlannedExpenses:()=>{let e=0;const t=n.data.plannerState||{};return Object.values(t).forEach(t=>{t.weeks&&Array.isArray(t.weeks)&&t.weeks.forEach(t=>{e+=parseFloat(t)||0})}),e},getPlannerBalance:()=>s.getTotalPlannedIncome()-s.getTotalPlannedExpenses(),getCategoryTotal:function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?n.data.annual:n.data.monthly;return((null===t||void 0===t?void 0:t[e])||[]).reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0)},getMonthlyAnnualImpact:()=>s.getTotalAnnualExpenses()/12,getExpenseById:e=>{for(const[t,r]of Object.entries(n.data.monthly||{})){const n=r.find(t=>t.id===e);if(n)return{...n,category:t,type:"monthly"}}for(const[t,r]of Object.entries(n.data.annual||{})){const n=r.find(t=>t.id===e);if(n)return{...n,category:t,type:"annual"}}return null},getWeeklyIncome:()=>{const e=s.getTotalIncome();return Array(5).fill(e/4.33)},getTotalPlannedForWeek:e=>{if(e<0||e>=5)return 0;let t=0;return Object.values(n.data.plannerState||{}).forEach(n=>{n.weeks&&n.weeks[e]&&(t+=parseFloat(n.weeks[e])||0)}),t},getWeeklyBalance:e=>(s.getWeeklyIncome()[e]||0)-s.getTotalPlannedForWeek(e),getTotalLinksCount:()=>Object.values(n.data.links||{}).reduce((e,t)=>e+(Array.isArray(t)?t.length:0),0),getLinksCategoriesCount:()=>Object.keys(n.data.linkCategories||{}).length,getLargestLinkCategory:()=>{let e={name:"",count:0};return Object.entries(n.data.links||{}).forEach(t=>{let[r,a]=t;const i=Array.isArray(a)?a.length:0;if(i>e.count){var o;const t=null===(o=n.data.linkCategories)||void 0===o?void 0:o[r];e={name:(null===t||void 0===t?void 0:t.name)||r,count:i}}}),e}},l={state:n,actions:i,calculations:s,formatCurrency:y,parseAmount:v};return(0,o.jsx)(S.Provider,{value:l,children:t})}function H(){const e=(0,r.useContext)(S);if(!e)throw new Error("useBudget must be used within a BudgetProvider");return e}const K=()=>{const{state:e,actions:t}=H(),n=e.currentPage||"home",r=e.isCalculatorOpen||!1;return(0,o.jsx)("nav",{className:"main-navigation",role:"navigation","aria-label":"Main navigation",children:(0,o.jsxs)("div",{className:"nav-container",children:[(0,o.jsx)("ul",{className:"nav-links",role:"menubar",children:[{id:"home",label:"Home",icon:"\ud83c\udfe0"},{id:"income",label:"Income",icon:"\ud83d\udcb5"},{id:"monthly",label:"Monthly",icon:"\ud83d\udcc5"},{id:"annual",label:"Annual",icon:"\ud83d\udcc6"},{id:"accounts",label:"Accounts",icon:"\ud83c\udfe6"},{id:"planner",label:"Planner",icon:"\ud83d\udccb"},{id:"reports",label:"Reports",icon:"\ud83d\udcca"},{id:"notes",label:"Notes",icon:"\ud83d\udcdd"},{id:"import",label:"Data",icon:"\ud83d\udcbe"},{id:"links",label:"Links",icon:"\ud83d\udd17"}].map(e=>(0,o.jsx)("li",{className:"nav-item",role:"none",children:(0,o.jsxs)("button",{className:"nav-link "+(n===e.id?"active":""),onClick:()=>{return n=e.id,void t.setCurrentPage(n);var n},role:"menuitem","aria-current":n===e.id?"page":void 0,title:`Navigate to ${e.label}`,children:[(0,o.jsx)("span",{className:"nav-icon","aria-hidden":"true",children:e.icon}),(0,o.jsx)("span",{className:"nav-label",children:e.label})]})},e.id))}),(0,o.jsx)("div",{className:"nav-right",children:(0,o.jsxs)("button",{className:"calculator-nav-btn "+(r?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),t.toggleCalculator()},title:r?"Close Calculator":"Open Calculator","aria-label":r?"Close Calculator":"Open Calculator","aria-pressed":r,children:[(0,o.jsx)("span",{className:"nav-icon","aria-hidden":"true",children:"\ud83d\udd22"}),(0,o.jsx)("span",{className:"nav-label",children:"Calculator"})]})})]})})};function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(null,arguments)}var Y=n(5422);function G(e){return"number"===typeof e}function X(e){return!(!e||"object"!==typeof e||"function"!==typeof e.constructor)&&(!0===e.isBigNumber&&"object"===typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"===typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function J(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function Z(e){return e&&"object"===typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function Q(e){return e&&!0===e.constructor.prototype.isUnit||!1}function ee(e){return"string"===typeof e}var te=Array.isArray;function ne(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function re(e){return Array.isArray(e)||ne(e)}function ae(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function ie(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function oe(e){return e&&!0===e.constructor.prototype.isRange||!1}function se(e){return e&&!0===e.constructor.prototype.isIndex||!1}function le(e){return"boolean"===typeof e}function ue(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function ce(e){return e&&!0===e.constructor.prototype.isHelp||!1}function de(e){return"function"===typeof e}function fe(e){return e instanceof Date}function pe(e){return e instanceof RegExp}function he(e){return!(!e||"object"!==typeof e||e.constructor!==Object||J(e)||Z(e))}function me(e){return null===e}function ge(e){return void 0===e}function ye(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function ve(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function be(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function xe(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function we(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function Se(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function Ne(e){return Se(e)||De(e)&&1===e.args.length&&Se(e.args[0])&&"-+~".includes(e.op)}function Ee(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function Ae(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function Ce(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function ke(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function _e(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function De(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function je(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function Oe(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function Me(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function Te(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function Pe(e){return e&&!0===e.constructor.prototype.isChain||!1}function Fe(e){var t=typeof e;return"object"===t?null===e?"null":X(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Ie(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return Ie(e)});if(e instanceof Date)return new Date(e.valueOf());if(X(e))return e;if(he(e))return Be(e,Ie);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Be(e,t){var n={};for(var r in e)We(e,r)&&(n[r]=t(e[r]));return n}function Re(e,t){for(var n in t)We(t,n)&&(e[n]=t[n]);return e}function ze(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var n in t)if(We(t,n)&&!(n in Object.prototype)&&!(n in Function.prototype))if(t[n]&&t[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n]&&e[n].constructor===Object?ze(e[n],t[n]):e[n]=t[n];else{if(Array.isArray(t[n]))throw new TypeError("Arrays are not supported by deepExtend");e[n]=t[n]}return e}function Le(e,t){var n,r,a;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,a=e.length;r<a;r++)if(!Le(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Le(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}return e===t}function qe(e){var t={};return Ue(e,t),t}function Ue(e,t){for(var n in e)if(We(e,n)){var r=e[n];"object"===typeof r&&null!==r?Ue(r,t):t[n]=r}}function $e(e,t,n){var r,a=!0;Object.defineProperty(e,t,{get:function(){return a&&(r=n(),a=!1),r},set:function(e){r=e,a=!1},configurable:!0,enumerable:!0})}function We(e,t){return e&&Object.hasOwnProperty.call(e,t)}function He(e){return Object.keys(e).map(t=>e[t])}var Ke=n(9841);function Ve(e,t,n,r){function a(r){var a=function(e,t){for(var n={},r=0;r<t.length;r++){var a=t[r],i=e[a];void 0!==i&&(n[a]=i)}return n}(r,t.map(Ge));return function(e,t,n){var r=t.filter(e=>!function(e){return e&&"?"===e[0]}(e)).every(e=>void 0!==n[e]);if(!r){var a=t.filter(e=>void 0===n[e]);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(a.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,t,r),n(a)}return a.isFactory=!0,a.fn=e,a.dependencies=t.slice().sort(),r&&(a.meta=r),a}function Ye(e){return"function"===typeof e&&"string"===typeof e.fn&&Array.isArray(e.dependencies)}function Ge(e){return e&&"?"===e[0]?e.slice(1):e}function Xe(e){return"boolean"===typeof e||!!isFinite(e)&&e===Math.round(e)}var Je=Math.sign||function(e){return e>0?1:e<0?-1:0},Ze=Math.log2||function(e){return Math.log(e)/Math.LN2},Qe=Math.log10||function(e){return Math.log(e)/Math.LN10},et=Math.log1p||function(e){return Math.log(e+1)},tt=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},nt=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function rt(e,t,n){var r={2:"0b",8:"0o",16:"0x"}[t],a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Xe(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Xe(e))throw new Error("Value must be an integer");e<0&&(e+=2**n),a="i".concat(n)}var i="";return e<0&&(e=-e,i="-"),"".concat(i).concat(r).concat(e.toString(t)).concat(a)}function at(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r,a="auto";if(t&&(t.notation&&(a=t.notation),G(t)?n=t:G(t.precision)&&(n=t.precision),t.wordSize&&"number"!==typeof(r=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(a){case"fixed":return ot(e,n);case"exponential":return st(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=it(e),r=lt(n,t),a=r.exponent,i=r.coefficients,o=a%3===0?a:a<0?a-3-a%3:a-a%3;if(G(t))for(;t>i.length||a-o+1>i.length;)i.push(0);else for(var s=Math.abs(a-o)-(i.length-1),l=0;l<s;l++)i.push(0);var u=Math.abs(a-o),c=1;for(;u>0;)c++,u--;var d=i.slice(c).join(""),f=G(t)&&d.length||d.match(/[1-9]/)?"."+d:"",p=i.slice(0,c).join("")+f+"e"+(a>=0?"+":"")+o.toString();return r.sign+p}(e,n);case"bin":return rt(e,2,r);case"oct":return rt(e,8,r);case"hex":return rt(e,16,r);case"auto":return function(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,a=n&&void 0!==n.upperExp?n.upperExp:5,i=it(e),o=t?lt(i,t):i;if(o.exponent<r||o.exponent>=a)return st(e,t);var s=o.coefficients,l=o.exponent;s.length<t&&(s=s.concat(ut(t-s.length))),s=s.concat(ut(l-s.length+1+(s.length<t?t-s.length:0)));var u=l>0?l:0;return u<(s=ut(-l).concat(s)).length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+a+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function it(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],a=parseFloat(t[4]||"0"),i=r.indexOf(".");a+=-1!==i?i-1:r.length-1;var o=r.replace(".","").replace(/^0*/,function(e){return a-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),a++),{sign:n,coefficients:o,exponent:a}}function ot(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=it(e),r="number"===typeof t?lt(n,n.exponent+1+t):n,a=r.coefficients,i=r.exponent+1,o=i+(t||0);return a.length<o&&(a=a.concat(ut(o-a.length))),i<0&&(a=ut(1-i).concat(a),i=1),i<a.length&&a.splice(i,0,0===i?"0.":"."),r.sign+a.join("")}function st(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=it(e),r=t?lt(n,t):n,a=r.coefficients,i=r.exponent;a.length<t&&(a=a.concat(ut(t-a.length)));var o=a.shift();return r.sign+o+(a.length>0?"."+a.join(""):"")+"e"+(i>=0?"+":"")+i}function lt(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var a=t-1;for(r[a]++;10===r[a];)r.pop(),0===a&&(r.unshift(0),n.exponent++,a++),r[--a]++}return n}function ut(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var ct=Number.EPSILON||2220446049250313e-31;function dt(e,t,n){if(null===n||void 0===n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<ct||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var ft=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},pt=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},ht=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},mt=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},gt=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},yt=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function vt(e,t,n){var r=new(0,e.constructor)(2),a="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Xe(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),a="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function bt(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r,a="auto";if(void 0!==t&&(t.notation&&(a=t.notation),"number"===typeof t?n=t:void 0!==t.precision&&(n=t.precision),t.wordSize&&"number"!==typeof(r=t.wordSize)))throw new Error('Option "wordSize" must be a number');switch(a){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return xt(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,a=e.mul(Math.pow(10,-r)),i=a.toPrecision(t);if(-1!==i.indexOf("e")){i=new(0,e.constructor)(i).toFixed()}return i+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"bin":return vt(e,2,r);case"oct":return vt(e,8,r);case"hex":return vt(e,16,r);case"auto":var i=t&&void 0!==t.lowerExp?t.lowerExp:-3,o=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.toSignificantDigits(n),l=s.e;return(l>=i&&l<o?s.toFixed():xt(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+a+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function xt(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function wt(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t}function St(e,t){var n=function(e,t){if("number"===typeof e)return at(e,t);if(X(e))return bt(e,t);if(function(e){return e&&"object"===typeof e&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}(e))return t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d;if(Array.isArray(e))return Ct(e,t);if(ee(e))return Nt(e);if("function"===typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"===typeof e){return"function"===typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map(n=>Nt(n)+": "+St(e[n],t)).join(", ")+"}"}return String(e)}(e,t);return t&&"object"===typeof t&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function Nt(e){for(var t=String(e),n="",r=0;r<t.length;){var a=t.charAt(r);n+=a in Et?Et[a]:a,r++}return'"'+n+'"'}var Et={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function At(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ct(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,a=0;a<r;a++)0!==a&&(n+=", "),n+=Ct(e[a],t);return n+="]"}return St(e,t)}function kt(e,t){if(!ee(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Fe(e)+", index: 0)");if(!ee(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Fe(t)+", index: 1)");return e===t?0:e>t?1:-1}function _t(e,t,n){if(!(this instanceof _t))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function Dt(e,t,n){if(!(this instanceof Dt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function jt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ot(e,t,n){var r,a=e.length;if(a!==t[n])throw new _t(a,t[n]);if(n<t.length-1){var i=n+1;for(r=0;r<a;r++){var o=e[r];if(!Array.isArray(o))throw new _t(t.length-1,t.length,"<");Ot(e[r],t,i)}}else for(r=0;r<a;r++)if(Array.isArray(e[r]))throw new _t(t.length+1,t.length,">")}function Mt(e,t){if(0===t.length){if(Array.isArray(e))throw new _t(e.length,0)}else Ot(e,t,0)}function Tt(e,t){var n=e.isMatrix?e._size:jt(e);t._sourceSize.forEach((e,t)=>{if(null!==e&&e!==n[t])throw new _t(e,n[t])})}function Pt(e,t){if(void 0!==e){if(!G(e)||!Xe(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new Dt(e,t)}}function Ft(e){for(var t=0;t<e._dimensions.length;++t){var n=e._dimensions[t];if(n._data&&te(n._data)){if(0===n._size[0])return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(ee(n)&&0===n.length)return!0}return!1}function It(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!G(e)||!Xe(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+St(t)+")")}),(G(e)||X(e))&&(e=[e]),Bt(e,t,0,void 0!==n?n:0),e}function Bt(e,t,n,r){var a,i,o=e.length,s=t[n],l=Math.min(o,s);if(e.length=s,n<t.length-1){var u=n+1;for(a=0;a<l;a++)i=e[a],Array.isArray(i)||(i=[i],e[a]=i),Bt(i,t,u,r);for(a=l;a<s;a++)i=[],e[a]=i,Bt(i,t,u,r)}else{for(a=0;a<l;a++)for(;Array.isArray(e[a]);)e[a]=e[a][0];for(a=l;a<s;a++)e[a]=r}}function Rt(e,t){var n=Ht(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new _t(0,r,"!=");var a=Lt(t=zt(t,r));if(r!==a)throw new _t(a,r,"!=");try{return function(e,t){for(var n,r=e,a=t.length-1;a>0;a--){var i=t[a];n=[];for(var o=r.length/i,s=0;s<o;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}(n,t)}catch(i){if(i instanceof _t)throw new _t(a,r,"!=");throw i}}function zt(e,t){var n=Lt(e),r=e.slice(),a=e.indexOf(-1);if(e.indexOf(-1,a+1)>=0)throw new Error("More than one wildcard in sizes");if(a>=0){if(!(t%n===0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);r[a]=-t/n}return r}function Lt(e){return e.reduce((e,t)=>e*t,1)}function qt(e,t){for(var n=t||jt(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=Ut(e,r,0),n.length=r),e}function Ut(e,t,n){var r,a;if(n<t){var i=n+1;for(r=0,a=e.length;r<a;r++)e[r]=Ut(e[r],t,i)}else for(;Array.isArray(e);)e=e[0];return e}function $t(e,t,n,r){var a=r||jt(e);if(n)for(var i=0;i<n;i++)e=[e],a.unshift(1);for(e=Wt(e,t,0);a.length<t;)a.push(1);return e}function Wt(e,t,n){var r,a;if(Array.isArray(e)){var i=n+1;for(r=0,a=e.length;r<a;r++)e[r]=Wt(e[r],t,i)}else for(var o=n;o<t;o++)e=[e];return e}function Ht(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(n){Array.isArray(n)?n.forEach(e):t.push(n)}),t}function Kt(e,t){return Array.prototype.map.call(e,t)}function Vt(e,t){Array.prototype.forEach.call(e,t)}function Yt(e,t){if(1!==jt(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Gt(e,t){if(1!==jt(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,e=>t.test(e))}function Xt(e,t){return Array.prototype.join.call(e,t)}function Jt(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function Zt(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function Qt(e,t){for(var n,r=0,a=0;a<e.length;a++){var i=e[a],o=Array.isArray(i);if(0===a&&o&&(r=i.length),o&&i.length!==r)return;var s=o?Qt(i,t):t(i);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function en(e,t){return-1!==e.indexOf(t)}function tn(e,t,n,r){if(r<n){if(e.length!==t.length)throw new _t(e.length,t.length);for(var a=[],i=0;i<e.length;i++)a[i]=tn(e[i],t[i],n,r+1);return a}return e.concat(t)}function nn(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(e,n){return tn(e,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function rn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(e=>e.length),a=Math.max(...r),i=new Array(a).fill(null),o=0;o<t.length;o++)for(var s=t[o],l=r[o],u=0;u<l;u++){var c=a-l+u;s[u]>i[c]&&(i[c]=s[u])}for(var d=0;d<t.length;d++)an(t[d],i);return i}function an(e,t){for(var n=t.length,r=e.length,a=0;a<r;a++){var i=n-r+a;if(e[a]<t[i]&&e[a]>1||e[a]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[a]," to size ").concat(t[i]))}}function on(e,t){var n=jt(e);if(Le(n,t))return e;an(n,t);var r=rn(n,t),a=r.length,i=[...Array(a-n.length).fill(1),...n],o=function(e){return V([],e)}(e);n.length<a&&(n=jt(o=Rt(o,i)));for(var s=0;s<a;s++)n[s]<r[s]&&(n=jt(o=sn(o,r[s],s)));return o}function sn(e,t,n){return nn(...Array(t).fill(e),n)}function ln(e,t,n,r){if(!(this instanceof ln))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}function un(e,t,n,r){function a(t,a,o){if(o.wrap&&"function"===typeof a&&(a=function(e){var t=function(){for(var t=[],r=0,a=arguments.length;r<a;r++){var i=arguments[r];t[r]=i&&i.valueOf()}return e.apply(n,t)};e.transform&&(t.transform=e.transform);return t}(a)),function(e){return"function"===typeof e&&"string"===typeof e.signature}(a)&&(a=e(t,{[a.signature]:a})),e.isTypedFunction(n[t])&&e.isTypedFunction(a))return a=o.override?e(t,a.signatures):e(n[t],a),n[t]=a,delete r[t],i(t,a),void n.emit("import",t,function(){return a});if(void 0===n[t]||o.override)return n[t]=a,delete r[t],i(t,a),void n.emit("import",t,function(){return a});if(!o.silent)throw new Error('Cannot import "'+t+'": already exists')}function i(e,t){t&&"function"===typeof t.transform?(n.expression.transform[e]=t.transform,u(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],u(e)&&(n.expression.mathWithTransform[e]=t))}function o(e){delete n.expression.transform[e],u(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function s(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if(en(i,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(i));var s=d(t)?n.expression.transform:n,l=i in n.expression.transform,u=We(s,i)?s[i]:void 0,f=function(){var r={};t.dependencies.map(Ge).forEach(e=>{if(en(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]});var o=t(r);if(o&&"function"===typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===u||a.override)return o;if(e.isTypedFunction(u)&&e.isTypedFunction(o))return e(u,o);if(a.silent)return u;throw new Error('Cannot import "'+i+'": already exists')};t.meta&&!1===t.meta.lazy?(s[i]=f(),u&&l?o(i):(d(t)||c(t))&&$e(n.expression.mathWithTransform,i,()=>s[i])):($e(s,i,f),u&&l?o(i):(d(t)||c(t))&&$e(n.expression.mathWithTransform,i,()=>s[i])),r[i]=t,n.emit("import",i,f)}function l(e){return"function"===typeof e||"number"===typeof e||"string"===typeof e||"boolean"===typeof e||null===e||Q(e)||J(e)||X(e)||Z(e)||ne(e)||Array.isArray(e)}function u(e){return!We(f,e)}function c(e){return-1===e.fn.indexOf(".")&&!We(f,e.fn)&&(!e.meta||!e.meta.isClass)}function d(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var f={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new ln("import",n,1,2);t||(t={});var r={};for(var i in function e(n,r,a){if(Array.isArray(r))r.forEach(t=>e(n,t));else if("object"===typeof r)for(var i in r)We(r,i)&&e(n,r[i],i);else if(Ye(r)||void 0!==a){var o=Ye(r)?d(r)?r.fn+".transform":r.fn:a;if(We(n,o)&&n[o]!==r&&!t.silent)throw new Error('Cannot import "'+o+'" twice');n[o]=r}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}(r,e),r)if(We(r,i)){var o=r[i];if(Ye(o))s(o,t);else if(l(o))a(i,o,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}}_t.prototype=new RangeError,_t.prototype.constructor=RangeError,_t.prototype.name="DimensionError",_t.prototype.isDimensionError=!0,Dt.prototype=new RangeError,Dt.prototype.constructor=RangeError,Dt.prototype.name="IndexError",Dt.prototype.isIndexError=!0,ln.prototype=new Error,ln.prototype.constructor=Error,ln.prototype.name="ArgumentsError",ln.prototype.isArgumentsError=!0;var cn={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null},dn=["Matrix","Array"],fn=["number","BigNumber","Fraction"];function pn(e,t){function n(n){if(n){var r=Be(e,Ie);hn(n,"matrix",dn),hn(n,"number",fn),ze(e,n);var a=Be(e,Ie),i=Be(n,Ie);return t("config",a,r,i),a}return Be(e,Ie)}return n.MATRIX_OPTIONS=dn,n.NUMBER_OPTIONS=fn,Object.keys(cn).forEach(t=>{Object.defineProperty(n,t,{get:()=>e[t],enumerable:!0,configurable:!0})}),n}function hn(e,t,n){void 0===e[t]||function(e,t){return-1!==e.indexOf(t)}(n,e[t])||console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map(e=>JSON.stringify(e)).join(", ")+".")}function mn(e,t){if(bn(e)&&yn(e,t))return e[t];if("function"===typeof e[t]&&vn(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function gn(e,t,n){if(bn(e)&&yn(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function yn(e,t){return!(!e||"object"!==typeof e)&&(!!We(xn,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function vn(e,t){return null!==e&&void 0!==e&&"function"===typeof e[t]&&(!(We(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!We(wn,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function bn(e){return"object"===typeof e&&e&&e.constructor===Object}var xn={length:!0,name:!0},wn={toString:!0,valueOf:!0,toLocaleString:!0};class Sn{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return mn(this.wrappedObject,e)}set(e,t){return gn(this.wrappedObject,e,t),this}has(e){return function(e,t){return t in e}(this.wrappedObject,e)}}function Nn(){return new Map}function En(e){if(!e)return Nn();if(An(e))return e;if(he(e))return new Sn(e);throw new Error("createMap can create maps from objects or Maps")}function An(e){return!!e&&(e instanceof Map||e instanceof Sn||"function"===typeof e.set&&"function"===typeof e.get&&"function"===typeof e.keys&&"function"===typeof e.has)}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a of n)if(a)if(An(a))for(var i of a.keys())e.set(i,a.get(i));else if(he(a))for(var o of Object.keys(a))e.set(o,a[o]);return e}var kn=function(){return kn=Y.create,Y},_n=Ve("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:n,DenseMatrix:r,Fraction:a}=e,i=kn();return i.clear(),i.addTypes([{name:"number",test:G},{name:"Complex",test:J},{name:"BigNumber",test:X},{name:"Fraction",test:Z},{name:"Unit",test:Q},{name:"identifier",test:e=>ee&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:ee},{name:"Chain",test:Pe},{name:"Array",test:te},{name:"Matrix",test:ne},{name:"DenseMatrix",test:ae},{name:"SparseMatrix",test:ie},{name:"Range",test:oe},{name:"Index",test:se},{name:"boolean",test:le},{name:"ResultSet",test:ue},{name:"Help",test:ce},{name:"function",test:de},{name:"Date",test:fe},{name:"RegExp",test:pe},{name:"null",test:me},{name:"undefined",test:ge},{name:"AccessorNode",test:ye},{name:"ArrayNode",test:ve},{name:"AssignmentNode",test:be},{name:"BlockNode",test:xe},{name:"ConditionalNode",test:we},{name:"ConstantNode",test:Se},{name:"FunctionNode",test:Ae},{name:"FunctionAssignmentNode",test:Ee},{name:"IndexNode",test:Ce},{name:"Node",test:ke},{name:"ObjectNode",test:_e},{name:"OperatorNode",test:De},{name:"ParenthesisNode",test:je},{name:"RangeNode",test:Oe},{name:"RelationalNode",test:Me},{name:"SymbolNode",test:Te},{name:"Map",test:An},{name:"Object",test:he}]),i.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||Dn(e),function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||jn(e),new n(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return n||jn(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||jn(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){a||On(e);var t=new a(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||Dn(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){a||On(e);try{return new a(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||jn(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||Dn(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return a||On(e),new a(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),i.onMismatch=(e,t,n)=>{var r=i.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&re(t[0])&&n.some(e=>!e.params.includes(","))){var a=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw a.data=r.data,a}throw r},i.onMismatch=(e,t,n)=>{var r=i.createError(e,t,n);if(["wrongType","mismatch"].includes(r.data.category)&&1===t.length&&re(t[0])&&n.some(e=>!e.params.includes(","))){var a=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw a.data=r.data,a}throw r},i});function Dn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function jn(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function On(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var Mn,Tn,Pn=Ve("ResultSet",[],()=>{function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e},{isClass:!0}),Fn=9e15,In=1e9,Bn="0123456789abcdef",Rn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ln={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Fn,maxE:Fn,crypto:!1},qn=!0,Un="[DecimalError] ",$n=Un+"Invalid argument: ",Wn=Un+"Precision limit exceeded",Hn=Un+"crypto unavailable",Kn="[object Decimal]",Vn=Math.floor,Yn=Math.pow,Gn=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Xn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Jn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Zn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn=1e7,er=Rn.length-1,tr=zn.length-1,nr={toStringTag:Kn};function rr(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=hr(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=hr(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}function ar(e,t,n){if(e!==~~e||e<t||e>n)throw Error($n+e)}function ir(e,t,n,r){var a,i,o,s;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=7,a=0):(a=Math.ceil((t+1)/7),t%=7),i=Yn(10,7-t),s=e[a]%i|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):o=(n<4&&s+1==i||n>3&&s+1==i/2)&&(e[a+1]/i/100|0)==Yn(10,t-2)-1||(s==i/2||0==s)&&0==(e[a+1]/i/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(r||n<4)&&9999==s||!r&&n>3&&4999==s):o=((r||n<4)&&s+1==i||!r&&n>3&&s+1==i/2)&&(e[a+1]/i/1e3|0)==Yn(10,t-3)-1,o}function or(e,t,n){for(var r,a,i=[0],o=0,s=e.length;o<s;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=Bn.indexOf(e.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}nr.absoluteValue=nr.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),lr(e)},nr.ceil=function(){return lr(new this.constructor(this),this.e+1,2)},nr.clampedTo=nr.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error($n+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},nr.comparedTo=nr.cmp=function(e){var t,n,r,a,i=this,o=i.d,s=(e=new i.constructor(e)).d,l=i.s,u=e.s;if(!o||!s)return l&&u?l!==u?l:o===s?0:!o^l<0?1:-1:NaN;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(i.e!==e.e)return i.e>e.e^l<0?1:-1;for(t=0,n=(r=o.length)<(a=s.length)?r:a;t<n;++t)if(o[t]!==s[t])return o[t]>s[t]^l<0?1:-1;return r===a?0:r>a^l<0?1:-1},nr.cosine=nr.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,a;if(t.isZero())return t;r=t.d.length,r<32?a=(1/Er(4,n=Math.ceil(r/3))).toString():(n=16,a="2.3283064365386962890625e-10");e.precision+=n,t=Nr(e,1,t.times(a),new e(1));for(var i=n;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,t}(r,Ar(r,n)),r.precision=e,r.rounding=t,lr(2==Tn||3==Tn?n.neg():n,e,t,!0)):new r(1):new r(NaN)},nr.cubeRoot=nr.cbrt=function(){var e,t,n,r,a,i,o,s,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(qn=!1,(i=c.s*Yn(c.s*c,1/3))&&Math.abs(i)!=1/0?r=new d(i.toString()):(n=rr(c.d),(i=((e=c.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=Yn(n,1/3),e=Vn((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),o=(e=d.precision)+3;;)if(u=(l=(s=r).times(s).times(s)).plus(c),r=sr(u.plus(c).times(s),u.plus(l),o+2,1),rr(s.d).slice(0,o)===(n=rr(r.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(a||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(lr(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!a&&(lr(s,e+1,0),s.times(s).times(s).eq(c))){r=s;break}o+=4,a=1}return qn=!0,lr(r,e,d.rounding,t)},nr.decimalPlaces=nr.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-Vn(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},nr.dividedBy=nr.div=function(e){return sr(this,new this.constructor(e))},nr.dividedToIntegerBy=nr.divToInt=function(e){var t=this.constructor;return lr(sr(this,new t(e),0,1,1),t.precision,t.rounding)},nr.equals=nr.eq=function(e){return 0===this.cmp(e)},nr.floor=function(){return lr(new this.constructor(this),this.e+1,3)},nr.greaterThan=nr.gt=function(e){return this.cmp(e)>0},nr.greaterThanOrEqualTo=nr.gte=function(e){var t=this.cmp(e);return 1==t||0===t},nr.hyperbolicCosine=nr.cosh=function(){var e,t,n,r,a,i=this,o=i.constructor,s=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return s;n=o.precision,r=o.rounding,o.precision=n+Math.max(i.e,i.sd())+4,o.rounding=1,(a=i.d.length)<32?t=(1/Er(4,e=Math.ceil(a/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=Nr(o,1,i.times(t),new o(1),!0);for(var l,u=e,c=new o(8);u--;)l=i.times(i),i=s.minus(l.times(c.minus(l.times(c))));return lr(i,o.precision=n,o.rounding=r,!0)},nr.hyperbolicSine=nr.sinh=function(){var e,t,n,r,a=this,i=a.constructor;if(!a.isFinite()||a.isZero())return new i(a);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(a.e,a.sd())+4,i.rounding=1,(r=a.d.length)<3)a=Nr(i,2,a,a,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,a=Nr(i,2,a=a.times(1/Er(5,e)),a,!0);for(var o,s=new i(5),l=new i(16),u=new i(20);e--;)o=a.times(a),a=a.times(s.plus(o.times(l.times(o).plus(u))))}return i.precision=t,i.rounding=n,lr(a,t,n,!0)},nr.hyperbolicTangent=nr.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,sr(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},nr.inverseCosine=nr.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,a=t.rounding;return-1!==n?0===n?e.isNeg()?fr(t,r,a):new t(0):new t(NaN):e.isZero()?fr(t,r+4,a).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=a,e.times(2))},nr.inverseHyperbolicCosine=nr.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,qn=!1,n=n.times(n).minus(1).sqrt().plus(n),qn=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},nr.inverseHyperbolicSine=nr.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,qn=!1,n=n.times(n).plus(1).sqrt().plus(n),qn=!0,r.precision=e,r.rounding=t,n.ln())},nr.inverseHyperbolicTangent=nr.atanh=function(){var e,t,n,r,a=this,i=a.constructor;return a.isFinite()?a.e>=0?new i(a.abs().eq(1)?a.s/0:a.isZero()?a:NaN):(e=i.precision,t=i.rounding,r=a.sd(),Math.max(r,e)<2*-a.e-1?lr(new i(a),e,t,!0):(i.precision=n=r-a.e,a=sr(a.plus(1),new i(1).minus(a),n+e,1),i.precision=e+4,i.rounding=1,a=a.ln(),i.precision=e,i.rounding=t,a.times(.5))):new i(NaN)},nr.inverseSine=nr.asin=function(){var e,t,n,r,a=this,i=a.constructor;return a.isZero()?new i(a):(t=a.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=fr(i,n+4,r).times(.5)).s=a.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,a=a.div(new i(1).minus(a.times(a)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,a.times(2)))},nr.inverseTangent=nr.atan=function(){var e,t,n,r,a,i,o,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=tr)return(o=fr(c,d+4,f).times(.25)).s=u.s,o}else{if(!u.s)return new c(NaN);if(d+4<=tr)return(o=fr(c,d+4,f).times(.5)).s=u.s,o}for(c.precision=s=d+10,c.rounding=1,e=n=Math.min(28,s/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(qn=!1,t=Math.ceil(s/7),r=1,l=u.times(u),o=new c(u),a=u;-1!==e;)if(a=a.times(l),i=o.minus(a.div(r+=2)),a=a.times(l),void 0!==(o=i.plus(a.div(r+=2))).d[t])for(e=t;o.d[e]===i.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),qn=!0,lr(o,c.precision=d,c.rounding=f,!0)},nr.isFinite=function(){return!!this.d},nr.isInteger=nr.isInt=function(){return!!this.d&&Vn(this.e/7)>this.d.length-2},nr.isNaN=function(){return!this.s},nr.isNegative=nr.isNeg=function(){return this.s<0},nr.isPositive=nr.isPos=function(){return this.s>0},nr.isZero=function(){return!!this.d&&0===this.d[0]},nr.lessThan=nr.lt=function(e){return this.cmp(e)<0},nr.lessThanOrEqualTo=nr.lte=function(e){return this.cmp(e)<1},nr.logarithm=nr.log=function(e){var t,n,r,a,i,o,s,l,u=this,c=u.constructor,d=c.precision,f=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(a=n[0];a%10===0;)a/=10;i=1!==a}if(qn=!1,o=br(u,s=d+5),r=t?dr(c,s+10):br(e,s),ir((l=sr(o,r,s,1)).d,a=d,f))do{if(o=br(u,s+=10),r=t?dr(c,s+10):br(e,s),l=sr(o,r,s,1),!i){+rr(l.d).slice(a+1,a+15)+1==1e14&&(l=lr(l,d+1,0));break}}while(ir(l.d,a+=10,f));return qn=!0,lr(l,d,f)},nr.minus=nr.sub=function(e){var t,n,r,a,i,o,s,l,u,c,d,f,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new h(e.d||p.s!==e.s?p:NaN):e=new h(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(u=p.d,f=e.d,s=h.precision,l=h.rounding,!u[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!u[0])return new h(3===l?-0:0);e=new h(p)}return qn?lr(e,s,l):e}if(n=Vn(e.e/7),c=Vn(p.e/7),u=u.slice(),i=c-n){for((d=i<0)?(t=u,i=-i,o=f.length):(t=f,n=c,o=u.length),i>(r=Math.max(Math.ceil(s/7),o)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((d=(r=u.length)<(o=f.length))&&(o=r),r=0;r<o;r++)if(u[r]!=f[r]){d=u[r]<f[r];break}i=0}for(d&&(t=u,u=f,f=t,e.s=-e.s),o=u.length,r=f.length-o;r>0;--r)u[o++]=0;for(r=f.length;r>i;){if(u[--r]<f[r]){for(a=r;a&&0===u[--a];)u[a]=Qn-1;--u[a],u[r]+=Qn}u[r]-=f[r]}for(;0===u[--o];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=cr(u,n),qn?lr(e,s,l):e):new h(3===l?-0:0)},nr.modulo=nr.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?lr(new r(n),r.precision,r.rounding):(qn=!1,9==r.modulo?(t=sr(n,e.abs(),0,3,1)).s*=e.s:t=sr(n,e,0,r.modulo,1),t=t.times(e),qn=!0,n.minus(t))},nr.naturalExponential=nr.exp=function(){return vr(this)},nr.naturalLogarithm=nr.ln=function(){return br(this)},nr.negated=nr.neg=function(){var e=new this.constructor(this);return e.s=-e.s,lr(e)},nr.plus=nr.add=function(e){var t,n,r,a,i,o,s,l,u,c,d=this,f=d.constructor;if(e=new f(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new f(e.d||d.s===e.s?d:NaN)):e=new f(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,s=f.precision,l=f.rounding,!u[0]||!c[0])return c[0]||(e=new f(d)),qn?lr(e,s,l):e;if(i=Vn(d.e/7),r=Vn(e.e/7),u=u.slice(),a=i-r){for(a<0?(n=u,a=-a,o=c.length):(n=c,r=i,o=u.length),a>(o=(i=Math.ceil(s/7))>o?i+1:o+1)&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((o=u.length)-(a=c.length)<0&&(a=o,n=c,c=u,u=n),t=0;a;)t=(u[--a]=u[a]+c[a]+t)/Qn|0,u[a]%=Qn;for(t&&(u.unshift(t),++r),o=u.length;0==u[--o];)u.pop();return e.d=u,e.e=cr(u,r),qn?lr(e,s,l):e},nr.precision=nr.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error($n+e);return n.d?(t=pr(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},nr.round=function(){var e=this,t=e.constructor;return lr(new t(e),e.e+1,t.rounding)},nr.sine=nr.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Nr(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/Er(5,n)),t=Nr(e,2,t,t);for(var a,i=new e(5),o=new e(16),s=new e(20);n--;)a=t.times(t),t=t.times(i.plus(a.times(o.times(a).minus(s))));return t}(r,Ar(r,n)),r.precision=e,r.rounding=t,lr(Tn>2?n.neg():n,e,t,!0)):new r(NaN)},nr.squareRoot=nr.sqrt=function(){var e,t,n,r,a,i,o=this,s=o.d,l=o.e,u=o.s,c=o.constructor;if(1!==u||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(qn=!1,0==(u=Math.sqrt(+o))||u==1/0?(((t=rr(s)).length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=Vn((l+1)/2)-(l<0||l%2),r=new c(t=u==1/0?"5e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(r=(i=r).plus(sr(o,i,n+2,1)).times(.5),rr(i.d).slice(0,n)===(t=rr(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(a||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(lr(r,l+1,1),e=!r.times(r).eq(o));break}if(!a&&(lr(i,l+1,0),i.times(i).eq(o))){r=i;break}n+=4,a=1}return qn=!0,lr(r,l,c.rounding,e)},nr.tangent=nr.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=sr(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,lr(2==Tn||4==Tn?n.neg():n,e,t,!0)):new r(NaN)},nr.times=nr.mul=function(e){var t,n,r,a,i,o,s,l,u,c=this,d=c.constructor,f=c.d,p=(e=new d(e)).d;if(e.s*=c.s,!f||!f[0]||!p||!p[0])return new d(!e.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*e.s:e.s/0);for(n=Vn(c.e/7)+Vn(e.e/7),(l=f.length)<(u=p.length)&&(i=f,f=p,p=i,o=l,l=u,u=o),i=[],r=o=l+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+p[r]*f[a-r-1]+t,i[a--]=s%Qn|0,t=s/Qn|0;i[a]=(i[a]+t)%Qn|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=cr(i,n),qn?lr(e,d.precision,d.rounding):e},nr.toBinary=function(e,t){return Cr(this,2,e,t)},nr.toDecimalPlaces=nr.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(ar(e,0,In),void 0===t?t=r.rounding:ar(t,0,8),lr(n,e+n.e+1,t))},nr.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=ur(r,!0):(ar(e,0,In),void 0===t?t=a.rounding:ar(t,0,8),n=ur(r=lr(new a(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},nr.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?n=ur(a):(ar(e,0,In),void 0===t?t=i.rounding:ar(t,0,8),n=ur(r=lr(new i(a),e+a.e+1,t),!1,e+r.e+1)),a.isNeg()&&!a.isZero()?"-"+n:n},nr.toFraction=function(e){var t,n,r,a,i,o,s,l,u,c,d,f,p=this,h=p.d,m=p.constructor;if(!h)return new m(p);if(u=n=new m(1),r=l=new m(0),o=(i=(t=new m(r)).e=pr(h)-p.e-1)%7,t.d[0]=Yn(10,o<0?7+o:o),null==e)e=i>0?t:u;else{if(!(s=new m(e)).isInt()||s.lt(u))throw Error($n+s);e=s.gt(t)?i>0?t:u:s}for(qn=!1,s=new m(rr(h)),c=m.precision,m.precision=i=7*h.length*2;d=sr(s,t,0,1,1),1!=(a=n.plus(d.times(r))).cmp(e);)n=r,r=a,a=u,u=l.plus(d.times(a)),l=a,a=t,t=s.minus(d.times(a)),s=a;return a=sr(e.minus(n),r,0,1,1),l=l.plus(a.times(u)),n=n.plus(a.times(r)),l.s=u.s=p.s,f=sr(u,r,i,1).minus(p).abs().cmp(sr(l,n,i,1).minus(p).abs())<1?[u,r]:[l,n],m.precision=c,qn=!0,f},nr.toHexadecimal=nr.toHex=function(e,t){return Cr(this,16,e,t)},nr.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:ar(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(qn=!1,n=sr(n,e,0,t,1).times(e),qn=!0,lr(n)):(e.s=n.s,n=e),n},nr.toNumber=function(){return+this},nr.toOctal=function(e,t){return Cr(this,8,e,t)},nr.toPower=nr.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(Yn(+s,u));if((s=new l(s)).eq(1))return s;if(r=l.precision,i=l.rounding,e.eq(1))return lr(s,r,i);if((t=Vn(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return a=mr(l,s,n,r),e.s<0?new l(1).div(a):lr(a,r,i);if((o=s.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(n=Yn(+s,u))&&isFinite(n)?new l(n+"").e:Vn(u*(Math.log("0."+rr(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(qn=!1,l.rounding=s.s=1,n=Math.min(12,(t+"").length),(a=vr(e.times(br(s,r+n)),r)).d&&ir((a=lr(a,r+5,1)).d,r,i)&&(t=r+10,+rr((a=lr(vr(e.times(br(s,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(a=lr(a,r+1,0))),a.s=o,qn=!0,l.rounding=i,lr(a,r,i))},nr.toPrecision=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=ur(r,r.e<=a.toExpNeg||r.e>=a.toExpPos):(ar(e,1,In),void 0===t?t=a.rounding:ar(t,0,8),n=ur(r=lr(new a(r),e,t),e<=r.e||r.e<=a.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},nr.toSignificantDigits=nr.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(ar(e,1,In),void 0===t?t=n.rounding:ar(t,0,8)),lr(new n(this),e,t)},nr.toString=function(){var e=this,t=e.constructor,n=ur(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},nr.truncated=nr.trunc=function(){return lr(new this.constructor(this),this.e+1,1)},nr.valueOf=nr.toJSON=function(){var e=this,t=e.constructor,n=ur(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var sr=function(){function e(e,t,n){var r,a=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+a,e[i]=r%n|0,a=r/n|0;return a&&e.unshift(a),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n,r){for(var a=0;n--;)e[n]-=a,a=e[n]<t[n]?1:0,e[n]=a*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o,s,l){var u,c,d,f,p,h,m,g,y,v,b,x,w,S,N,E,A,C,k,_,D=r.constructor,j=r.s==a.s?1:-1,O=r.d,M=a.d;if(!O||!O[0]||!M||!M[0])return new D(r.s&&a.s&&(O?!M||O[0]!=M[0]:M)?O&&0==O[0]||!M?0*j:j/0:NaN);for(l?(p=1,c=r.e-a.e):(l=Qn,p=7,c=Vn(r.e/p)-Vn(a.e/p)),k=M.length,A=O.length,v=(y=new D(j)).d=[],d=0;M[d]==(O[d]||0);d++);if(M[d]>(O[d]||0)&&c--,null==i?(S=i=D.precision,o=D.rounding):S=s?i+(r.e-a.e)+1:i,S<0)v.push(1),h=!0;else{if(S=S/p+2|0,d=0,1==k){for(f=0,M=M[0],S++;(d<A||f)&&S--;d++)N=f*l+(O[d]||0),v[d]=N/M|0,f=N%M|0;h=f||d<A}else{for((f=l/(M[0]+1)|0)>1&&(M=e(M,f,l),O=e(O,f,l),k=M.length,A=O.length),E=k,x=(b=O.slice(0,k)).length;x<k;)b[x++]=0;(_=M.slice()).unshift(0),C=M[0],M[1]>=l/2&&++C;do{f=0,(u=t(M,b,k,x))<0?(w=b[0],k!=x&&(w=w*l+(b[1]||0)),(f=w/C|0)>1?(f>=l&&(f=l-1),1==(u=t(m=e(M,f,l),b,g=m.length,x=b.length))&&(f--,n(m,k<g?_:M,g,l))):(0==f&&(u=f=1),m=M.slice()),(g=m.length)<x&&m.unshift(0),n(b,m,x,l),-1==u&&(u=t(M,b,k,x=b.length))<1&&(f++,n(b,k<x?_:M,x,l)),x=b.length):0===u&&(f++,b=[0]),v[d++]=f,u&&b[0]?b[x++]=O[E]||0:(b=[O[E]],x=1)}while((E++<A||void 0!==b[0])&&S--);h=void 0!==b[0]}v[0]||v.shift()}if(1==p)y.e=c,Mn=h;else{for(d=1,f=v[0];f>=10;f/=10)d++;y.e=d+c*p-1,lr(y,s?i+y.e+1:i,o,h)}return y}}();function lr(e,t,n,r){var a,i,o,s,l,u,c,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(a=1,s=d[0];s>=10;s/=10)a++;if((i=t-a)<0)i+=7,o=t,l=(c=d[f=0])/Yn(10,a-o-1)%10|0;else if((f=Math.ceil((i+1)/7))>=(s=d.length)){if(!r)break e;for(;s++<=f;)d.push(0);c=l=0,a=1,o=(i%=7)-7+1}else{for(c=s=d[f],a=1;s>=10;s/=10)a++;l=(o=(i%=7)-7+a)<0?0:c/Yn(10,a-o-1)%10|0}if(r=r||t<0||void 0!==d[f+1]||(o<0?c:c%Yn(10,a-o-1)),u=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(i>0?o>0?c/Yn(10,a-o):0:d[f-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=Yn(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==i?(d.length=f,s=1,f--):(d.length=f+1,s=Yn(10,7-i),d[f]=o>0?(c/Yn(10,a-o)%Yn(10,o)|0)*s:0),u)for(;;){if(0==f){for(i=1,o=d[0];o>=10;o/=10)i++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;i!=s&&(e.e++,d[0]==Qn&&(d[0]=1));break}if(d[f]+=s,d[f]!=Qn)break;d[f--]=0,s=1}for(i=d.length;0===d[--i];)d.pop()}return qn&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function ur(e,t,n){if(!e.isFinite())return xr(e);var r,a=e.e,i=rr(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+hr(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):a<0?(i="0."+hr(-a-1)+i,n&&(r=n-o)>0&&(i+=hr(r))):a>=o?(i+=hr(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+hr(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=hr(r))),i}function cr(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function dr(e,t,n){if(t>er)throw qn=!0,n&&(e.precision=n),Error(Wn);return lr(new e(Rn),t,1,!0)}function fr(e,t,n){if(t>tr)throw Error(Wn);return lr(new e(zn),t,n,!0)}function pr(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function hr(e){for(var t="";e--;)t+="0";return t}function mr(e,t,n,r){var a,i=new e(1),o=Math.ceil(r/7+4);for(qn=!1;;){if(n%2&&kr((i=i.times(t)).d,o)&&(a=!0),0===(n=Vn(n/2))){n=i.d.length-1,a&&0===i.d[n]&&++i.d[n];break}kr((t=t.times(t)).d,o)}return qn=!0,i}function gr(e){return 1&e.d[e.d.length-1]}function yr(e,t,n){for(var r,a,i=new e(t[0]),o=0;++o<t.length;){if(!(a=new e(t[o])).s){i=a;break}((r=i.cmp(a))===n||0===r&&i.s===n)&&(i=a)}return i}function vr(e,t){var n,r,a,i,o,s,l,u=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(qn=!1,l=h):l=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(l+=r=Math.log(Yn(2,d))/Math.LN10*2+5|0,n=i=o=new f(1),f.precision=l;;){if(i=lr(i.times(e),l,1),n=n.times(++c),rr((s=o.plus(sr(i,n,l,1))).d).slice(0,l)===rr(o.d).slice(0,l)){for(a=d;a--;)o=lr(o.times(o),l,1);if(null!=t)return f.precision=h,o;if(!(u<3&&ir(o.d,l-r,p,u)))return lr(o,f.precision=h,p,qn=!0);f.precision=l+=10,n=i=s=new f(1),c=0,u++}o=s}}function br(e,t){var n,r,a,i,o,s,l,u,c,d,f,p=1,h=e,m=h.d,g=h.constructor,y=g.rounding,v=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(qn=!1,c=v):c=t,g.precision=c+=10,r=(n=rr(m)).charAt(0),!(Math.abs(i=h.e)<15e14))return u=dr(g,c+2,v).times(i+""),h=br(new g(r+"."+n.slice(1)),c-10).plus(u),g.precision=v,null==t?lr(h,v,y,qn=!0):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=rr((h=h.times(e)).d)).charAt(0),p++;for(i=h.e,r>1?(h=new g("0."+n),i++):h=new g(r+"."+n.slice(1)),d=h,l=o=h=sr(h.minus(1),h.plus(1),c,1),f=lr(h.times(h),c,1),a=3;;){if(o=lr(o.times(f),c,1),rr((u=l.plus(sr(o,new g(a),c,1))).d).slice(0,c)===rr(l.d).slice(0,c)){if(l=l.times(2),0!==i&&(l=l.plus(dr(g,c+2,v).times(i+""))),l=sr(l,new g(p),c,1),null!=t)return g.precision=v,l;if(!ir(l.d,c-10,y,s))return lr(l,g.precision=v,y,qn=!0);g.precision=c+=10,u=o=h=sr(d.minus(1),d.plus(1),c,1),f=lr(h.times(h),c,1),a=s=1}l=u,a+=2}}function xr(e){return String(e.s*e.s/0)}function wr(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(a=t.length;48===t.charCodeAt(a-1);--a);if(t=t.slice(r,a)){if(a-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";e.d.push(+t),qn&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Sr(e,t){var n,r,a,i,o,s,l,u,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Zn.test(t))return wr(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Xn.test(t))n=16,t=t.toLowerCase();else if(Gn.test(t))n=2;else{if(!Jn.test(t))throw Error($n+t);n=8}for((i=t.search(/p/i))>0?(l=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),o=(i=t.indexOf("."))>=0,r=e.constructor,o&&(i=(s=(t=t.replace(".","")).length)-i,a=mr(r,new r(n),i,2*i)),i=c=(u=or(t,n,Qn)).length-1;0===u[i];--i)u.pop();return i<0?new r(0*e.s):(e.e=cr(u,c),e.d=u,qn=!1,o&&(e=sr(e,a,4*s)),l&&(e=e.times(Math.abs(l)<54?Yn(2,l):ha.pow(2,l))),qn=!0,e)}function Nr(e,t,n,r,a){var i,o,s,l,u=e.precision,c=Math.ceil(u/7);for(qn=!1,l=n.times(n),s=new e(r);;){if(o=sr(s.times(l),new e(t++*t++),u,1),s=a?r.plus(o):r.minus(o),r=sr(o.times(l),new e(t++*t++),u,1),void 0!==(o=s.plus(r)).d[c]){for(i=c;o.d[i]===s.d[i]&&i--;);if(-1==i)break}i=s,s=r,r=o,o=i}return qn=!0,o.d.length=c+1,o}function Er(e,t){for(var n=e;--t;)n*=e;return n}function Ar(e,t){var n,r=t.s<0,a=fr(e,e.precision,1),i=a.times(.5);if((t=t.abs()).lte(i))return Tn=r?4:1,t;if((n=t.divToInt(a)).isZero())Tn=r?3:2;else{if((t=t.minus(n.times(a))).lte(i))return Tn=gr(n)?r?2:3:r?4:1,t;Tn=gr(n)?r?1:4:r?3:2}return t.minus(a).abs()}function Cr(e,t,n,r){var a,i,o,s,l,u,c,d,f,p=e.constructor,h=void 0!==n;if(h?(ar(n,1,In),void 0===r?r=p.rounding:ar(r,0,8)):(n=p.precision,r=p.rounding),e.isFinite()){for(h?(a=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):a=t,(o=(c=ur(e)).indexOf("."))>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-o,f.d=or(ur(f),10,a),f.e=f.d.length),i=l=(d=or(c,10,a)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?i--:((e=new p(e)).d=d,e.e=i,d=(e=sr(e,f,n,r,0,a)).d,i=e.e,u=Mn),o=d[n],s=a/2,u=u||void 0!==d[n+1],u=r<4?(void 0!==o||u)&&(0===r||r===(e.s<0?3:2)):o>s||o===s&&(4===r||u||6===r&&1&d[n-1]||r===(e.s<0?8:7)),d.length=n,u)for(;++d[--n]>a-1;)d[n]=0,n||(++i,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,c="";o<l;o++)c+=Bn.charAt(d[o]);if(h){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)c+="0";for(l=(d=or(c,a,t)).length;!d[l-1];--l);for(o=1,c="1.";o<l;o++)c+=Bn.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)c="0"+c;c="0."+c}else if(++i>l)for(i-=l;i--;)c+="0";else i<l&&(c=c.slice(0,i)+"."+c.slice(i))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=xr(e);return e.s<0?"-"+c:c}function kr(e,t){if(e.length>t)return e.length=t,!0}function _r(e){return new this(e).abs()}function Dr(e){return new this(e).acos()}function jr(e){return new this(e).acosh()}function Or(e,t){return new this(e).plus(t)}function Mr(e){return new this(e).asin()}function Tr(e){return new this(e).asinh()}function Pr(e){return new this(e).atan()}function Fr(e){return new this(e).atanh()}function Ir(e,t){e=new this(e),t=new this(t);var n,r=this.precision,a=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?fr(this,r,a):new this(0)).s=e.s:!e.d||t.isZero()?(n=fr(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(sr(e,t,i,1)),t=fr(this,i,1),this.precision=r,this.rounding=a,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(sr(e,t,i,1)):(n=fr(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Br(e){return new this(e).cbrt()}function Rr(e){return lr(e=new this(e),e.e+1,2)}function zr(e,t,n){return new this(e).clamp(t,n)}function Lr(e){if(!e||"object"!==typeof e)throw Error(Un+"Object expected");var t,n,r,a=!0===e.defaults,i=["precision",1,In,"rounding",0,8,"toExpNeg",-Fn,0,"toExpPos",0,Fn,"maxE",0,Fn,"minE",-Fn,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],a&&(this[n]=Ln[n]),void 0!==(r=e[n])){if(!(Vn(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error($n+n+": "+r);this[n]=r}if(n="crypto",a&&(this[n]=Ln[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error($n+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Hn);this[n]=!0}else this[n]=!1}return this}function qr(e){return new this(e).cos()}function Ur(e){return new this(e).cosh()}function $r(e,t){return new this(e).div(t)}function Wr(e){return new this(e).exp()}function Hr(e){return lr(e=new this(e),e.e+1,3)}function Kr(){var e,t,n=new this(0);for(qn=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return qn=!0,new this(1/0);n=t}return qn=!0,n.sqrt()}function Vr(e){return e instanceof ha||e&&e.toStringTag===Kn||!1}function Yr(e){return new this(e).ln()}function Gr(e,t){return new this(e).log(t)}function Xr(e){return new this(e).log(2)}function Jr(e){return new this(e).log(10)}function Zr(){return yr(this,arguments,-1)}function Qr(){return yr(this,arguments,1)}function ea(e,t){return new this(e).mod(t)}function ta(e,t){return new this(e).mul(t)}function na(e,t){return new this(e).pow(t)}function ra(e){var t,n,r,a,i=0,o=new this(1),s=[];if(void 0===e?e=this.precision:ar(e,1,In),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(a=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=a%1e7;else{if(!crypto.randomBytes)throw Error(Hn);for(t=crypto.randomBytes(r*=4);i<r;)(a=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(s.push(a%1e7),i+=4);i=r/4}else for(;i<r;)s[i++]=1e7*Math.random()|0;for(e%=7,(r=s[--i])&&e&&(a=Yn(10,7-e),s[i]=(r/a|0)*a);0===s[i];i--)s.pop();if(i<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,a=s[0];a>=10;a/=10)r++;r<7&&(n-=7-r)}return o.e=n,o.d=s,o}function aa(e){return lr(e=new this(e),e.e+1,this.rounding)}function ia(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function oa(e){return new this(e).sin()}function sa(e){return new this(e).sinh()}function la(e){return new this(e).sqrt()}function ua(e,t){return new this(e).sub(t)}function ca(){var e=0,t=arguments,n=new this(t[e]);for(qn=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return qn=!0,lr(n,this.precision,this.rounding)}function da(e){return new this(e).tan()}function fa(e){return new this(e).tanh()}function pa(e){return lr(e=new this(e),e.e+1,1)}nr[Symbol.for("nodejs.util.inspect.custom")]=nr.toString,nr[Symbol.toStringTag]="Decimal";var ha=nr.constructor=function e(t){var n,r,a;function i(e){var t,n,r,a=this;if(!(a instanceof i))return new i(e);if(a.constructor=i,Vr(e))return a.s=e.s,void(qn?!e.d||e.e>i.maxE?(a.e=NaN,a.d=null):e.e<i.minE?(a.e=0,a.d=[0]):(a.e=e.e,a.d=e.d.slice()):(a.e=e.e,a.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return a.s=1/e<0?-1:1,a.e=0,void(a.d=[0]);if(e<0?(e=-e,a.s=-1):a.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(qn?t>i.maxE?(a.e=NaN,a.d=null):t<i.minE?(a.e=0,a.d=[0]):(a.e=t,a.d=[e]):(a.e=t,a.d=[e]))}return 0*e!==0?(e||(a.s=NaN),a.e=NaN,void(a.d=null)):wr(a,e.toString())}if("string"===r)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),a.s=-1):(43===n&&(e=e.slice(1)),a.s=1),Zn.test(e)?wr(a,e):Sr(a,e);if("bigint"===r)return e<0?(e=-e,a.s=-1):a.s=1,wr(a,e.toString());throw Error($n+e)}if(i.prototype=nr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Lr,i.clone=e,i.isDecimal=Vr,i.abs=_r,i.acos=Dr,i.acosh=jr,i.add=Or,i.asin=Mr,i.asinh=Tr,i.atan=Pr,i.atanh=Fr,i.atan2=Ir,i.cbrt=Br,i.ceil=Rr,i.clamp=zr,i.cos=qr,i.cosh=Ur,i.div=$r,i.exp=Wr,i.floor=Hr,i.hypot=Kr,i.ln=Yr,i.log=Gr,i.log10=Jr,i.log2=Xr,i.max=Zr,i.min=Qr,i.mod=ea,i.mul=ta,i.pow=na,i.random=ra,i.round=aa,i.sign=ia,i.sin=oa,i.sinh=sa,i.sqrt=la,i.sub=ua,i.sum=ca,i.tan=da,i.tanh=fa,i.trunc=pa,void 0===t&&(t={}),t&&!0!==t.defaults)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(Ln);Rn=new ha(Rn),zn=new ha(zn);const ma=ha;var ga=Ve("BigNumber",["?on","config"],e=>{var{on:t,config:n}=e,r=ma.clone({precision:n.precision,modulo:ma.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})}),r},{isClass:!0});const ya=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},va=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},ba=function(e,t){return(e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},xa=function(){throw SyntaxError("Invalid Param")};function wa(e,t){const n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):(e*=.5,t*=.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Sa={re:0,im:0},Na=function(e,t){const n=Sa;if(void 0===e||null===e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return Ea.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return Ea.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):xa();break;case"string":n.im=n.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,a=0;null===t&&xa();for(let e=0;e<t.length;e++){const i=t[e];" "===i||"\t"===i||"\n"===i||("+"===i?r++:"-"===i?a++:"i"===i||"I"===i?(r+a===0&&xa()," "===t[e+1]||isNaN(t[e+1])?n.im+=parseFloat((a%2?"-":"")+"1"):(n.im+=parseFloat((a%2?"-":"")+t[e+1]),e++),r=a=0):((r+a===0||isNaN(i))&&xa(),"i"===t[e+1]||"I"===t[e+1]?(n.im+=parseFloat((a%2?"-":"")+i),e++):n.re+=parseFloat((a%2?"-":"")+i),r=a=0))}r+a>0&&xa();break;case"number":n.im=0,n.re=e;break;default:xa()}return isNaN(n.re)||isNaN(n.im),n};function Ea(e,t){if(!(this instanceof Ea))return new Ea(e,t);const n=Na(e,t);this.re=n.re,this.im=n.im}Ea.prototype={re:0,im:0,sign:function(){const e=ba(this.re,this.im);return new Ea(this.re/e,this.im/e)},add:function(e,t){const n=Na(e,t),r=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im));return r||a?r&&a?Ea.NAN:Ea.INFINITY:new Ea(this.re+n.re,this.im+n.im)},sub:function(e,t){const n=Na(e,t),r=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im));return r||a?r&&a?Ea.NAN:Ea.INFINITY:new Ea(this.re-n.re,this.im-n.im)},mul:function(e,t){const n=Na(e,t),r=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im)),i=0===this.re&&0===this.im,o=0===n.re&&0===n.im;return r&&o||a&&i?Ea.NAN:r||a?Ea.INFINITY:0===n.im&&0===this.im?new Ea(this.re*n.re,0):new Ea(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){const n=Na(e,t),r=this.isInfinite(),a=!(isFinite(n.re)&&isFinite(n.im)),i=0===this.re&&0===this.im,o=0===n.re&&0===n.im;if(i&&o||r&&a)return Ea.NAN;if(o||r)return Ea.INFINITY;if(i||a)return Ea.ZERO;if(0===n.im)return new Ea(this.re/n.re,this.im/n.re);if(Math.abs(n.re)<Math.abs(n.im)){const e=n.re/n.im,t=n.re*e+n.im;return new Ea((this.re*e+this.im)/t,(this.im*e-this.re)/t)}{const e=n.im/n.re,t=n.im*e+n.re;return new Ea((this.re+this.im*e)/t,(this.im-this.re*e)/t)}},pow:function(e,t){const n=Na(e,t),r=0===this.re&&0===this.im;if(0===n.re&&0===n.im)return Ea.ONE;if(0===n.im){if(0===this.im&&this.re>0)return new Ea(Math.pow(this.re,n.re),0);if(0===this.re)switch((n.re%4+4)%4){case 0:return new Ea(Math.pow(this.im,n.re),0);case 1:return new Ea(0,Math.pow(this.im,n.re));case 2:return new Ea(-Math.pow(this.im,n.re),0);case 3:return new Ea(0,-Math.pow(this.im,n.re))}}if(r&&n.re>0)return Ea.ZERO;const a=Math.atan2(this.im,this.re),i=wa(this.re,this.im);let o=Math.exp(n.re*i-n.im*a),s=n.im*i+n.re*a;return new Ea(o*Math.cos(s),o*Math.sin(s))},sqrt:function(){const e=this.re,t=this.im;if(0===t)return e>=0?new Ea(Math.sqrt(e),0):new Ea(0,Math.sqrt(-e));const n=ba(e,t);let r=Math.sqrt(.5*(n+Math.abs(e))),a=Math.abs(t)/(2*r);return e>=0?new Ea(r,t<0?-a:a):new Ea(a,t<0?-r:r)},exp:function(){const e=Math.exp(this.re);return 0===this.im?new Ea(e,0):new Ea(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new Ea(Math.expm1(e)*Math.cos(t)+function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const n=e*e;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return 0===t&&e>0?new Ea(Math.log(e),0):new Ea(wa(e,t),Math.atan2(t,e))},abs:function(){return ba(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new Ea(Math.sin(e)*ya(t),Math.cos(e)*va(t))},cos:function(){const e=this.re,t=this.im;return new Ea(Math.cos(e)*ya(t),-Math.sin(e)*va(t))},tan:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)+ya(t);return new Ea(Math.sin(e)/n,va(t)/n)},cot:function(){const e=2*this.re,t=2*this.im,n=Math.cos(e)-ya(t);return new Ea(-Math.sin(e)/n,va(t)/n)},sec:function(){const e=this.re,t=this.im,n=.5*ya(2*t)+.5*Math.cos(2*e);return new Ea(Math.cos(e)*ya(t)/n,Math.sin(e)*va(t)/n)},csc:function(){const e=this.re,t=this.im,n=.5*ya(2*t)-.5*Math.cos(2*e);return new Ea(Math.sin(e)*ya(t)/n,-Math.cos(e)*va(t)/n)},asin:function(){const e=this.re,t=this.im,n=new Ea(t*t-e*e+1,-2*e*t).sqrt(),r=new Ea(n.re-t,n.im+e).log();return new Ea(r.im,-r.re)},acos:function(){const e=this.re,t=this.im,n=new Ea(t*t-e*e+1,-2*e*t).sqrt(),r=new Ea(n.re-t,n.im+e).log();return new Ea(Math.PI/2-r.im,r.re)},atan:function(){const e=this.re,t=this.im;if(0===e){if(1===t)return new Ea(0,1/0);if(-1===t)return new Ea(0,-1/0)}const n=e*e+(1-t)*(1-t),r=new Ea((1-t*t-e*e)/n,-2*e/n).log();return new Ea(-.5*r.im,.5*r.re)},acot:function(){const e=this.re,t=this.im;if(0===t)return new Ea(Math.atan2(1,e),0);const n=e*e+t*t;return 0!==n?new Ea(e/n,-t/n).atan():new Ea(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new Ea(0,1/0);const n=e*e+t*t;return 0!==n?new Ea(e/n,-t/n).acos():new Ea(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new Ea(Math.PI/2,1/0);const n=e*e+t*t;return 0!==n?new Ea(e/n,-t/n).asin():new Ea(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new Ea(va(e)*Math.cos(t),ya(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new Ea(ya(e)*Math.cos(t),va(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,n=ya(e)+Math.cos(t);return new Ea(va(e)/n,Math.sin(t)/n)},coth:function(){const e=2*this.re,t=2*this.im,n=ya(e)-Math.cos(t);return new Ea(va(e)/n,-Math.sin(t)/n)},csch:function(){const e=this.re,t=this.im,n=Math.cos(2*t)-ya(2*e);return new Ea(-2*va(e)*Math.cos(t)/n,2*ya(e)*Math.sin(t)/n)},sech:function(){const e=this.re,t=this.im,n=Math.cos(2*t)+ya(2*e);return new Ea(2*ya(e)*Math.cos(t)/n,-2*va(e)*Math.sin(t)/n)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,n=e>1&&0===t,r=1-e,a=1+e,i=r*r+t*t,o=0!==i?new Ea((a*r-t*t)/i,(t*r+a*t)/i):new Ea(-1!==e?e/0:0,0!==t?t/0:0),s=o.re;return o.re=wa(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,n&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(0===e&&0===t)return new Ea(0,Math.PI/2);const n=e*e+t*t;return 0!==n?new Ea(e/n,-t/n).atanh():new Ea(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(0===t)return new Ea(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const n=e*e+t*t;return 0!==n?new Ea(e/n,-t/n).asinh():new Ea(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return Ea.INFINITY;const n=e*e+t*t;return 0!==n?new Ea(e/n,-t/n).acosh():new Ea(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return Ea.INFINITY;if(this.isInfinite())return Ea.ZERO;const e=this.re,t=this.im,n=e*e+t*t;return new Ea(e/n,-t/n)},conjugate:function(){return new Ea(this.re,-this.im)},neg:function(){return new Ea(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new Ea(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new Ea(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new Ea(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const n=Na(e,t);return Math.abs(n.re-this.re)<=Ea.EPSILON&&Math.abs(n.im-this.im)<=Ea.EPSILON},clone:function(){return new Ea(this.re,this.im)},toString:function(){let e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<Ea.EPSILON&&(e=0),Math.abs(t)<Ea.EPSILON&&(t=0),0===t?n+e:(0!==e?(n+=e,n+=" ",t<0?(t=-t,n+="-"):n+="+",n+=" "):t<0&&(t=-t,n+="-"),1!==t&&(n+=t),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Ea.ZERO=new Ea(0,0),Ea.ONE=new Ea(1,0),Ea.I=new Ea(0,1),Ea.PI=new Ea(Math.PI,0),Ea.E=new Ea(Math.E,0),Ea.INFINITY=new Ea(1/0,1/0),Ea.NAN=new Ea(NaN,NaN),Ea.EPSILON=1e-15;var Aa=Ve("Complex",[],()=>(Object.defineProperty(Ea,"name",{value:"Complex"}),Ea.prototype.constructor=Ea,Ea.prototype.type="Complex",Ea.prototype.isComplex=!0,Ea.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ea.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ea.prototype.format=function(e){var t=this.im,n=this.re,r=at(this.re,e),a=at(this.im,e),i=G(e)?e:e?e.precision:null;if(null!==i){var o=Math.pow(10,-i);Math.abs(n/t)<o&&(n=0),Math.abs(t/n)<o&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":a+"i":t<0?-1===t?r+" - i":r+" - "+a.substring(1)+"i":1===t?r+" + i":r+" + "+a+"i"},Ea.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===typeof t)return Ea(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(G(n)){if(Q(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),G(r))return new Ea({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ea.prototype.valueOf=Ea.prototype.toString,Ea.fromJSON=function(e){return new Ea(e)},Ea.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Ea),{isClass:!0}),Ca=n(1937),ka=Ve("Fraction",[],()=>(Object.defineProperty(Ca,"name",{value:"Fraction"}),Ca.prototype.constructor=Ca,Ca.prototype.type="Fraction",Ca.prototype.isFraction=!0,Ca.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Ca.fromJSON=function(e){return new Ca(e)},Ca),{isClass:!0}),_a=Ve("Range",[],()=>{function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var a=null!==t&&void 0!==t,i=null!==n&&void 0!==n,o=null!==r&&void 0!==r;if(a)if(X(t))t=t.toNumber();else if("number"!==typeof t)throw new TypeError("Parameter start must be a number");if(i)if(X(n))n=n.toNumber();else if("number"!==typeof n)throw new TypeError("Parameter end must be a number");if(o)if(X(r))r=r.toNumber();else if("number"!==typeof r)throw new TypeError("Parameter step must be a number");this.start=a?parseFloat(t):0,this.end=i?parseFloat(n):0,this.step=o?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!==typeof t)return null;var n=t.split(":").map(function(e){return parseFloat(e)});if(n.some(function(e){return isNaN(e)}))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end-t;return Je(n)===Je(r)?e=Math.ceil(r/n):0===r&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,a=0;if(n>0)for(;t<r;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>r;)e(t,[a],this),t+=n,a++},e.prototype.map=function(e){var t=[];return this.forEach(function(n,r,a){t[r[0]]=e(n,r,a)}),t},e.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=at(this.start,e);return 1!==this.step&&(t+=":"+at(this.step,e)),t+=":"+at(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e},{isClass:!0}),Da=Ve("Matrix",[],()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function ja(e){var t=0,n=1,r=Object.create(null),a=Object.create(null),i=0,o=function(e){var o=a[e];if(o&&(delete r[o],delete a[e],--t,n===o)){if(!t)return i=0,void(n=1);for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return e=Math.abs(e),{hit:function(s){var l=a[s],u=++i;if(r[u]=s,a[s]=u,!l){if(++t<=e)return;return s=r[n],o(s),s}if(delete r[l],n===l)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:o,clear:function(){t=i=0,n=1,r=Object.create(null),a=Object.create(null)}}}function Oa(e){var{hasher:t,limit:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=null==n?Number.POSITIVE_INFINITY:n,t=null==t?JSON.stringify:t,function r(){"object"!==typeof r.cache&&(r.cache={values:new Map,lru:ja(n||Number.POSITIVE_INFINITY)});for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var o=t(a);if(r.cache.values.has(o))return r.cache.lru.hit(o),r.cache.values.get(o);var s=e.apply(e,a);return r.cache.values.set(o,s),r.cache.values.delete(r.cache.lru.hit(o)),s}}function Ma(e){return Object.keys(e.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var Ta=Ve("DenseMatrix",["Matrix"],e=>{var{Matrix:t}=e;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!ee(t))throw new Error("Invalid datatype: "+t);if(ne(e))"DenseMatrix"===e.type?(this._data=Ie(e._data),this._size=Ie(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&te(e.data)&&te(e.size))this._data=e.data,this._size=e.size,Mt(this._data,this._size),this._datatype=t||e.datatype;else if(te(e))this._data=s(e),this._size=jt(this._data),Mt(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+Fe(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t,n,a){var i=a===n-1,o=t.dimension(a);return i?o.map(function(t){return Pt(t,e.length),e[t]}).valueOf():o.map(function(i){return Pt(i,e.length),r(e[i],t,n,a+1)}).valueOf()}function a(e,t,n,r,i){var o=i===r-1,s=t.dimension(i);o?s.forEach(function(t,r){Pt(t),e[t]=n[r[0]]}):s.forEach(function(o,s){Pt(o),a(e[o],t,n[s[0]],r,i+1)})}function i(e,t,n){if(0===t.length){for(var r=e._data;te(r);)r=r[0];return r}return e._size=t.slice(0),e._data=It(e._data,e._size,n),e}function o(e,t,n){for(var r=e._size.slice(0),a=!1;r.length<t.length;)r.push(0),a=!0;for(var o=0,s=t.length;o<s;o++)t[o]>r[o]&&(r[o]=t[o],a=!0);a&&i(e,r,n)}function s(e){return ne(e)?s(e.valueOf()):te(e)?e.map(s):e}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Qt(this._data,Fe)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,i){switch(arguments.length){case 1:return function(e,t){if(!se(t))throw new TypeError("Invalid index");var a=t.isScalar();if(a)return e.get(t.min());var i=t.size();if(i.length!==e._size.length)throw new _t(i.length,e._size.length);for(var o=t.min(),s=t.max(),l=0,u=e._size.length;l<u;l++)Pt(o[l],e._size[l]),Pt(s[l],e._size[l]);return new n(r(e._data,t,i.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,s=t.size(),l=t.isScalar();ne(n)?(i=n.size(),n=n.valueOf()):i=jt(n);if(l){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(!Le(i,s))try{i=jt(n=0===i.length?on([n],s):on(n,s))}catch(h){}if(s.length<e._size.length)throw new _t(s.length,e._size.length,"<");if(i.length<s.length){for(var u=0,c=0;1===s[u]&&1===i[u];)u++;for(;1===s[u];)c++,u++;n=$t(n,s.length,c,i)}if(!Le(s,i))throw new _t(s,i,">");var d=t.max().map(function(e){return e+1});o(e,d,r);var f=s.length,p=0;a(e._data,t,n,f,p)}return e}(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!te(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new _t(e.length,this._size.length);for(var t=0;t<e.length;t++)Pt(e[t],this._size[t]);for(var n=this._data,r=0,a=e.length;r<a;r++){var i=e[r];Pt(i,n.length),n=n[i]}return n},n.prototype.set=function(e,t,n){if(!te(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new _t(e.length,this._size.length,"<");var r,a,i,s=e.map(function(e){return e+1});o(this,s,n);var l=this._data;for(r=0,a=e.length-1;r<a;r++)Pt(i=e[r],l.length),l=l[i];return Pt(i=e[e.length-1],l.length),l[i]=t,this},n.prototype.resize=function(e,t,n){if(!re(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return i(n?this.clone():this,r,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;n._data=Rt(n._data,e);var r=n._size.reduce((e,t)=>e*t);return n._size=zt(e,r),n},n.prototype.clone=function(){return new n({data:Ie(this._data),size:Ie(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this,r=Ma(e),a=function n(a,i){return te(a)?a.map(function(e,t){return n(e,i.concat(t))}):1===r?e(a):2===r?e(a,i):e(a,i,t)}(this._data,[]);return new n(a,void 0!==this._datatype?Qt(a,Fe):void 0)},n.prototype.forEach=function(e){var t=this;!function n(r,a){te(r)?r.forEach(function(e,t){n(e,a.concat(t))}):e(r,a,t)}(this._data,[])},n.prototype[Symbol.iterator]=function*(){yield*function*e(t,n){if(te(t))for(var r=0;r<t.length;r++)yield*e(t[r],n.concat(r));else yield{value:t,index:n}}(this._data,[])},n.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var r of t)e.push(new n([r],this._datatype));return e},n.prototype.columns=function(){var e=this,t=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var a=this._data,i=function(r){var i=a.map(e=>[e[r]]);t.push(new n(i,e._datatype))},o=0;o<r[1];o++)i(o);return t},n.prototype.toArray=function(){return Ie(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return St(this._data,e)},n.prototype.toString=function(){return St(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(X(e)&&(e=e.toNumber()),!G(e)||!Xe(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,a=this._size[0],i=this._size[1],o=Math.min(a-r,i-t),s=[],l=0;l<o;l++)s[l]=this._data[l+r][l+t];return new n({data:s,size:[o],datatype:this._datatype})},n.diagonal=function(e,t,r,a){if(!te(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(X(e)&&(e=e.toNumber()),!G(e)||!Xe(e)||e<1)throw new Error("Size values must be positive integers");return e}),r){if(X(r)&&(r=r.toNumber()),!G(r)||!Xe(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var i,o=r>0?r:0,s=r<0?-r:0,l=e[0],u=e[1],c=Math.min(l-s,u-o);if(te(t)){if(t.length!==c)throw new Error("Invalid value array length");i=function(e){return t[e]}}else if(ne(t)){var d=t.size();if(1!==d.length||d[0]!==c)throw new Error("Invalid matrix length");i=function(e){return t.get([e])}}else i=function(){return t};a||(a=X(i(0))?i(0).mul(0):0);var f=[];if(e.length>0){f=It(f,e,a);for(var p=0;p<c;p++)f[p+s][p+o]=i(p)}return new n({data:f,size:[l,u]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!G(e)||!Xe(e)||!G(t)||!Xe(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Pt(e,this._size[0]),Pt(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n},{isClass:!0}),Pa="clone",Fa=Ve(Pa,["typed"],e=>{var{typed:t}=e;return t(Pa,{any:Ie})});function Ia(e){var t,n,r=e.length,a=e[0].length,i=[];for(n=0;n<a;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);i.push(o)}return i}function Ba(e){for(var t=0;t<e.length;t++)if(re(e[t]))return!0;return!1}function Ra(e,t){ne(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var a=e[n];Array.isArray(a)?Ra(a,t):t(a)}}function za(e,t,n){return e&&"function"===typeof e.map?e.map(function(e){return za(e,t,n)}):t(e)}function La(e,t,n){var r=Array.isArray(e)?jt(e):e.size();if(t<0||t>=r.length)throw new Dt(t,r.length);return ne(e)?e.create(qa(e.valueOf(),t,n)):qa(e,t,n)}function qa(e,t,n){var r,a,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=Ia(e),a=[],r=0;r<o.length;r++)a[r]=qa(o[r],t-1,n);return a}for(i=e[0],r=1;r<e.length;r++)i=n(i,e[r]);return i}for(a=[],r=0;r<e.length;r++)a[r]=qa(e[r],t-1,n);return a}function Ua(e,t,n,r,a,i,o,s,l,u,c){var d,f,p,h,m=e._values,g=e._index,y=e._ptr;if(r)for(f=y[t],p=y[t+1],d=f;d<p;d++)n[h=g[d]]!==i?(n[h]=i,o.push(h),u?(r[h]=l?s(m[d],c):s(c,m[d]),a[h]=i):r[h]=m[d]):(r[h]=l?s(m[d],r[h]):s(r[h],m[d]),a[h]=i);else for(f=y[t],p=y[t+1],d=f;d<p;d++)n[h=g[d]]!==i?(n[h]=i,o.push(h)):a[h]=i}var $a="isInteger",Wa=Ve($a,["typed"],e=>{var{typed:t}=e;return t($a,{number:Xe,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Ha="number";function Ka(e){return e<0}function Va(e){return e>0}function Ya(e){return 0===e}function Ga(e){return Number.isNaN(e)}Ka.signature=Ha,Va.signature=Ha,Ya.signature=Ha,Ga.signature=Ha;var Xa="isNegative",Ja=Ve(Xa,["typed"],e=>{var{typed:t}=e;return t(Xa,{number:Ka,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Za="isNumeric",Qa=Ve(Za,["typed"],e=>{var{typed:t}=e;return t(Za,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),ei="hasNumericValue",ti=Ve(ei,["typed","isNumeric"],e=>{var{typed:t,isNumeric:n}=e;return t(ei,{boolean:()=>!0,string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return n(e)}})}),ni="isPositive",ri=Ve(ni,["typed"],e=>{var{typed:t}=e;return t(ni,{number:Va,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),ai="isZero",ii=Ve(ai,["typed"],e=>{var{typed:t}=e;return t(ai,{number:Ya,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),oi="isNaN",si=Ve(oi,["typed"],e=>{var{typed:t}=e;return t(oi,{number:Ga,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return za(e,Number.isNaN)}})}),li="typeOf",ui=Ve(li,["typed"],e=>{var{typed:t}=e;return t(li,{any:Fe})});function ci(e,t,n){if(null===n||void 0===n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var a=e.constructor.max(e.abs(),t.abs());return r.lte(a.times(n))}return!1}var di=Ve("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(!n.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(e,[n.valueType(),r.valueType()])(n.value,r.value)})}}),fi="equalScalar",pi=Ve(fi,["typed","config"],e=>{var{typed:t,config:n}=e,r=di({typed:t});return t(fi,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return dt(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||ci(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return dt(e.re,t.re,n)&&dt(e.im,t.im,n)}(e,t,n.epsilon)}},r)}),hi=(Ve(fi,["typed","config"],e=>{var{typed:t,config:n}=e;return t(fi,{"number, number":function(e,t){return dt(e,t,n.epsilon)}})}),Ve("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function a(e,t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!ee(t))throw new Error("Invalid datatype: "+t);if(ne(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?Ie(t._values):void 0,e._index=Ie(t._index),e._ptr=Ie(t._ptr),e._size=Ie(t._size),e._datatype=n||t._datatype):i(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&te(e.index)&&te(e.ptr)&&te(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(te(e))i(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+Fe(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function i(e,r,a){e._values=[],e._index=[],e._ptr=[],e._datatype=a;var i=r.length,o=0,s=n,l=0;if(ee(a)&&(s=t.find(n,[a,a])||n,l=t.convert(0,a)),i>0){var u=0;do{e._ptr.push(e._index.length);for(var c=0;c<i;c++){var d=r[c];if(te(d)){if(0===u&&o<d.length&&(o=d.length),u<d.length){var f=d[u];s(f,l)||(e._values.push(f),e._index.push(c))}}else 0===u&&o<1&&(o=1),s(d,l)||(e._values.push(d),e._index.push(c))}u++}while(u<o)}e._ptr.push(e._index.length),e._size=[i,o]}function o(e,t,n,r){if(n-t===0)return n;for(var a=t;a<n;a++)if(r[a]===e)return a;return t}function s(e,t,n,r,a,i,o){a.splice(e,0,r),i.splice(e,0,t);for(var s=n+1;s<o.length;s++)o[s]++}function l(e,r,a,i){var o=i||0,s=n,l=0;ee(e._datatype)&&(s=t.find(n,[e._datatype,e._datatype])||n,l=t.convert(0,e._datatype),o=t.convert(o,e._datatype));var u,c,d,f=!s(o,l),p=e._size[0],h=e._size[1];if(a>h){for(c=h;c<a;c++)if(e._ptr[c]=e._values.length,f)for(u=0;u<p;u++)e._values.push(o),e._index.push(u);e._ptr[a]=e._values.length}else a<h&&(e._ptr.splice(a+1,h-a),e._values.splice(e._ptr[a],e._values.length),e._index.splice(e._ptr[a],e._index.length));if(h=a,r>p){if(f){var m=0;for(c=0;c<h;c++){e._ptr[c]=e._ptr[c]+m,d=e._ptr[c+1]+m;var g=0;for(u=p;u<r;u++,g++)e._values.splice(d+g,0,o),e._index.splice(d+g,0,u),m++}e._ptr[h]=e._values.length}}else if(r<p){var y=0;for(c=0;c<h;c++){e._ptr[c]=e._ptr[c]-y;var v=e._ptr[c],b=e._ptr[c+1]-y;for(d=v;d<b;d++)(u=e._index[d])>r-1&&(e._values.splice(d,1),e._index.splice(d,1),y++)}e._ptr[c]=e._values.length}return e._size[0]=r,e._size[1]=a,e}function u(e,t,n,r,a){var i,o,s=r[0],l=r[1],u=[];for(i=0;i<s;i++)for(u[i]=[],o=0;o<l;o++)u[i][o]=0;for(o=0;o<l;o++)for(var c=n[o],d=n[o+1],f=c;f<d;f++)u[i=t[f]][o]=e?a?Ie(e[f]):e[f]:1;return u}return a.prototype=new r,a.prototype.createSparseMatrix=function(e,t){return new a(e,t)},Object.defineProperty(a,"name",{value:"SparseMatrix"}),a.prototype.constructor=a,a.prototype.type="SparseMatrix",a.prototype.isSparseMatrix=!0,a.prototype.getDataType=function(){return Qt(this._values,Fe)},a.prototype.storage=function(){return"sparse"},a.prototype.datatype=function(){return this._datatype},a.prototype.create=function(e,t){return new a(e,t)},a.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},a.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!se(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,i,o,s=t.size();if(s.length!==e._size.length)throw new _t(s.length,e._size.length);var l=t.min(),u=t.max();for(n=0,r=e._size.length;n<r;n++)Pt(l[n],e._size[n]),Pt(u[n],e._size[n]);var c=e._values,d=e._index,f=e._ptr,p=t.dimension(0),h=t.dimension(1),m=[],g=[];p.forEach(function(e,t){g[e]=t[0],m[e]=!0});var y=c?[]:void 0,v=[],b=[];return h.forEach(function(e){for(b.push(v.length),i=f[e],o=f[e+1];i<o;i++)n=d[i],!0===m[n]&&(v.push(g[n]),y&&y.push(c[i]))}),b.push(v.length),new a({values:y,index:v,ptr:b,size:s,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var a,i=t.size(),o=t.isScalar();ne(n)?(a=n.size(),n=n.toArray()):a=jt(n);if(o){if(0!==a.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==i.length&&2!==i.length)throw new _t(i.length,e._size.length,"<");if(a.length<i.length){for(var s=0,l=0;1===i[s]&&1===a[s];)s++;for(;1===i[s];)l++,s++;n=$t(n,i.length,l,a)}if(!Le(i,a))throw new _t(i,a,">");if(1===i.length){t.dimension(0).forEach(function(t,a){Pt(t),e.set([t,0],n[a[0]],r)})}else{var u=t.dimension(0),c=t.dimension(1);u.forEach(function(t,a){Pt(t),c.forEach(function(i,o){Pt(i),e.set([t,i],n[a[0]][o[0]],r)})})}}return e}(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},a.prototype.get=function(e){if(!te(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new _t(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Pt(t,this._size[0]),Pt(n,this._size[1]);var r=o(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},a.prototype.set=function(e,r,a){if(!te(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new _t(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=e[0],u=e[1],c=this._size[0],d=this._size[1],f=n,p=0;ee(this._datatype)&&(f=t.find(n,[this._datatype,this._datatype])||n,p=t.convert(0,this._datatype)),(i>c-1||u>d-1)&&(l(this,Math.max(i+1,c),Math.max(u+1,d),a),c=this._size[0],d=this._size[1]),Pt(i,c),Pt(u,d);var h=o(i,this._ptr[u],this._ptr[u+1],this._index);return h<this._ptr[u+1]&&this._index[h]===i?f(r,p)?function(e,t,n,r,a){n.splice(e,1),r.splice(e,1);for(var i=t+1;i<a.length;i++)a[i]--}(h,u,this._values,this._index,this._ptr):this._values[h]=r:f(r,p)||s(h,i,u,r,this._values,this._index,this._ptr),this},a.prototype.resize=function(e,t,n){if(!re(e))throw new TypeError("Array or Matrix expected");var r=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach(function(e){if(!G(e)||!Xe(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+St(r)+")")}),l(n?this.clone():this,r[0],r[1],t)},a.prototype.reshape=function(e,t){if(!te(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(t){if(!G(t)||!Xe(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+St(e)+")")});var n=this._size[0]*this._size[1];if(n!==(e=zt(e,n))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return r;for(var a=[],i=0;i<r._ptr.length;i++)for(var l=0;l<r._ptr[i+1]-r._ptr[i];l++)a.push(i);for(var u=r._values.slice(),c=r._index.slice(),d=0;d<r._index.length;d++){var f=c[d],p=a[d],h=f*r._size[1]+p;a[d]=h%e[1],c[d]=Math.floor(h/e[1])}r._values.length=0,r._index.length=0,r._ptr.length=e[1]+1,r._size=e.slice();for(var m=0;m<r._ptr.length;m++)r._ptr[m]=0;for(var g=0;g<u.length;g++){var y=c[g],v=a[g],b=u[g];s(o(y,r._ptr[v],r._ptr[v+1],r._index),y,v,b,r._values,r._index,r._ptr)}return r},a.prototype.clone=function(){return new a({values:this._values?Ie(this._values):void 0,index:Ie(this._index),ptr:Ie(this._ptr),size:Ie(this._size),datatype:this._datatype})},a.prototype.size=function(){return this._size.slice(0)},a.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var i=this,o=this._size[0],s=this._size[1],l=Ma(e);return function(e,r,i,o,s,l,u){var c=[],d=[],f=[],p=n,h=0;ee(e._datatype)&&(p=t.find(n,[e._datatype,e._datatype])||n,h=t.convert(0,e._datatype));for(var m=function(e,t,n){e=l(e,t,n),p(e,h)||(c.push(e),d.push(t))},g=o;g<=s;g++){f.push(c.length);var y=e._ptr[g],v=e._ptr[g+1];if(u)for(var b=y;b<v;b++){var x=e._index[b];x>=r&&x<=i&&m(e._values[b],x-r,g-o)}else{for(var w={},S=y;S<v;S++){w[e._index[S]]=e._values[S]}for(var N=r;N<=i;N++){m(N in w?w[N]:0,N-r,g-o)}}}return f.push(c.length),new a({values:c,index:d,ptr:f,size:[i-r+1,s-o+1]})}(this,0,o-1,0,s-1,function(t,n,r){return 1===l?e(t):2===l?e(t,[n,r]):e(t,[n,r],i)},r)},a.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],a=0;a<r;a++){var i=this._ptr[a],o=this._ptr[a+1];if(t)for(var s=i;s<o;s++){var l=this._index[s];e(this._values[s],[l,a],this)}else{for(var u={},c=i;c<o;c++){u[this._index[c]]=this._values[c]}for(var d=0;d<n;d++){e(d in u?u[d]:0,[d,a],this)}}}},a.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var n=this._ptr[t],r=this._ptr[t+1],a=n;a<r;a++){var i=this._index[a];yield{value:this._values[a],index:[i,t]}}},a.prototype.toArray=function(){return u(this._values,this._index,this._ptr,this._size,!0)},a.prototype.valueOf=function(){return u(this._values,this._index,this._ptr,this._size,!1)},a.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),a="Sparse Matrix ["+St(t,e)+" x "+St(n,e)+"] density: "+St(r,e)+"\n",i=0;i<n;i++)for(var o=this._ptr[i],s=this._ptr[i+1],l=o;l<s;l++){a+="\n    ("+St(this._index[l],e)+", "+St(i,e)+") ==> "+(this._values?St(this._values[l],e):"X")}return a},a.prototype.toString=function(){return St(this.toArray())},a.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},a.prototype.diagonal=function(e){if(e){if(X(e)&&(e=e.toNumber()),!G(e)||!Xe(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-t),s=[],l=[],u=[];u[0]=0;for(var c=t;c<i&&s.length<o;c++)for(var d=this._ptr[c],f=this._ptr[c+1],p=d;p<f;p++){var h=this._index[p];if(h===c-t+n){s.push(this._values[p]),l[s.length-1]=h-n;break}}return u.push(s.length),new a({values:s,index:l,ptr:u,size:[o,1]})},a.fromJSON=function(e){return new a(e)},a.diagonal=function(e,r,i,o,s){if(!te(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(X(e)&&(e=e.toNumber()),!G(e)||!Xe(e)||e<1)throw new Error("Size values must be positive integers");return e}),i){if(X(i)&&(i=i.toNumber()),!G(i)||!Xe(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var l=n,u=0;ee(s)&&(l=t.find(n,[s,s])||n,u=t.convert(0,s));var c,d=i>0?i:0,f=i<0?-i:0,p=e[0],h=e[1],m=Math.min(p-f,h-d);if(te(r)){if(r.length!==m)throw new Error("Invalid value array length");c=function(e){return r[e]}}else if(ne(r)){var g=r.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");c=function(e){return r.get([e])}}else c=function(){return r};for(var y=[],v=[],b=[],x=0;x<h;x++){b.push(y.length);var w=x-d;if(w>=0&&w<m){var S=c(w);l(S,u)||(v.push(w+f),y.push(S))}}return b.push(y.length),new a({values:y,index:v,ptr:b,size:[p,h]})},a.prototype.swapRows=function(e,t){if(!G(e)||!Xe(e)||!G(t)||!Xe(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Pt(e,this._size[0]),Pt(t,this._size[0]),a._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},a._forEachRow=function(e,t,n,r,a){for(var i=r[e],o=r[e+1],s=i;s<o;s++)a(n[s],t[s])},a._swapRows=function(e,t,n,r,a,i){for(var s=0;s<n;s++){var l=i[s],u=i[s+1],c=o(e,l,u,a),d=o(t,l,u,a);if(c<u&&d<u&&a[c]===e&&a[d]===t){if(r){var f=r[c];r[c]=r[d],r[d]=f}}else if(c<u&&a[c]===e&&(d>=u||a[d]!==t)){var p=r?r[c]:void 0;a.splice(d,0,t),r&&r.splice(d,0,p),a.splice(d<=c?c+1:c,1),r&&r.splice(d<=c?c+1:c,1)}else if(d<u&&a[d]===t&&(c>=u||a[c]!==e)){var h=r?r[d]:void 0;a.splice(c,0,e),r&&r.splice(c,0,h),a.splice(c<=d?d+1:d,1),r&&r.splice(c<=d?d+1:d,1)}}},a},{isClass:!0}));var mi=Ve("number",["typed"],e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=function(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:e,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(e);if(t)return function(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++)n+=parseInt(e.fractionalPart[r],e.radix)/Math.pow(e.radix,r+1);var a=t+n;if(isNaN(a))throw new SyntaxError('String "'+e.input+'" is no valid number');return a}(t);var n=0,r=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);r&&(n=Number(r[2]),e=r[1]);var a=Number(e);if(isNaN(a))throw new SyntaxError('String "'+e+'" is no valid number');if(r){if(a>2**n-1)throw new SyntaxError('String "'.concat(e,'" is out of range'));a>=2**(n-1)&&(a-=2**n)}return a},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))});return n.fromJSON=function(e){return parseFloat(e.value)},n}),gi="string",yi=Ve(gi,["typed"],e=>{var{typed:t}=e;return t(gi,{"":function(){return""},number:at,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":t.referToSelf(e=>t=>za(t,e)),any:function(e){return String(e)}})}),vi="boolean",bi=Ve(vi,["typed"],e=>{var{typed:t}=e;return t(vi,{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),xi=Ve("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var r=t[2],a=n(t[1]),i=new n(2).pow(Number(r));if(a.gt(i.sub(1)))throw new SyntaxError('String "'.concat(e,'" is out of range'));var o=new n(2).pow(Number(r)-1);return a.gte(o)?a.sub(i):a}return new n(e)},BigNumber:function(e){return e},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),wi=Ve("complex",["typed","Complex"],e=>{var{typed:t,Complex:n}=e;return t("complex",{"":function(){return n.ZERO},number:function(e){return new n(e,0)},"number, number":function(e,t){return new n(e,t)},"BigNumber, BigNumber":function(e,t){return new n(e.toNumber(),t.toNumber())},Fraction:function(e){return new n(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return n(e)},null:function(e){return n(0)},Object:function(e){if("re"in e&&"im"in e)return new n(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new n(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Si=Ve("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Unit:t.referToSelf(e=>t=>{var n=t.clone();return n.value=e(t.value),n}),Object:function(e){return new n(e)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Ni="matrix",Ei=Ve(Ni,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:a}=e;return t(Ni,{"":function(){return i([])},string:function(e){return i([],e)},"string, string":function(e,t){return i([],e,t)},Array:function(e){return i(e)},Matrix:function(e){return i(e,e.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(e,t,n){if("dense"===t||"default"===t||void 0===t)return new r(e,n);if("sparse"===t)return new a(e,n);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),Ai="matrixFromFunction",Ci=Ve(Ai,["typed","matrix","isZero"],e=>{var{typed:t,matrix:n,isZero:r}=e;return t(Ai,{"Array | Matrix, function, string, string":function(e,t,n,r){return a(e,t,n,r)},"Array | Matrix, function, string":function(e,t,n){return a(e,t,n)},"Matrix, function":function(e,t){return a(e,t,"dense")},"Array, function":function(e,t){return a(e,t,"dense").toArray()},"Array | Matrix, string, function":function(e,t,n){return a(e,n,t)},"Array | Matrix, string, string, function":function(e,t,n,r){return a(e,r,t,n)}});function a(e,t,a,i){var o;return(o=void 0!==i?n(a,i):n(a)).resize(e),o.forEach(function(e,n){var a=t(n);r(a)||o.set(n,a)}),o}}),ki="matrixFromRows",_i=Ve(ki,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:n,flatten:r,size:a}=e;return t(ki,{"...Array":function(e){return i(e)},"...Matrix":function(e){return n(i(e.map(e=>e.toArray())))}});function i(e){if(0===e.length)throw new TypeError("At least one row is needed to construct a matrix.");var t=o(e[0]),n=[];for(var a of e){var i=o(a);if(i!==t)throw new TypeError("The vectors had different length: "+(0|t)+" \u2260 "+(0|i));n.push(r(a))}return n}function o(e){var t=a(e);if(1===t.length)return t[0];if(2===t.length){if(1===t[0])return t[1];if(1===t[1])return t[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Di="matrixFromColumns",ji=Ve(Di,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:n,flatten:r,size:a}=e;return t(Di,{"...Array":function(e){return i(e)},"...Matrix":function(e){return n(i(e.map(e=>e.toArray())))}});function i(e){if(0===e.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var t=o(e[0]),n=[],a=0;a<t;a++)n[a]=[];for(var i of e){var s=o(i);if(s!==t)throw new TypeError("The vectors had different length: "+(0|t)+" \u2260 "+(0|s));for(var l=r(i),u=0;u<t;u++)n[u].push(l[u])}return n}function o(e){var t=a(e);if(1===t.length)return t[0];if(2===t.length){if(1===t[0])return t[1];if(1===t[1])return t[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Oi="splitUnit",Mi=Ve(Oi,["typed"],e=>{var{typed:t}=e;return t(Oi,{"Unit, Array":function(e,t){return e.splitUnit(t)}})}),Ti="number",Pi="number, number";function Fi(e){return Math.abs(e)}function Ii(e,t){return e+t}function Bi(e,t){return e-t}function Ri(e,t){return e*t}function zi(e){return-e}function Li(e){return e}function qi(e){return tt(e)}function Ui(e){return e*e*e}function $i(e){return Math.exp(e)}function Wi(e){return nt(e)}function Hi(e,t){if(!Xe(e)||!Xe(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function Ki(e){return Qe(e)}function Vi(e){return Ze(e)}function Yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function Gi(e){return Je(e)}function Xi(e){return e*e}function Ji(e,t){var n,r,a,i=0,o=1,s=1,l=0;if(!Xe(e)||!Xe(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)a=e-(r=Math.floor(e/t))*t,n=i,i=o-r*i,o=n,n=s,s=l-r*s,l=n,e=t,t=a;return e<0?[-e,-o,-l]:[e,e?o:0,l]}function Zi(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function Qi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Xe(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(ot(e,t))}Fi.signature=Ti,Ii.signature=Pi,Bi.signature=Pi,Ri.signature=Pi,zi.signature=Ti,Li.signature=Ti,qi.signature=Ti,Ui.signature=Ti,$i.signature=Ti,Wi.signature=Ti,Hi.signature=Pi,Ki.signature=Ti,Vi.signature=Ti,Gi.signature=Ti,Xi.signature=Ti,Ji.signature=Pi,Zi.signature=Pi;var eo="unaryMinus",to=Ve(eo,["typed"],e=>{var{typed:t}=e;return t(eo,{number:zi,"Complex | BigNumber | Fraction":e=>e.neg(),Unit:t.referToSelf(e=>n=>{var r=n.clone();return r.value=t.find(e,r.valueType())(n.value),r}),"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0))})}),no="unaryPlus",ro=Ve(no,["typed","config","BigNumber"],e=>{var{typed:t,config:n,BigNumber:r}=e;return t(no,{number:Li,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0)),"boolean | string":function(e){return"BigNumber"===n.number?new r(+e):+e}})}),ao=Ve("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:Fi,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0))})}),io="apply",oo=Ve(io,["typed","isInteger"],e=>{var{typed:t,isInteger:n}=e;return t(io,{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!n(t))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(e)?jt(e):e.size();if(t<0||t>=a.length)throw new Dt(t,a.length);return ne(e)?e.create(so(e.valueOf(),t,r)):so(e,t,r)}})});function so(e,t,n){var r,a,i;if(t<=0){if(Array.isArray(e[0])){for(i=function(e){var t,n,r=e.length,a=e[0].length,i=[];for(n=0;n<a;n++){var o=[];for(t=0;t<r;t++)o.push(e[t][n]);i.push(o)}return i}(e),a=[],r=0;r<i.length;r++)a[r]=so(i[r],t-1,n);return a}return n(e)}for(a=[],r=0;r<e.length;r++)a[r]=so(e[r],t-1,n);return a}var lo="addScalar",uo=Ve(lo,["typed"],e=>{var{typed:t}=e;return t(lo,{"number, number":Ii,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(e,[a.valueType(),r.valueType()])(a.value,r.value),a.fixPrefix=!1,a})})}),co="subtractScalar",fo=Ve(co,["typed"],e=>{var{typed:t}=e;return t(co,{"number, number":Bi,"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":t.referToSelf(e=>(n,r)=>{if(null===n.value||void 0===n.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(r))throw new Error("Units do not match");var a=n.clone();return a.value=t.find(e,[a.valueType(),r.valueType()])(a.value,r.value),a.fixPrefix=!1,a})})}),po="cbrt",ho=Ve(po,["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],e=>{var{config:t,typed:n,isNegative:r,unaryMinus:a,matrix:i,Complex:o,BigNumber:s,Fraction:l}=e;return n(po,{number:qi,Complex:u,"Complex, boolean":u,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&J(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=u(e.value),t}var n,i=r(e.value);i&&(e.value=a(e.value)),n=X(e.value)?new s(1).div(3):Z(e.value)?new l(1,3):1/3;var o=e.pow(n);return i&&(o.value=a(o.value)),o}});function u(e,n){var r=e.arg()/3,a=e.abs(),s=new o(qi(a),0).mul(new o(0,r).exp());if(n){var l=[s,new o(qi(a),0).mul(new o(0,r+2*Math.PI/3).exp()),new o(qi(a),0).mul(new o(0,r-2*Math.PI/3).exp())];return"Array"===t.matrix?l:i(l)}return s}}),mo=Ve("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a,i){var o=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,f=u[0],p=u[1],h=n,m=0,g=a;"string"===typeof c&&(d=c,h=t.find(n,[d,d]),m=t.convert(0,d),r=t.convert(r,d),g=t.find(a,[d,d]));for(var y=[],v=[],b=[],x=0;x<p;x++){b[x]=v.length;for(var w=l[x],S=l[x+1],N=w;N<S;N++){var E=s[N],A=i?g(r,o[N]):g(o[N],r);h(A,m)||(v.push(E),y.push(A))}}return b[p]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[f,p],datatype:d})}}),go=Ve("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,a,i){var o=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,f=u[0],p=u[1],h=a;"string"===typeof c&&(d=c,r=t.convert(r,d),h=t.find(a,[d,d]));for(var m=[],g=[],y=[],v=0;v<p;v++){for(var b=v+1,x=l[v],w=l[v+1],S=x;S<w;S++){var N=s[S];g[N]=o[S],y[N]=b}for(var E=0;E<f;E++)0===v&&(m[E]=[]),y[E]===b?m[E][v]=i?h(r,g[E]):h(g[E],r):m[E][v]=i?h(r,0):h(0,r)}return new n({data:m,size:[f,p],datatype:d})}}),yo=Ve("matAlgo14xDs",["typed"],e=>{var{typed:t}=e;return function(e,r,a,i){var o,s=e._data,l=e._size,u=e._datatype,c=a;"string"===typeof u&&(o=u,r=t.convert(r,o),c=t.find(a,[o,o]));var d=l.length>0?n(c,0,l,l[0],s,r,i):[];return e.createDenseMatrix({data:d,size:Ie(l),datatype:o})};function n(e,t,r,a,i,o,s){var l=[];if(t===r.length-1)for(var u=0;u<a;u++)l[u]=s?e(o,i[u]):e(i[u],o);else for(var c=0;c<a;c++)l[c]=n(e,t+1,r,r[t+1],i[c],o,s);return l}}),vo="ceil",bo=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],xo=Ve(vo,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(vo,{number:function(e){return dt(e,r(e),n.epsilon)?r(e):Math.ceil(e)},"number, number":function(e,t){if(dt(e,r(e,t),n.epsilon))return r(e,t);var[a,i]="".concat(e,"e").split("e"),o=Math.ceil(Number("".concat(a,"e").concat(Number(i)+t)));return[a,i]="".concat(o,"e").split("e"),Number("".concat(a,"e").concat(Number(i)-t))}})}),wo=Ve(vo,bo,e=>{var{typed:t,config:n,round:r,matrix:a,equalScalar:i,zeros:o,DenseMatrix:s}=e,l=mo({typed:t,equalScalar:i}),u=go({typed:t,DenseMatrix:s}),c=yo({typed:t}),d=xo({typed:t,config:n,round:r});return t("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},"Complex, BigNumber":function(e,t){return e.ceil(t.toNumber())},BigNumber:function(e){return ci(e,r(e),n.epsilon)?r(e):e.ceil()},"BigNumber, BigNumber":function(e,t){return ci(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),ma.ROUND_CEIL)},Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Fraction, BigNumber":function(e,t){return e.ceil(t.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,n)=>za(t,t=>e(t,n),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>l(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>c(t,n,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,n)=>c(a(n),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,n)=>i(t,0)?o(n.size(),n.storage()):"dense"===n.storage()?c(n,t,e,!0):u(n,t,e,!0))})}),So="cube",No=Ve(So,["typed"],e=>{var{typed:t}=e;return t(So,{number:Ui,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},Unit:function(e){return e.pow(3)}})}),Eo=Ve("exp",["typed"],e=>{var{typed:t}=e;return t("exp",{number:$i,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()}})}),Ao="expm1",Co=Ve(Ao,["typed","Complex"],e=>{var{typed:t,Complex:n}=e;return t(Ao,{number:Wi,Complex:function(e){var t=Math.exp(e.re);return new n(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)}})}),ko="fix",_o=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Do=Ve(ko,["typed","ceil","floor"],e=>{var{typed:t,ceil:n,floor:r}=e;return t(ko,{number:function(e){return e>0?r(e):n(e)},"number, number":function(e,t){return e>0?r(e,t):n(e,t)}})}),jo=Ve(ko,_o,e=>{var{typed:t,Complex:n,matrix:r,ceil:a,floor:i,equalScalar:o,zeros:s,DenseMatrix:l}=e,u=go({typed:t,DenseMatrix:l}),c=yo({typed:t}),d=Do({typed:t,ceil:a,floor:i});return t("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(e){return new n(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number":function(e,t){return new n(e.re>0?i(e.re,t):a(e.re,t),e.im>0?i(e.im,t):a(e.im,t))},"Complex, BigNumber":function(e,t){var r=t.toNumber();return new n(e.re>0?i(e.re,r):a(e.re,r),e.im>0?i(e.im,r):a(e.im,r))},BigNumber:function(e){return e.isNegative()?a(e):i(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?a(e,t):i(e,t)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0?a(e,t):i(e,t)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(e=>(t,n)=>za(t,t=>e(t,n),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,n)=>c(r(n),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,n)=>o(t,0)?s(n.size(),n.storage()):"dense"===n.storage()?c(n,t,e,!0):u(n,t,e,!0))})}),Oo="floor",Mo=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],To=Ve(Oo,["typed","config","round"],e=>{var{typed:t,config:n,round:r}=e;return t(Oo,{number:function(e){return dt(e,r(e),n.epsilon)?r(e):Math.floor(e)},"number, number":function(e,t){if(dt(e,r(e,t),n.epsilon))return r(e,t);var[a,i]="".concat(e,"e").split("e"),o=Math.floor(Number("".concat(a,"e").concat(Number(i)+t)));return[a,i]="".concat(o,"e").split("e"),Number("".concat(a,"e").concat(Number(i)-t))}})}),Po=Ve(Oo,Mo,e=>{var{typed:t,config:n,round:r,matrix:a,equalScalar:i,zeros:o,DenseMatrix:s}=e,l=mo({typed:t,equalScalar:i}),u=go({typed:t,DenseMatrix:s}),c=yo({typed:t}),d=To({typed:t,config:n,round:r});return t("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},"Complex, BigNumber":function(e,t){return e.floor(t.toNumber())},BigNumber:function(e){return ci(e,r(e),n.epsilon)?r(e):e.floor()},"BigNumber, BigNumber":function(e,t){return ci(e,r(e,t),n.epsilon)?r(e,t):e.toDecimalPlaces(t.toNumber(),ma.ROUND_FLOOR)},Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Fraction, BigNumber":function(e,t){return e.floor(t.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,n)=>za(t,t=>e(t,n),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>l(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>c(t,n,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,n)=>c(a(n),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,n)=>i(t,0)?o(n.size(),n.storage()):"dense"===n.storage()?c(n,t,e,!0):u(n,t,e,!0))})}),Fo=Ve("matAlgo02xDS0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a,i){var o=e._data,s=e._size,l=e._datatype,u=r._values,c=r._index,d=r._ptr,f=r._size,p=r._datatype;if(s.length!==f.length)throw new _t(s.length,f.length);if(s[0]!==f[0]||s[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+f+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,m=s[0],g=s[1],y=n,v=0,b=a;"string"===typeof l&&l===p&&(h=l,y=t.find(n,[h,h]),v=t.convert(0,h),b=t.find(a,[h,h]));for(var x=[],w=[],S=[],N=0;N<g;N++){S[N]=w.length;for(var E=d[N],A=d[N+1],C=E;C<A;C++){var k=c[C],_=i?b(u[C],o[k][N]):b(o[k][N],u[C]);y(_,v)||(w.push(k),x.push(_))}}return S[g]=w.length,r.createSparseMatrix({values:x,index:w,ptr:S,size:[m,g],datatype:h})}}),Io=Ve("matAlgo03xDSf",["typed"],e=>{var{typed:t}=e;return function(e,n,r,a){var i=e._data,o=e._size,s=e._datatype,l=n._values,u=n._index,c=n._ptr,d=n._size,f=n._datatype;if(o.length!==d.length)throw new _t(o.length,d.length);if(o[0]!==d[0]||o[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,h=o[0],m=o[1],g=0,y=r;"string"===typeof s&&s===f&&(p=s,g=t.convert(0,p),y=t.find(r,[p,p]));for(var v=[],b=0;b<h;b++)v[b]=[];for(var x=[],w=[],S=0;S<m;S++){for(var N=S+1,E=c[S],A=c[S+1],C=E;C<A;C++){var k=u[C];x[k]=a?y(l[C],i[k][S]):y(i[k][S],l[C]),w[k]=N}for(var _=0;_<h;_++)w[_]===N?v[_][S]=x[_]:v[_][S]=a?y(g,i[_][S]):y(i[_][S],g)}return e.createDenseMatrix({data:v,size:[h,m],datatype:p})}}),Bo=Ve("matAlgo05xSfSf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a){var i=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,d=r._index,f=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new _t(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var m,g=l[0],y=l[1],v=n,b=0,x=a;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(a,[m,m]));var w,S,N,E,A=i&&c?[]:void 0,C=[],k=[],_=A?[]:void 0,D=A?[]:void 0,j=[],O=[];for(S=0;S<y;S++){k[S]=C.length;var M=S+1;for(N=s[S],E=s[S+1];N<E;N++)w=o[N],C.push(w),j[w]=M,_&&(_[w]=i[N]);for(N=f[S],E=f[S+1];N<E;N++)j[w=d[N]]!==M&&C.push(w),O[w]=M,D&&(D[w]=c[N]);if(A)for(N=k[S];N<C.length;){var T=j[w=C[N]],P=O[w];if(T===M||P===M){var F=x(T===M?_[w]:b,P===M?D[w]:b);v(F,b)?C.splice(N,1):(A.push(F),N++)}}}return k[y]=C.length,e.createSparseMatrix({values:A,index:C,ptr:k,size:[g,y],datatype:m})}}),Ro=Ve("matAlgo13xDD",["typed"],e=>{var{typed:t}=e;return function(e,r,a){var i,o=e._data,s=e._size,l=e._datatype,u=r._data,c=r._size,d=r._datatype,f=[];if(s.length!==c.length)throw new _t(s.length,c.length);for(var p=0;p<s.length;p++){if(s[p]!==c[p])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");f[p]=s[p]}var h=a;"string"===typeof l&&l===d&&(i=l,h=t.find(a,[i,i]));var m=f.length>0?n(h,0,f,f[0],o,u):[];return e.createDenseMatrix({data:m,size:f,datatype:i})};function n(e,t,r,a,i,o){var s=[];if(t===r.length-1)for(var l=0;l<a;l++)s[l]=e(i[l],o[l]);else for(var u=0;u<a;u++)s[u]=n(e,t+1,r,r[t+1],i[u],o[u]);return s}}),zo=Ve("broadcast",["concat"],e=>{var{concat:t}=e;return function(e,t){var a=Math.max(e._size.length,t._size.length);if(e._size.length===t._size.length&&e._size.every((e,n)=>e===t._size[n]))return[e,t];for(var i=n(e._size,a,0),o=n(t._size,a,0),s=[],l=0;l<a;l++)s[l]=Math.max(i[l],o[l]);an(i,s),an(o,s);var u=e.clone(),c=t.clone();u._size.length<a?u.reshape(n(u._size,a,1)):c._size.length<a&&c.reshape(n(c._size,a,1));for(var d=0;d<a;d++)u._size[d]<s[d]&&(u=r(u,s[d],d)),c._size[d]<s[d]&&(c=r(c,s[d],d));return[u,c]};function n(e,t,n){return[...Array(t-e.length).fill(n),...e]}function r(e,n,r){return t(...Array(n).fill(e),r)}}),Lo=Ve("matrixAlgorithmSuite",["typed","matrix","concat"],e=>{var{typed:t,matrix:n,concat:r}=e,a=Ro({typed:t}),i=yo({typed:t}),o=zo({concat:r});return function(e){var r,s=e.elop,l=e.SD||e.DS;s?(r={"DenseMatrix, DenseMatrix":(e,t)=>a(...o(e,t),s),"Array, Array":(e,t)=>a(...o(n(e),n(t)),s).valueOf(),"Array, DenseMatrix":(e,t)=>a(...o(n(e),t),s),"DenseMatrix, Array":(e,t)=>a(...o(e,n(t)),s)},e.SS&&(r["SparseMatrix, SparseMatrix"]=(t,n)=>e.SS(...o(t,n),s,!1)),e.DS&&(r["DenseMatrix, SparseMatrix"]=(t,n)=>e.DS(...o(t,n),s,!1),r["Array, SparseMatrix"]=(t,r)=>e.DS(...o(n(t),r),s,!1)),l&&(r["SparseMatrix, DenseMatrix"]=(e,t)=>l(...o(t,e),s,!0),r["SparseMatrix, Array"]=(e,t)=>l(...o(n(t),e),s,!0))):(r={"DenseMatrix, DenseMatrix":t.referToSelf(e=>(t,n)=>a(...o(t,n),e)),"Array, Array":t.referToSelf(e=>(t,r)=>a(...o(n(t),n(r)),e).valueOf()),"Array, DenseMatrix":t.referToSelf(e=>(t,r)=>a(...o(n(t),r),e)),"DenseMatrix, Array":t.referToSelf(e=>(t,r)=>a(...o(t,n(r)),e))},e.SS&&(r["SparseMatrix, SparseMatrix"]=t.referToSelf(t=>(n,r)=>e.SS(...o(n,r),t,!1))),e.DS&&(r["DenseMatrix, SparseMatrix"]=t.referToSelf(t=>(n,r)=>e.DS(...o(n,r),t,!1)),r["Array, SparseMatrix"]=t.referToSelf(t=>(r,a)=>e.DS(...o(n(r),a),t,!1))),l&&(r["SparseMatrix, DenseMatrix"]=t.referToSelf(e=>(t,n)=>l(...o(n,t),e,!0)),r["SparseMatrix, Array"]=t.referToSelf(e=>(t,r)=>l(...o(n(r),t),e,!0))));var u=e.scalar||"any";(e.Ds||e.Ss)&&(s?(r["DenseMatrix,"+u]=(e,t)=>i(e,t,s,!1),r[u+", DenseMatrix"]=(e,t)=>i(t,e,s,!0),r["Array,"+u]=(e,t)=>i(n(e),t,s,!1).valueOf(),r[u+", Array"]=(e,t)=>i(n(t),e,s,!0).valueOf()):(r["DenseMatrix,"+u]=t.referToSelf(e=>(t,n)=>i(t,n,e,!1)),r[u+", DenseMatrix"]=t.referToSelf(e=>(t,n)=>i(n,t,e,!0)),r["Array,"+u]=t.referToSelf(e=>(t,r)=>i(n(t),r,e,!1).valueOf()),r[u+", Array"]=t.referToSelf(e=>(t,r)=>i(n(r),t,e,!0).valueOf())));var c=void 0!==e.sS?e.sS:e.Ss;return s?(e.Ss&&(r["SparseMatrix,"+u]=(t,n)=>e.Ss(t,n,s,!1)),c&&(r[u+", SparseMatrix"]=(e,t)=>c(t,e,s,!0))):(e.Ss&&(r["SparseMatrix,"+u]=t.referToSelf(t=>(n,r)=>e.Ss(n,r,t,!1))),c&&(r[u+", SparseMatrix"]=t.referToSelf(e=>(t,n)=>c(n,t,e,!0)))),s&&s.signatures&&Re(r,s.signatures),r}}),qo=Ve("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,config:n,round:r,matrix:a,equalScalar:i,zeros:o,DenseMatrix:s,concat:l}=e,u=Po({typed:t,config:n,round:r,matrix:a,equalScalar:i,zeros:o,DenseMatrix:s}),c=Fo({typed:t,equalScalar:i}),d=Io({typed:t}),f=Bo({typed:t,equalScalar:i}),p=mo({typed:t,equalScalar:i}),h=go({typed:t,DenseMatrix:s});return t("mod",{"number, number":function(e,t){return 0===t?e:e-t*u(e/t)},"BigNumber, BigNumber":function(e,t){if(t.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){if(t.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return e.compare(0)>=0?e.mod(t):e.mod(t).add(t).mod(t)}},Lo({typed:t,matrix:a,concat:l})({SS:f,DS:d,SD:c,Ss:p,sS:h}))}),Uo=Ve("matAlgo01xDSid",["typed"],e=>{var{typed:t}=e;return function(e,n,r,a){var i=e._data,o=e._size,s=e._datatype,l=n._values,u=n._index,c=n._ptr,d=n._size,f=n._datatype;if(o.length!==d.length)throw new _t(o.length,d.length);if(o[0]!==d[0]||o[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,h,m=o[0],g=o[1],y="string"===typeof s&&s===f?s:void 0,v=y?t.find(r,[y,y]):r,b=[];for(p=0;p<m;p++)b[p]=[];var x=[],w=[];for(h=0;h<g;h++){for(var S=h+1,N=c[h],E=c[h+1],A=N;A<E;A++)x[p=u[A]]=a?v(l[A],i[p][h]):v(i[p][h],l[A]),w[p]=S;for(p=0;p<m;p++)w[p]===S?b[p][h]=x[p]:b[p][h]=i[p][h]}return e.createDenseMatrix({data:b,size:[m,g],datatype:y})}}),$o=Ve("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a){var i=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,d=r._index,f=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new _t(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var m,g=l[0],y=l[1],v=n,b=0,x=a;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(a,[m,m]));var w,S,N,E,A,C=i&&c?[]:void 0,k=[],_=[],D=i&&c?[]:void 0,j=i&&c?[]:void 0,O=[],M=[];for(S=0;S<y;S++){_[S]=k.length;var T=S+1;for(E=s[S],A=s[S+1],N=E;N<A;N++)w=o[N],k.push(w),O[w]=T,D&&(D[w]=i[N]);for(E=f[S],A=f[S+1],N=E;N<A;N++)if(O[w=d[N]]===T){if(D){var P=x(D[w],c[N]);v(P,b)?O[w]=null:D[w]=P}}else k.push(w),M[w]=T,j&&(j[w]=c[N]);if(D&&j)for(N=_[S];N<k.length;)O[w=k[N]]===T?(C[N]=D[w],N++):M[w]===T?(C[N]=j[w],N++):k.splice(N,1)}return _[y]=k.length,e.createSparseMatrix({values:C,index:k,ptr:_,size:[g,y],datatype:m})}}),Wo=Ve("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,r,a,i){var o=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,f=u[0],p=u[1],h=a;"string"===typeof c&&(d=c,r=t.convert(r,d),h=t.find(a,[d,d]));for(var m=[],g=[],y=[],v=0;v<p;v++){for(var b=v+1,x=l[v],w=l[v+1],S=x;S<w;S++){var N=s[S];g[N]=o[S],y[N]=b}for(var E=0;E<f;E++)0===v&&(m[E]=[]),y[E]===b?m[E][v]=i?h(r,g[E]):h(g[E],r):m[E][v]=r}return new n({data:m,size:[f,p],datatype:d})}}),Ho=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Ko="number | BigNumber | Fraction | Matrix | Array",Vo="".concat(Ko,", ").concat(Ko,", ...").concat(Ko);function Yo(e){return!e.some(e=>Array.isArray(e))}var Go=Ve("gcd",Ho,e=>{var{typed:t,matrix:n,config:r,round:a,equalScalar:i,zeros:o,BigNumber:s,DenseMatrix:l,concat:u}=e,c=qo({typed:t,config:r,round:a,matrix:n,equalScalar:i,zeros:o,DenseMatrix:l,concat:u}),d=Uo({typed:t}),f=$o({typed:t,equalScalar:i}),p=Wo({typed:t,DenseMatrix:l});return t("gcd",{"number, number":function(e,t){if(!Xe(e)||!Xe(t))throw new Error("Parameters in function gcd must be integer numbers");var n;for(;0!==t;)n=c(e,t),e=t,t=n;return e<0?-e:e},"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var n=new s(0);for(;!t.isZero();){var r=c(e,t);e=t,t=r}return e.lt(n)?e.neg():e},"Fraction, Fraction":(e,t)=>e.gcd(t)},Lo({typed:t,matrix:n,concat:u})({SS:f,DS:d,Ss:p}),{[Vo]:t.referToSelf(e=>(t,n,r)=>{for(var a=e(t,n),i=0;i<r.length;i++)a=e(a,r[i]);return a}),Array:t.referToSelf(e=>t=>{if(1===t.length&&Array.isArray(t[0])&&Yo(t[0]))return e(...t[0]);if(Yo(t))return e(...t);throw new ln("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(e=>t=>e(t.toArray()))})}),Xo=Ve("matAlgo06xS0S0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a){var i=e._values,o=e._size,s=e._datatype,l=r._values,u=r._size,c=r._datatype;if(o.length!==u.length)throw new _t(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var d,f=o[0],p=o[1],h=n,m=0,g=a;"string"===typeof s&&s===c&&(d=s,h=t.find(n,[d,d]),m=t.convert(0,d),g=t.find(a,[d,d]));for(var y=i&&l?[]:void 0,v=[],b=[],x=y?[]:void 0,w=[],S=[],N=0;N<p;N++){b[N]=v.length;var E=N+1;if(Ua(e,N,w,x,S,E,v,g),Ua(r,N,w,x,S,E,v,g),x)for(var A=b[N];A<v.length;){var C=v[A];if(S[C]===E){var k=x[C];h(k,m)?v.splice(A,1):(y.push(k),A++)}else v.splice(A,1)}else for(var _=b[N];_<v.length;){S[v[_]]!==E?v.splice(_,1):_++}}return b[p]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[f,p],datatype:d})}}),Jo=Ve("lcm",["typed","matrix","equalScalar","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,concat:a}=e,i=Fo({typed:t,equalScalar:r}),o=Xo({typed:t,equalScalar:r}),s=mo({typed:t,equalScalar:r}),l=Lo({typed:t,matrix:n,concat:a}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=t.referToSelf(e=>(t,n,r)=>{for(var a=e(t,n),i=0;i<r.length;i++)a=e(a,r[i]);return a}),t("lcm",{"number, number":Hi,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var n=e.times(t);for(;!t.isZero();){var r=t;t=e.mod(r),e=r}return n.div(e).abs()},"Fraction, Fraction":(e,t)=>e.lcm(t)},l({SS:o,DS:i,Ss:s}),c)}),Zo="log10",Qo=Ve(Zo,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(Zo,{number:function(e){return e>=0||n.predictable?Ki(e):new r(e,0).log().div(Math.LN10)},Complex:function(e){return new r(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||n.predictable?e.log():new r(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),es="log2",ts=Ve(es,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(es,{number:function(e){return e>=0||n.predictable?Vi(e):a(new r(e,0))},Complex:a,BigNumber:function(e){return!e.isNegative()||n.predictable?e.log(2):a(new r(e.toNumber(),0))},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))});function a(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new r(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}}),ns=Ve("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Ri,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})}),rs="multiply",as=Ve(rs,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:a,equalScalar:i,dot:o}=e,s=mo({typed:t,equalScalar:i}),l=yo({typed:t});function u(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}function c(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var i,o=e._data,s=e._size,l=e._datatype,u=n._data,c=n._size,d=n._datatype,f=s[0],p=c[1],h=r,m=a;l&&d&&l===d&&"string"===typeof l&&(i=l,h=t.find(r,[i,i]),m=t.find(a,[i,i]));for(var g=[],y=0;y<p;y++){for(var v=m(o[0],u[0][y]),b=1;b<f;b++)v=h(v,m(o[b],u[b][y]));g[y]=v}return e.createDenseMatrix({data:g,size:[p],datatype:i})}(e,n)}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var i,o=e._data,s=e._size,l=e._datatype,u=n._data,c=n._datatype,d=s[0],f=s[1],p=r,h=a;l&&c&&l===c&&"string"===typeof l&&(i=l,p=t.find(r,[i,i]),h=t.find(a,[i,i]));for(var m=[],g=0;g<d;g++){for(var y=o[g],v=h(y[0],u[0]),b=1;b<f;b++)v=p(v,h(y[b],u[b]));m[g]=v}return e.createDenseMatrix({data:m,size:[d],datatype:i})},"SparseMatrix, any":function(e,n){var o=e._values,s=e._index,l=e._ptr,u=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,d=n._data,f=n._datatype,p=e._size[0],h=n._size[0],m=[],g=[],y=[],v=r,b=a,x=i,w=0;u&&f&&u===f&&"string"===typeof u&&(c=u,v=t.find(r,[c,c]),b=t.find(a,[c,c]),x=t.find(i,[c,c]),w=t.convert(0,c));var S=[],N=[];y[0]=0;for(var E=0;E<h;E++){var A=d[E];if(!x(A,w))for(var C=l[E],k=l[E+1],_=C;_<k;_++){var D=s[_];N[D]?S[D]=v(S[D],b(A,o[_])):(N[D]=!0,g.push(D),S[D]=b(A,o[_]))}}for(var j=g.length,O=0;O<j;O++){var M=g[O];m[O]=S[M]}return y[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[p,1],datatype:c})}}),f=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var i,o=e._data,s=e._size,l=e._datatype,u=n._data,c=n._size,d=n._datatype,f=s[0],p=s[1],h=c[1],m=r,g=a;l&&d&&l===d&&"string"===typeof l&&(i=l,m=t.find(r,[i,i]),g=t.find(a,[i,i]));for(var y=[],v=0;v<f;v++){var b=o[v];y[v]=[];for(var x=0;x<h;x++){for(var w=g(b[0],u[0][x]),S=1;S<p;S++)w=m(w,g(b[S],u[S][x]));y[v][x]=w}}return e.createDenseMatrix({data:y,size:[f,h],datatype:i})},"DenseMatrix, SparseMatrix":function(e,n){var o=e._data,s=e._size,l=e._datatype,u=n._values,c=n._index,d=n._ptr,f=n._size,p=n._datatype;if(!u)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var h,m=s[0],g=f[1],y=r,v=a,b=i,x=0;l&&p&&l===p&&"string"===typeof l&&(h=l,y=t.find(r,[h,h]),v=t.find(a,[h,h]),b=t.find(i,[h,h]),x=t.convert(0,h));for(var w=[],S=[],N=[],E=n.createSparseMatrix({values:w,index:S,ptr:N,size:[m,g],datatype:h}),A=0;A<g;A++){N[A]=S.length;var C=d[A],k=d[A+1];if(k>C)for(var _=0,D=0;D<m;D++){for(var j=D+1,O=void 0,M=C;M<k;M++){var T=c[M];_!==j?(O=v(o[D][T],u[M]),_=j):O=y(O,v(o[D][T],u[M]))}_!==j||b(O,x)||(S.push(D),w.push(O))}}return N[g]=S.length,E},"SparseMatrix, DenseMatrix":function(e,n){var o=e._values,s=e._index,l=e._ptr,u=e._datatype;if(!o)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,d=n._data,f=n._datatype,p=e._size[0],h=n._size[0],m=n._size[1],g=r,y=a,v=i,b=0;u&&f&&u===f&&"string"===typeof u&&(c=u,g=t.find(r,[c,c]),y=t.find(a,[c,c]),v=t.find(i,[c,c]),b=t.convert(0,c));for(var x=[],w=[],S=[],N=e.createSparseMatrix({values:x,index:w,ptr:S,size:[p,m],datatype:c}),E=[],A=[],C=0;C<m;C++){S[C]=w.length;for(var k=C+1,_=0;_<h;_++){var D=d[_][C];if(!v(D,b))for(var j=l[_],O=l[_+1],M=j;M<O;M++){var T=s[M];A[T]!==k?(A[T]=k,w.push(T),E[T]=y(D,o[M])):E[T]=g(E[T],y(D,o[M]))}}for(var P=S[C],F=w.length,I=P;I<F;I++){var B=w[I];x[I]=E[B]}}return S[m]=w.length,N},"SparseMatrix, SparseMatrix":function(e,n){var i,o=e._values,s=e._index,l=e._ptr,u=e._datatype,c=n._values,d=n._index,f=n._ptr,p=n._datatype,h=e._size[0],m=n._size[1],g=o&&c,y=r,v=a;u&&p&&u===p&&"string"===typeof u&&(i=u,y=t.find(r,[i,i]),v=t.find(a,[i,i]));for(var b,x,w,S,N,E,A,C,k=g?[]:void 0,_=[],D=[],j=e.createSparseMatrix({values:k,index:_,ptr:D,size:[h,m],datatype:i}),O=g?[]:void 0,M=[],T=0;T<m;T++){D[T]=_.length;var P=T+1;for(N=f[T],E=f[T+1],S=N;S<E;S++)if(C=d[S],g)for(x=l[C],w=l[C+1],b=x;b<w;b++)M[A=s[b]]!==P?(M[A]=P,_.push(A),O[A]=v(c[S],o[b])):O[A]=y(O[A],v(c[S],o[b]));else for(x=l[C],w=l[C+1],b=x;b<w;b++)M[A=s[b]]!==P&&(M[A]=P,_.push(A));if(g)for(var F=D[T],I=_.length,B=F;B<I;B++){var R=_[B];k[B]=O[R]}}return D[m]=_.length,j}});return t(rs,a,{"Array, Array":t.referTo("Matrix, Matrix",e=>(t,r)=>{u(jt(t),jt(r));var a=e(n(t),n(r));return ne(a)?a.valueOf():a}),"Matrix, Matrix":function(e,t){var n=e.size(),r=t.size();return u(n,r),1===n.length?1===r.length?function(e,t,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return o(e,t)}(e,t,n[0]):c(e,t):1===r.length?d(e,t):f(e,t)},"Matrix, Array":t.referTo("Matrix,Matrix",e=>(t,r)=>e(t,n(r))),"Array, Matrix":t.referToSelf(e=>(t,r)=>e(n(t,r.storage()),r)),"SparseMatrix, any":function(e,t){return s(e,t,a,!1)},"DenseMatrix, any":function(e,t){return l(e,t,a,!1)},"any, SparseMatrix":function(e,t){return s(t,e,a,!0)},"any, DenseMatrix":function(e,t){return l(t,e,a,!0)},"Array, any":function(e,t){return l(n(e),t,a,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,a,!0).valueOf()},"any, any":a,"any, any, ...any":t.referToSelf(e=>(t,n,r)=>{for(var a=e(t,n),i=0;i<r.length;i++)a=e(a,r[i]);return a})})}),is="nthRoot",os=Ve(is,["typed","matrix","equalScalar","BigNumber","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:a,concat:i}=e,o=Uo({typed:t}),s=Fo({typed:t,equalScalar:r}),l=Xo({typed:t,equalScalar:r}),u=mo({typed:t,equalScalar:r}),c=Lo({typed:t,matrix:n,concat:i});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t(is,{number:Yi,"number, number":Yi,BigNumber:e=>f(e,new a(2)),"BigNumber, BigNumber":f,Complex:d,"Complex, number":d,Array:t.referTo("DenseMatrix,number",e=>t=>e(n(t),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",e=>t=>e(t,2)),SparseMatrix:t.referTo("SparseMatrix,number",e=>t=>e(t,2)),"SparseMatrix, SparseMatrix":t.referToSelf(e=>(t,n)=>{if(1===n.density())return l(t,n,e);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(e=>(t,n)=>{if(1===n.density())return o(t,n,e,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",e=>(t,r)=>e(n(t),r)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>{if(1===n.density())return u(n,t,e,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function f(e,t){var n=a.precision,r=a.clone({precision:n+2}),i=new a(0),o=new r(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new r(1/0):0;if(!e.isFinite())return s?i:e;var l=e.abs().pow(o.div(t));return l=e.isNeg()?l.neg():l,new a((s?o.div(l):l).toPrecision(n))}}),ss="sign",ls=Ve(ss,["typed","BigNumber","Fraction","complex"],e=>{var{typed:t,BigNumber:n,complex:r,Fraction:a}=e;return t(ss,{number:Gi,Complex:function(e){return 0===e.im?r(Gi(e.re)):e.sign()},BigNumber:function(e){return new n(e.cmp(0))},Fraction:function(e){return new a(e.s,1)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0)),Unit:t.referToSelf(e=>n=>{if(!n._isDerived()&&0!==n.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return t.find(e,n.valueType())(n.value)})})}),us=Ve("sqrt",["config","typed","Complex"],e=>{var{config:t,typed:n,Complex:r}=e;return n("sqrt",{number:a,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():a(e.toNumber())},Unit:function(e){return e.pow(.5)}});function a(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new r(e,0).sqrt()}}),cs="square",ds=Ve(cs,["typed"],e=>{var{typed:t}=e;return t(cs,{number:Xi,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},Unit:function(e){return e.pow(2)}})}),fs="subtract",ps=Ve(fs,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,subtractScalar:a,unaryMinus:i,DenseMatrix:o,concat:s}=e,l=Uo({typed:t}),u=Io({typed:t}),c=Bo({typed:t,equalScalar:r}),d=Wo({typed:t,DenseMatrix:o}),f=go({typed:t,DenseMatrix:o}),p=Lo({typed:t,matrix:n,concat:s});return t(fs,{"any, any":a},p({elop:a,SS:c,DS:l,SD:u,Ss:f,sS:d}))}),hs="xgcd",ms=Ve(hs,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:a}=e;return t(hs,{"number, number":function(e,t){var a=Ji(e,t);return"Array"===n.matrix?a:r(a)},"BigNumber, BigNumber":function(e,t){var i,o,s,l,u=new a(0),c=new a(1),d=u,f=c,p=c,h=u;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),s=e.mod(t),i=d,d=f.minus(o.times(d)),f=i,i=p,p=h.minus(o.times(p)),h=i,e=t,t=s;l=e.lt(u)?[e.neg(),f.neg(),h.neg()]:[e,e.isZero()?0:f,h];return"Array"===n.matrix?l:r(l)}})}),gs="invmod",ys=Ve(gs,["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],e=>{var{typed:t,config:n,BigNumber:r,xgcd:a,equal:i,smaller:o,mod:s,add:l,isInteger:u}=e;return t(gs,{"number, number":c,"BigNumber, BigNumber":c});function c(e,t){if(!u(e)||!u(t))throw new Error("Parameters in function invmod must be integer numbers");if(e=s(e,t),i(t,0))throw new Error("Divisor must be non zero");var n=a(e,t);n=n.valueOf();var[c,d]=n;return i(c,r(1))?(d=s(d,t),o(d,r(0))&&(d=l(d,t)),d):NaN}}),vs=Ve("matAlgo09xS0Sf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a){var i=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,d=r._index,f=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new _t(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");var m,g=l[0],y=l[1],v=n,b=0,x=a;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(a,[m,m]));var w,S,N,E,A,C=i&&c?[]:void 0,k=[],_=[],D=C?[]:void 0,j=[];for(S=0;S<y;S++){_[S]=k.length;var O=S+1;if(D)for(E=f[S],A=f[S+1],N=E;N<A;N++)j[w=d[N]]=O,D[w]=c[N];for(E=s[S],A=s[S+1],N=E;N<A;N++)if(w=o[N],D){var M=j[w]===O?D[w]:b,T=x(i[N],M);v(T,b)||(k.push(w),C.push(T))}else k.push(w)}return _[y]=k.length,e.createSparseMatrix({values:C,index:k,ptr:_,size:[g,y],datatype:m})}}),bs="dotMultiply",xs=Ve(bs,["typed","matrix","equalScalar","multiplyScalar","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,multiplyScalar:a,concat:i}=e,o=Fo({typed:t,equalScalar:r}),s=vs({typed:t,equalScalar:r}),l=mo({typed:t,equalScalar:r}),u=Lo({typed:t,matrix:n,concat:i});return t(bs,u({elop:a,SS:s,DS:o,Ss:l}))});function ws(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return Es(e,t,function(e,t){return e&t})}function Ss(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function Ns(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?Es(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function Es(e,t,n){var r,a,i,o,s,l=e.constructor,u=+(e.s<0),c=+(t.s<0);if(u){r=As(Ss(e));for(var d=0;d<r.length;++d)r[d]^=1}else r=As(e);if(c){a=As(Ss(t));for(var f=0;f<a.length;++f)a[f]^=1}else a=As(t);r.length<=a.length?(i=r,o=a,s=u):(i=a,o=r,s=c);var p=i.length,h=o.length,m=1^n(u,c),g=new l(1^m),y=new l(1),v=new l(2),b=l.precision;for(l.config({precision:1e9});p>0;)n(i[--p],o[--h])===m&&(g=g.plus(y)),y=y.times(v);for(;h>0;)n(s,o[--h])===m&&(g=g.plus(y)),y=y.times(v);return l.config({precision:b}),0===m&&(g.s=-g.s),g}function As(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var a=t[r]+"",i=7-a.length;i--;)a="0"+a;n+=a}for(var o=n.length;"0"===n.charAt(o);)o--;var s=e.e,l=n.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],d=0;d<l.length;){for(var f=c.length;f--;)c[f]*=10;c[0]+=parseInt(l.charAt(d++));for(var p=0;p<c.length;++p)c[p]>1&&(null!==c[p+1]&&void 0!==c[p+1]||(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function Cs(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?Ss(t):t.eq(r)?Ss(e):e.isFinite()&&t.isFinite()?Es(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new n(e.isNegative()===t.isNegative()?1/0:-1/0):r}function ks(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t)):new n(NaN)}function _s(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var Ds="number, number";function js(e,t){if(!Xe(e)||!Xe(t))throw new Error("Integers expected in function bitAnd");return e&t}function Os(e){if(!Xe(e))throw new Error("Integer expected in function bitNot");return~e}function Ms(e,t){if(!Xe(e)||!Xe(t))throw new Error("Integers expected in function bitOr");return e|t}function Ts(e,t){if(!Xe(e)||!Xe(t))throw new Error("Integers expected in function bitXor");return e^t}function Ps(e,t){if(!Xe(e)||!Xe(t))throw new Error("Integers expected in function leftShift");return e<<t}function Fs(e,t){if(!Xe(e)||!Xe(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function Is(e,t){if(!Xe(e)||!Xe(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}js.signature=Ds,Os.signature="number",Ms.signature=Ds,Ts.signature=Ds,Ps.signature=Ds,Fs.signature=Ds,Is.signature=Ds;var Bs="bitAnd",Rs=Ve(Bs,["typed","matrix","equalScalar","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,concat:a}=e,i=Fo({typed:t,equalScalar:r}),o=Xo({typed:t,equalScalar:r}),s=mo({typed:t,equalScalar:r}),l=Lo({typed:t,matrix:n,concat:a});return t(Bs,{"number, number":js,"BigNumber, BigNumber":ws},l({SS:o,DS:i,Ss:s}))}),zs="bitNot",Ls=Ve(zs,["typed"],e=>{var{typed:t}=e;return t(zs,{number:Os,BigNumber:Ss,"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),qs="bitOr",Us=Ve(qs,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:a,concat:i}=e,o=Uo({typed:t}),s=$o({typed:t,equalScalar:r}),l=Wo({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:n,concat:i});return t(qs,{"number, number":Ms,"BigNumber, BigNumber":Ns},u({SS:s,DS:o,Ss:l}))}),$s=Ve("matAlgo07xSSf",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:n}=e;return function(e,a,i){var o=e._size,s=e._datatype,l=a._size,u=a._datatype;if(o.length!==l.length)throw new _t(o.length,l.length);if(o[0]!==l[0]||o[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");var c,d,f,p=o[0],h=o[1],m=0,g=i;"string"===typeof s&&s===u&&(c=s,m=t.convert(0,c),g=t.find(i,[c,c]));var y=[];for(d=0;d<p;d++)y[d]=[];var v=[],b=[],x=[],w=[];for(f=0;f<h;f++){var S=f+1;for(r(e,f,x,v,S),r(a,f,w,b,S),d=0;d<p;d++){var N=x[d]===S?v[d]:m,E=w[d]===S?b[d]:m;y[d][f]=g(N,E)}}return new n({data:y,size:[p,h],datatype:c})};function r(e,t,n,r,a){for(var i=e._values,o=e._index,s=e._ptr,l=s[t],u=s[t+1];l<u;l++){var c=o[l];n[c]=a,r[c]=i[l]}}}),Ws="bitXor",Hs=Ve(Ws,["typed","matrix","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,DenseMatrix:r,concat:a}=e,i=Io({typed:t}),o=$s({typed:t,DenseMatrix:r}),s=go({typed:t,DenseMatrix:r}),l=Lo({typed:t,matrix:n,concat:a});return t(Ws,{"number, number":Ts,"BigNumber, BigNumber":Cs},l({SS:o,DS:i,Ss:s}))}),Ks=Ve("arg",["typed"],e=>{var{typed:t}=e;return t("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Vs="conj",Ys=Ve(Vs,["typed"],e=>{var{typed:t}=e;return t(Vs,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Gs=Ve("im",["typed"],e=>{var{typed:t}=e;return t("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Xs=Ve("re",["typed"],e=>{var{typed:t}=e;return t("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Js="number, number";function Zs(e){return!e}function Qs(e,t){return!(!e&&!t)}function el(e,t){return!!e!==!!t}function tl(e,t){return!(!e||!t)}Zs.signature="number",Qs.signature=Js,el.signature=Js,tl.signature=Js;var nl=Ve("not",["typed"],e=>{var{typed:t}=e;return t("not",{"null | undefined":()=>!0,number:Zs,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:t.referToSelf(e=>n=>t.find(e,n.valueType())(n.value)),"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),rl=Ve("or",["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:a,concat:i}=e,o=Io({typed:t}),s=Bo({typed:t,equalScalar:r}),l=go({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:n,concat:i});return t("or",{"number, number":Qs,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":t.referToSelf(e=>(t,n)=>e(t.value||0,n.value||0))},u({SS:s,DS:o,Ss:l}))}),al=Ve("xor",["typed","matrix","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,DenseMatrix:r,concat:a}=e,i=Io({typed:t}),o=$s({typed:t,DenseMatrix:r}),s=go({typed:t,DenseMatrix:r}),l=Lo({typed:t,matrix:n,concat:a});return t("xor",{"number, number":el,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!==(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!==(!t.isZero()&&!t.isNaN())},"Unit, Unit":t.referToSelf(e=>(t,n)=>e(t.value||0,n.value||0))},l({SS:o,DS:i,Ss:s}))}),il="concat",ol=Ve(il,["typed","matrix","isInteger"],e=>{var{typed:t,matrix:n,isInteger:r}=e;return t(il,{"...Array | Matrix | number | BigNumber":function(e){var t,a,i=e.length,o=-1,s=!1,l=[];for(t=0;t<i;t++){var u=e[t];if(ne(u)&&(s=!0),G(u)||X(u)){if(t!==i-1)throw new Error("Dimension must be specified as last argument");if(a=o,o=u.valueOf(),!r(o))throw new TypeError("Integer number expected for dimension");if(o<0||t>0&&o>a)throw new Dt(o,a+1)}else{var c=Ie(u).valueOf(),d=jt(c);if(l[t]=c,a=o,o=d.length-1,t>0&&o!==a)throw new _t(a+1,o+1)}}if(0===l.length)throw new SyntaxError("At least one matrix expected");for(var f=l.shift();l.length;)f=nn(f,l.shift(),o);return s?n(f):f},"...string":function(e){return e.join("")}})}),sl="column",ll=Ve(sl,["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:a}=e;return t(sl,{"Matrix, number":i,"Array, number":function(e,t){return i(r(Ie(e)),t).valueOf()}});function i(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Pt(t,e.size()[1]);var i=a(0,e.size()[0]),o=new n(i,t),s=e.subset(o);return ne(s)?s:r([[s]])}}),ul="count",cl=Ve(ul,["typed","size","prod"],e=>{var{typed:t,size:n,prod:r}=e;return t(ul,{string:function(e){return e.length},"Matrix | Array":function(e){return r(n(e))}})}),dl="cross",fl=Ve(dl,["typed","matrix","subtract","multiply"],e=>{var{typed:t,matrix:n,subtract:r,multiply:a}=e;return t(dl,{"Matrix, Matrix":function(e,t){return n(i(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(i(e.toArray(),t))},"Array, Matrix":function(e,t){return n(i(e,t.toArray()))},"Array, Array":i});function i(e,t){var n=Math.max(jt(e).length,jt(t).length);e=qt(e),t=qt(t);var i=jt(e),o=jt(t);if(1!==i.length||1!==o.length||3!==i[0]||3!==o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");var s=[r(a(e[1],t[2]),a(e[2],t[1])),r(a(e[2],t[0]),a(e[0],t[2])),r(a(e[0],t[1]),a(e[1],t[0]))];return n>1?[s]:s}}),pl="diag",hl=Ve(pl,["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:n,DenseMatrix:r,SparseMatrix:a}=e;return t(pl,{Array:function(e){return i(e,0,jt(e),null)},"Array, number":function(e,t){return i(e,t,jt(e),null)},"Array, BigNumber":function(e,t){return i(e,t.toNumber(),jt(e),null)},"Array, string":function(e,t){return i(e,0,jt(e),t)},"Array, number, string":function(e,t,n){return i(e,t,jt(e),n)},"Array, BigNumber, string":function(e,t,n){return i(e,t.toNumber(),jt(e),n)},Matrix:function(e){return i(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return i(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return i(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return i(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return i(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return i(e,t.toNumber(),e.size(),n)}});function i(e,t,i,o){if(!Xe(t))throw new TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,l=t<0?-t:0;switch(i.length){case 1:return function(e,t,n,i,o,s){var l=[i+o,i+s];if(n&&"sparse"!==n&&"dense"!==n)throw new TypeError("Unknown matrix type ".concat(n,'"'));var u="sparse"===n?a.diagonal(l,e,t):r.diagonal(l,e,t);return null!==n?u:u.valueOf()}(e,t,o,i[0],l,s);case 2:return function(e,t,r,a,i,o){if(ne(e)){var s=e.diagonal(t);return null!==r?r!==s.storage()?n(s,r):s:s.valueOf()}for(var l=Math.min(a[0]-i,a[1]-o),u=[],c=0;c<l;c++)u[c]=e[c+i][c+o];return null!==r?n(u):u}(e,t,o,i,l,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}});function ml(e,t,n,r,a){if(Y.isTypedFunction(e)){var i=[t,n,r],o=Y.resolve(e,i);if(o)return d(o.implementation,i);var s=[t,n],l=Y.resolve(e,s);if(l)return d(l.implementation,s);var u=[t],c=Y.resolve(e,u);return c?d(c.implementation,u):d(e,i)}return e(t,n,r);function d(i,o){try{return i.apply(i,o)}catch(u){var s;if(u instanceof TypeError&&"wrongType"===(null===(s=u.data)||void 0===s?void 0:s.category)){var l=[];throw l.push("value: ".concat(Fe(t))),o.length>=2&&l.push("index: ".concat(Fe(n))),o.length>=3&&l.push("array: ".concat(Fe(r))),new TypeError("Function ".concat(a," cannot apply callback arguments ")+"".concat(e.name,"(").concat(l.join(", "),") at index ").concat(JSON.stringify(n)))}throw new TypeError("Function ".concat(a," cannot apply callback arguments ")+"to function ".concat(e.name,": ").concat(u.message))}}}var gl=Ve("filter",["typed"],e=>{var{typed:t}=e;return t("filter",{"Array, function":yl,"Matrix, function":function(e,t){return e.create(yl(e.toArray(),t))},"Array, RegExp":Gt,"Matrix, RegExp":function(e,t){return e.create(Gt(e.toArray(),t))}})});function yl(e,t){return Yt(e,function(e,n,r){return ml(t,e,[n],r,"filter")})}var vl="flatten",bl=Ve(vl,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(vl,{Array:function(e){return Ht(e)},Matrix:function(e){var t=Ht(e.toArray());return n(t)}})}),xl="forEach",wl=Ve(xl,["typed"],e=>{var{typed:t}=e;return t(xl,{"Array, function":Sl,"Matrix, function":function(e,t){e.forEach(t)}})});function Sl(e,t){!function n(r,a){if(!Array.isArray(r))return ml(t,r,a,e,"forEach");Vt(r,function(e,t){n(e,a.concat(t))})}(e,[])}var Nl="getMatrixDataType",El=Ve(Nl,["typed"],e=>{var{typed:t}=e;return t(Nl,{Array:function(e){return Qt(e,Fe)},Matrix:function(e){return e.getDataType()}})}),Al="identity",Cl=Ve(Al,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:n,matrix:r,BigNumber:a,DenseMatrix:i,SparseMatrix:o}=e;return t(Al,{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return l(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return l(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return l(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return l(e,t,n)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return l(e[0],e[0],t);case 2:return l(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function l(e,t,n){var r=X(e)||X(t)?a:null;if(X(e)&&(e=e.toNumber()),X(t)&&(t=t.toNumber()),!Xe(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!Xe(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var s=r?new a(1):1,l=r?new r(0):0,u=[e,t];if(n){if("sparse"===n)return o.diagonal(u,s,0,l);if("dense"===n)return i.diagonal(u,s,0,l);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var c=It([],u,l),d=e<t?e:t,f=0;f<d;f++)c[f][f]=s;return c}}),kl="kron",_l=Ve(kl,["typed","matrix","multiplyScalar"],e=>{var{typed:t,matrix:n,multiplyScalar:r}=e;return t(kl,{"Matrix, Matrix":function(e,t){return n(a(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(a(e.toArray(),t))},"Array, Matrix":function(e,t){return n(a(e,t.toArray()))},"Array, Array":a});function a(e,t){if(1===jt(e).length&&(e=[e]),1===jt(t).length&&(t=[t]),jt(e).length>2||jt(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var n=[],a=[];return e.map(function(e){return t.map(function(t){return a=[],n.push(a),e.map(function(e){return t.map(function(t){return a.push(r(e,t))})})})})&&n}}),Dl=Ve("map",["typed"],e=>{var{typed:t}=e;return t("map",{"Array, function":jl,"Matrix, function":function(e,t){return e.map(t)}})});function jl(e,t){return function n(r,a){return Array.isArray(r)?r.map(function(e,t){return n(e,a.concat(t))}):ml(t,r,a,e,"map")}(e,[])}var Ol="diff",Ml=Ve(Ol,["typed","matrix","subtract","number"],e=>{var{typed:t,matrix:n,subtract:r,number:a}=e;return t(Ol,{"Array | Matrix":function(e){return ne(e)?n(o(e.toArray())):o(e)},"Array | Matrix, number":function(e,t){if(!Xe(t))throw new RangeError("Dimension must be a whole number");return ne(e)?n(i(e.toArray(),t)):i(e,t)},"Array, BigNumber":t.referTo("Array,number",e=>(t,n)=>e(t,a(n))),"Matrix, BigNumber":t.referTo("Matrix,number",e=>(t,n)=>e(t,a(n)))});function i(e,t){if(ne(e)&&(e=e.toArray()),!Array.isArray(e))throw RangeError("Array/Matrix does not have that many dimensions");if(t>0){var n=[];return e.forEach(e=>{n.push(i(e,t-1))}),n}if(0===t)return o(e);throw RangeError("Cannot have negative dimension")}function o(e){for(var t=[],n=e.length,r=1;r<n;r++)t.push(s(e[r-1],e[r]));return t}function s(e,t){ne(e)&&(e=e.toArray()),ne(t)&&(t=t.toArray());var n=Array.isArray(e),a=Array.isArray(t);if(n&&a)return function(e,t){if(e.length!==t.length)throw RangeError("Not all sub-arrays have the same length");for(var n=[],r=e.length,a=0;a<r;a++)n.push(s(e[a],t[a]));return n}(e,t);if(!n&&!a)return r(t,e);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),Tl=Ve("ones",["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:a}=e;return t("ones",{"":function(){return"Array"===n.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return i(e,t)}return"Array"===n.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){X(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),i=n?new a(1):1;if(function(e){e.forEach(function(e){if("number"!==typeof e||!Xe(e)||e<0)throw new Error("Parameters in function ones must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,i):o}var s=[];return e.length>0?It(s,e,i):s}});function Pl(){throw new Error('No "bignumber" implementation available')}function Fl(){throw new Error('No "fraction" implementation available')}function Il(){throw new Error('No "matrix" implementation available')}var Bl="range",Rl=Ve(Bl,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:n,matrix:r,bignumber:a,smaller:i,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=e;return t(Bl,{string:f,"string, boolean":f,"number, number":function(e,t){return d(p(e,t,1,!1))},"number, number, number":function(e,t,n){return d(p(e,t,n,!1))},"number, number, boolean":function(e,t,n){return d(p(e,t,1,n))},"number, number, number, boolean":function(e,t,n,r){return d(p(e,t,n,r))},"BigNumber, BigNumber":function(e,t){return d(p(e,t,new(0,e.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return d(p(e,t,n,!1))},"BigNumber, BigNumber, boolean":function(e,t,n){return d(p(e,t,new(0,e.constructor)(1),n))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return d(p(e,t,n,r))},"Unit, Unit, Unit":function(e,t,n){return d(p(e,t,n,!1))},"Unit, Unit, Unit, boolean":function(e,t,n,r){return d(p(e,t,n,r))}});function d(e){return"Matrix"===n.matrix?r?r(e):Il():e}function f(e,t){var r=function(e){var t=e.split(":"),n=t.map(function(e){return Number(e)});if(n.some(function(e){return isNaN(e)}))return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}(e);if(!r)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===n.number?(void 0===a&&Pl(),d(p(a(r.start),a(r.end),a(r.step)))):d(p(r.start,r.end,r.step,t))}function p(e,t,n,r){for(var a=[],d=c(n)?r?o:i:r?l:s,f=e;d(f,t);)a.push(f),f=u(f,n);return a}}),zl="reshape",Ll=Ve(zl,["typed","isInteger","matrix"],e=>{var{typed:t,isInteger:n}=e;return t(zl,{"Matrix, Array":function(e,t){return e.reshape(t,!0)},"Array, Array":function(e,t){return t.forEach(function(e){if(!n(e))throw new TypeError("Invalid size for dimension: "+e)}),Rt(e,t)}})}),ql=Ve("resize",["config","matrix"],e=>{var{config:t,matrix:n}=e;return function(e,r,a){if(2!==arguments.length&&3!==arguments.length)throw new ln("resize",arguments.length,2,3);if(ne(r)&&(r=r.valueOf()),X(r[0])&&(r=r.map(function(e){return X(e)?e.toNumber():e})),ne(e))return e.resize(r,a,!0);if("string"===typeof e)return function(e,t,n){if(void 0!==n){if("string"!==typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new _t(t.length,1);var r=t[0];if("number"!==typeof r||!Xe(r))throw new TypeError("Invalid size, must contain positive integers (size: "+St(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var a=e,i=0,o=r-e.length;i<o;i++)a+=n;return a}return e}(e,r,a);var i=!Array.isArray(e)&&"Array"!==t.matrix;if(0===r.length){for(;Array.isArray(e);)e=e[0];return Ie(e)}Array.isArray(e)||(e=[e]);var o=It(e=Ie(e),r,a);return i?n(o):o}}),Ul="rotate",$l=Ve(Ul,["typed","multiply","rotationMatrix"],e=>{var{typed:t,multiply:n,rotationMatrix:r}=e;return t(Ul,{"Array , number | BigNumber | Complex | Unit":function(e,t){return a(e,2),n(r(t),e).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(e,t){return a(e,2),n(r(t),e)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,i){return a(e,3),n(r(t,i),e)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(e,t,i){return a(e,3),n(r(t,i),e)}});function a(e,t){var n=Array.isArray(e)?jt(e):e.size();if(n.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(t));if(2===n.length&&1!==n[1])throw new RangeError("Vector must be of dimensions 1x".concat(t));if(n[0]!==t)throw new RangeError("Vector must be of dimensions 1x".concat(t))}}),Wl="rotationMatrix",Hl=Ve(Wl,["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],e=>{var{typed:t,config:n,multiplyScalar:r,addScalar:a,unaryMinus:i,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:d,sin:f}=e;return t(Wl,{"":function(){return"Matrix"===n.matrix?l([]):[]},string:function(e){return l(e)},"number | BigNumber | Complex | Unit":function(e){return p(e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,t){return p(e,t)},"number | BigNumber | Complex | Unit, Array":function(e,t){var n=l(t);return h(n),y(e,n,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,t){h(t);var r=t.storage()||("Matrix"===n.matrix?"dense":void 0);return y(e,t,r)},"number | BigNumber | Complex | Unit, Array, string":function(e,t,n){var r=l(t);return h(r),y(e,r,n)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,t,n){return h(t),y(e,t,n)}});function p(e,t){var n=X(e)?new s(-1):-1,a=d(e),i=f(e);return g([[a,r(n,i)],[i,a]],t)}function h(e){var t=e.size();if(t.length<1||3!==t[0])throw new RangeError("Vector must be of dimensions 1x3")}function m(e){return e.reduce((e,t)=>r(e,t))}function g(e,t){if(t){if("sparse"===t)return new c(e);if("dense"===t)return new u(e);throw new TypeError('Unknown matrix type "'.concat(t,'"'))}return e}function y(e,t,n){var r=o(t);if(0===r)throw new RangeError("Rotation around zero vector");var l=X(e)?s:null,u=l?new l(1):1,c=l?new l(-1):-1,p=l?new l(t.get([0])/r):t.get([0])/r,h=l?new l(t.get([1])/r):t.get([1])/r,y=l?new l(t.get([2])/r):t.get([2])/r,v=d(e),b=a(u,i(v)),x=f(e);return g([[a(v,m([p,p,b])),a(m([p,h,b]),m([c,y,x])),a(m([p,y,b]),m([h,x]))],[a(m([p,h,b]),m([y,x])),a(v,m([h,h,b])),a(m([h,y,b]),m([c,p,x]))],[a(m([p,y,b]),m([c,h,x])),a(m([h,y,b]),m([p,x])),a(v,m([y,y,b]))]],n)}}),Kl=Ve("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:a}=e;return t("row",{"Matrix, number":i,"Array, number":function(e,t){return i(r(Ie(e)),t).valueOf()}});function i(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Pt(t,e.size()[0]);var i=a(0,e.size()[1]),o=new n(t,i),s=e.subset(o);return ne(s)?s:r([[s]])}}),Vl="size",Yl=Ve(Vl,["typed","config","?matrix"],e=>{var{typed:t,config:n,matrix:r}=e;return t(Vl,{Matrix:function(e){return e.create(e.size())},Array:jt,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):Il()}})}),Gl="squeeze",Xl=Ve(Gl,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(Gl,{Array:function(e){return qt(Ie(e))},Matrix:function(e){var t=qt(e.toArray());return Array.isArray(t)?n(t):t},any:function(e){return Ie(e)}})}),Jl="subset",Zl=Ve(Jl,["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:n,zeros:r,add:a}=e;return t(Jl,{"Matrix, Index":function(e,t){return Ft(t)?n():(Tt(e,t),e.subset(t))},"Array, Index":t.referTo("Matrix, Index",function(e){return function(t,r){var a=e(n(t),r);return r.isScalar()?a:a.valueOf()}}),"Object, Index":tu,"string, Index":Ql,"Matrix, Index, any, any":function(e,t,n,i){return Ft(t)?e:(Tt(e,t),e.clone().subset(t,function(e,t){if("string"===typeof e)throw new Error("can't boradcast a string");if(t._isScalar)return e;var n=t.size();if(!n.every(e=>e>0))return e;try{return a(e,r(n))}catch(i){return e}}(n,t),i))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,r,a,i){var o=e(n(t),r,a,i);return o.isMatrix?o.valueOf():o}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,r,a){return e(n(t),r,a,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,n,r){return e(t,n,r,void 0)}}),"string, Index, string":eu,"string, Index, string, string":eu,"Object, Index, any":nu})});function Ql(e,t){if(!se(t))throw new TypeError("Index expected");if(Ft(t))return"";if(Tt(Array.from(e),t),1!==t.size().length)throw new _t(t.size().length,1);var n=e.length;Pt(t.min()[0],n),Pt(t.max()[0],n);var r=t.dimension(0),a="";return r.forEach(function(t){a+=e.charAt(t)}),a}function eu(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(Ft(t))return e;if(Tt(Array.from(e),t),1!==t.size().length)throw new _t(t.size().length,1);if(void 0!==r){if("string"!==typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var a=t.dimension(0);if(a.size()[0]!==n.length)throw new _t(a.size()[0],n.length);var i=e.length;Pt(t.min()[0]),Pt(t.max()[0]);for(var o=[],s=0;s<i;s++)o[s]=e.charAt(s);if(a.forEach(function(e,t){o[e]=n.charAt(t[0])}),o.length>i)for(var l=i-1,u=o.length;l<u;l++)o[l]||(o[l]=r);return o.join("")}function tu(e,t){if(!Ft(t)){if(1!==t.size().length)throw new _t(t.size(),1);var n=t.dimension(0);if("string"!==typeof n)throw new TypeError("String expected as index to retrieve an object property");return mn(e,n)}}function nu(e,t,n){if(Ft(t))return e;if(1!==t.size().length)throw new _t(t.size(),1);var r=t.dimension(0);if("string"!==typeof r)throw new TypeError("String expected as index to retrieve an object property");var a=Ie(e);return gn(a,r,n),a}var ru="transpose",au=Ve(ru,["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return t(ru,{Array:e=>r(n(e)).valueOf(),Matrix:r,any:Ie});function r(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],a=n[1];if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+St(n)+")");switch(e.storage()){case"dense":t=function(e,t,n){for(var r,a=e._data,i=[],o=0;o<n;o++){r=i[o]=[];for(var s=0;s<t;s++)r[s]=Ie(a[s][o])}return e.createDenseMatrix({data:i,size:[n,t],datatype:e._datatype})}(e,r,a);break;case"sparse":t=function(e,t,n){for(var r,a,i,o=e._values,s=e._index,l=e._ptr,u=o?[]:void 0,c=[],d=[],f=[],p=0;p<t;p++)f[p]=0;for(r=0,a=s.length;r<a;r++)f[s[r]]++;for(var h=0,m=0;m<t;m++)d.push(h),h+=f[m],f[m]=d[m];for(d.push(h),i=0;i<n;i++)for(var g=l[i],y=l[i+1],v=g;v<y;v++){var b=f[s[v]]++;c[b]=i,o&&(u[b]=Ie(o[v]))}return e.createSparseMatrix({values:u,index:c,ptr:d,size:[n,t],datatype:e._datatype})}(e,r,a)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+St(n)+")")}return t}}),iu="ctranspose",ou=Ve(iu,["typed","transpose","conj"],e=>{var{typed:t,transpose:n,conj:r}=e;return t(iu,{any:function(e){return r(n(e))}})}),su="zeros",lu=Ve(su,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:n,matrix:r,BigNumber:a}=e;return t(su,{"":function(){return"Array"===n.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return i(e,t)}return"Array"===n.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var n=function(e){var t=!1;return e.forEach(function(e,n,r){X(e)&&(t=!0,r[n]=e.toNumber())}),t}(e),i=n?new a(0):0;if(function(e){e.forEach(function(e){if("number"!==typeof e||!Xe(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")})}(e),t){var o=r(t);return e.length>0?o.resize(e,i):o}var s=[];return e.length>0?It(s,e,i):s}}),uu=Ve("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:a,divideScalar:i,exp:o,tau:s,i:l,dotDivide:u,conj:c,pow:d,ceil:f,log2:p}=e;return t("fft",{Array:h,Matrix:function(e){return e.create(h(e.toArray()))}});function h(e){var t=jt(e);return 1===t.length?g(e,t[0]):m(e.map(e=>h(e,t.slice(1))),0)}function m(e,t){var n=jt(e);if(0!==t)return new Array(n[0]).fill(0).map((n,r)=>m(e[r],t-1));if(1===n.length)return g(e);function r(e){var t=jt(e);return new Array(t[1]).fill(0).map((n,r)=>new Array(t[0]).fill(0).map((t,n)=>e[n][r]))}return r(m(r(e),1))}function g(e){var t=e.length;if(1===t)return[e[0]];if(t%2===0){for(var n=[...g(e.filter((e,t)=>t%2===0)),...g(e.filter((e,t)=>t%2===1))],m=0;m<t/2;m++){var y=n[m],v=a(n[m+t/2],o(a(a(s,l),i(-m,t))));n[m]=r(y,v),n[m+t/2]=r(y,a(-1,v))}return n}return function(e){for(var t=e.length,n=o(i(a(-1,a(l,s)),t)),r=[],m=1-t;m<t;m++)r.push(d(n,i(d(m,2),2)));for(var y=d(2,f(p(t+t-1))),v=[...new Array(t).fill(0).map((n,i)=>a(e[i],r[t-1+i])),...new Array(y-t).fill(0)],b=[...new Array(t+t-1).fill(0).map((e,t)=>i(1,r[t])),...new Array(y-(t+t-1)).fill(0)],x=g(v),w=g(b),S=new Array(y).fill(0).map((e,t)=>a(x[t],w[t])),N=u(c(h(c(S))),y),E=[],A=t-1;A<t+t-1;A++)E.push(a(N[A],r[A]));return E}(e)}}),cu="ifft",du=Ve(cu,["typed","fft","dotDivide","conj"],e=>{var{typed:t,fft:n,dotDivide:r,conj:a}=e;return t(cu,{"Array | Matrix":function(e){var t=ne(e)?e.size():jt(e);return r(a(n(a(e))),t.reduce((e,t)=>e*t,1))}})});function fu(e){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(e)}function pu(e){var t=function(e,t){if("object"!=fu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fu(t)?t:t+""}function hu(e,t,n){return(t=pu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var gu=Ve("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],e=>{var{typed:t,add:n,subtract:r,multiply:a,divide:i,max:o,map:s,abs:l,isPositive:u,isNegative:c,larger:d,smaller:f,matrix:p,bignumber:h,unaryMinus:m}=e;function g(e){return function(t,p,g,y){if(!(2===p.length&&(p.every(x)||p.every(Q))))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var v=p[0],b=p[1],w=d(b,v),S=y.firstStep;if(void 0!==S&&!u(S))throw new Error('"firstStep" must be positive');var N=y.maxStep;if(void 0!==N&&!u(N))throw new Error('"maxStep" must be positive');var E=y.minStep;if(E&&c(E))throw new Error('"minStep" must be positive or zero');var A=[v,b,S,E,N].filter(e=>void 0!==e);if(!A.every(x)&&!A.every(Q))throw new Error('Inconsistent type of "t" dependant variables');for(var C=y.tol?y.tol:1e-4,k=y.minDelta?y.minDelta:.2,_=y.maxDelta?y.maxDelta:5,D=y.maxIter?y.maxIter:1e4,j=[v,b,...g,N,E].some(X),[O,M,T,P]=j?[h(e.a),h(e.c),h(e.b),h(e.bp)]:[e.a,e.c,e.b,e.bp],F=S?w?S:m(S):i(r(b,v),1),I=[v],B=[g],R=r(T,P),z=0,L=0,q=function(e){return e?f:d}(w),U=function(e){var t=e?d:f;return function(e,a,i){var o=n(e,i);return t(o,a)?r(a,e):i}}(w);q(I[z],b);){var $=[];F=U(I[z],b,F),$.push(t(I[z],B[z]));for(var W=1;W<M.length;++W)$.push(t(n(I[z],a(M[W],F)),n(B[z],a(F,O[W],$))));var H=o(l(s(a(R,$),e=>Q(e)?e.value:e)));H<C&&C/H>1/4&&(I.push(n(I[z],F)),B.push(n(B[z],a(F,T,$))),z++);var K=.84*(C/H)**.2;if(f(K,k)?K=k:d(K,_)&&(K=_),K=j?h(K):K,F=a(F,K),N&&d(l(F),N)?F=w?N:m(N):E&&f(l(F),E)&&(F=w?E:m(E)),++L>D)throw new Error("Maximum number of iterations reached, try changing options")}return{t:I,y:B}}}function y(e,t,n,r){return g({a:[[],[.5],[0,3/4],[2/9,1/3,4/9]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(e,t,n,r)}function v(e,t,n,r){return g({a:[[],[.2],[3/40,9/40],[44/45,-56/15,32/9],[19372/6561,-25360/2187,64448/6561,-212/729],[9017/3168,-355/33,46732/5247,49/176,-5103/18656],[35/384,0,500/1113,125/192,-2187/6784,11/84]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(e,t,n,r)}function b(e,t,n,r){var a=r.method?r.method:"RK45",i={RK23:y,RK45:v};if(a.toUpperCase()in i){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach(function(t){hu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r);return delete o.method,i[a.toUpperCase()](e,t,n,o)}var s=Object.keys(i).map(e=>'"'.concat(e,'"')),l="".concat(s.slice(0,-1).join(", ")," and ").concat(s.slice(-1));throw new Error('Unavailable method "'.concat(a,'". Available methods are ').concat(l))}function x(e){return X(e)||G(e)}function w(e,t,n,r){var a=b(e,t.toArray(),n.toArray(),r);return{t:p(a.t),y:p(a.y)}}return t("solveODE",{"function, Array, Array, Object":b,"function, Matrix, Matrix, Object":w,"function, Array, Array":(e,t,n)=>b(e,t,n,{}),"function, Matrix, Matrix":(e,t,n)=>w(e,t,n,{}),"function, Array, number | BigNumber | Unit":(e,t,n)=>{var r=b(e,t,[n],{});return{t:r.t,y:r.y.map(e=>e[0])}},"function, Matrix, number | BigNumber | Unit":(e,t,n)=>{var r=b(e,t.toArray(),[n],{});return{t:p(r.t),y:p(r.y.map(e=>e[0]))}},"function, Array, number | BigNumber | Unit, Object":(e,t,n,r)=>{var a=b(e,t,[n],r);return{t:a.t,y:a.y.map(e=>e[0])}},"function, Matrix, number | BigNumber | Unit, Object":(e,t,n,r)=>{var a=b(e,t.toArray(),[n],r);return{t:p(a.t),y:p(a.y.map(e=>e[0]))}}})}),yu=Ve("erf",["typed"],e=>{var{typed:t}=e;return t("name",{number:function(e){var t=Math.abs(e);return t>=Su?Je(e):t<=vu?Je(e)*function(e){var t,n=e*e,r=xu[0][4]*n,a=n;for(t=0;t<3;t+=1)r=(r+xu[0][t])*n,a=(a+wu[0][t])*n;return e*(r+xu[0][3])/(a+wu[0][3])}(t):t<=4?Je(e)*(1-function(e){var t,n=xu[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+xu[1][t])*e,r=(r+wu[1][t])*e;var a=(n+xu[1][7])/(r+wu[1][7]),i=parseInt(16*e)/16,o=(e-i)*(e+i);return Math.exp(-i*i)*Math.exp(-o)*a}(t)):Je(e)*(1-function(e){var t,n=1/(e*e),r=xu[2][5]*n,a=n;for(t=0;t<4;t+=1)r=(r+xu[2][t])*n,a=(a+wu[2][t])*n;var i=n*(r+xu[2][4])/(a+wu[2][4]);i=(bu-i)/e,n=parseInt(16*e)/16;var o=(e-n)*(e+n);return Math.exp(-n*n)*Math.exp(-o)*i}(t))},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),vu=.46875,bu=.5641895835477563,xu=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],wu=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Su=Math.pow(2,53),Nu="zeta",Eu=Ve(Nu,["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],e=>{var{typed:t,config:n,multiply:r,pow:a,divide:i,factorial:o,equal:s,smallerEq:l,isNegative:u,gamma:c,sin:d,subtract:f,add:p,Complex:h,BigNumber:m,pi:g}=e;return t(Nu,{number:e=>y(e,e=>e,()=>20),BigNumber:e=>y(e,e=>new m(e),()=>Math.abs(Math.log10(n.epsilon))),Complex:function(e){if(0===e.re&&0===e.im)return new h(-.5);if(1===e.re)return new h(NaN,NaN);if(e.re===1/0&&0===e.im)return new h(1);if(e.im===1/0||e.re===-1/0)return new h(NaN,NaN);return v(e,e=>e,e=>Math.round(19.5+.9*Math.abs(e.im)),e=>e.re)}});function y(e,t,n){return s(e,0)?t(-.5):s(e,1)?t(NaN):isFinite(e)?v(e,t,n,e=>e):u(e)?t(NaN):t(1)}function v(e,t,n,o){var s=n(e);if(o(e)>-(s-1)/2)return function(e,t,n){for(var o=i(1,r(b(n(0),t),f(1,a(2,f(1,e))))),s=n(0),u=n(1);l(u,t);u=p(u,1))s=p(s,i(r((-1)**(u-1),b(u,t)),a(u,e)));return r(o,s)}(e,t(s),t);var u=r(a(2,e),a(t(g),f(e,1)));return u=r(u,d(r(i(t(g),2),e))),u=r(u,c(f(1,e))),r(u,v(f(1,e),t,n,o))}function b(e,t){for(var n=e,s=e;l(s,t);s=p(s,1)){var u=i(r(o(p(t,f(s,1))),a(4,s)),r(o(f(t,s)),o(r(2,s))));n=p(n,u)}return r(t,n)}}),Au="mode",Cu=Ve(Au,["typed","isNaN","isNumeric"],e=>{var{typed:t,isNaN:n,isNumeric:r}=e;return t(Au,{"Array | Matrix":a,"...":function(e){return a(e)}});function a(e){if(0===(e=Ht(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},a=[],i=0,o=0;o<e.length;o++){var s=e[o];if(r(s)&&n(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===i?a.push(s):t[s]>i&&(i=t[s],a=[s])}return a}});function ku(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+Fe(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+Fe(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var _u="prod",Du=Ve(_u,["typed","config","multiplyScalar","numeric"],e=>{var{typed:t,config:n,multiplyScalar:r,numeric:a}=e;return t(_u,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return i(e)}});function i(e){var t;if(Ra(e,function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw ku(n,"prod",e)}}),"string"===typeof t&&(t=a(t,n.number)),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}),ju="format",Ou=Ve(ju,["typed"],e=>{var{typed:t}=e;return t(ju,{any:St,"any, Object | function | number":St})}),Mu=Ve("bin",["typed","format"],e=>{var{typed:t,format:n}=e;return t("bin",{"number | BigNumber":function(e){return n(e,{notation:"bin"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"bin",wordSize:t})}})}),Tu=Ve("oct",["typed","format"],e=>{var{typed:t,format:n}=e;return t("oct",{"number | BigNumber":function(e){return n(e,{notation:"oct"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"oct",wordSize:t})}})}),Pu=Ve("hex",["typed","format"],e=>{var{typed:t,format:n}=e;return t("hex",{"number | BigNumber":function(e){return n(e,{notation:"hex"})},"number | BigNumber, number":function(e,t){return n(e,{notation:"hex",wordSize:t})}})}),Fu=/\$([\w.]+)/g,Iu="print",Bu=Ve(Iu,["typed"],e=>{var{typed:t}=e;return t(Iu,{"string, Object | Array":Ru,"string, Object | Array, number | Object":Ru})});function Ru(e,t,n){return e.replace(Fu,function(e,r){var a=r.split("."),i=t[a.shift()];for(void 0!==i&&i.isMatrix&&(i=i.toArray());a.length&&void 0!==i;){var o=a.shift();i=o?i[o]:i+"."}return void 0!==i?ee(i)?i:St(i,n):e})}var zu=Ve("to",["typed","matrix","concat"],e=>{var{typed:t,matrix:n,concat:r}=e;return t("to",{"Unit, Unit | string":(e,t)=>e.to(t)},Lo({typed:t,matrix:n,concat:r})({Ds:!0}))}),Lu="isPrime",qu=Ve(Lu,["typed"],e=>{var{typed:t}=e;return t(Lu,{number:function(e){if(0*e!==0)return!1;if(e<=3)return e>1;if(e%2===0||e%3===0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t===0||e%(t+2)===0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!==0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;if(e.lt(Math.pow(2,32))){for(var t=e.toNumber(),n=5;n*n<=t;n+=6)if(t%n===0||t%(n+2)===0)return!1;return!0}function r(e,t,n){for(var r=1;!t.eq(0);)t.mod(2).eq(0)?(t=t.div(2),e=e.mul(e).mod(n)):(t=t.sub(1),r=e.mul(r).mod(n));return r}for(var a=e.constructor.clone({precision:2*e.toFixed(0).length}),i=0,o=(e=new a(e)).sub(1);o.mod(2).eq(0);)o=o.div(2),i+=1;var s=null;if(e.lt("3317044064679887385961981"))s=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(t=>t<e);else{var l=Math.min(e.toNumber()-2,Math.floor(2*Math.pow(e.toFixed(0).length*Math.log(10),2)));s=[];for(var u=2;u<=l;u+=1)s.push(l)}for(var c=0;c<s.length;c+=1){var d=s[c],f=r(e.sub(e).add(d),o,e);if(!f.eq(1))for(var p=0,h=f;!h.eq(e.sub(1));p+=1,h=h.mul(h).mod(e))if(p===i-1)return!1}return!0},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Uu=Ve("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:n,fraction:r}=e,a={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:e=>t(e),BigNumber:n?e=>n(e):Pl,Fraction:r?e=>r(e):Fl};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var n=Fe(e);if(!(n in a))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(a).join(", "));if(!(t in i))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(i).join(", "));return t===n?e:i[t](e)}}),$u="divideScalar",Wu=Ve($u,["typed","numeric"],e=>{var{typed:t,numeric:n}=e;return t($u,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,t)=>e.divide(t),"number | Fraction | Complex | BigNumber, Unit":(e,t)=>t.divideInto(e)})}),Hu=Ve("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:n,identity:r,multiply:a,matrix:i,inv:o,number:s,fraction:l,Complex:u}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new u(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){var r=e.pow(t);if(null!=r)return r;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(e.valueOf(),t.valueOf())},"Array, number":d,"Array, BigNumber":function(e,t){return d(e,t.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(e,t){return f(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(n.predictable&&!Xe(t)&&e<0)try{var r=l(t),a=s(r);if((t===a||Math.abs((t-a)/t)<1e-14)&&r.d%2===1)return(r.n%2===0?1:-1)*Math.pow(-e,t)}catch(i){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:Xe(t)||e>=0||n.predictable?Zi(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new u(e,0).pow(t,0)}function d(e,t){if(!Xe(t))throw new TypeError("For A^b, b must be an integer (value is "+t+")");var n=jt(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");if(t<0)try{return d(o(e),-t)}catch(l){if("Cannot calculate inverse, determinant is zero"===l.message)throw new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw l}for(var i=r(n[0]).valueOf(),s=e;t>=1;)1===(1&t)&&(i=a(s,i)),t>>=1,s=a(s,s);return i}function f(e,t){return i(d(e.valueOf(),t))}}),Ku="Number of decimals in function round must be an integer",Vu="round",Yu=Ve(Vu,["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:a,BigNumber:i,DenseMatrix:o}=e,s=mo({typed:t,equalScalar:r}),l=go({typed:t,DenseMatrix:o}),u=yo({typed:t});return t(Vu,{number:Qi,"number, number":Qi,"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ku);return new i(e).toDecimalPlaces(t.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(Ku);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ku);var n=t.toNumber();return e.round(n)},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ku);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(Ku);return e.round(t)},"Fraction, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ku);return e.round(t.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>za(t,e,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>s(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>u(t,n,e,!1)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>u(n(t),r,e,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):l(n,t,e,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):u(n,t,e,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(e=>(t,r)=>u(n(r),t,e,!0).valueOf())})}),Gu=Ve("log",["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:n,divideScalar:r,Complex:a}=e;return t("log",{number:function(e){return e>=0||n.predictable?function(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}(e):new a(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||n.predictable?e.ln():new a(e.toNumber(),0).log()},"any, any":t.referToSelf(e=>(t,n)=>r(e(t),e(n)))})}),Xu="log1p",Ju=Ve(Xu,["typed","config","divideScalar","log","Complex"],e=>{var{typed:t,config:n,divideScalar:r,log:a,Complex:i}=e;return t(Xu,{number:function(e){return e>=-1||n.predictable?et(e):o(new i(e,0))},Complex:o,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||n.predictable?t.ln():o(new i(e.toNumber(),0))},"Array | Matrix":t.referToSelf(e=>t=>za(t,e)),"any, any":t.referToSelf(e=>(t,n)=>r(e(t),a(n)))});function o(e){var t=e.re+1;return new i(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}}),Zu="nthRoots",Qu=Ve(Zu,["config","typed","divideScalar","Complex"],e=>{var{typed:t,config:n,divideScalar:r,Complex:a}=e,i=[function(e){return new a(e,0)},function(e){return new a(0,e)},function(e){return new a(-e,0)},function(e){return new a(0,-e)}];function o(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!==0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new a(0,0)];var n,r="number"===typeof e;(r||0===e.re||0===e.im)&&(n=r?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var o=e.arg(),s=e.abs(),l=[],u=Math.pow(s,1/t),c=0;c<t;c++){var d=(n+4*c)/t;d!==Math.round(d)?l.push(new a({r:u,phi:(o+2*Math.PI*c)/t})):l.push(i[d%4](u))}return l}return t(Zu,{Complex:function(e){return o(e,2)},"Complex, number":o})}),ec="dotPow",tc=Ve(ec,["typed","equalScalar","matrix","pow","DenseMatrix","concat"],e=>{var{typed:t,equalScalar:n,matrix:r,pow:a,DenseMatrix:i,concat:o}=e,s=Io({typed:t}),l=$s({typed:t,DenseMatrix:i}),u=mo({typed:t,equalScalar:n}),c=go({typed:t,DenseMatrix:i}),d=Lo({typed:t,matrix:r,concat:o}),f={};for(var p in a.signatures)Object.prototype.hasOwnProperty.call(a.signatures,p)&&(p.includes("Matrix")||p.includes("Array")||(f[p]=a.signatures[p]));var h=t(f);return t(ec,d({elop:h,SS:l,DS:s,Ss:u,sS:c}))}),nc="dotDivide",rc=Ve(nc,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,divideScalar:a,DenseMatrix:i,concat:o}=e,s=Fo({typed:t,equalScalar:r}),l=Io({typed:t}),u=$s({typed:t,DenseMatrix:i}),c=mo({typed:t,equalScalar:r}),d=go({typed:t,DenseMatrix:i}),f=Lo({typed:t,matrix:n,concat:o});return t(nc,f({elop:a,SS:u,DS:l,SD:s,Ss:c,sS:d}))});function ac(e){var{DenseMatrix:t}=e;return function(e,n,r){var a=e.size();if(2!==a.length)throw new RangeError("Matrix must be two dimensional (size: "+St(a)+")");var i=a[0];if(i!==a[1])throw new RangeError("Matrix must be square (size: "+St(a)+")");var o=[];if(ne(n)){var s=n.size(),l=n._data;if(1===s.length){if(s[0]!==i)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var u=0;u<i;u++)o[u]=[l[u]];return new t({data:o,size:[i,1],datatype:n._datatype})}if(2===s.length){if(s[0]!==i||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(ae(n)){if(r){o=[];for(var c=0;c<i;c++)o[c]=[l[c][0]];return new t({data:o,size:[i,1],datatype:n._datatype})}return n}if(ie(n)){for(var d=0;d<i;d++)o[d]=[0];for(var f=n._values,p=n._index,h=n._ptr,m=h[1],g=h[0];g<m;g++){o[p[g]][0]=f[g]}return new t({data:o,size:[i,1],datatype:n._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(te(n)){var y=jt(n);if(1===y.length){if(y[0]!==i)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var v=0;v<i;v++)o[v]=[n[v]];return new t({data:o,size:[i,1]})}if(2===y.length){if(y[0]!==i||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<i;b++)o[b]=[n[b][0]];return new t({data:o,size:[i,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var ic="lsolve",oc=Ve(ic,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:a,subtractScalar:i,equalScalar:o,DenseMatrix:s}=e,l=ac({DenseMatrix:s});return t(ic,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],d=e._values,f=e._index,p=e._ptr,h=[],m=0;m<c;m++){var g=n[m][0]||0;if(o(g,0))h[m]=[0];else{for(var y=0,v=[],b=[],x=p[m],w=p[m+1],S=x;S<w;S++){var N=f[S];N===m?y=d[S]:N>m&&(v.push(d[S]),b.push(N))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var E=r(g,y),A=0,C=b.length;A<C;A++){var k=b[A];n[k]=[i(n[k][0]||0,a(E,v[A]))]}h[m]=[E]}}return new s({data:h,size:[u,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],d=[],f=e._data,p=0;p<c;p++){var h=n[p][0]||0,m=void 0;if(o(h,0))m=0;else{var g=f[p][p];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(h,g);for(var y=p+1;y<u;y++)n[y]=[i(n[y][0]||0,a(m,f[y][p]))]}d[p]=[m]}return new s({data:d,size:[u,1]})}}),sc="usolve",lc=Ve(sc,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:a,subtractScalar:i,equalScalar:o,DenseMatrix:s}=e,l=ac({DenseMatrix:s});return t(sc,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],d=e._values,f=e._index,p=e._ptr,h=[],m=c-1;m>=0;m--){var g=n[m][0]||0;if(o(g,0))h[m]=[0];else{for(var y=0,v=[],b=[],x=p[m],w=p[m+1]-1;w>=x;w--){var S=f[w];S===m?y=d[w]:S<m&&(v.push(d[w]),b.push(S))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var N=r(g,y),E=0,A=b.length;E<A;E++){var C=b[E];n[C]=[i(n[C][0],a(N,v[E]))]}h[m]=[N]}}return new s({data:h,size:[u,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],d=[],f=e._data,p=c-1;p>=0;p--){var h=n[p][0]||0,m=void 0;if(o(h,0))m=0;else{var g=f[p][p];if(o(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(h,g);for(var y=p-1;y>=0;y--)n[y]=[i(n[y][0]||0,a(m,f[y][p]))]}d[p]=[m]}return new s({data:d,size:[u,1]})}}),uc="lsolveAll",cc=Ve(uc,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:a,subtractScalar:i,equalScalar:o,DenseMatrix:s}=e,l=ac({DenseMatrix:s});return t(uc,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._size[0],c=e._size[1],d=e._values,f=e._index,p=e._ptr,h=0;h<c;h++)for(var m=n.length,g=0;g<m;g++){for(var y=n[g],v=[],b=[],x=p[h],w=p[h+1],S=0,N=x;N<w;N++){var E=f[N];E===h?S=d[N]:E>h&&(v.push(d[N]),b.push(E))}if(o(S,0))if(o(y[h],0)){if(0===g){var A=[...y];A[h]=1;for(var C=0,k=b.length;C<k;C++){var _=b[C];A[_]=i(A[_],v[C])}n.push(A)}}else{if(0===g)return[];n.splice(g,1),g-=1,m-=1}else{y[h]=r(y[h],S);for(var D=0,j=b.length;D<j;D++){var O=b[D];y[O]=i(y[O],a(y[h],v[D]))}}}return n.map(e=>new s({data:e.map(e=>[e]),size:[u,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).map(e=>e.valueOf())}});function u(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._data,c=e._size[0],d=e._size[1],f=0;f<d;f++)for(var p=n.length,h=0;h<p;h++){var m=n[h];if(o(u[f][f],0))if(o(m[f],0)){if(0===h){var g=[...m];g[f]=1;for(var y=f+1;y<d;y++)g[y]=i(g[y],u[y][f]);n.push(g)}}else{if(0===h)return[];n.splice(h,1),h-=1,p-=1}else{m[f]=r(m[f],u[f][f]);for(var v=f+1;v<d;v++)m[v]=i(m[v],a(m[f],u[v][f]))}}return n.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),dc="usolveAll",fc=Ve(dc,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:n,divideScalar:r,multiplyScalar:a,subtractScalar:i,equalScalar:o,DenseMatrix:s}=e,l=ac({DenseMatrix:s});return t(dc,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._size[0],c=e._size[1],d=e._values,f=e._index,p=e._ptr,h=c-1;h>=0;h--)for(var m=n.length,g=0;g<m;g++){for(var y=n[g],v=[],b=[],x=p[h],w=0,S=p[h+1]-1;S>=x;S--){var N=f[S];N===h?w=d[S]:N<h&&(v.push(d[S]),b.push(N))}if(o(w,0))if(o(y[h],0)){if(0===g){var E=[...y];E[h]=1;for(var A=0,C=b.length;A<C;A++){var k=b[A];E[k]=i(E[k],v[A])}n.push(E)}}else{if(0===g)return[];n.splice(g,1),g-=1,m-=1}else{y[h]=r(y[h],w);for(var _=0,D=b.length;_<D;_++){var j=b[_];y[j]=i(y[j],a(y[h],v[_]))}}}return n.map(e=>new s({data:e.map(e=>[e]),size:[u,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).map(e=>e.valueOf())}});function u(e,t){for(var n=[l(e,t,!0)._data.map(e=>e[0])],u=e._data,c=e._size[0],d=e._size[1]-1;d>=0;d--)for(var f=n.length,p=0;p<f;p++){var h=n[p];if(o(u[d][d],0))if(o(h[d],0)){if(0===p){var m=[...h];m[d]=1;for(var g=d-1;g>=0;g--)m[g]=i(m[g],u[g][d]);n.push(m)}}else{if(0===p)return[];n.splice(p,1),p-=1,f-=1}else{h[d]=r(h[d],u[d][d]);for(var y=d-1;y>=0;y--)h[y]=i(h[y],a(h[d],u[y][d]))}}return n.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),pc=Ve("matAlgo08xS0Sid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return function(e,r,a){var i=e._values,o=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,d=r._index,f=r._ptr,p=r._size,h=r._datatype;if(l.length!==p.length)throw new _t(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!i||!c)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,g=l[0],y=l[1],v=n,b=0,x=a;"string"===typeof u&&u===h&&(m=u,v=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(a,[m,m]));for(var w,S,N,E,A=[],C=[],k=[],_=[],D=[],j=0;j<y;j++){k[j]=C.length;var O=j+1;for(S=s[j],N=s[j+1],w=S;w<N;w++)D[E=o[w]]=O,_[E]=i[w],C.push(E);for(S=f[j],N=f[j+1],w=S;w<N;w++)D[E=d[w]]===O&&(_[E]=x(_[E],c[w]));for(w=k[j];w<C.length;){var M=_[E=C[w]];v(M,b)?C.splice(w,1):(A.push(M),w++)}}return k[y]=C.length,e.createSparseMatrix({values:A,index:C,ptr:k,size:[g,y],datatype:m})}}),hc=Ve("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:n}=e;return{"Array, number":t.referTo("DenseMatrix, number",e=>(t,r)=>e(n(t),r).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",e=>(t,r)=>e(n(t),r).valueOf()),"number, Array":t.referTo("number, DenseMatrix",e=>(t,r)=>e(t,n(r)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",e=>(t,r)=>e(t,n(r)).valueOf())}}),mc="leftShift",gc=Ve(mc,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:a,DenseMatrix:i,concat:o}=e,s=Uo({typed:t}),l=Fo({typed:t,equalScalar:r}),u=pc({typed:t,equalScalar:r}),c=Wo({typed:t,DenseMatrix:i}),d=mo({typed:t,equalScalar:r}),f=yo({typed:t}),p=Lo({typed:t,matrix:n,concat:o}),h=hc({typed:t,matrix:n});return t(mc,{"number, number":Ps,"BigNumber, BigNumber":ks,"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():d(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():f(t,n,e,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):c(n,t,e,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):f(n,t,e,!0))},h,p({SS:u,DS:s,SD:l}))}),yc="rightArithShift",vc=Ve(yc,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:a,DenseMatrix:i,concat:o}=e,s=Uo({typed:t}),l=Fo({typed:t,equalScalar:r}),u=pc({typed:t,equalScalar:r}),c=Wo({typed:t,DenseMatrix:i}),d=mo({typed:t,equalScalar:r}),f=yo({typed:t}),p=Lo({typed:t,matrix:n,concat:o}),h=hc({typed:t,matrix:n});return t(yc,{"number, number":Fs,"BigNumber, BigNumber":_s,"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():d(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():f(t,n,e,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):c(n,t,e,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):f(n,t,e,!0))},h,p({SS:u,DS:s,SD:l}))}),bc="rightLogShift",xc=Ve(bc,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:a,DenseMatrix:i,concat:o}=e,s=Uo({typed:t}),l=Fo({typed:t,equalScalar:r}),u=pc({typed:t,equalScalar:r}),c=Wo({typed:t,DenseMatrix:i}),d=mo({typed:t,equalScalar:r}),f=yo({typed:t}),p=Lo({typed:t,matrix:n,concat:o}),h=hc({typed:t,matrix:n});return t(bc,{"number, number":Is,"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():d(t,n,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,n)=>r(n,0)?t.clone():f(t,n,e,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):c(n,t,e,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(e=>(t,n)=>r(t,0)?a(n.size(),n.storage()):f(n,t,e,!0))},h,p({SS:u,DS:s,SD:l}))}),wc=Ve("and",["typed","matrix","equalScalar","zeros","not","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,zeros:a,not:i,concat:o}=e,s=Fo({typed:t,equalScalar:r}),l=Xo({typed:t,equalScalar:r}),u=mo({typed:t,equalScalar:r}),c=yo({typed:t}),d=Lo({typed:t,matrix:n,concat:o});return t("and",{"number, number":tl,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)&&(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!t.isZero()&&!e.isNaN()&&!t.isNaN()},"Unit, Unit":t.referToSelf(e=>(t,n)=>e(t.value||0,n.value||0)),"SparseMatrix, any":t.referToSelf(e=>(t,n)=>i(n)?a(t.size(),t.storage()):u(t,n,e,!1)),"DenseMatrix, any":t.referToSelf(e=>(t,n)=>i(n)?a(t.size(),t.storage()):c(t,n,e,!1)),"any, SparseMatrix":t.referToSelf(e=>(t,n)=>i(t)?a(t.size(),t.storage()):u(n,t,e,!0)),"any, DenseMatrix":t.referToSelf(e=>(t,n)=>i(t)?a(t.size(),t.storage()):c(n,t,e,!0)),"Array, any":t.referToSelf(e=>(t,r)=>e(n(t),r).valueOf()),"any, Array":t.referToSelf(e=>(t,r)=>e(t,n(r)).valueOf())},d({SS:l,DS:s}))}),Sc="compare",Nc=Ve(Sc,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],e=>{var{typed:t,config:n,equalScalar:r,matrix:a,BigNumber:i,Fraction:o,DenseMatrix:s,concat:l}=e,u=Io({typed:t}),c=Bo({typed:t,equalScalar:r}),d=go({typed:t,DenseMatrix:s}),f=Lo({typed:t,matrix:a,concat:l}),p=di({typed:t});return t(Sc,Ec({typed:t,config:n}),{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return ci(e,t,n.epsilon)?new i(0):new i(e.cmp(t))},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,f({SS:c,DS:u,Ss:d}))}),Ec=Ve(Sc,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Sc,{"number, number":function(e,t){return dt(e,t,n.epsilon)?0:e>t?1:-1}})}),Ac=n(5939),Cc="compareNatural",kc=Ve(Cc,["typed","compare"],e=>{var{typed:t,compare:n}=e,r=n.signatures["boolean,boolean"];return t(Cc,{"any, any":function e(t,o){var s,l=Fe(t),u=Fe(o);if(("number"===l||"BigNumber"===l||"Fraction"===l)&&("number"===u||"BigNumber"===u||"Fraction"===u))return"0"!==(s=n(t,o)).toString()?s>0?1:-1:Ac(l,u);var c=["Array","DenseMatrix","SparseMatrix"];if(c.includes(l)||c.includes(u))return 0!==(s=a(e,t,o))?s:Ac(l,u);if(l!==u)return Ac(l,u);if("Complex"===l)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0}(t,o);if("Unit"===l)return t.equalBase(o)?e(t.value,o.value):i(e,t.formatUnits(),o.formatUnits());if("boolean"===l)return r(t,o);if("string"===l)return Ac(t,o);if("Object"===l)return function(e,t,n){var r=Object.keys(t),a=Object.keys(n);r.sort(Ac),a.sort(Ac);var o=i(e,r,a);if(0!==o)return o;for(var s=0;s<r.length;s++){var l=e(t[r[s]],n[a[s]]);if(0!==l)return l}return 0}(e,t,o);if("null"===l)return 0;if("undefined"===l)return 0;throw new TypeError('Unsupported type of value "'+l+'"')}});function a(e,t,n){return ie(t)&&ie(n)?i(e,t.toJSON().values,n.toJSON().values):ie(t)?a(e,t.toArray(),n):ie(n)?a(e,t,n.toArray()):ae(t)?a(e,t.toJSON().data,n):ae(n)?a(e,t,n.toJSON().data):Array.isArray(t)?Array.isArray(n)?i(e,t,n):a(e,t,[n]):a(e,[t],n)}function i(e,t,n){for(var r=0,a=Math.min(t.length,n.length);r<a;r++){var i=e(t[r],n[r]);if(0!==i)return i}return t.length>n.length?1:t.length<n.length?-1:0}});var _c="compareText",Dc=["typed","matrix","concat"];kt.signature="any, any";var jc=Ve(_c,Dc,e=>{var{typed:t,matrix:n,concat:r}=e,a=Lo({typed:t,matrix:n,concat:r});return t(_c,kt,a({elop:kt,Ds:!0}))}),Oc="equal",Mc=Ve(Oc,["typed","matrix","equalScalar","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,DenseMatrix:a,concat:i}=e,o=Io({typed:t}),s=$s({typed:t,DenseMatrix:a}),l=go({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:n,concat:i});return t(Oc,Tc({typed:t,equalScalar:r}),u({elop:r,SS:s,DS:o,Ss:l}))}),Tc=Ve(Oc,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(Oc,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})}),Pc="equalText",Fc=Ve(Pc,["typed","compareText","isZero"],e=>{var{typed:t,compareText:n,isZero:r}=e;return t(Pc,{"any, any":function(e,t){return r(n(e,t))}})}),Ic="smaller",Bc=Ve(Ic,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:a,concat:i}=e,o=Io({typed:t}),s=$s({typed:t,DenseMatrix:a}),l=go({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:r,concat:i}),c=di({typed:t});return t(Ic,Rc({typed:t,config:n}),{"boolean, boolean":(e,t)=>e<t,"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!ci(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>-1===e.compare(t),"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),Rc=Ve(Ic,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Ic,{"number, number":function(e,t){return e<t&&!dt(e,t,n.epsilon)}})}),zc="smallerEq",Lc=Ve(zc,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:a,concat:i}=e,o=Io({typed:t}),s=$s({typed:t,DenseMatrix:a}),l=go({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:r,concat:i}),c=di({typed:t});return t(zc,qc({typed:t,config:n}),{"boolean, boolean":(e,t)=>e<=t,"BigNumber, BigNumber":function(e,t){return e.lte(t)||ci(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>1!==e.compare(t),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),qc=Ve(zc,["typed","config"],e=>{var{typed:t,config:n}=e;return t(zc,{"number, number":function(e,t){return e<=t||dt(e,t,n.epsilon)}})}),Uc="larger",$c=Ve(Uc,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:a,concat:i}=e,o=Io({typed:t}),s=$s({typed:t,DenseMatrix:a}),l=go({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:r,concat:i}),c=di({typed:t});return t(Uc,Wc({typed:t,config:n}),{"boolean, boolean":(e,t)=>e>t,"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!ci(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>1===e.compare(t),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),Wc=Ve(Uc,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Uc,{"number, number":function(e,t){return e>t&&!dt(e,t,n.epsilon)}})}),Hc="largerEq",Kc=Ve(Hc,["typed","config","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,matrix:r,DenseMatrix:a,concat:i}=e,o=Io({typed:t}),s=$s({typed:t,DenseMatrix:a}),l=go({typed:t,DenseMatrix:a}),u=Lo({typed:t,matrix:r,concat:i}),c=di({typed:t});return t(Hc,Vc({typed:t,config:n}),{"boolean, boolean":(e,t)=>e>=t,"BigNumber, BigNumber":function(e,t){return e.gte(t)||ci(e,t,n.epsilon)},"Fraction, Fraction":(e,t)=>-1!==e.compare(t),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),Vc=Ve(Hc,["typed","config"],e=>{var{typed:t,config:n}=e;return t(Hc,{"number, number":function(e,t){return e>=t||dt(e,t,n.epsilon)}})}),Yc="deepEqual",Gc=Ve(Yc,["typed","equal"],e=>{var{typed:t,equal:n}=e;return t(Yc,{"any, any":function(e,t){return r(e.valueOf(),t.valueOf())}});function r(e,t){if(Array.isArray(e)){if(Array.isArray(t)){var a=e.length;if(a!==t.length)return!1;for(var i=0;i<a;i++)if(!r(e[i],t[i]))return!1;return!0}return!1}return!Array.isArray(t)&&n(e,t)}}),Xc="unequal",Jc=Ve(Xc,["typed","config","equalScalar","matrix","DenseMatrix","concat"],e=>{var{typed:t,config:n,equalScalar:r,matrix:a,DenseMatrix:i,concat:o}=e,s=Io({typed:t}),l=$s({typed:t,DenseMatrix:i}),u=go({typed:t,DenseMatrix:i}),c=Lo({typed:t,matrix:a,concat:o});return t(Xc,Zc({typed:t,equalScalar:r}),c({elop:function(e,t){return!r(e,t)},SS:l,DS:s,Ss:u}))}),Zc=Ve(Xc,["typed","equalScalar"],e=>{var{typed:t,equalScalar:n}=e;return t(Xc,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})}),Qc="partitionSelect",ed=Ve(Qc,["typed","isNumeric","isNaN","compare"],e=>{var{typed:t,isNumeric:n,isNaN:r,compare:a}=e,i=a,o=(e,t)=>-a(e,t);return t(Qc,{"Array | Matrix, number":function(e,t){return s(e,t,i)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,i);if("desc"===n)return s(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,n){if(!Xe(t)||t<0)throw new Error("k must be a non-negative integer");if(ne(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return l(e.valueOf(),t,n)}if(Array.isArray(e))return l(e,t,n)}function l(e,t,a){if(t>=e.length)throw new Error("k out of bounds");for(var i=0;i<e.length;i++)if(n(e[i])&&r(e[i]))return e[i];for(var o=0,s=e.length-1;o<s;){for(var l=o,u=s,c=e[Math.floor(Math.random()*(s-o+1))+o];l<u;)if(a(e[l],c)>=0){var d=e[u];e[u]=e[l],e[l]=d,--u}else++l;a(e[l],c)>0&&--l,t<=l?s=l:o=l+1}return e[t]}}),td="sort",nd=Ve(td,["typed","matrix","compare","compareNatural"],e=>{var{typed:t,matrix:n,compare:r,compareNatural:a}=e,i=r,o=(e,t)=>-r(e,t);return t(td,{Array:function(e){return l(e),e.sort(i)},Matrix:function(e){return u(e),n(e.toArray().sort(i),e.storage())},"Array, function":function(e,t){return l(e),e.sort(t)},"Matrix, function":function(e,t){return u(e),n(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return l(e),e.sort(s(t))},"Matrix, string":function(e,t){return u(e),n(e.toArray().sort(s(t)),e.storage())}});function s(e){if("asc"===e)return i;if("desc"===e)return o;if("natural"===e)return a;throw new Error('String "asc", "desc", or "natural" expected')}function l(e){if(1!==jt(e).length)throw new Error("One dimensional array expected")}function u(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}}),rd=Ve("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:n,numeric:r,larger:a}=e;return t("max",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return La(e,t.valueOf(),i)},"...":function(e){if(Ba(e))throw new TypeError("Scalar values expected in function max");return o(e)}});function i(e,t){try{return a(e,t)?e:t}catch(n){throw ku(n,"max",t)}}function o(e){var t;if(Ra(e,function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(n){throw ku(n,"max",e)}}),void 0===t)throw new Error("Cannot calculate max of an empty array");return"string"===typeof t&&(t=r(t,n.number)),t}}),ad=Ve("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:n,numeric:r,smaller:a}=e;return t("min",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){return La(e,t.valueOf(),i)},"...":function(e){if(Ba(e))throw new TypeError("Scalar values expected in function min");return o(e)}});function i(e,t){try{return a(e,t)?e:t}catch(n){throw ku(n,"min",t)}}function o(e){var t;if(Ra(e,function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||a(e,t))&&(t=e)}catch(n){throw ku(n,"min",e)}}),void 0===t)throw new Error("Cannot calculate min of an empty array");return"string"===typeof t&&(t=r(t,n.number)),t}}),id=Ve("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:t,DenseMatrix:n}=e;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!ee(t))throw new Error("Invalid datatype: "+t);if(ne(e)||te(e)){var a=new n(e,t);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(e&&te(e.data)&&te(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!==typeof e.min?e.min:null,this._max="undefined"!==typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+Fe(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=n.prototype.subset.call(this,e);return ne(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:Ie(this._data),size:Ie(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(n){(null===e||t(n,e))&&(e=n)}),this._min=null!==e?e:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(n){(null===e||t(e,n))&&(e=n)}),this._max=null!==e?e:void 0}return this._max},r},{isClass:!0}),od=Ve("Index",["ImmutableDenseMatrix","getMatrixDataType"],e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:n}=e;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var o=arguments[t],s=te(o),l=ne(o),u=null;if(oe(o))this._dimensions.push(o),this._isScalar=!1;else if(s||l){var c=void 0;"boolean"===n(o)?(s&&(c=a(sd(o).valueOf())),l&&(c=a(sd(o._data).valueOf())),u=o.valueOf().length):c=a(o.valueOf()),this._dimensions.push(c);var d=c.size();1===d.length&&1===d[0]&&null===u||(this._isScalar=!1)}else if("number"===typeof o)this._dimensions.push(a([o]));else{if("string"!==typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}this._sourceSize.push(u)}}function a(e){for(var n=0,r=e.length;n<r;n++)if("number"!==typeof e[n]||!Xe(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var e=new r;return e._dimensions=Ie(this._dimensions),e._isScalar=this._isScalar,e._sourceSize=this._sourceSize,e},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?1:r.size()[0]}return e},r.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.max()}return e},r.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.min()}return e},r.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;t<n;t++)e(this._dimensions[t],t,this)},r.prototype.dimension=function(e){return this._dimensions[e]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"===typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"===typeof r?r:r.toArray())}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];"string"===typeof r?e.push(JSON.stringify(r)):e.push(r.toString())}return"["+e.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(e){return r.create(e.dimensions)},r},{isClass:!0});function sd(e){var t=[];return e.forEach((e,n)=>{e&&t.push(n)}),t}var ld=Ve("FibonacciHeap",["smaller","larger"],e=>{var{smaller:t,larger:n}=e,r=1/Math.log((1+Math.sqrt(5))/2);function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function i(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}function o(e,t){var n=t.parent;n&&(t.mark?(i(e,t,n),o(n)):t.mark=!0)}a.prototype.type="FibonacciHeap",a.prototype.isFibonacciHeap=!0,a.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var a=this._minimum;r.left=a,r.right=a.right,a.right=r,r.right.left=r,t(e,a.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},a.prototype.size=function(){return this._size},a.prototype.clear=function(){this._minimum=null,this._size=0},a.prototype.isEmpty=function(){return 0===this._size},a.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var a=this._minimum,i=e.degree,o=e.child;i>0;){var l=o.right;o.left.right=o.right,o.right.left=o.left,o.left=a,o.right=a.right,a.right=o,o.right.left=o,o.parent=null,o=l,i--}return e.left.right=e.right,e.right.left=e.left,a=e===e.right?null:function(e,a){var i,o=Math.floor(Math.log(a)*r)+1,l=new Array(o),u=0,c=e;if(c)for(u++,c=c.right;c!==e;)u++,c=c.right;for(;u>0;){for(var d=c.degree,f=c.right;i=l[d];){if(n(c.key,i.key)){var p=i;i=c,c=p}s(i,c),l[d]=null,d++}l[d]=c,c=f,u--}e=null;for(var h=0;h<o;h++)(i=l[h])&&(e?(i.left.right=i.right,i.right.left=i.left,i.left=e,i.right=e.right,e.right=i,i.right.left=i,t(i.key,e.key)&&(e=i)):e=i);return e}(a=e.right,this._size),this._size--,this._minimum=a,e},a.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=r;var a=n.parent;a&&t(n.key,a.key)&&(i(e,n,a),o(e,a));t(n.key,e.key)&&(e=n);return e}(this._minimum,e,-1),this.extractMinimum()};var s=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return a},{isClass:!0}),ud=Ve("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:t,equalScalar:n,FibonacciHeap:r}=e;function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},a.prototype.get=function(e){var t=this._values[e];return t?t.value:0},a.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},a.prototype.forEach=function(e,t,r){var a=this._heap,i=this._values,o=[],s=a.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&(n(s.value,0)||r(s.key,s.value,this)),(s=a.extractMinimum())&&o.push(s);for(var l=0;l<o.length;l++){var u=o[l];i[(s=a.insert(u.key,u.value)).key]=s}},a.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var a=n.value;n.value=r.value,r.value=a}},a},{isClass:!0}),cd=Oa(function(e){return new e(1).exp()},{hasher:hd}),dd=Oa(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:hd}),fd=Oa(function(e){return e.acos(-1)},{hasher:hd}),pd=Oa(function(e){return fd(e).times(2)},{hasher:hd});function hd(e){return e[0].precision}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach(function(t){hu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var yd=Ve("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],e=>{var t,n,r,{on:a,config:i,addScalar:o,subtractScalar:s,multiplyScalar:l,divideScalar:u,pow:c,abs:d,fix:f,round:p,equal:h,isNumeric:m,format:g,number:y,Complex:v,BigNumber:b,Fraction:x}=e,w=y;function S(e,t){if(!(this instanceof S))throw new Error("Constructor must be called with the new operator");if(null!==e&&void 0!==e&&!m(e)&&!J(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===t)this.units=[],this.dimensions=T.map(e=>0);else if("string"===typeof t){var n=S.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{if(!Q(t)||null!==t.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=t.fixPrefix,this.skipAutomaticSimplification=t.skipAutomaticSimplification,this.dimensions=t.dimensions.slice(0),this.units=t.units.map(e=>V({},e))}this.value=this._normalize(e)}function N(){for(;" "===r||"\t"===r;)A()}function E(e){return e>="0"&&e<="9"}function A(){n++,r=t.charAt(n)}function C(e){n=e,r=t.charAt(n)}function k(){var e="",t=n;if("+"===r?A():"-"===r&&(e+=r,A()),!function(e){return e>="0"&&e<="9"||"."===e}(r))return C(t),null;if("."===r){if(e+=r,A(),!E(r))return C(t),null}else{for(;E(r);)e+=r,A();"."===r&&(e+=r,A())}for(;E(r);)e+=r,A();if("E"===r||"e"===r){var a="",i=n;if(a+=r,A(),"+"!==r&&"-"!==r||(a+=r,A()),!E(r))return C(i),e;for(e+=a;E(r);)e+=r,A()}return e}function _(){for(var e="";E(r)||S.isValidAlpha(r);)e+=r,A();var t=e.charAt(0);return S.isValidAlpha(t)?e:null}function D(e){return r===e?(A(),e):null}Object.defineProperty(S,"name",{value:"Unit"}),S.prototype.constructor=S,S.prototype.type="Unit",S.prototype.isUnit=!0,S.parse=function(e,a){if(a=a||{},n=-1,r="","string"!==typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var o=new S;o.units=[];var s=1,l=!1;A(),N();var u=k(),c=null;if(u){if("BigNumber"===i.number)c=new b(u);else if("Fraction"===i.number)try{c=new x(u)}catch(E){c=parseFloat(u)}else c=parseFloat(u);N(),D("*")?(s=1,l=!0):D("/")&&(s=-1,l=!0)}for(var d=[],f=1;;){for(N();"("===r;)d.push(s),f*=s,s=1,A(),N();var p=void 0;if(!r)break;var h=r;if(null===(p=_()))throw new SyntaxError('Unexpected "'+h+'" in "'+t+'" at index '+n.toString());var m=j(p);if(null===m)throw new SyntaxError('Unit "'+p+'" not found.');var g=s*f;if(N(),D("^")){N();var y=k();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}o.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var v=0;v<T.length;v++)o.dimensions[v]+=(m.unit.dimensions[v]||0)*g;for(N();")"===r;){if(0===d.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());f/=d.pop(),A(),N()}if(l=!1,D("*")?(s=1,l=!0):D("/")?(s=-1,l=!0):s=1,m.unit.base){var w=m.unit.base.key;L.auto[w]={unit:m.unit,prefix:m.prefix}}}if(N(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(l)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==d.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===o.units.length&&!a.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return o.value=void 0!==c?o._normalize(c):null,o},S.prototype.clone=function(){var e=new S;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=Ie(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])We(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},S.prototype.valueType=function(){return Fe(this.value)},S.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},S.prototype._normalize=function(e){if(null===e||void 0===e||0===this.units.length)return e;for(var t=e,n=S._getNumberConverter(Fe(e)),r=0;r<this.units.length;r++){var a=n(this.units[r].unit.value),i=n(this.units[r].prefix.value),o=n(this.units[r].power);t=l(t,c(l(a,i),o))}return t},S.prototype._denormalize=function(e,t){if(null===e||void 0===e||0===this.units.length)return e;for(var n=e,r=S._getNumberConverter(Fe(e)),a=0;a<this.units.length;a++){var i=r(this.units[a].unit.value),o=r(this.units[a].prefix.value),s=r(this.units[a].power);n=u(n,c(l(i,o),s))}return n};var j=Oa(e=>{if(We(B,e)){var t=B[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in B)if(We(B,n)&&wt(e,n)){var r=B[n],a=e.length-n.length,i=e.substring(0,a),o=We(r.prefixes,i)?r.prefixes[i]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null},{hasher:e=>e[0],limit:100});function O(e){return e.equalBase(P.NONE)&&null!==e.value&&!i.predictable?e.value:e}S.isValuelessUnit=function(e){return null!==j(e)},S.prototype.hasBase=function(e){if("string"===typeof e&&(e=P[e]),!e)return!1;for(var t=0;t<T.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},S.prototype.equalBase=function(e){for(var t=0;t<T.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},S.prototype.equals=function(e){return this.equalBase(e)&&h(this.value,e.value)},S.prototype.multiply=function(e){for(var t=this.clone(),n=Q(e)?e:new S(e),r=0;r<T.length;r++)t.dimensions[r]=(this.dimensions[r]||0)+(n.dimensions[r]||0);for(var a=0;a<n.units.length;a++){var i=gd({},n.units[a]);t.units.push(i)}if(null!==this.value||null!==n.value){var o=null===this.value?this._normalize(1):this.value,s=null===n.value?n._normalize(1):n.value;t.value=l(o,s)}else t.value=null;return Q(e)&&(t.skipAutomaticSimplification=!1),O(t)},S.prototype.divideInto=function(e){return new S(e).divide(this)},S.prototype.divide=function(e){for(var t=this.clone(),n=Q(e)?e:new S(e),r=0;r<T.length;r++)t.dimensions[r]=(this.dimensions[r]||0)-(n.dimensions[r]||0);for(var a=0;a<n.units.length;a++){var i=gd(gd({},n.units[a]),{},{power:-n.units[a].power});t.units.push(i)}if(null!==this.value||null!==n.value){var o=null===this.value?this._normalize(1):this.value,s=null===n.value?n._normalize(1):n.value;t.value=u(o,s)}else t.value=null;return Q(e)&&(t.skipAutomaticSimplification=!1),O(t)},S.prototype.pow=function(e){for(var t=this.clone(),n=0;n<T.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return null!==t.value?t.value=c(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,O(t)},S.prototype.abs=function(){var e=this.clone();if(null!==e.value)if(e._isDerived()||0===e.units[0].unit.offset)e.value=d(e.value);else{var t=e._numberConverter(),n=t(e.units[0].unit.value),r=t(e.units[0].unit.offset),a=l(n,r);e.value=s(d(o(e.value,a)),a)}for(var i in e.units)"VA"!==e.units[i].unit.name&&"VAR"!==e.units[i].unit.name||(e.units[i].unit=B.W);return e},S.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"===typeof e)t=S.parse(e);else{if(!Q(e))throw new Error("String or Unit expected as parameter");t=e.clone()}if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||this.units[0].unit.offset===t.units[0].unit.offset)t.value=Ie(n);else{var r=S._getNumberConverter(Fe(n)),a=this.units[0].unit.value,i=this.units[0].unit.offset,u=l(a,i),c=t.units[0].unit.value,d=t.units[0].unit.offset,f=l(c,d);t.value=o(n,r(s(u,f)))}return t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},S.prototype.toNumber=function(e){return w(this.toNumeric(e))},S.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},S.prototype.toString=function(){return this.format()},S.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},S.fromJSON=function(e){var t=new S(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},S.prototype.valueOf=S.prototype.toString,S.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var a in q)if(We(q,a)&&n.hasBase(P[a])){e=a;break}if("NONE"===e)n.units=[];else if(e&&We(q,e)&&(t=q[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var i=!1,o=0;o<T.length;o++){var s=T[o];Math.abs(n.dimensions[o]||0)>1e-12&&(We(q,s)?r.push({unit:q[s].unit,prefix:q[s].prefix,power:n.dimensions[o]||0}):i=!0)}r.length<n.units.length&&!i&&(n.units=r)}return n},S.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<T.length;n++){var r=T[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!We(L.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:L.si[r].unit,prefix:L.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},S.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,a=0;a<this.units.length;a++)this.units[a].power>0?(n++,e+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power-1)>1e-15&&(e+="^"+this.units[a].power)):this.units[a].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(t+="^"+-this.units[i].power)):(t+=" "+this.units[i].prefix.name+this.units[i].unit.name,t+="^"+this.units[i].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var o=e;return n>0&&r>0&&(o+=" / "),o+=t},S.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in"undefined"!==typeof t.value&&null!==t.value&&J(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)We(t.units,r)&&t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=B.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=B.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var a=t._denormalize(t.value),i=null!==t.value?g(a,e||{}):"",o=t.formatUnits();return t.value&&J(t.value)&&(i="("+i+")"),o.length>0&&i.length>0&&(i+=" "),i+=o},S.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?d(this.value):0,t=d(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,a=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(a>-2.200001&&a<1.800001)return n;a=Math.abs(a);var i=this.units[0].unit.prefixes;for(var o in i)if(We(i,o)){var s=i[o];if(s.scientific){var l=Math.abs(Math.log(e/Math.pow(s.value*t,r))/Math.LN10-1.2);(l<a||l===a&&s.name.length<n.name.length)&&(n=s,a=l)}}return n},S.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var a=t.toNumeric(),i=p(a),l=new S(h(i,a)?i:f(t.toNumeric()),e[r].toString());n.push(l),t=s(t,l)}for(var u=0,c=0;c<n.length;c++)u=o(u,n[c].value);return h(u,this.value)&&(t.value=0),n.push(t),n};var M={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};M.SHORTLONG=V({},M.SHORT,M.LONG),M.BINARY_SHORT=V({},M.BINARY_SHORT_SI,M.BINARY_SHORT_IEC),M.BINARY_LONG=V({},M.BINARY_LONG_SI,M.BINARY_LONG_IEC);var T=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],P={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var F in P)We(P,F)&&(P[F].key=F);var I={name:"",base:{},value:1,offset:0,dimensions:T.map(e=>0)},B={meter:{name:"meter",base:P.LENGTH,prefixes:M.LONG,value:1,offset:0},inch:{name:"inch",base:P.LENGTH,prefixes:M.NONE,value:.0254,offset:0},foot:{name:"foot",base:P.LENGTH,prefixes:M.NONE,value:.3048,offset:0},yard:{name:"yard",base:P.LENGTH,prefixes:M.NONE,value:.9144,offset:0},mile:{name:"mile",base:P.LENGTH,prefixes:M.NONE,value:1609.344,offset:0},link:{name:"link",base:P.LENGTH,prefixes:M.NONE,value:.201168,offset:0},rod:{name:"rod",base:P.LENGTH,prefixes:M.NONE,value:5.0292,offset:0},chain:{name:"chain",base:P.LENGTH,prefixes:M.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:P.LENGTH,prefixes:M.NONE,value:1e-10,offset:0},m:{name:"m",base:P.LENGTH,prefixes:M.SHORT,value:1,offset:0},in:{name:"in",base:P.LENGTH,prefixes:M.NONE,value:.0254,offset:0},ft:{name:"ft",base:P.LENGTH,prefixes:M.NONE,value:.3048,offset:0},yd:{name:"yd",base:P.LENGTH,prefixes:M.NONE,value:.9144,offset:0},mi:{name:"mi",base:P.LENGTH,prefixes:M.NONE,value:1609.344,offset:0},li:{name:"li",base:P.LENGTH,prefixes:M.NONE,value:.201168,offset:0},rd:{name:"rd",base:P.LENGTH,prefixes:M.NONE,value:5.02921,offset:0},ch:{name:"ch",base:P.LENGTH,prefixes:M.NONE,value:20.1168,offset:0},mil:{name:"mil",base:P.LENGTH,prefixes:M.NONE,value:254e-7,offset:0},m2:{name:"m2",base:P.SURFACE,prefixes:M.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:P.SURFACE,prefixes:M.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:P.SURFACE,prefixes:M.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:P.SURFACE,prefixes:M.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:P.SURFACE,prefixes:M.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:P.SURFACE,prefixes:M.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:P.SURFACE,prefixes:M.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:P.SURFACE,prefixes:M.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:P.SURFACE,prefixes:M.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:P.SURFACE,prefixes:M.NONE,value:1e4,offset:0},m3:{name:"m3",base:P.VOLUME,prefixes:M.CUBIC,value:1,offset:0},L:{name:"L",base:P.VOLUME,prefixes:M.SHORT,value:.001,offset:0},l:{name:"l",base:P.VOLUME,prefixes:M.SHORT,value:.001,offset:0},litre:{name:"litre",base:P.VOLUME,prefixes:M.LONG,value:.001,offset:0},cuin:{name:"cuin",base:P.VOLUME,prefixes:M.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:P.VOLUME,prefixes:M.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:P.VOLUME,prefixes:M.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:P.VOLUME,prefixes:M.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:P.VOLUME,prefixes:M.NONE,value:15e-6,offset:0},drop:{name:"drop",base:P.VOLUME,prefixes:M.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:P.VOLUME,prefixes:M.NONE,value:5e-8,offset:0},minim:{name:"minim",base:P.VOLUME,prefixes:M.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:P.VOLUME,prefixes:M.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:P.VOLUME,prefixes:M.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:P.VOLUME,prefixes:M.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:P.VOLUME,prefixes:M.NONE,value:1e-6,offset:0},cup:{name:"cup",base:P.VOLUME,prefixes:M.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:P.VOLUME,prefixes:M.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:P.VOLUME,prefixes:M.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:P.VOLUME,prefixes:M.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:P.VOLUME,prefixes:M.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:P.VOLUME,prefixes:M.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:P.VOLUME,prefixes:M.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:P.VOLUME,prefixes:M.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:P.VOLUME,prefixes:M.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:P.VOLUME,prefixes:M.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:P.VOLUME,prefixes:M.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:P.VOLUME,prefixes:M.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:P.VOLUME,prefixes:M.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:P.VOLUME,prefixes:M.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:P.VOLUME,prefixes:M.NONE,value:.1173478,offset:0},obl:{name:"obl",base:P.VOLUME,prefixes:M.NONE,value:.1589873,offset:0},g:{name:"g",base:P.MASS,prefixes:M.SHORT,value:.001,offset:0},gram:{name:"gram",base:P.MASS,prefixes:M.LONG,value:.001,offset:0},ton:{name:"ton",base:P.MASS,prefixes:M.SHORT,value:907.18474,offset:0},t:{name:"t",base:P.MASS,prefixes:M.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:P.MASS,prefixes:M.LONG,value:1e3,offset:0},grain:{name:"grain",base:P.MASS,prefixes:M.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:P.MASS,prefixes:M.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:P.MASS,prefixes:M.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:P.MASS,prefixes:M.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:P.MASS,prefixes:M.NONE,value:45.359237,offset:0},stick:{name:"stick",base:P.MASS,prefixes:M.NONE,value:.115,offset:0},stone:{name:"stone",base:P.MASS,prefixes:M.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:P.MASS,prefixes:M.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:P.MASS,prefixes:M.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:P.MASS,prefixes:M.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:P.MASS,prefixes:M.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:P.MASS,prefixes:M.NONE,value:45.359237,offset:0},s:{name:"s",base:P.TIME,prefixes:M.SHORT,value:1,offset:0},min:{name:"min",base:P.TIME,prefixes:M.NONE,value:60,offset:0},h:{name:"h",base:P.TIME,prefixes:M.NONE,value:3600,offset:0},second:{name:"second",base:P.TIME,prefixes:M.LONG,value:1,offset:0},sec:{name:"sec",base:P.TIME,prefixes:M.LONG,value:1,offset:0},minute:{name:"minute",base:P.TIME,prefixes:M.NONE,value:60,offset:0},hour:{name:"hour",base:P.TIME,prefixes:M.NONE,value:3600,offset:0},day:{name:"day",base:P.TIME,prefixes:M.NONE,value:86400,offset:0},week:{name:"week",base:P.TIME,prefixes:M.NONE,value:604800,offset:0},month:{name:"month",base:P.TIME,prefixes:M.NONE,value:2629800,offset:0},year:{name:"year",base:P.TIME,prefixes:M.NONE,value:31557600,offset:0},decade:{name:"decade",base:P.TIME,prefixes:M.NONE,value:315576e3,offset:0},century:{name:"century",base:P.TIME,prefixes:M.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:P.TIME,prefixes:M.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:P.FREQUENCY,prefixes:M.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:P.FREQUENCY,prefixes:M.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:P.ANGLE,prefixes:M.SHORT,value:1,offset:0},radian:{name:"radian",base:P.ANGLE,prefixes:M.LONG,value:1,offset:0},deg:{name:"deg",base:P.ANGLE,prefixes:M.SHORT,value:null,offset:0},degree:{name:"degree",base:P.ANGLE,prefixes:M.LONG,value:null,offset:0},grad:{name:"grad",base:P.ANGLE,prefixes:M.SHORT,value:null,offset:0},gradian:{name:"gradian",base:P.ANGLE,prefixes:M.LONG,value:null,offset:0},cycle:{name:"cycle",base:P.ANGLE,prefixes:M.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:P.ANGLE,prefixes:M.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:P.ANGLE,prefixes:M.NONE,value:null,offset:0},A:{name:"A",base:P.CURRENT,prefixes:M.SHORT,value:1,offset:0},ampere:{name:"ampere",base:P.CURRENT,prefixes:M.LONG,value:1,offset:0},K:{name:"K",base:P.TEMPERATURE,prefixes:M.SHORT,value:1,offset:0},degC:{name:"degC",base:P.TEMPERATURE,prefixes:M.SHORT,value:1,offset:273.15},degF:{name:"degF",base:P.TEMPERATURE,prefixes:M.SHORT,value:new x(5,9),offset:459.67},degR:{name:"degR",base:P.TEMPERATURE,prefixes:M.SHORT,value:new x(5,9),offset:0},kelvin:{name:"kelvin",base:P.TEMPERATURE,prefixes:M.LONG,value:1,offset:0},celsius:{name:"celsius",base:P.TEMPERATURE,prefixes:M.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:P.TEMPERATURE,prefixes:M.LONG,value:new x(5,9),offset:459.67},rankine:{name:"rankine",base:P.TEMPERATURE,prefixes:M.LONG,value:new x(5,9),offset:0},mol:{name:"mol",base:P.AMOUNT_OF_SUBSTANCE,prefixes:M.SHORT,value:1,offset:0},mole:{name:"mole",base:P.AMOUNT_OF_SUBSTANCE,prefixes:M.LONG,value:1,offset:0},cd:{name:"cd",base:P.LUMINOUS_INTENSITY,prefixes:M.SHORT,value:1,offset:0},candela:{name:"candela",base:P.LUMINOUS_INTENSITY,prefixes:M.LONG,value:1,offset:0},N:{name:"N",base:P.FORCE,prefixes:M.SHORT,value:1,offset:0},newton:{name:"newton",base:P.FORCE,prefixes:M.LONG,value:1,offset:0},dyn:{name:"dyn",base:P.FORCE,prefixes:M.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:P.FORCE,prefixes:M.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:P.FORCE,prefixes:M.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:P.FORCE,prefixes:M.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:P.FORCE,prefixes:M.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:P.FORCE,prefixes:M.NONE,value:9.80665,offset:0},J:{name:"J",base:P.ENERGY,prefixes:M.SHORT,value:1,offset:0},joule:{name:"joule",base:P.ENERGY,prefixes:M.LONG,value:1,offset:0},erg:{name:"erg",base:P.ENERGY,prefixes:M.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:P.ENERGY,prefixes:M.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:P.ENERGY,prefixes:M.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:P.ENERGY,prefixes:M.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:P.ENERGY,prefixes:M.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:P.POWER,prefixes:M.SHORT,value:1,offset:0},watt:{name:"watt",base:P.POWER,prefixes:M.LONG,value:1,offset:0},hp:{name:"hp",base:P.POWER,prefixes:M.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:P.POWER,prefixes:M.SHORT,value:v.I,offset:0},VA:{name:"VA",base:P.POWER,prefixes:M.SHORT,value:1,offset:0},Pa:{name:"Pa",base:P.PRESSURE,prefixes:M.SHORT,value:1,offset:0},psi:{name:"psi",base:P.PRESSURE,prefixes:M.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:P.PRESSURE,prefixes:M.NONE,value:101325,offset:0},bar:{name:"bar",base:P.PRESSURE,prefixes:M.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:P.PRESSURE,prefixes:M.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:P.PRESSURE,prefixes:M.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:P.PRESSURE,prefixes:M.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:P.PRESSURE,prefixes:M.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:P.ELECTRIC_CHARGE,prefixes:M.LONG,value:1,offset:0},C:{name:"C",base:P.ELECTRIC_CHARGE,prefixes:M.SHORT,value:1,offset:0},farad:{name:"farad",base:P.ELECTRIC_CAPACITANCE,prefixes:M.LONG,value:1,offset:0},F:{name:"F",base:P.ELECTRIC_CAPACITANCE,prefixes:M.SHORT,value:1,offset:0},volt:{name:"volt",base:P.ELECTRIC_POTENTIAL,prefixes:M.LONG,value:1,offset:0},V:{name:"V",base:P.ELECTRIC_POTENTIAL,prefixes:M.SHORT,value:1,offset:0},ohm:{name:"ohm",base:P.ELECTRIC_RESISTANCE,prefixes:M.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:P.ELECTRIC_INDUCTANCE,prefixes:M.LONG,value:1,offset:0},H:{name:"H",base:P.ELECTRIC_INDUCTANCE,prefixes:M.SHORT,value:1,offset:0},siemens:{name:"siemens",base:P.ELECTRIC_CONDUCTANCE,prefixes:M.LONG,value:1,offset:0},S:{name:"S",base:P.ELECTRIC_CONDUCTANCE,prefixes:M.SHORT,value:1,offset:0},weber:{name:"weber",base:P.MAGNETIC_FLUX,prefixes:M.LONG,value:1,offset:0},Wb:{name:"Wb",base:P.MAGNETIC_FLUX,prefixes:M.SHORT,value:1,offset:0},tesla:{name:"tesla",base:P.MAGNETIC_FLUX_DENSITY,prefixes:M.LONG,value:1,offset:0},T:{name:"T",base:P.MAGNETIC_FLUX_DENSITY,prefixes:M.SHORT,value:1,offset:0},b:{name:"b",base:P.BIT,prefixes:M.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:P.BIT,prefixes:M.BINARY_LONG,value:1,offset:0},B:{name:"B",base:P.BIT,prefixes:M.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:P.BIT,prefixes:M.BINARY_LONG,value:8,offset:0}},R={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function z(e){if("BigNumber"===e.number){var t=fd(b);B.rad.value=new b(1),B.deg.value=t.div(180),B.grad.value=t.div(200),B.cycle.value=t.times(2),B.arcsec.value=t.div(648e3),B.arcmin.value=t.div(10800)}else B.rad.value=1,B.deg.value=Math.PI/180,B.grad.value=Math.PI/200,B.cycle.value=2*Math.PI,B.arcsec.value=Math.PI/648e3,B.arcmin.value=Math.PI/10800;B.radian.value=B.rad.value,B.degree.value=B.deg.value,B.gradian.value=B.grad.value}z(i),a&&a("config",function(e,t){e.number!==t.number&&z(e)});var L={si:{NONE:{unit:I,prefix:M.NONE[""]},LENGTH:{unit:B.m,prefix:M.SHORT[""]},MASS:{unit:B.g,prefix:M.SHORT.k},TIME:{unit:B.s,prefix:M.SHORT[""]},CURRENT:{unit:B.A,prefix:M.SHORT[""]},TEMPERATURE:{unit:B.K,prefix:M.SHORT[""]},LUMINOUS_INTENSITY:{unit:B.cd,prefix:M.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:B.mol,prefix:M.SHORT[""]},ANGLE:{unit:B.rad,prefix:M.SHORT[""]},BIT:{unit:B.bits,prefix:M.SHORT[""]},FORCE:{unit:B.N,prefix:M.SHORT[""]},ENERGY:{unit:B.J,prefix:M.SHORT[""]},POWER:{unit:B.W,prefix:M.SHORT[""]},PRESSURE:{unit:B.Pa,prefix:M.SHORT[""]},ELECTRIC_CHARGE:{unit:B.C,prefix:M.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:B.F,prefix:M.SHORT[""]},ELECTRIC_POTENTIAL:{unit:B.V,prefix:M.SHORT[""]},ELECTRIC_RESISTANCE:{unit:B.ohm,prefix:M.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:B.H,prefix:M.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:B.S,prefix:M.SHORT[""]},MAGNETIC_FLUX:{unit:B.Wb,prefix:M.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:B.T,prefix:M.SHORT[""]},FREQUENCY:{unit:B.Hz,prefix:M.SHORT[""]}}};L.cgs=JSON.parse(JSON.stringify(L.si)),L.cgs.LENGTH={unit:B.m,prefix:M.SHORT.c},L.cgs.MASS={unit:B.g,prefix:M.SHORT[""]},L.cgs.FORCE={unit:B.dyn,prefix:M.SHORT[""]},L.cgs.ENERGY={unit:B.erg,prefix:M.NONE[""]},L.us=JSON.parse(JSON.stringify(L.si)),L.us.LENGTH={unit:B.ft,prefix:M.NONE[""]},L.us.MASS={unit:B.lbm,prefix:M.NONE[""]},L.us.TEMPERATURE={unit:B.degF,prefix:M.NONE[""]},L.us.FORCE={unit:B.lbf,prefix:M.NONE[""]},L.us.ENERGY={unit:B.BTU,prefix:M.BTU[""]},L.us.POWER={unit:B.hp,prefix:M.NONE[""]},L.us.PRESSURE={unit:B.psi,prefix:M.NONE[""]},L.auto=JSON.parse(JSON.stringify(L.si));var q=L.auto;for(var U in S.setUnitSystem=function(e){if(!We(L,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(L).join(", "));q=L[e]},S.getUnitSystem=function(){for(var e in L)if(We(L,e)&&L[e]===q)return e},S.typeConverters={BigNumber:function(e){return null!==e&&void 0!==e&&e.isFraction?new b(e.n).div(e.d).times(e.s):new b(e+"")},Fraction:function(e){return new x(e)},Complex:function(e){return e},number:function(e){return null!==e&&void 0!==e&&e.isFraction?y(e):e}},S.prototype._numberConverter=function(){var e=S.typeConverters[this.valueType()];if(e)return e;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},S._getNumberConverter=function(e){if(!S.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return S.typeConverters[e]},B)if(We(B,U)){var $=B[U];$.dimensions=$.base.dimensions}for(var W in R)if(We(R,W)){var H=B[R[W]],K={};for(var Y in H)We(H,Y)&&(K[Y]=H[Y]);K.name=W,B[W]=K}return S.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},S.createUnit=function(e,t){if("object"!==typeof e)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(We(e,n)&&S.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)S.deleteUnit(e[n].aliases[r]);var a;for(var i in e)We(e,i)&&(a=S.createUnitSingle(i,e[i]));return a},S.createUnitSingle=function(e,t){if("undefined"!==typeof t&&null!==t||(t={}),"string"!==typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(We(B,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){if(r=e.charAt(t),0===t&&!S.isValidAlpha(r))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!S.isValidAlpha(r)&&!E(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var n,a,i,o=null,s=[],l=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"===typeof t)""!==t&&(n=t);else{if("object"!==typeof t)throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');n=t.definition,a=t.prefixes,l=t.offset,i=t.baseName,t.aliases&&(s=t.aliases.valueOf())}if(s)for(var u=0;u<s.length;u++)if(We(B,s[u]))throw new Error('Cannot create alias "'+s[u]+'": a unit with that name already exists');if(n&&"string"===typeof n&&!o)try{o=S.parse(n,{allowNoUnits:!0})}catch(A){throw A.message='Could not create unit "'+e+'" from "'+n+'": '+A.message,A}else n&&"Unit"===n.type&&(o=n.clone());s=s||[],l=l||0,a=a&&a.toUpperCase&&M[a.toUpperCase()]||M.NONE;var c={};if(o){c={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:a,offset:l};var d=!1;for(var f in P)if(We(P,f)){for(var p=!0,h=0;h<T.length;h++)if(Math.abs((c.dimensions[h]||0)-(P[f].dimensions[h]||0))>1e-12){p=!1;break}if(p){d=!0,c.base=P[f];break}}if(!d){i=i||e+"_STUFF";var m={dimensions:o.dimensions.slice(0)};m.key=i,P[i]=m,q[i]={unit:c,prefix:M.NONE[""]},c.base=P[i]}}else{if(i=i||e+"_STUFF",T.indexOf(i)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var g in T.push(i),P)We(P,g)&&(P[g].dimensions[T.length-1]=0);for(var y={dimensions:[]},v=0;v<T.length;v++)y.dimensions[v]=0;y.dimensions[T.length-1]=1,y.key=i,P[i]=y,c={name:e,value:1,dimensions:P[i].dimensions.slice(0),prefixes:a,offset:l,base:P[i]},q[i]={unit:c,prefix:M.NONE[""]}}S.UNITS[e]=c;for(var b=0;b<s.length;b++){var x=s[b],w={};for(var N in c)We(c,N)&&(w[N]=c[N]);w.name=x,S.UNITS[x]=w}return delete j.cache,new S(null,e)},S.deleteUnit=function(e){delete S.UNITS[e]},S.PREFIXES=M,S.BASE_DIMENSIONS=T,S.BASE_UNITS=P,S.UNIT_SYSTEMS=L,S.UNITS=B,S},{isClass:!0}),vd="unit",bd=Ve(vd,["typed","Unit"],e=>{var{typed:t,Unit:n}=e;return t(vd,{Unit:function(e){return e.clone()},string:function(e){return n.isValuelessUnit(e)?new n(null,e):n.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(e,t){return new n(e,t)},"number | BigNumber | Fraction":function(e){return new n(e)},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),xd="sparse",wd=Ve(xd,["typed","SparseMatrix"],e=>{var{typed:t,SparseMatrix:n}=e;return t(xd,{"":function(){return new n([])},string:function(e){return new n([],e)},"Array | Matrix":function(e){return new n(e)},"Array | Matrix, string":function(e,t){return new n(e,t)}})}),Sd="createUnit",Nd=Ve(Sd,["typed","Unit"],e=>{var{typed:t,Unit:n}=e;return t(Sd,{"Object, Object":function(e,t){return n.createUnit(e,t)},Object:function(e){return n.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,r){var a={};return a[e]=t,n.createUnit(a,r)},"string, Unit | string | Object":function(e,t){var r={};return r[e]=t,n.createUnit(r,{})},string:function(e){var t={};return t[e]={},n.createUnit(t,{})}})}),Ed="acos",Ad=Ve(Ed,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(Ed,{number:function(e){return e>=-1&&e<=1||n.predictable?Math.acos(e):new r(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()}})}),Cd="number";function kd(e){return ft(e)}function _d(e){return Math.atan(1/e)}function Dd(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function jd(e){return Math.asin(1/e)}function Od(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function Md(e){return Math.acos(1/e)}function Td(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function Pd(e){return pt(e)}function Fd(e){return ht(e)}function Id(e){return 1/Math.tan(e)}function Bd(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Rd(e){return 1/Math.sin(e)}function zd(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*Je(e)}function Ld(e){return 1/Math.cos(e)}function qd(e){return 2/(Math.exp(e)+Math.exp(-e))}function Ud(e){return gt(e)}kd.signature=Cd,_d.signature=Cd,Dd.signature=Cd,jd.signature=Cd,Od.signature=Cd,Md.signature=Cd,Td.signature=Cd,Pd.signature=Cd,Fd.signature=Cd,Id.signature=Cd,Bd.signature=Cd,Rd.signature=Cd,zd.signature=Cd,Ld.signature=Cd,qd.signature=Cd,Ud.signature=Cd;var $d="acosh",Wd=Ve($d,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t($d,{number:function(e){return e>=1||n.predictable?kd(e):e<=-1?new r(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new r(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()}})}),Hd="acot",Kd=Ve(Hd,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(Hd,{number:_d,Complex:function(e){return e.acot()},BigNumber:function(e){return new n(1).div(e).atan()}})}),Vd="acoth",Yd=Ve(Vd,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:a}=e;return t(Vd,{number:function(e){return e>=1||e<=-1||n.predictable?Dd(e):new r(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new a(1).div(e).atanh()}})}),Gd="acsc",Xd=Ve(Gd,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:a}=e;return t(Gd,{number:function(e){return e<=-1||e>=1||n.predictable?jd(e):new r(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new a(1).div(e).asin()}})}),Jd="acsch",Zd=Ve(Jd,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(Jd,{number:Od,Complex:function(e){return e.acsch()},BigNumber:function(e){return new n(1).div(e).asinh()}})}),Qd="asec",ef=Ve(Qd,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:a}=e;return t(Qd,{number:function(e){return e<=-1||e>=1||n.predictable?Md(e):new r(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new a(1).div(e).acos()}})}),tf="asech",nf=Ve(tf,["typed","config","Complex","BigNumber"],e=>{var{typed:t,config:n,Complex:r,BigNumber:a}=e;return t(tf,{number:function(e){if(e<=1&&e>=-1||n.predictable){var t=1/e;if(t>0||n.predictable)return Td(e);var a=Math.sqrt(t*t-1);return new r(Math.log(a-t),Math.PI)}return new r(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new a(1).div(e).acosh()}})}),rf="asin",af=Ve(rf,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(rf,{number:function(e){return e>=-1&&e<=1||n.predictable?Math.asin(e):new r(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()}})}),of=Ve("asinh",["typed"],e=>{var{typed:t}=e;return t("asinh",{number:Pd,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()}})}),sf=Ve("atan",["typed"],e=>{var{typed:t}=e;return t("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()}})}),lf="atan2",uf=Ve(lf,["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],e=>{var{typed:t,matrix:n,equalScalar:r,BigNumber:a,DenseMatrix:i,concat:o}=e,s=Fo({typed:t,equalScalar:r}),l=Io({typed:t}),u=vs({typed:t,equalScalar:r}),c=mo({typed:t,equalScalar:r}),d=go({typed:t,DenseMatrix:i}),f=Lo({typed:t,matrix:n,concat:o});return t(lf,{"number, number":Math.atan2,"BigNumber, BigNumber":(e,t)=>a.atan2(e,t)},f({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:d}))}),cf="atanh",df=Ve(cf,["typed","config","Complex"],e=>{var{typed:t,config:n,Complex:r}=e;return t(cf,{number:function(e){return e<=1&&e>=-1||n.predictable?Fd(e):new r(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()}})}),ff=Ve("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(e=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(e,n.valueType())(n.value)})}}),pf=Ve("cos",["typed"],e=>{var{typed:t}=e,n=ff({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":e=>e.cos()},n)}),hf="cosh",mf=Ve(hf,["typed"],e=>{var{typed:t}=e;return t(hf,{number:mt,"Complex | BigNumber":e=>e.cosh()})}),gf=Ve("cot",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("cot",{number:Id,Complex:e=>e.cot(),BigNumber:e=>new n(1).div(e.tan())},ff({typed:t}))}),yf="coth",vf=Ve(yf,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(yf,{number:Bd,Complex:e=>e.coth(),BigNumber:e=>new n(1).div(e.tanh())})}),bf=Ve("csc",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("csc",{number:Rd,Complex:e=>e.csc(),BigNumber:e=>new n(1).div(e.sin())},ff({typed:t}))}),xf="csch",wf=Ve(xf,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(xf,{number:zd,Complex:e=>e.csch(),BigNumber:e=>new n(1).div(e.sinh())})}),Sf=Ve("sec",["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t("sec",{number:Ld,Complex:e=>e.sec(),BigNumber:e=>new n(1).div(e.cos())},ff({typed:t}))}),Nf="sech",Ef=Ve(Nf,["typed","BigNumber"],e=>{var{typed:t,BigNumber:n}=e;return t(Nf,{number:qd,Complex:e=>e.sech(),BigNumber:e=>new n(1).div(e.cosh())})}),Af=Ve("sin",["typed"],e=>{var{typed:t}=e,n=ff({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":e=>e.sin()},n)}),Cf="sinh",kf=Ve(Cf,["typed"],e=>{var{typed:t}=e;return t(Cf,{number:Ud,"Complex | BigNumber":e=>e.sinh()})}),_f=Ve("tan",["typed"],e=>{var{typed:t}=e,n=ff({typed:t});return t("tan",{number:Math.tan,"Complex | BigNumber":e=>e.tan()},n)}),Df=Ve("tanh",["typed"],e=>{var{typed:t}=e;return t("tanh",{number:yt,"Complex | BigNumber":e=>e.tanh()})}),jf="setCartesian",Of=Ve(jf,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i,DenseMatrix:o}=e;return t(jf,{"Array | Matrix, Array | Matrix":function(e,t){var s=[];if(0!==r(n(e),new i(0))&&0!==r(n(t),new i(0))){var l=Ht(Array.isArray(e)?e:e.toArray()).sort(a),u=Ht(Array.isArray(t)?t:t.toArray()).sort(a);s=[];for(var c=0;c<l.length;c++)for(var d=0;d<u.length;d++)s.push([l[c],u[d]])}return Array.isArray(e)&&Array.isArray(t)?s:new o(s)}})}),Mf="setDifference",Tf=Ve(Mf,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i,DenseMatrix:o}=e;return t(Mf,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new i(0)))s=[];else{if(0===r(n(t),new i(0)))return Ht(e.toArray());var l,u=Jt(Ht(Array.isArray(e)?e:e.toArray()).sort(a)),c=Jt(Ht(Array.isArray(t)?t:t.toArray()).sort(a));s=[];for(var d=0;d<u.length;d++){l=!1;for(var f=0;f<c.length;f++)if(0===a(u[d].value,c[f].value)&&u[d].identifier===c[f].identifier){l=!0;break}l||s.push(u[d])}}return Array.isArray(e)&&Array.isArray(t)?Zt(s):new o(Zt(s))}})}),Pf="setDistinct",Ff=Ve(Pf,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i,DenseMatrix:o}=e;return t(Pf,{"Array | Matrix":function(e){var t;if(0===r(n(e),new i(0)))t=[];else{var s=Ht(Array.isArray(e)?e:e.toArray()).sort(a);(t=[]).push(s[0]);for(var l=1;l<s.length;l++)0!==a(s[l],s[l-1])&&t.push(s[l])}return Array.isArray(e)?t:new o(t)}})}),If="setIntersect",Bf=Ve(If,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i,DenseMatrix:o}=e;return t(If,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new i(0))||0===r(n(t),new i(0)))s=[];else{var l=Jt(Ht(Array.isArray(e)?e:e.toArray()).sort(a)),u=Jt(Ht(Array.isArray(t)?t:t.toArray()).sort(a));s=[];for(var c=0;c<l.length;c++)for(var d=0;d<u.length;d++)if(0===a(l[c].value,u[d].value)&&l[c].identifier===u[d].identifier){s.push(l[c]);break}}return Array.isArray(e)&&Array.isArray(t)?Zt(s):new o(Zt(s))}})}),Rf="setIsSubset",zf=Ve(Rf,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i}=e;return t(Rf,{"Array | Matrix, Array | Matrix":function(e,t){if(0===r(n(e),new i(0)))return!0;if(0===r(n(t),new i(0)))return!1;for(var o,s=Jt(Ht(Array.isArray(e)?e:e.toArray()).sort(a)),l=Jt(Ht(Array.isArray(t)?t:t.toArray()).sort(a)),u=0;u<s.length;u++){o=!1;for(var c=0;c<l.length;c++)if(0===a(s[u].value,l[c].value)&&s[u].identifier===l[c].identifier){o=!0;break}if(!1===o)return!1}return!0}})}),Lf="setMultiplicity",qf=Ve(Lf,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i}=e;return t(Lf,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===r(n(t),new i(0)))return 0;for(var o=Ht(Array.isArray(t)?t:t.toArray()),s=0,l=0;l<o.length;l++)0===a(o[l],e)&&s++;return s}})}),Uf="setPowerset",$f=Ve(Uf,["typed","size","subset","compareNatural","Index"],e=>{var{typed:t,size:n,subset:r,compareNatural:a,Index:i}=e;return t(Uf,{"Array | Matrix":function(e){if(0===r(n(e),new i(0)))return[];for(var t=Ht(Array.isArray(e)?e:e.toArray()).sort(a),s=[],l=0;l.toString(2).length<=t.length;)s.push(o(t,l.toString(2).split("").reverse())),l++;return function(e){for(var t=[],n=e.length-1;n>0;n--)for(var r=0;r<n;r++)e[r].length>e[r+1].length&&(t=e[r],e[r]=e[r+1],e[r+1]=t);return e}(s)}});function o(e,t){for(var n=[],r=0;r<t.length;r++)"1"===t[r]&&n.push(e[r]);return n}}),Wf="setSize",Hf=Ve(Wf,["typed","compareNatural"],e=>{var{typed:t,compareNatural:n}=e;return t(Wf,{"Array | Matrix":function(e){return Array.isArray(e)?Ht(e).length:Ht(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?Ht(e).length:Ht(e.toArray()).length;for(var r=Ht(Array.isArray(e)?e:e.toArray()).sort(n),a=1,i=1;i<r.length;i++)0!==n(r[i],r[i-1])&&a++;return a}})}),Kf="setSymDifference",Vf=Ve(Kf,["typed","size","concat","subset","setDifference","Index"],e=>{var{typed:t,size:n,concat:r,subset:a,setDifference:i,Index:o}=e;return t(Kf,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(n(e),new o(0)))return Ht(t);if(0===a(n(t),new o(0)))return Ht(e);var s=Ht(e),l=Ht(t);return r(i(s,l),i(l,s))}})}),Yf="setUnion",Gf=Ve(Yf,["typed","size","concat","subset","setIntersect","setSymDifference","Index"],e=>{var{typed:t,size:n,concat:r,subset:a,setIntersect:i,setSymDifference:o,Index:s}=e;return t(Yf,{"Array | Matrix, Array | Matrix":function(e,t){if(0===a(n(e),new s(0)))return Ht(t);if(0===a(n(t),new s(0)))return Ht(e);var l=Ht(e),u=Ht(t);return r(o(l,u),i(l,u))}})}),Xf=Ve("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:t,matrix:n,addScalar:r,equalScalar:a,DenseMatrix:i,SparseMatrix:o,concat:s}=e,l=Uo({typed:t}),u=$o({typed:t,equalScalar:a}),c=Wo({typed:t,DenseMatrix:i}),d=Lo({typed:t,matrix:n,concat:s});return t("add",{"any, any":r,"any, any, ...any":t.referToSelf(e=>(t,n,r)=>{for(var a=e(t,n),i=0;i<r.length;i++)a=e(a,r[i]);return a})},d({elop:r,DS:l,SS:u,Ss:c}))}),Jf="hypot",Zf=Ve(Jf,["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],e=>{var{typed:t,abs:n,addScalar:r,divideScalar:a,multiplyScalar:i,sqrt:o,smaller:s,isPositive:l}=e;return t(Jf,{"... number | BigNumber":u,Array:u,Matrix:e=>u(Ht(e.toArray()))});function u(e){for(var t=0,u=0,c=0;c<e.length;c++){if(J(e[c]))throw new TypeError("Unexpected type of argument to hypot");var d=n(e[c]);s(u,d)?(t=i(t,i(a(u,d),a(u,d))),t=r(t,1),u=d):t=r(t,l(d)?i(a(d,u),a(d,u)):d)}return i(u,o(t))}}),Qf="norm",ep=Ve(Qf,["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],e=>{var{typed:t,abs:n,add:r,pow:a,conj:i,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:d,ctranspose:f,eigs:p}=e;return t(Qf,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return g(d(e),2)},Matrix:function(e){return g(e,2)},"Array, number | BigNumber | string":function(e,t){return g(d(e),t)},"Matrix, number | BigNumber | string":function(e,t){return g(e,t)}});function h(e,t){if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=0;return e.forEach(function(e){var r=n(e);u(r,t)&&(t=r)},!0),t}(e);if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return function(e){var t;return e.forEach(function(e){var r=n(e);t&&!c(r,t)||(t=r)},!0),t||0}(e);if("fro"===t)return g(e,2);if("number"===typeof t&&!isNaN(t)){if(!l(t,0)){var i=0;return e.forEach(function(e){i=r(a(n(e),t),i)},!0),a(i,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function m(e,t){if(1===t)return function(e){var t=[],a=0;return e.forEach(function(e,i){var o=i[1],s=r(t[o]||0,n(e));u(s,a)&&(a=s),t[o]=s},!0),a}(e);if(t===Number.POSITIVE_INFINITY||"inf"===t)return function(e){var t=[],a=0;return e.forEach(function(e,i){var o=i[0],s=r(t[o]||0,n(e));u(s,a)&&(a=s),t[o]=s},!0),a}(e);if("fro"===t)return function(e){var t=0;return e.forEach(function(e,n){t=r(t,s(e,i(e)))}),n(o(t))}(e);if(2===t)return function(e){var t=e.size();if(t[0]!==t[1])throw new RangeError("Invalid matrix dimensions");var r=f(e),a=s(r,e),i=p(a).values.toArray(),l=i[i.length-1];return n(o(l))}(e);throw new Error("Unsupported parameter value "+t)}function g(e,t){var n=e.size();if(1===n.length)return h(e,t);if(2===n.length){if(n[0]&&n[1])return m(e,t);throw new RangeError("Invalid matrix dimensions")}}}),tp=Ve("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:a,size:i}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,i){var l=o(e,i),u=ne(e)?e._data:e,c=ne(e)?e._datatype:void 0,d=ne(i)?i._data:i,f=ne(i)?i._datatype:void 0,p=2===s(e).length,h=2===s(i).length,m=n,g=r;if(c&&f&&c===f&&"string"===typeof c){var y=c;m=t.find(n,[y,y]),g=t.find(r,[y,y])}if(!p&&!h){for(var v=g(a(u[0]),d[0]),b=1;b<l;b++)v=m(v,g(a(u[b]),d[b]));return v}if(!p&&h){for(var x=g(a(u[0]),d[0][0]),w=1;w<l;w++)x=m(x,g(a(u[w]),d[w][0]));return x}if(p&&!h){for(var S=g(a(u[0][0]),d[0]),N=1;N<l;N++)S=m(S,g(a(u[N][0]),d[N]));return S}if(p&&h){for(var E=g(a(u[0][0]),d[0][0]),A=1;A<l;A++)E=m(E,g(a(u[A][0]),d[A][0]));return E}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);var a=e._index,i=e._values,s=t._index,l=t._values,u=0,c=n,d=r,f=0,p=0;for(;f<a.length&&p<s.length;){var h=a[f],m=s[p];h<m?f++:h>m?p++:h===m&&(u=c(u,d(i[f],l[p])),f++,p++)}return u}});function o(e,t){var n,r,a=s(e),i=s(t);if(1===a.length)n=a[0];else{if(2!==a.length||1!==a[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");n=a[0]}if(1===i.length)r=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");r=i[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(e){return ne(e)?e.size():i(e)}}),np=Ve("trace",["typed","matrix","add"],e=>{var{typed:t,matrix:n,add:r}=e;return t("trace",{Array:function(e){return a(n(e))},SparseMatrix:function(e){var t=e._values,n=e._index,a=e._ptr,i=e._size,o=i[0],s=i[1];if(o===s){var l=0;if(t.length>0)for(var u=0;u<s;u++)for(var c=a[u],d=a[u+1],f=c;f<d;f++){var p=n[f];if(p===u){l=r(l,t[f]);break}if(p>u)break}return l}throw new RangeError("Matrix must be square (size: "+St(i)+")")},DenseMatrix:a,any:Ie});function a(e){var t=e._size,n=e._data;switch(t.length){case 1:if(1===t[0])return Ie(n[0]);throw new RangeError("Matrix must be square (size: "+St(t)+")");case 2:var a=t[0];if(a===t[1]){for(var i=0,o=0;o<a;o++)i=r(i,n[o][o]);return i}throw new RangeError("Matrix must be square (size: "+St(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+St(t)+")")}}}),rp="index",ap=Ve(rp,["typed","Index"],e=>{var{typed:t,Index:n}=e;return t(rp,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return X(e)?e.toNumber():te(e)||ne(e)?e.map(function(e){return X(e)?e.toNumber():e}):e}),r=new n;return n.apply(r,t),r}})}),ip=new Set(["end"]),op=Ve("Node",["mathWithTransform"],e=>{var{mathWithTransform:t}=e;return class{get type(){return"Node"}get isNode(){return!0}evaluate(e){return this.compile().evaluate(e)}compile(){var e=this._compile(t,{}),n={};return{evaluate:function(t){var r=En(t);return function(e){for(var t of[...ip])if(e.has(t))throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}}}_compile(e,t){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(e){throw new Error("Cannot run forEach on a Node interface")}map(e){throw new Error("Cannot run map on a Node interface")}_ifNode(e){if(!ke(e))throw new TypeError("Callback function must return a Node");return e}traverse(e){e(this,null,null),function e(t,n){t.forEach(function(t,r,a){n(t,r,a),e(t,n)})}(this,e)}transform(e){return function t(n,r,a){var i=e(n,r,a);return i!==n?i:n.map(t)}(this,null,null)}filter(e){var t=[];return this.traverse(function(n,r,a){e(n,r,a)&&t.push(n)}),t}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(e){return e.cloneDeep()})}equals(e){return!!e&&(this.type===e.type&&Le(this,e))}toString(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toString(e)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this.toHTML(e)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(e){var t=this._getCustomString(e);return"undefined"!==typeof t?t:this._toTex(e)}_toTex(e){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(e){if(e&&"object"===typeof e)switch(typeof e.handler){case"object":case"undefined":return;case"function":return e.handler(this,e);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0});function sp(e){return e&&e.isIndexError?new Dt(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function lp(e){var{subset:t}=e;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"===typeof e.subset)return e.subset(n);if("string"===typeof e)return t(e,n);if("object"===typeof e){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return mn(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw sp(r)}}}var up="AccessorNode",cp=Ve(up,["subset","Node"],e=>{var{subset:t,Node:n}=e,r=lp({subset:t});function a(e){return!(ye(e)||ve(e)||Se(e)||Ae(e)||_e(e)||je(e)||Te(e))}class i extends n{constructor(e,t){if(super(),!ke(e))throw new TypeError('Node expected for parameter "object"');if(!Ce(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e,this.index=t}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return up}get isAccessorNode(){return!0}_compile(e,t){var n=this.object._compile(e,t),a=this.index._compile(e,t);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(e,t,r){return mn(n(e,t,r),i)}}return function(e,t,i){var o=n(e,t,i),s=a(e,t,o);return r(o,s)}}forEach(e){e(this.object,"object",this),e(this.index,"index",this)}map(e){return new i(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))}clone(){return new i(this.object,this.index)}_toString(e){var t=this.object.toString(e);return a(this.object)&&(t="("+t+")"),t+this.index.toString(e)}toHTML(e){var t=this.object.toHTML(e);return a(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)}_toTex(e){var t=this.object.toTex(e);return a(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)}toJSON(){return{mathjs:up,object:this.object,index:this.index}}static fromJSON(e){return new i(e.object,e.index)}}return hu(i,"name",up),i},{isClass:!0,isNode:!0}),dp="ArrayNode",fp=Ve(dp,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){if(super(),this.items=e||[],!Array.isArray(this.items)||!this.items.every(ke))throw new TypeError("Array containing Nodes expected")}get type(){return dp}get isArrayNode(){return!0}_compile(e,t){var n=Kt(this.items,function(n){return n._compile(e,t)});if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,a){return r(Kt(n,function(n){return n(e,t,a)}))}}return function(e,t,r){return Kt(n,function(n){return n(e,t,r)})}}forEach(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this)}}map(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)}clone(){return new n(this.items.slice(0))}_toString(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"}toJSON(){return{mathjs:dp,items:this.items}}static fromJSON(e){return new n(e.items)}toHTML(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(e){return function t(n,r){var a=n.some(ve)&&!n.every(ve),i=r||a,o=i?"&":"\\\\",s=n.map(function(n){return n.items?t(n.items,!r):n.toTex(e)}).join(o);return a||!i||i&&!r?"\\begin{bmatrix}"+s+"\\end{bmatrix}":s}(this.items,!1)}}return hu(n,"name",dp),n},{isClass:!0,isNode:!0});var pp=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function hp(e,t){if(!t||"auto"!==t)return e;for(var n=e;je(n);)n=n.content;return n}function mp(e,t,n,r){var a=e;"keep"!==t&&(a=e.getContent());for(var i=a.getIdentifier(),o=null,s=0;s<pp.length;s++)if(i in pp[s]){o=s;break}if("OperatorNode:multiply"===i&&a.implicit&&"show"!==n){var l=hp(a.args[0],t);Se(l)&&r&&"OperatorNode:divide"===r.getIdentifier()&&Ne(hp(r.args[0],t))||"OperatorNode:divide"===l.getIdentifier()&&Ne(hp(l.args[0],t))&&Se(hp(l.args[1]))||(o+=1)}return o}function gp(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),a=mp(n,t);if(null===a)return null;var i=pp[a][r];if(We(i,"associativity")){if("left"===i.associativity)return"left";if("right"===i.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+i.associativity+"'.")}return null}function yp(e,t,n){var r="keep"!==n?e.getContent():e,a="keep"!==n?e.getContent():t,i=r.getIdentifier(),o=a.getIdentifier(),s=mp(r,n);if(null===s)return null;var l=pp[s][i];if(We(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}var vp="AssignmentNode",bp=Ve(vp,["subset","?matrix","Node"],e=>{var{subset:t,matrix:n,Node:r}=e,a=lp({subset:t}),i=function(e){var{subset:t,matrix:n}=e;return function(e,r,a){try{if(Array.isArray(e))return n(e).subset(r,a).valueOf().forEach((t,n)=>{e[n]=t}),e;if(e&&"function"===typeof e.subset)return e.subset(r,a);if("string"===typeof e)return t(e,r,a);if("object"===typeof e){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return gn(e,r.getObjectProperty(),a),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(i){throw sp(i)}}}({subset:t,matrix:n});function o(e,t,n){t||(t="keep");var r=mp(e,t,n),a=mp(e.value,t,n);return"all"===t||null!==a&&a<=r}class s extends r{constructor(e,t,n){if(super(),this.object=e,this.index=n?t:null,this.value=n||t,!Te(e)&&!ye(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Te(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!Ce(this.index))throw new TypeError('IndexNode expected as "index"');if(!ke(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return vp}get isAssignmentNode(){return!0}_compile(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,o=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(e,t,r){var a=n(e,t,r),i=o(e,t,r);return gn(a,l,i),i}}if(Te(this.object))return function(e,t,a){var l=n(e,t,a),u=o(e,t,a),c=r(e,t,l);return e.set(s,i(l,c,u)),u};var u=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(e,t,n){var a=u(e,t,n),s=mn(a,c),l=r(e,t,s),d=o(e,t,n);return gn(a,c,i(s,l,d)),d}}var d=this.object.index._compile(e,t);return function(e,t,n){var s=u(e,t,n),l=d(e,t,s),c=a(s,l),f=r(e,t,c),p=o(e,t,n);return i(s,l,i(c,f,p)),p}}if(!Te(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){var r=o(e,t,n);return e.set(s,r),r}}forEach(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)}map(e){var t=this._ifNode(e(this.object,"object",this)),n=this.index?this._ifNode(e(this.index,"index",this)):null,r=this._ifNode(e(this.value,"value",this));return new s(t,n,r)}clone(){return new s(this.object,this.index,this.value)}_toString(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return o(this,e&&e.parenthesis,e&&e.implicit)&&(r="("+r+")"),t+n+" = "+r}toJSON(){return{mathjs:vp,object:this.object,index:this.index,value:this.value}}static fromJSON(e){return new s(e.object,e.index,e.value)}toHTML(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return o(this,e&&e.parenthesis,e&&e.implicit)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r}_toTex(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return o(this,e&&e.parenthesis,e&&e.implicit)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r}}return hu(s,"name",vp),s},{isClass:!0,isNode:!0}),xp="BlockNode",wp=Ve(xp,["ResultSet","Node"],e=>{var{ResultSet:t,Node:n}=e;class r extends n{constructor(e){if(super(),!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!ke(t))throw new TypeError('Property "node" must be a Node');if("boolean"!==typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}})}get type(){return xp}get isBlockNode(){return!0}_compile(e,n){var r=Kt(this.blocks,function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}});return function(e,n,a){var i=[];return Vt(r,function(t){var r=t.evaluate(e,n,a);t.visible&&i.push(r)}),new t(i)}}forEach(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)}map(e){for(var t=[],n=0;n<this.blocks.length;n++){var a=this.blocks[n],i=this._ifNode(e(a.node,"blocks["+n+"].node",this));t[n]={node:i,visible:a.visible}}return new r(t)}clone(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new r(e)}_toString(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")}toJSON(){return{mathjs:xp,blocks:this.blocks}}static fromJSON(e){return new r(e.blocks)}toHTML(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")}}return hu(r,"name",xp),r},{isClass:!0,isNode:!0}),Sp="ConditionalNode",Np=Ve(Sp,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e,t,n){if(super(),!ke(e))throw new TypeError("Parameter condition must be a Node");if(!ke(t))throw new TypeError("Parameter trueExpr must be a Node");if(!ke(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=n}get type(){return Sp}get isConditionalNode(){return!0}_compile(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),a=this.falseExpr._compile(e,t);return function(e,t,i){return function(e){if("number"===typeof e||"boolean"===typeof e||"string"===typeof e)return!!e;if(e){if(X(e))return!e.isZero();if(J(e))return!(!e.re&&!e.im);if(Q(e))return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+Fe(e)+'"')}(n(e,t,i))?r(e,t,i):a(e,t,i)}}forEach(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)}map(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=mp(this,t,e&&e.implicit),r=this.condition.toString(e),a=mp(this.condition,t,e&&e.implicit);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=n)&&(r="("+r+")");var i=this.trueExpr.toString(e),o=mp(this.trueExpr,t,e&&e.implicit);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(i="("+i+")");var s=this.falseExpr.toString(e),l=mp(this.falseExpr,t,e&&e.implicit);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s="("+s+")"),r+" ? "+i+" : "+s}toJSON(){return{mathjs:Sp,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(e){return new n(e.condition,e.trueExpr,e.falseExpr)}toHTML(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=mp(this,t,e&&e.implicit),r=this.condition.toHTML(e),a=mp(this.condition,t,e&&e.implicit);("all"===t||"OperatorNode"===this.condition.type||null!==a&&a<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var i=this.trueExpr.toHTML(e),o=mp(this.trueExpr,t,e&&e.implicit);("all"===t||"OperatorNode"===this.trueExpr.type||null!==o&&o<=n)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),l=mp(this.falseExpr,t,e&&e.implicit);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+i+'<span class="math-operator math-conditional-operator">:</span>'+s}_toTex(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return hu(n,"name",Sp),n},{isClass:!0,isNode:!0}),Ep=n(1147),Ap={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Cp={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},kp={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Cp.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Cp.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Cp.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Cp.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Cp.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Cp.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Cp.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Cp.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Cp.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Cp.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Cp.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Cp.bitAnd,"${args[1]}\\right)")},bitNot:{1:Cp.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Cp.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Cp.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Cp.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Cp.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Cp.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Cp.and,"${args[1]}\\right)")},not:{1:Cp.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Cp.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Cp.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Cp.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Cp.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Cp.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Cp.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Cp.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Cp.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Cp.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Cp.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Cp.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Cp.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Cp.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Ap.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},_p={deg:"^\\circ"};function Dp(e){return Ep(e,{preserveFormatting:!0})}function jp(e,t){return(t="undefined"!==typeof t&&t)?We(_p,e)?_p[e]:"\\mathrm{"+Dp(e)+"}":We(Ap,e)?Ap[e]:Dp(e)}var Op="ConstantNode",Mp=Ve(Op,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){super(),this.value=e}get type(){return Op}get isConstantNode(){return!0}_compile(e,t){var n=this.value;return function(){return n}}forEach(e){}map(e){return this.clone()}clone(){return new n(this.value)}_toString(e){return St(this.value,e)}toHTML(e){var t=this._toString(e);switch(Fe(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}}toJSON(){return{mathjs:Op,value:this.value}}static fromJSON(e){return new n(e.value)}_toTex(e){var t=this._toString(e);switch(Fe(this.value)){case"string":return"\\mathtt{"+Dp(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}}}return hu(n,"name",Op),n},{isClass:!0,isNode:!0}),Tp="FunctionAssignmentNode",Pp=Ve(Tp,["typed","Node"],e=>{var{typed:t,Node:n}=e;function r(e,t,n){var r=mp(e,t,n),a=mp(e.expr,t,n);return"all"===t||null!==a&&a<=r}class a extends n{constructor(e,t,n){if(super(),"string"!==typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!ke(n))throw new TypeError('Node expected for parameter "expr"');if(ip.has(e))throw new Error('Illegal function name, "'+e+'" is a reserved keyword');var r=new Set;for(var a of t){var i="string"===typeof a?a:a.name;if(r.has(i))throw new Error('Duplicate parameter name "'.concat(i,'"'));r.add(i)}this.name=e,this.params=t.map(function(e){return e&&e.name||e}),this.types=t.map(function(e){return e&&e.type||"any"}),this.expr=n}get type(){return Tp}get isFunctionAssignmentNode(){return!0}_compile(e,n){var r=Object.create(n);Vt(this.params,function(e){r[e]=!0});var a=this.expr._compile(e,r),i=this.name,o=this.params,s=Xt(this.types,","),l=i+"("+Xt(this.params,", ")+")";return function(e,n,r){var u={};u[s]=function(){for(var t=Object.create(n),i=0;i<o.length;i++)t[o[i]]=arguments[i];return a(e,t,r)};var c=t(i,u);return c.syntax=l,e.set(i,c),c}}forEach(e){e(this.expr,"expr",this)}map(e){var t=this._ifNode(e(this.expr,"expr",this));return new a(this.name,this.params.slice(0),t)}clone(){return new a(this.name,this.params.slice(0),this.expr)}_toString(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return r(this,t,e&&e.implicit)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n}toJSON(){var e=this.types;return{mathjs:Tp,name:this.name,params:this.params.map(function(t,n){return{name:t,type:e[n]}}),expr:this.expr}}static fromJSON(e){return new a(e.name,e.params,e.expr)}toHTML(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],a=0;a<this.params.length;a++)n.push('<span class="math-symbol math-parameter">'+At(this.params[a])+"</span>");var i=this.expr.toHTML(e);return r(this,t,e&&e.implicit)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+At(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i}_toTex(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return r(this,t,e&&e.implicit)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(jp).join(",")+"\\right):="+n}}return hu(a,"name",Tp),a},{isClass:!0,isNode:!0}),Fp="IndexNode",Ip=Ve(Fp,["Node","size"],e=>{var{Node:t,size:n}=e;class r extends t{constructor(e,t){if(super(),this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(ke))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Fp}get isIndexNode(){return!0}_compile(e,t){var r=Kt(this.dimensions,function(r,a){if(r.filter(e=>e.isSymbolNode&&"end"===e.name).length>0){var i=Object.create(t);i.end=!0;var o=r._compile(e,i);return function(e,t,r){if(!ne(r)&&!te(r)&&!ee(r))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Fe(r));var i=n(r).valueOf(),s=Object.create(t);return s.end=i[a],o(e,s,r)}}return r._compile(e,t)}),a=mn(e,"index");return function(e,t,n){var i=Kt(r,function(r){return r(e,t,n)});return a(...i)}}forEach(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)}map(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new r(t,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Se(this.dimensions[0])&&"string"===typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Fp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(e){return new r(e.dimensions,e.dotNotation)}toHTML(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+At(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"}}return hu(r,"name",Fp),r},{isClass:!0,isNode:!0}),Bp="ObjectNode",Rp=Ve(Bp,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){if(super(),this.properties=e||{},e&&("object"!==typeof e||!Object.keys(e).every(function(t){return ke(e[t])})))throw new TypeError("Object containing Nodes expected")}get type(){return Bp}get isObjectNode(){return!0}_compile(e,t){var n={};for(var r in this.properties)if(We(this.properties,r)){var a=Nt(r),i=JSON.parse(a),o=mn(this.properties,r);n[i]=o._compile(e,t)}return function(e,t,r){var a={};for(var i in n)We(n,i)&&(a[i]=n[i](e,t,r));return a}}forEach(e){for(var t in this.properties)We(this.properties,t)&&e(this.properties[t],"properties["+Nt(t)+"]",this)}map(e){var t={};for(var r in this.properties)We(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+Nt(r)+"]",this)));return new n(t)}clone(){var e={};for(var t in this.properties)We(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)}_toString(e){var t=[];for(var n in this.properties)We(this.properties,n)&&t.push(Nt(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"}toJSON(){return{mathjs:Bp,properties:this.properties}}static fromJSON(e){return new n(e.properties)}toHTML(e){var t=[];for(var n in this.properties)We(this.properties,n)&&t.push('<span class="math-symbol math-property">'+At(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(e){var t=[];for(var n in this.properties)We(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}"+t.join("\n")+"\\end{array}\\right\\}"}}return hu(n,"name",Bp),n},{isClass:!0,isNode:!0}),zp="OperatorNode",Lp=Ve(zp,["Node"],e=>{var{Node:t}=e;function n(e,t){var r=e;if("auto"===t)for(;je(r);)r=r.content;return!!Se(r)||!!De(r)&&n(r.args[0],t)}function r(e,t,r,a,i){var o,s=mp(e,t,r),l=gp(e,t);if("all"===t||a.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return a.map(function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(a.length){case 0:o=[];break;case 1:var u=mp(a[0],t,r,e);if(i&&null!==u){var c,d;if("keep"===t?(c=a[0].getIdentifier(),d=e.getIdentifier()):(c=a[0].getContent().getIdentifier(),d=e.getContent().getIdentifier()),!1===pp[s][d].latexLeftParens){o=[!1];break}if(!1===pp[u][c].latexParens){o=[!1];break}}if(null===u){o=[!1];break}if(u<=s){o=[!0];break}o=[!1];break;case 2:var f,p,h=mp(a[0],t,r,e),m=yp(e,a[0],t);f=null!==h&&(h===s&&"right"===l&&!m||h<s);var g,y,v,b=mp(a[1],t,r,e),x=yp(e,a[1],t);if(p=null!==b&&(b===s&&"left"===l&&!x||b<s),i)"keep"===t?(g=e.getIdentifier(),y=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(g=e.getContent().getIdentifier(),y=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==h&&(!1===pp[s][g].latexLeftParens&&(f=!1),!1===pp[h][y].latexParens&&(f=!1)),null!==b&&(!1===pp[s][g].latexRightParens&&(p=!1),!1===pp[b][v].latexParens&&(p=!1));o=[f,p];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=a.map(function(n){var a=mp(n,t,r,e),i=yp(e,n,t),o=gp(n,t);return null!==a&&(s===a&&l===o&&!i||a<s)}))}if(a.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"all"!==t&&"hide"===r)for(var w=1;w<o.length;++w)!n(a[w],t)||o[w-1]||"keep"===t&&je(a[w-1])||(o[w]=!0);return o}class a extends t{constructor(e,t,n,r,a){if(super(),"string"!==typeof e)throw new TypeError('string expected for parameter "op"');if("string"!==typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(ke))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===r,this.isPercentage=!0===a,this.op=e,this.fn=t,this.args=n||[]}get type(){return zp}get isOperatorNode(){return!0}_compile(e,t){if("string"!==typeof this.fn||!vn(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=mn(e,this.fn),r=Kt(this.args,function(n){return n._compile(e,t)});if(1===r.length){var a=r[0];return function(e,t,r){return n(a(e,t,r))}}if(2===r.length){var i=r[0],o=r[1];return function(e,t,r){return n(i(e,t,r),o(e,t,r))}}return function(e,t,a){return n.apply(null,Kt(r,function(n){return n(e,t,a)}))}}forEach(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)}map(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new a(this.op,this.fn,t,this.implicit,this.isPercentage)}clone(){return new a(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",a=this.args,i=r(this,t,n,a,!1);if(1===a.length){var o=gp(this,t),s=a[0].toString(e);i[0]&&(s="("+s+")");var l=/[a-zA-Z]+/.test(this.op);return"right"===o?this.op+(l?" ":"")+s:"left"===o?s+(l?" ":"")+this.op:s+this.op}if(2===a.length){var u=a[0].toString(e),c=a[1].toString(e);return i[0]&&(u="("+u+")"),i[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+" "+c:u+" "+this.op+" "+c}if(a.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var d=a.map(function(t,n){return t=t.toString(e),i[n]&&(t="("+t+")"),t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?d.join(" "):d.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:zp,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(e){return new a(e.op,e.fn,e.args,e.implicit,e.isPercentage)}toHTML(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",a=this.args,i=r(this,t,n,a,!1);if(1===a.length){var o=gp(this,t),s=a[0].toHTML(e);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+At(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+At(this.op)+"</span>"}if(2===a.length){var l=a[0].toHTML(e),u=a[1].toHTML(e);return i[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+u:l+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+At(this.op)+"</span>"+u}var c=a.map(function(t,n){return t=t.toHTML(e),i[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t});return a.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+At(this.op)+"</span>"):'<span class="math-function">'+At(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",a=this.args,i=r(this,t,n,a,!0),o=Cp[this.fn];if(o="undefined"===typeof o?this.op:o,1===a.length){var s=gp(this,t),l=a[0].toTex(e);return i[0]&&(l="\\left(".concat(l,"\\right)")),"right"===s?o+l:l+o}if(2===a.length){var u=a[0],c=u.toTex(e);i[0]&&(c="\\left(".concat(c,"\\right)"));var d,f=a[1].toTex(e);switch(i[1]&&(f="\\left(".concat(f,"\\right)")),d="keep"===t?u.getIdentifier():u.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+c+"}{"+f+"}";case"OperatorNode:pow":switch(c="{"+c+"}",f="{"+f+"}",d){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return c+"~"+f}return c+o+f}if(a.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=a.map(function(t,n){return t=t.toTex(e),i[n]&&(t="\\left(".concat(t,"\\right)")),t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===n?p.join("~"):p.join(o)}return"\\mathrm{"+this.fn+"}\\left("+a.map(function(t){return t.toTex(e)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return hu(a,"name",zp),a},{isClass:!0,isNode:!0}),qp="ParenthesisNode",Up=Ve(qp,["Node"],e=>{var{Node:t}=e;class n extends t{constructor(e){if(super(),!ke(e))throw new TypeError('Node expected for parameter "content"');this.content=e}get type(){return qp}get isParenthesisNode(){return!0}_compile(e,t){return this.content._compile(e,t)}getContent(){return this.content.getContent()}forEach(e){e(this.content,"content",this)}map(e){var t=e(this.content,"content",this);return new n(t)}clone(){return new n(this.content)}_toString(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)}toJSON(){return{mathjs:qp,content:this.content}}static fromJSON(e){return new n(e.content)}toHTML(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)}_toTex(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)}}return hu(n,"name",qp),n},{isClass:!0,isNode:!0}),$p="RangeNode",Wp=Ve($p,["Node"],e=>{var{Node:t}=e;function n(e,t,n){var r=mp(e,t,n),a={},i=mp(e.start,t,n);if(a.start=null!==i&&i<=r||"all"===t,e.step){var o=mp(e.step,t,n);a.step=null!==o&&o<=r||"all"===t}var s=mp(e.end,t,n);return a.end=null!==s&&s<=r||"all"===t,a}class r extends t{constructor(e,t,n){if(super(),!ke(e))throw new TypeError("Node expected");if(!ke(t))throw new TypeError("Node expected");if(n&&!ke(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null}get type(){return $p}get isRangeNode(){return!0}needsEnd(){return this.filter(function(e){return Te(e)&&"end"===e.name}).length>0}_compile(e,t){var n=e.range,r=this.start._compile(e,t),a=this.end._compile(e,t);if(this.step){var i=this.step._compile(e,t);return function(e,t,o){return n(r(e,t,o),a(e,t,o),i(e,t,o))}}return function(e,t,i){return n(r(e,t,i),a(e,t,i))}}forEach(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)}map(e){return new r(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),a=this.start.toString(e);if(r.start&&(a="("+a+")"),t=a,this.step){var i=this.step.toString(e);r.step&&(i="("+i+")"),t+=":"+i}var o=this.end.toString(e);return r.end&&(o="("+o+")"),t+=":"+o}toJSON(){return{mathjs:$p,start:this.start,end:this.end,step:this.step}}static fromJSON(e){return new r(e.start,e.end,e.step)}toHTML(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),a=this.start.toHTML(e);if(r.start&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=a,this.step){var i=this.step.toHTML(e);r.step&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+i}var o=this.end.toHTML(e);return r.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}_toTex(e){var t=n(this,e&&e.parenthesis?e.parenthesis:"keep",e&&e.implicit),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var a=this.step.toTex(e);t.step&&(a="\\left(".concat(a,"\\right)")),r+=":"+a}var i=this.end.toTex(e);return t.end&&(i="\\left(".concat(i,"\\right)")),r+=":"+i}}return hu(r,"name",$p),r},{isClass:!0,isNode:!0}),Hp="RelationalNode",Kp=Ve(Hp,["Node"],e=>{var{Node:t}=e,n={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends t{constructor(e,t){if(super(),!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}get type(){return Hp}get isRelationalNode(){return!0}_compile(e,t){var n=this,r=this.params.map(n=>n._compile(e,t));return function(t,a,i){for(var o,s=r[0](t,a,i),l=0;l<n.conditionals.length;l++){if(o=s,s=r[l+1](t,a,i),!mn(e,n.conditionals[l])(o,s))return!1}return!0}}forEach(e){this.params.forEach((t,n)=>e(t,"params["+n+"]",this),this)}map(e){return new r(this.conditionals.slice(),this.params.map((t,n)=>this._ifNode(e(t,"params["+n+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=mp(this,t,e&&e.implicit),a=this.params.map(function(n,a){var i=mp(n,t,e&&e.implicit);return"all"===t||null!==i&&i<=r?"("+n.toString(e)+")":n.toString(e)}),i=a[0],o=0;o<this.conditionals.length;o++)i+=" "+n[this.conditionals[o]],i+=" "+a[o+1];return i}toJSON(){return{mathjs:Hp,conditionals:this.conditionals,params:this.params}}static fromJSON(e){return new r(e.conditionals,e.params)}toHTML(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",r=mp(this,t,e&&e.implicit),a=this.params.map(function(n,a){var i=mp(n,t,e&&e.implicit);return"all"===t||null!==i&&i<=r?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':n.toHTML(e)}),i=a[0],o=0;o<this.conditionals.length;o++)i+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+At(n[this.conditionals[o]])+"</span>"+a[o+1];return i}_toTex(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=mp(this,t,e&&e.implicit),r=this.params.map(function(r,a){var i=mp(r,t,e&&e.implicit);return"all"===t||null!==i&&i<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)}),a=r[0],i=0;i<this.conditionals.length;i++)a+=Cp[this.conditionals[i]]+r[i+1];return a}}return hu(r,"name",Hp),r},{isClass:!0,isNode:!0}),Vp=Ve("SymbolNode",["math","?Unit","Node"],e=>{var{math:t,Unit:n,Node:r}=e;function a(e){return!!n&&n.isValuelessUnit(e)}class i extends r{constructor(e){if(super(),"string"!==typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return mn(t,r)};if(r in e)return function(t,n,a){return t.has(r)?t.get(r):mn(e,r)};var o=a(r);return function(e,t,a){return e.has(r)?e.get(r):o?new n(null,r):i.onUndefinedSymbol(r)}}forEach(e){}map(e){return this.clone()}static onUndefinedSymbol(e){throw new Error("Undefined symbol "+e)}clone(){return new i(this.name)}_toString(e){return this.name}toHTML(e){var t=At(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(e){return new i(e.name)}_toTex(e){var n=!1;"undefined"===typeof t[this.name]&&a(this.name)&&(n=!0);var r=jp(this.name,n);return"\\"===r[0]?r:" "+r}}return i},{isClass:!0,isNode:!0});function Yp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e.createSubScope?Cn(e.createSubScope(),...n):Cn(Nn(),e,...n)}var Gp="FunctionNode",Xp=Ve(Gp,["math","Node","SymbolNode"],e=>{var t,{math:n,Node:r,SymbolNode:a}=e,i=e=>St(e,{truncate:78});function o(e,t,n){for(var r,a="",i=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,o=0;null!==(r=i.exec(e));)if(a+=e.substring(o,r.index),o=r.index,"$$"===r[0])a+="$",o++;else{o+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(typeof s){case"string":a+=s;break;case"object":if(ke(s))a+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");a+=s.map(function(e,t){if(ke(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!ke(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");a+=s[r[2]].toTex(n)}}return a+=e.slice(o)}class s extends r{constructor(e,t){if(super(),"string"===typeof e&&(e=new a(e)),!ke(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(ke))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[]}get name(){return this.fn.name||""}get type(){return Gp}get isFunctionNode(){return!0}_compile(e,t){var n=this.args.map(n=>n._compile(e,t));if(!Te(this.fn)){if(ye(this.fn)&&Ce(this.fn.index)&&this.fn.index.isObjectProperty()){var r=this.fn.object._compile(e,t),a=this.fn.index.getObjectProperty(),o=this.args;return function(t,i,s){var l=r(t,i,s),u=function(e,t){if(!vn(e,t))throw new Error('No access to method "'+t+'"');return e[t]}(l,a);if(null!==u&&void 0!==u&&u.rawArgs)return u(o,e,Yp(t,i),t);var c=n.map(e=>e(t,i,s));return u.apply(l,c)}}var l=this.fn.toString(),u=this.fn._compile(e,t),c=this.args;return function(t,r,a){var o=u(t,r,a);if("function"!==typeof o)throw new TypeError("Expression '".concat(l,"' did not evaluate to a function; value is:")+"\n  ".concat(i(o)));if(o.rawArgs)return o(c,e,Yp(t,r),t);var s=n.map(e=>e(t,r,a));return o.apply(o,s)}}var d=this.fn.name;if(t[d]){var f=this.args;return function(t,r,a){var o=mn(r,d);if("function"!==typeof o)throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(i(o)));if(o.rawArgs)return o(f,e,Yp(t,r),t);var s=n.map(e=>e(t,r,a));return o.apply(o,s)}}var p=d in e?mn(e,d):void 0,h="function"===typeof p&&!0===p.rawArgs,m=t=>{var n;if(t.has(d))n=t.get(d);else{if(!(d in e))return s.onUndefinedFunction(d);n=mn(e,d)}if("function"===typeof n)return n;throw new TypeError("'".concat(d,"' is not a function; its value is:\n  ").concat(i(n)))};if(h){var g=this.args;return function(t,n,r){return m(t)(g,e,Yp(t,n),t)}}switch(n.length){case 0:return function(e,t,n){return m(e)()};case 1:return function(e,t,r){return m(e)((0,n[0])(e,t,r))};case 2:return function(e,t,r){var a=m(e),i=n[0],o=n[1];return a(i(e,t,r),o(e,t,r))};default:return function(e,t,r){return m(e)(...n.map(n=>n(e,t,r)))}}}forEach(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)}map(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new s(t,n)}clone(){return new s(this.fn,this.args.slice(0))}toString(e){var t,n=this.fn.toString(e);return e&&"object"===typeof e.handler&&We(e.handler,n)&&(t=e.handler[n](this,e)),"undefined"!==typeof t?t:super.toString(e)}_toString(e){var t=this.args.map(function(t){return t.toString(e)});return(Ee(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"}toJSON(){return{mathjs:Gp,fn:this.fn,args:this.args}}toHTML(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+At(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(e){var t;return e&&"object"===typeof e.handler&&We(e.handler,this.name)&&(t=e.handler[this.name](this,e)),"undefined"!==typeof t?t:super.toTex(e)}_toTex(e){var t,r,a=this.args.map(function(t){return t.toTex(e)});switch(kp[this.name]&&(t=kp[this.name]),!n[this.name]||"function"!==typeof n[this.name].toTex&&"object"!==typeof n[this.name].toTex&&"string"!==typeof n[this.name].toTex||(t=n[this.name].toTex),typeof t){case"function":r=t(this,e);break;case"string":r=o(t,this,e);break;case"object":switch(typeof t[a.length]){case"function":r=t[a.length](this,e);break;case"string":r=o(t[a.length],this,e)}}return"undefined"!==typeof r?r:o("\\mathrm{${name}}\\left(${args}\\right)",this,e)}getIdentifier(){return this.type+":"+this.name}}return t=s,hu(s,"name",Gp),hu(s,"onUndefinedFunction",function(e){throw new Error("Undefined function "+e)}),hu(s,"fromJSON",function(e){return new t(e.fn,e.args)}),s},{isClass:!0,isNode:!0}),Jp="parse",Zp=Ve(Jp,["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],e=>{var{typed:t,numeric:n,config:r,AccessorNode:a,ArrayNode:i,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:d,IndexNode:f,ObjectNode:p,OperatorNode:h,ParenthesisNode:m,RangeNode:g,RelationalNode:y,SymbolNode:v}=e,b=t(Jp,{string:function(e){return I(e,{})},"Array | Matrix":function(e){return x(e,{})},"string, Object":function(e,t){return I(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":x});function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return za(e,function(e){if("string"!==typeof e)throw new TypeError("String expected");return I(e,n)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},N={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},E={true:!0,false:!1,null:null,undefined:void 0},A=["NaN","Infinity"],C={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function k(e,t){return e.expression.substr(e.index,t)}function _(e){return k(e,1)}function D(e){e.index++}function j(e){return e.expression.charAt(e.index-1)}function O(e){return e.expression.charAt(e.index+1)}function M(e){for(e.tokenType=w.NULL,e.token="",e.comment="";;){if("#"===_(e))for(;"\n"!==_(e)&&""!==_(e);)e.comment+=_(e),D(e);if(!b.isWhitespace(_(e),e.nestingLevel))break;D(e)}if(""!==_(e)){if("\n"===_(e)&&!e.nestingLevel)return e.tokenType=w.DELIMITER,e.token=_(e),void D(e);var t=_(e),n=k(e,2),r=k(e,3);if(3===r.length&&S[r])return e.tokenType=w.DELIMITER,e.token=r,D(e),D(e),void D(e);if(2===n.length&&S[n])return e.tokenType=w.DELIMITER,e.token=n,D(e),void D(e);if(S[t])return e.tokenType=w.DELIMITER,e.token=t,void D(e);if(b.isDigitDot(t)){e.tokenType=w.NUMBER;var a=k(e,2);if("0b"===a||"0o"===a||"0x"===a){for(e.token+=_(e),D(e),e.token+=_(e),D(e);b.isHexDigit(_(e));)e.token+=_(e),D(e);if("."===_(e))for(e.token+=".",D(e);b.isHexDigit(_(e));)e.token+=_(e),D(e);else if("i"===_(e))for(e.token+="i",D(e);b.isDigit(_(e));)e.token+=_(e),D(e);return}if("."===_(e)){if(e.token+=_(e),D(e),!b.isDigit(_(e)))return void(e.tokenType=w.DELIMITER)}else{for(;b.isDigit(_(e));)e.token+=_(e),D(e);b.isDecimalMark(_(e),O(e))&&(e.token+=_(e),D(e))}for(;b.isDigit(_(e));)e.token+=_(e),D(e);if("E"===_(e)||"e"===_(e))if(b.isDigit(O(e))||"-"===O(e)||"+"===O(e)){if(e.token+=_(e),D(e),"+"!==_(e)&&"-"!==_(e)||(e.token+=_(e),D(e)),!b.isDigit(_(e)))throw ae(e,'Digit expected, got "'+_(e)+'"');for(;b.isDigit(_(e));)e.token+=_(e),D(e);if(b.isDecimalMark(_(e),O(e)))throw ae(e,'Digit expected, got "'+_(e)+'"')}else if("."===O(e))throw D(e),ae(e,'Digit expected, got "'+_(e)+'"')}else{if(!b.isAlpha(_(e),j(e),O(e))){for(e.tokenType=w.UNKNOWN;""!==_(e);)e.token+=_(e),D(e);throw ae(e,'Syntax error in part "'+e.token+'"')}for(;b.isAlpha(_(e),j(e),O(e))||b.isDigit(_(e));)e.token+=_(e),D(e);We(N,e.token)?e.tokenType=w.DELIMITER:e.tokenType=w.SYMBOL}}else e.tokenType=w.DELIMITER}function T(e){do{M(e)}while("\n"===e.token)}function P(e){e.nestingLevel++}function F(e){e.nestingLevel--}function I(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null};V(n,{expression:e,extraNodes:t}),M(n);var r=function(e){var t,n,r=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&(t=B(e),e.comment&&(t.comment=e.comment));for(;"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),M(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&(t=B(e),e.comment&&(t.comment=e.comment),n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new s(r):(t||(t=new u(void 0),e.comment&&(t.comment=e.comment)),t)}(n);if(""!==n.token)throw n.tokenType===w.DELIMITER?ie(n,"Unexpected operator "+n.token):ae(n,'Unexpected part "'+n.token+'"');return r}function B(e){var t,n,r,a,i=function(e){var t=function(e){var t=R(e);for(;"or"===e.token;)T(e),t=new h("or","or",[t,R(e)]);return t}(e);for(;"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,T(e);var r=t,a=B(e);if(":"!==e.token)throw ae(e,"False part of conditional expression expected");e.conditionalLevel=null,T(e);var i=B(e);t=new l(r,a,i),e.conditionalLevel=n}return t}(e);if("="===e.token){if(Te(i))return t=i.name,T(e),r=B(e),new o(new v(t),r);if(ye(i))return T(e),r=B(e),new o(i.object,i.index,r);if(Ae(i)&&Te(i.fn)&&(a=!0,n=[],t=i.name,i.args.forEach(function(e,t){Te(e)?n[t]=e.name:a=!1}),a))return T(e),r=B(e),new c(t,n,r);throw ae(e,"Invalid left hand side of assignment operator =")}return i}function R(e){for(var t=z(e);"xor"===e.token;)T(e),t=new h("xor","xor",[t,z(e)]);return t}function z(e){for(var t=L(e);"and"===e.token;)T(e),t=new h("and","and",[t,L(e)]);return t}function L(e){for(var t=q(e);"|"===e.token;)T(e),t=new h("|","bitOr",[t,q(e)]);return t}function q(e){for(var t=U(e);"^|"===e.token;)T(e),t=new h("^|","bitXor",[t,U(e)]);return t}function U(e){for(var t=$(e);"&"===e.token;)T(e),t=new h("&","bitAnd",[t,$(e)]);return t}function $(e){for(var t=[W(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};We(r,e.token);){var a={name:e.token,fn:r[e.token]};n.push(a),T(e),t.push(W(e))}return 1===t.length?t[0]:2===t.length?new h(n[0].name,n[0].fn,t):new y(n.map(e=>e.fn),t)}function W(e){var t,n,r,a;t=H(e);for(var i={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};We(i,e.token);)r=i[n=e.token],T(e),a=[t,H(e)],t=new h(n,r,a);return t}function H(e){var t,n,r,a;t=K(e);for(var i={to:"to",in:"to"};We(i,e.token);)r=i[n=e.token],T(e),"in"===n&&""===e.token?t=new h("*","multiply",[t,new v("in")],!0):(a=[t,K(e)],t=new h(n,r,a));return t}function K(e){var t,n=[];if(t=":"===e.token?new u(1):Y(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)T(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new v("end")):n.push(Y(e));t=3===n.length?new g(n[0],n[2],n[1]):new g(n[0],n[1])}return t}function Y(e){var t,n,r,a;t=G(e);for(var i={"+":"add","-":"subtract"};We(i,e.token);){r=i[n=e.token],T(e);var o=G(e);a=o.isPercentage?[t,new h("*","multiply",[t,o])]:[t,o],t=new h(n,r,a)}return t}function G(e){var t,n,r,a;n=t=X(e);for(var i={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};We(i,e.token);)a=i[r=e.token],T(e),n=X(e),t=new h(r,a,[t,n]);return t}function X(e){var t,n;for(n=t=J(e);e.tokenType===w.SYMBOL||"in"===e.token&&Se(t)||!(e.tokenType!==w.NUMBER||Se(n)||De(n)&&"!"!==n.op)||"("===e.token;)n=J(e),t=new h("*","multiply",[t,n],!0);return t}function J(e){for(var t=Z(e),n=t,r=[];"/"===e.token&&Ne(n);){if(r.push(V({},e)),T(e),e.tokenType!==w.NUMBER){V(e,r.pop());break}if(r.push(V({},e)),T(e),e.tokenType!==w.SYMBOL&&"("!==e.token){r.pop(),V(e,r.pop());break}V(e,r.pop()),r.pop(),n=Z(e),t=new h("/","divide",[t,n])}return t}function Z(e){var t,n,r,a;t=Q(e);for(var i={"%":"mod",mod:"mod"};We(i,e.token);)r=i[n=e.token],T(e),"%"===n&&e.tokenType===w.DELIMITER&&"("!==e.token?t=new h("/","divide",[t,new u(100)],!1,!0):(a=[t,Q(e)],t=new h(n,r,a));return t}function Q(e){var t,a,o,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return We(s,e.token)?(o=s[e.token],t=e.token,T(e),a=[Q(e)],new h(t,o,a)):function(e){var t,a,o,s;t=function(e){var t,a,o;t=function(e){var t=[];if(e.tokenType===w.SYMBOL&&We(e.extraNodes,e.token)){var a=e.extraNodes[e.token];if(M(e),"("===e.token){if(t=[],P(e),M(e),")"!==e.token)for(t.push(B(e));","===e.token;)M(e),t.push(B(e));if(")"!==e.token)throw ae(e,"Parenthesis ) expected");F(e),M(e)}return new a(t)}return function(e){var t;if(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in N)return t=e.token,M(e),ee(e,We(E,t)?new u(E[t]):-1!==A.indexOf(t)?new u(n(t,"number")):new v(t));return function(e){var t;if('"'===e.token||"'"===e.token)return t=te(e,e.token),ee(e,new u(t));return function(e){var t,a,o,s;if("["===e.token){if(P(e),M(e),"]"!==e.token){var l=ne(e);if(";"===e.token){for(o=1,a=[l];";"===e.token;)M(e),a[o]=ne(e),o++;if("]"!==e.token)throw ae(e,"End of matrix ] expected");F(e),M(e),s=a[0].items.length;for(var c=1;c<o;c++)if(a[c].items.length!==s)throw ie(e,"Column dimensions mismatch ("+a[c].items.length+" !== "+s+")");t=new i(a)}else{if("]"!==e.token)throw ae(e,"End of matrix ] expected");F(e),M(e),t=l}}else F(e),M(e),t=new i([]);return ee(e,t)}return function(e){if("{"===e.token){var t;P(e);var a={};do{if(M(e),"}"!==e.token){if('"'===e.token||"'"===e.token)t=te(e,e.token);else{if(!(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in N))throw ae(e,"Symbol or string expected as object key");t=e.token,M(e)}if(":"!==e.token)throw ae(e,"Colon : expected after object key");M(e),a[t]=B(e)}}while(","===e.token);if("}"!==e.token)throw ae(e,"Comma , or bracket } expected after object value");F(e),M(e);var i=new p(a);return i=ee(e,i)}return function(e){var t;if(e.tokenType===w.NUMBER)return t=e.token,M(e),new u(n(t,r.number));return function(e){var t;if("("===e.token){if(P(e),M(e),t=B(e),")"!==e.token)throw ae(e,"Parenthesis ) expected");return F(e),M(e),t=ee(e,t=new m(t))}return function(e){throw""===e.token?ae(e,"Unexpected end of expression"):ae(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);var s={"!":"factorial","'":"ctranspose"};for(;We(s,e.token);)o=s[a=e.token],M(e),t=ee(e,t=new h(a,o,[t]));return t}(e),("^"===e.token||".^"===e.token)&&(o="^"===(a=e.token)?"pow":"dotPow",T(e),s=[t,Q(e)],t=new h(a,o,s));return t}(e)}function ee(e,t,n){for(var r;("("===e.token||"["===e.token||"."===e.token)&&(!n||-1!==n.indexOf(e.token));)if(r=[],"("===e.token){if(!Te(t)&&!ye(t))return t;if(P(e),M(e),")"!==e.token)for(r.push(B(e));","===e.token;)M(e),r.push(B(e));if(")"!==e.token)throw ae(e,"Parenthesis ) expected");F(e),M(e),t=new d(t,r)}else if("["===e.token){if(P(e),M(e),"]"!==e.token)for(r.push(B(e));","===e.token;)M(e),r.push(B(e));if("]"!==e.token)throw ae(e,"Parenthesis ] expected");F(e),M(e),t=new a(t,new f(r))}else{if(M(e),!(e.tokenType===w.SYMBOL||e.tokenType===w.DELIMITER&&e.token in N))throw ae(e,"Property name expected after dot");r.push(new u(e.token)),M(e);t=new a(t,new f(r,!0))}return t}function te(e,t){for(var n="";""!==_(e)&&_(e)!==t;)if("\\"===_(e)){D(e);var r=_(e),a=C[r];if(void 0!==a)n+=a,e.index+=1;else{if("u"!==r)throw ae(e,"Bad escape character \\".concat(r));var i=e.expression.slice(e.index+1,e.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(i))throw ae(e,"Invalid unicode character \\u".concat(i));n+=String.fromCharCode(parseInt(i,16)),e.index+=5}}else n+=_(e),D(e);if(M(e),e.token!==t)throw ae(e,"End of string ".concat(t," expected"));return M(e),n}function ne(e){for(var t=[B(e)],n=1;","===e.token;)M(e),t[n]=B(e),n++;return new i(t)}function re(e){return e.index-e.token.length+1}function ae(e,t){var n=re(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function ie(e,t){var n=re(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return b.isAlpha=function(e,t,n){return b.isValidLatinOrGreek(e)||b.isValidMathSymbol(e,n)||b.isValidMathSymbol(t,e)},b.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},b.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},b.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},b.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},b.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},b.isDigit=function(e){return e>="0"&&e<="9"},b.isHexDigit=function(e){return e>="0"&&e<="9"||e>="a"&&e<="f"||e>="A"&&e<="F"},t.addConversion({from:"string",to:"Node",convert:b}),b}),Qp="compile",eh=Ve(Qp,["typed","parse"],e=>{var{typed:t,parse:n}=e;return t(Qp,{string:function(e){return n(e).compile()},"Array | Matrix":function(e){return za(e,function(e){return n(e).compile()})}})}),th="evaluate",nh=Ve(th,["typed","parse"],e=>{var{typed:t,parse:n}=e;return t(th,{string:function(e){var t=Nn();return n(e).compile().evaluate(t)},"string, Map | Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t=Nn();return za(e,function(e){return n(e).compile().evaluate(t)})},"Array | Matrix, Map | Object":function(e,t){return za(e,function(e){return n(e).compile().evaluate(t)})}})}),rh=Ve("Parser",["evaluate"],e=>{var{evaluate:t}=e;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Nn(),writable:!1})}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(e){return t(e,this.scope)},n.prototype.get=function(e){if(this.scope.has(e))return this.scope.get(e)},n.prototype.getAll=function(){return function(e){if(e instanceof Sn)return e.wrappedObject;var t={};for(var n of e.keys())gn(t,n,e.get(n));return t}(this.scope)},n.prototype.getAllAsMap=function(){return this.scope},n.prototype.set=function(e,t){return this.scope.set(e,t),t},n.prototype.remove=function(e){this.scope.delete(e)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),ah="parser",ih=Ve(ah,["typed","Parser"],e=>{var{typed:t,Parser:n}=e;return t(ah,{"":function(){return new n}})}),oh=Ve("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:t,matrix:n,abs:r,addScalar:a,divideScalar:i,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:d,SparseMatrix:f,Spa:p}=e;return t("lup",{DenseMatrix:function(e){return h(e)},SparseMatrix:function(e){return m(e)},Array:function(e){var t=h(n(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function h(e){var t,n,c,f=e._size[0],p=e._size[1],h=Math.min(f,p),m=Ie(e._data),g=[],y=[f,h],v=[],b=[h,p],x=[];for(t=0;t<f;t++)x[t]=t;for(n=0;n<p;n++){if(n>0)for(t=0;t<f;t++){var w=Math.min(t,n),S=0;for(c=0;c<w;c++)S=a(S,o(m[t][c],m[c][n]));m[t][n]=s(m[t][n],S)}var N=n,E=0,A=0;for(t=n;t<f;t++){var C=m[t][n],k=r(C);l(k,E)&&(N=t,E=k,A=C)}if(n!==N&&(x[n]=[x[N],x[N]=x[n]][0],d._swapRows(n,N,m)),n<f)for(t=n+1;t<f;t++){var _=m[t][n];u(_,0)||(m[t][n]=i(m[t][n],A))}}for(n=0;n<p;n++)for(t=0;t<f;t++)0===n&&(t<p&&(v[t]=[]),g[t]=[]),t<n?(t<p&&(v[t][n]=m[t][n]),n<f&&(g[t][n]=0)):t!==n?(t<p&&(v[t][n]=0),n<f&&(g[t][n]=m[t][n])):(t<p&&(v[t][n]=m[t][n]),n<f&&(g[t][n]=1));var D=new d({data:g,size:y}),j=new d({data:v,size:b}),O=[];for(t=0,h=x.length;t<h;t++)O[x[t]]=t;return{L:D,U:j,p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function m(e){var t,n,a,s=e._size[0],d=e._size[1],h=Math.min(s,d),m=e._values,g=e._index,y=e._ptr,v=[],b=[],x=[],w=[s,h],S=[],N=[],E=[],A=[h,d],C=[],k=[];for(t=0;t<s;t++)C[t]=t,k[t]=t;var _=function(){var e=new p;n<s&&(x.push(v.length),v.push(1),b.push(n)),E.push(S.length);var d=y[n],h=y[n+1];for(a=d;a<h;a++)t=g[a],e.set(C[t],m[a]);n>0&&e.forEach(0,n-1,function(t,n){f._forEachRow(t,v,b,x,function(r,a){r>t&&e.accumulate(r,c(o(a,n)))})});var _=n,D=e.get(n),j=r(D);e.forEach(n+1,s-1,function(e,t){var n=r(t);l(n,j)&&(_=e,j=n,D=t)}),n!==_&&(f._swapRows(n,_,w[1],v,b,x),f._swapRows(n,_,A[1],S,N,E),e.swap(n,_),function(e,t){var n=k[e],r=k[t];C[n]=t,C[r]=e,k[e]=r,k[t]=n}(n,_)),e.forEach(0,s-1,function(e,t){e<=n?(S.push(t),N.push(e)):(t=i(t,D),u(t,0)||(v.push(t),b.push(e)))})};for(n=0;n<d;n++)_();return E.push(S.length),x.push(v.length),{L:new f({values:v,index:b,ptr:x,size:w}),U:new f({values:S,index:N,ptr:E,size:A}),p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),sh=Ve("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],e=>{var{typed:t,matrix:n,zeros:r,identity:a,isZero:i,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:d,divideScalar:f,multiplyScalar:p,subtractScalar:h,complex:m}=e;return V(t("qr",{DenseMatrix:function(e){return y(e)},SparseMatrix:function(e){return function(){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=y(n(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:g});function g(e){var t,n,m,g=e._size[0],y=e._size[1],v=a([g],"dense"),b=v._data,x=e.clone(),w=x._data,S=r([g],"");for(m=0;m<Math.min(y,g);++m){var N=w[m][m],E=c(o(N,0)?1:s(N)),A=u(E),C=0;for(t=m;t<g;t++)C=d(C,p(w[t][m],u(w[t][m])));var k=p(E,l(C));if(!i(k)){var _=h(N,k);for(S[m]=1,t=m+1;t<g;t++)S[t]=f(w[t][m],_);var D=c(u(f(_,k))),j=void 0;for(n=m;n<y;n++){for(j=0,t=m;t<g;t++)j=d(j,p(u(S[t]),w[t][n]));for(j=p(j,D),t=m;t<g;t++)w[t][n]=p(h(w[t][n],p(S[t],j)),A)}for(t=0;t<g;t++){for(j=0,n=m;n<g;n++)j=d(j,p(b[t][n],S[n]));for(j=p(j,D),n=m;n<g;++n)b[t][n]=f(h(b[t][n],p(j,u(S[n]))),A)}}}return{Q:v,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(e){var t=g(e),n=t.R._data;if(e._data.length>0)for(var r="Complex"===n[0][0].type?m(0):0,a=0;a<n.length;++a)for(var i=0;i<a&&i<(n[0]||[]).length;++i)n[a][i]=r;return t}});function lh(e,t,n,r,a,i,o){var s=0;for(n[o]=e;s>=0;){var l=n[o+s],u=n[r+l];-1===u?(s--,i[t++]=l):(n[r+l]=n[a+u],n[o+ ++s]=u)}return t}function uh(e){return-e-2}var ch=Ve("csAmd",["add","multiply","transpose"],e=>{var{add:t,multiply:n,transpose:r}=e;return function(e,o){if(!o||e<=0||e>3)return null;var s=o._size,l=s[0],u=s[1],c=0,d=Math.max(16,10*Math.sqrt(u)),f=function(e,a,i,o,s){var l=r(a);if(1===e&&o===i)return t(a,l);if(2===e){for(var u=l._index,c=l._ptr,d=0,f=0;f<i;f++){var p=c[f];if(c[f]=d,!(c[f+1]-p>s))for(var h=c[f+1];p<h;p++)u[d++]=u[p]}return c[i]=d,a=r(l),n(l,a)}return n(l,a)}(e,o,l,u,d=Math.min(u-2,d));!function(e,t,n){for(var r=e._values,a=e._index,i=e._ptr,o=e._size[1],s=0,l=0;l<o;l++){var u=i[l];for(i[l]=s;u<i[l+1];u++)t(a[u],l,r?r[u]:1,n)&&(a[s]=a[u],r&&(r[s]=r[u]),s++)}i[o]=s,a.splice(s,a.length-s),r&&r.splice(s,r.length-s)}(f,i,null);for(var p,h,m,g,y,v,b,x,w,S,N,E,A,C,k,_,D=f._index,j=f._ptr,O=j[u],M=[],T=[],P=u+1,F=2*(u+1),I=3*(u+1),B=4*(u+1),R=5*(u+1),z=6*(u+1),L=7*(u+1),q=M,U=function(e,t,n,r,i,o,s,l,u,c,d,f){for(var p=0;p<e;p++)n[r+p]=t[p+1]-t[p];n[r+e]=0;for(var h=0;h<=e;h++)n[i+h]=-1,o[h]=-1,n[s+h]=-1,n[l+h]=-1,n[u+h]=1,n[c+h]=1,n[d+h]=0,n[f+h]=n[r+h];var m=a(0,0,n,c,e);return n[d+e]=-2,t[e]=-1,n[c+e]=0,m}(u,j,T,0,I,q,F,L,P,z,B,R),$=function(e,t,n,r,a,i,o,s,l,u,c){for(var d=0,f=0;f<e;f++){var p=n[r+f];if(0===p)n[a+f]=-2,d++,t[f]=-1,n[i+f]=0;else if(p>o)n[s+f]=0,n[a+f]=-1,d++,t[f]=uh(e),n[s+e]++;else{var h=n[l+p];-1!==h&&(u[h]=f),n[c+f]=n[l+p],n[l+p]=f}}return d}(u,j,T,R,B,z,d,P,I,q,F),W=0;$<u;){for(m=-1;W<u&&-1===(m=T[I+W]);W++);-1!==T[F+m]&&(q[T[F+m]]=-1),T[I+W]=T[F+m];var H=T[B+m],K=T[P+m];$+=K;var V=0;T[P+m]=-K;var Y=j[m],G=0===H?Y:O,X=G;for(g=1;g<=H+1;g++){for(g>H?(v=m,b=Y,x=T[0+m]-H):(b=j[v=D[Y++]],x=T[0+v]),y=1;y<=x;y++)(w=T[P+(p=D[b++])])<=0||(V+=w,T[P+p]=-w,D[X++]=p,-1!==T[F+p]&&(q[T[F+p]]=q[p]),-1!==q[p]?T[F+q[p]]=T[F+p]:T[I+T[R+p]]=T[F+p]);v!==m&&(j[v]=uh(m),T[z+v]=0)}for(0!==H&&(O=X),T[R+m]=V,j[m]=G,T[0+m]=X-G,T[B+m]=-2,U=a(U,c,T,z,u),S=G;S<X;S++)if(!((N=T[B+(p=D[S])])<=0)){var J=U-(w=-T[P+p]);for(Y=j[p],E=j[p]+N-1;Y<=E;Y++)T[z+(v=D[Y])]>=U?T[z+v]-=w:0!==T[z+v]&&(T[z+v]=T[R+v]+J)}for(S=G;S<X;S++){for(A=(E=j[p=D[S]])+T[B+p]-1,C=E,k=0,_=0,Y=E;Y<=A;Y++)if(0!==T[z+(v=D[Y])]){var Z=T[z+v]-U;Z>0?(_+=Z,D[C++]=v,k+=v):(j[v]=uh(m),T[z+v]=0)}T[B+p]=C-E+1;var Q=C,ee=E+T[0+p];for(Y=A+1;Y<ee;Y++){var te=T[P+(h=D[Y])];te<=0||(_+=te,D[C++]=h,k+=h)}0===_?(j[p]=uh(m),V-=w=-T[P+p],K+=w,$+=w,T[P+p]=0,T[B+p]=-1):(T[R+p]=Math.min(T[R+p],_),D[C]=D[Q],D[Q]=D[E],D[E]=m,T[0+p]=C-E+1,k=(k<0?-k:k)%u,T[F+p]=T[L+k],T[L+k]=p,q[p]=k)}for(T[R+m]=V,U=a(U+(c=Math.max(c,V)),c,T,z,u),S=G;S<X;S++)if(!(T[P+(p=D[S])]>=0))for(p=T[L+(k=q[p])],T[L+k]=-1;-1!==p&&-1!==T[F+p];p=T[F+p],U++){for(x=T[0+p],N=T[B+p],Y=j[p]+1;Y<=j[p]+x-1;Y++)T[z+D[Y]]=U;var ne=p;for(h=T[F+p];-1!==h;){var re=T[0+h]===x&&T[B+h]===N;for(Y=j[h]+1;re&&Y<=j[h]+x-1;Y++)T[z+D[Y]]!==U&&(re=0);re?(j[h]=uh(p),T[P+p]+=T[P+h],T[P+h]=0,T[B+h]=-1,h=T[F+h],T[F+ne]=h):(ne=h,h=T[F+h])}}for(Y=G,S=G;S<X;S++)(w=-T[P+(p=D[S])])<=0||(T[P+p]=w,_=T[R+p]+V-w,-1!==T[I+(_=Math.min(_,u-$-w))]&&(q[T[I+_]]=p),T[F+p]=T[I+_],q[p]=-1,T[I+_]=p,W=Math.min(W,_),T[R+p]=_,D[Y++]=p);T[P+m]=K,0===(T[0+m]=Y-G)&&(j[m]=-1,T[z+m]=0),0!==H&&(O=Y)}for(p=0;p<u;p++)j[p]=uh(j[p]);for(h=0;h<=u;h++)T[I+h]=-1;for(h=u;h>=0;h--)T[P+h]>0||(T[F+h]=T[I+j[h]],T[I+j[h]]=h);for(v=u;v>=0;v--)T[P+v]<=0||-1!==j[v]&&(T[F+v]=T[I+j[v]],T[I+j[v]]=v);for(m=0,p=0;p<=u;p++)-1===j[p]&&(m=lh(p,m,T,I,F,M,z));return M.splice(M.length-1,1),M};function a(e,t,n,r,a){if(e<2||e+t<0){for(var i=0;i<a;i++)0!==n[r+i]&&(n[r+i]=1);e=2}return e}function i(e,t){return e!==t}});function dh(e,t,n,r,a,i,o){var s,l,u,c=0;if(e<=t||n[r+t]<=n[a+e])return-1;n[a+e]=n[r+t];var d=n[i+e];if(n[i+e]=t,-1===d)c=1,u=e;else{for(c=2,u=d;u!==n[o+u];u=n[o+u]);for(s=d;s!==u;s=l)l=n[o+s],n[o+s]=u}return{jleaf:c,q:u}}var fh=Ve("csCounts",["transpose"],e=>{var{transpose:t}=e;return function(e,n,r,a){if(!e||!n||!r)return null;var i,o,s,l,u,c,d,f=e._size,p=f[0],h=f[1],m=4*h+(a?h+p+1:0),g=[],y=h,v=2*h,b=3*h,x=4*h,w=5*h+1;for(s=0;s<m;s++)g[s]=-1;var S=[],N=t(e),E=N._index,A=N._ptr;for(s=0;s<h;s++)for(S[o=r[s]]=-1===g[b+o]?1:0;-1!==o&&-1===g[b+o];o=n[o])g[b+o]=s;if(a){for(s=0;s<h;s++)g[r[s]]=s;for(i=0;i<p;i++){for(s=h,c=A[i],d=A[i+1],u=c;u<d;u++)s=Math.min(s,g[E[u]]);g[w+i]=g[x+s],g[x+s]=i}}for(i=0;i<h;i++)g[0+i]=i;for(s=0;s<h;s++){for(-1!==n[o=r[s]]&&S[n[o]]--,l=a?g[x+s]:o;-1!==l;l=a?g[w+l]:-1)for(u=A[l];u<A[l+1];u++){var C=dh(i=E[u],o,g,b,y,v,0);C.jleaf>=1&&S[o]++,2===C.jleaf&&S[C.q]--}-1!==n[o]&&(g[0+o]=n[o])}for(o=0;o<h;o++)-1!==n[o]&&(S[n[o]]+=S[o]);return S}}),ph=Ve("csSqr",["add","multiply","transpose"],e=>{var{add:t,multiply:n,transpose:r}=e,a=ch({add:t,multiply:n,transpose:r}),i=fh({transpose:r});return function(e,t,n){var r,o=t._ptr,s=t._size[1],l={};if(l.q=a(e,t),e&&!l.q)return null;if(n){var u=e?function(e,t,n,r){for(var a=e._values,i=e._index,o=e._ptr,s=e._size,l=e._datatype,u=s[0],c=s[1],d=r&&e._values?[]:null,f=[],p=[],h=0,m=0;m<c;m++){p[m]=h;for(var g=n?n[m]:m,y=o[g],v=o[g+1],b=y;b<v;b++){var x=t?t[i[b]]:i[b];f[h]=x,d&&(d[h]=a[b]),h++}}return p[c]=h,e.createSparseMatrix({values:d,index:f,ptr:p,size:[u,c],datatype:l})}(t,null,l.q,0):t;l.parent=function(e,t){if(!e)return null;var n,r,a=e._index,i=e._ptr,o=e._size,s=o[0],l=o[1],u=[],c=[],d=l;if(t)for(n=0;n<s;n++)c[d+n]=-1;for(var f=0;f<l;f++){u[f]=-1,c[0+f]=-1;for(var p=i[f],h=i[f+1],m=p;m<h;m++){var g=a[m];for(n=t?c[d+g]:g;-1!==n&&n<f;n=r)r=c[0+n],c[0+n]=f,-1===r&&(u[n]=f);t&&(c[d+g]=f)}}return u}(u,1);var c=function(e,t){if(!e)return null;var n,r=0,a=[],i=[],o=t,s=2*t;for(n=0;n<t;n++)i[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(i[o+n]=i[0+e[n]],i[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=lh(n,r,i,0,o,a,s));return a}(l.parent,s);if(l.cp=i(u,l.parent,c,1),u&&l.parent&&l.cp&&function(e,t){var n=e._ptr,r=e._index,a=e._size,i=a[0],o=a[1];t.pinv=[],t.leftmost=[];var s,l,u,c,d,f=t.parent,p=t.pinv,h=t.leftmost,m=[],g=0,y=i,v=i+o,b=i+2*o;for(l=0;l<o;l++)m[y+l]=-1,m[v+l]=-1,m[b+l]=0;for(s=0;s<i;s++)h[s]=-1;for(l=o-1;l>=0;l--)for(c=n[l],d=n[l+1],u=c;u<d;u++)h[r[u]]=l;for(s=i-1;s>=0;s--)p[s]=-1,-1!==(l=h[s])&&(0===m[b+l]++&&(m[v+l]=s),m[g+s]=m[y+l],m[y+l]=s);for(t.lnz=0,t.m2=i,l=0;l<o;l++)if(s=m[y+l],t.lnz++,s<0&&(s=t.m2++),p[s]=l,!(--b[l]<=0)){t.lnz+=m[b+l];var x=f[l];-1!==x&&(0===m[b+x]&&(m[v+x]=m[v+l]),m[g+m[v+l]]=m[y+x],m[y+x]=m[g+s],m[b+x]+=m[b+l])}for(s=0;s<i;s++)p[s]<0&&(p[s]=l++);return!0}(u,l))for(l.unz=0,r=0;r<s;r++)l.unz+=l.cp[r]}else l.unz=4*o[s]+s,l.lnz=l.unz;return l}});function hh(e,t){return e[t]<0}function mh(e,t){e[t]=uh(e[t])}function gh(e){return e<0?uh(e):e}function yh(e,t,n,r,a){var i,o,s,l=t._index,u=t._ptr,c=t._size[1],d=0;for(r[0]=e;d>=0;){e=r[d];var f=a?a[e]:e;hh(u,e)||(mh(u,e),r[c+d]=f<0?0:gh(u[f]));var p=1;for(o=r[c+d],s=f<0?0:gh(u[f+1]);o<s;o++)if(!hh(u,i=l[o])){r[c+d]=o,r[++d]=i,p=0;break}p&&(d--,r[--n]=e)}return n}var vh=Ve("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:t,multiply:n,subtract:r}=e;return function(e,a,i,o,s,l,u){var c,d,f,p,h=e._values,m=e._index,g=e._ptr,y=e._size[1],v=a._values,b=a._index,x=a._ptr,w=function(e,t,n,r,a){var i,o,s,l=e._ptr,u=e._size,c=t._index,d=t._ptr,f=u[1],p=f;for(o=d[n],s=d[n+1],i=o;i<s;i++){var h=c[i];hh(l,h)||(p=yh(h,e,p,r,a))}for(i=p;i<f;i++)mh(l,r[i]);return p}(e,a,i,o,l);for(c=w;c<y;c++)s[o[c]]=0;for(d=x[i],f=x[i+1],c=d;c<f;c++)s[b[c]]=v[c];for(var S=w;S<y;S++){var N=o[S],E=l?l[N]:N;if(!(E<0))for(d=g[E],f=g[E+1],s[N]=t(s[N],h[u?d:f-1]),c=u?d+1:d,p=u?f:f-1;c<p;c++){var A=m[c];s[A]=r(s[A],n(h[c],s[N]))}}return w}}),bh=Ve("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:t,divideScalar:n,multiply:r,subtract:a,larger:i,largerEq:o,SparseMatrix:s}=e,l=vh({divideScalar:n,multiply:r,subtract:a});return function(e,a,u){if(!e)return null;var c,d=e._size[1],f=100,p=100;a&&(c=a.q,f=a.lnz||f,p=a.unz||p);var h,m,g=[],y=[],v=[],b=new s({values:g,index:y,ptr:v,size:[d,d]}),x=[],w=[],S=[],N=new s({values:x,index:w,ptr:S,size:[d,d]}),E=[],A=[],C=[];for(h=0;h<d;h++)A[h]=0,E[h]=-1,v[h+1]=0;f=0,p=0;for(var k=0;k<d;k++){v[k]=f,S[k]=p;var _=c?c[k]:k,D=l(b,e,_,C,A,E,1),j=-1,O=-1;for(m=D;m<d;m++)if(E[h=C[m]]<0){var M=t(A[h]);i(M,O)&&(O=M,j=h)}else w[p]=E[h],x[p++]=A[h];if(-1===j||O<=0)return null;E[_]<0&&o(t(A[_]),r(O,u))&&(j=_);var T=A[j];for(w[p]=k,x[p++]=T,E[j]=k,y[f]=j,g[f++]=1,m=D;m<d;m++)E[h=C[m]]<0&&(y[f]=h,g[f++]=n(A[h],T)),A[h]=0}for(v[d]=f,S[d]=p,m=0;m<f;m++)y[m]=E[y[m]];return g.splice(f,g.length-f),y.splice(f,y.length-f),x.splice(p,x.length-p),w.splice(p,w.length-p),{L:b,U:N,pinv:E}}}),xh=Ve("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:t,abs:n,add:r,multiply:a,transpose:i,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=e,d=ph({add:r,multiply:a,transpose:i}),f=bh({abs:n,divideScalar:o,multiply:a,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,n){if(!Xe(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=d(t,e,!1),a=f(e,r,n);return{L:a.L,U:a.U,p:a.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})});function wh(e,t){var n,r=t.length,a=[];if(e)for(n=0;n<r;n++)a[e[n]]=t[n];else for(n=0;n<r;n++)a[n]=t[n];return a}var Sh="lusolve",Nh=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Eh=Ve(Sh,Nh,e=>{var{typed:t,matrix:n,lup:r,slu:a,usolve:i,lsolve:o,DenseMatrix:s}=e,l=ac({DenseMatrix:s});return t(Sh,{"Array, Array | Matrix":function(e,t){e=n(e);var a=r(e);return c(a.L,a.U,a.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=r(e);return c(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var i=a(e,n,r);return c(i.L,i.U,i.p,i.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function u(e){if(ne(e))return e;if(te(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")}function c(e,t,n,r,a){e=u(e),t=u(t),n&&((a=l(e,a,!0))._data=wh(n,a._data));var s=o(e,a),c=i(t,s);return r&&(c._data=wh(r,c._data)),c}}),Ah="polynomialRoot",Ch=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],kh=Ve(Ah,Ch,e=>{var{typed:t,isZero:n,equalScalar:r,add:a,subtract:i,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:d,im:f,re:p}=e;return t(Ah,{"number|Complex, ...number|Complex":(e,t)=>{for(var h=[e,...t];h.length>0&&n(h[h.length-1]);)h.pop();if(h.length<2)throw new RangeError("Polynomial [".concat(e,", ").concat(t,"] must have a non-zero non-constant coefficient"));switch(h.length){case 2:return[u(s(h[0],h[1]))];case 3:var[m,g,y]=h,v=o(2,y),b=o(g,g),x=o(4,y,m);if(r(b,x))return[s(u(g),v)];var w=l(i(b,x));return[s(i(w,g),v),s(i(u(w),g),v)];case 4:var[S,N,E,A]=h,C=u(o(3,A)),k=o(E,E),_=o(3,A,N),D=a(o(2,E,E,E),o(27,A,A,S)),j=o(9,A,E,N);if(r(k,_)&&r(D,j))return[s(E,C)];var O,M=i(k,_),T=i(D,j),P=a(o(18,A,E,N,S),o(E,E,N,N)),F=a(o(4,E,E,E,S),o(4,A,N,N,N),o(27,A,A,S,S));if(r(P,F))return[s(i(o(4,A,E,N),a(o(9,A,A,S),o(E,E,E))),o(A,M)),s(i(o(9,A,S),o(E,N)),o(2,M))];O=r(k,_)?T:s(a(T,l(i(o(T,T),o(4,M,M,M)))),2);return c(O,!0).toArray().map(e=>s(a(E,e,s(M,e)),C)).map(e=>"Complex"===d(e)&&r(p(e),p(e)+f(e))?p(e):e);default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(h))}}})}),_h=["parse"],Dh=Ve("Help",_h,e=>{var{parse:t}=e;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},a=0;a<e.examples.length;a++){var i=e.examples[a];n+="    "+i+"\n";var o=void 0;try{o=t(i).compile().evaluate(r)}catch(s){o=s}void 0===o||ce(o)||(n+="        "+St(o,{precision:14})+"\n")}n+="\n"}return e.mayThrow&&e.mayThrow.length&&(n+="Throws: "+e.mayThrow.join(", ")+"\n\n"),e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=Ie(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};return Object.keys(e).filter(e=>"mathjs"!==e).forEach(n=>{t[n]=e[n]}),new n(t)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),jh=["?on","math","typed"],Oh=Ve("Chain",jh,e=>{var{on:t,math:n,typed:r}=e;function a(e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");Pe(e)?this.value=e.value:this.value=e}function i(e,t){$e(a.prototype,e,function(){var e=t();if("function"===typeof e)return o(e)})}function o(e){return function(){if(0===arguments.length)return new a(e(this.value));for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];if(r.isTypedFunction(e)){var i=r.resolve(e,t);if(1===i.params.length)throw new Error("chain function "+e.name+" cannot match rest parameter between chain value and additional arguments.");return new a(i.implementation.apply(e,t))}return new a(e.apply(e,t))}}a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return St(this.value)},a.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},a.fromJSON=function(e){return new a(e.value)},a.createProxy=function(e,t){if("string"===typeof e)!function(e,t){"function"===typeof t&&(a.prototype[e]=o(t))}(e,t);else{var n=function(t){We(e,t)&&void 0===s[t]&&i(t,()=>e[t])};for(var r in e)n(r)}};var s={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return a.createProxy(n),t&&t("import",function(e,t,n){n||i(e,t)}),a},{isClass:!0}),Mh={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Th={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Ph={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Mh,E:Mh,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Th,PI:Th,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]}},Fh="help",Ih=Ve(Fh,["typed","mathWithTransform","Help"],e=>{var{typed:t,mathWithTransform:n,Help:r}=e;return t(Fh,{any:function(e){var t,a=e;if("string"!==typeof e)for(t in n)if(We(n,t)&&e===n[t]){a=t;break}var i=mn(Ph,a);if(!i){var o="function"===typeof a?a.name:a;throw new Error('No documentation found on "'+o+'"')}return new r(i)}})}),Bh="chain",Rh=Ve(Bh,["typed","Chain"],e=>{var{typed:t,Chain:n}=e;return t(Bh,{"":function(){return new n},any:function(e){return new n(e)}})}),zh=Ve("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:a,divideScalar:i,isZero:o,unaryMinus:s}=e;return t("det",{any:function(e){return Ie(e)},"Array | Matrix":function(e){var t;switch((t=ne(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return Ie(e);case 1:if(1===t[0])return Ie(e.valueOf()[0]);if(0===t[0])return 1;throw new RangeError("Matrix must be square (size: "+St(t)+")");case 2:var l=t[0],u=t[1];if(l===u)return function(e,t){if(1===t)return Ie(e[0][0]);if(2===t)return r(a(e[0][0],e[1][1]),a(e[1][0],e[0][1]));for(var n=!1,l=new Array(t).fill(0).map((e,t)=>t),u=0;u<t;u++){var c=l[u];if(o(e[c][u])){var d=void 0;for(d=u+1;d<t;d++)if(!o(e[l[d]][u])){c=l[d],l[d]=l[u],l[u]=c,n=!n;break}if(d===t)return e[c][u]}for(var f=e[c][u],p=0===u?1:e[l[u-1]][u-1],h=u+1;h<t;h++)for(var m=l[h],g=u+1;g<t;g++)e[m][g]=i(r(a(e[m][g],f),a(e[m][u],e[c][g])),p)}var y=e[l[t-1]][t-1];return n?s(y):y}(e.clone().valueOf(),l);if(0===u)return 1;throw new RangeError("Matrix must be square (size: "+St(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+St(t)+")")}}})}),Lh=Ve("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:a,multiply:i,unaryMinus:o,det:s,identity:l,abs:u}=e;return t("inv",{"Array | Matrix":function(e){var t=ne(e)?e.size():jt(e);switch(t.length){case 1:if(1===t[0])return ne(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+St(t)+")");case 2:var a=t[0],i=t[1];if(a===i)return ne(e)?n(c(e.valueOf(),a,i),e.storage()):c(e,a,i);throw new RangeError("Matrix must be square (size: "+St(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+St(t)+")")}},any:function(e){return r(1,e)}});function c(e,t,n){var c,d,f,p,h;if(1===t){if(0===(p=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,p)]]}if(2===t){var m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(o(e[0][1]),m)],[r(o(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var y=l(t).valueOf(),v=0;v<n;v++){var b=u(g[v][v]),x=v;for(c=v+1;c<t;)u(g[c][v])>b&&(b=u(g[c][v]),x=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=x)!==v&&(h=g[v],g[v]=g[c],g[c]=h,h=y[v],y[v]=y[c],y[c]=h);var w=g[v],S=y[v];for(c=0;c<t;c++){var N=g[c],E=y[c];if(c!==v){if(0!==N[v]){for(f=r(o(N[v]),w[v]),d=v;d<n;d++)N[d]=a(N[d],i(f,w[d]));for(d=0;d<n;d++)E[d]=a(E[d],i(f,S[d]))}}else{for(f=w[v],d=v;d<n;d++)N[d]=r(N[d],f);for(d=0;d<n;d++)E[d]=r(E[d],f)}}}return y}}),qh="pinv",Uh=Ve(qh,["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],e=>{var{typed:t,matrix:n,inv:r,deepEqual:a,equal:i,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:d,Complex:f}=e;return t(qh,{"Array | Matrix":function(e){var t=ne(e)?e.size():jt(e);switch(t.length){case 1:return m(e)?l(e):1===t[0]?r(e):o(l(e),s(e,e));case 2:if(m(e))return l(e);var a=t[0],i=t[1];if(a===i)try{return r(e)}catch(u){if(!(u instanceof Error&&u.message.match(/Cannot calculate inverse, determinant is zero/)))throw u}return ne(e)?n(p(e.valueOf(),a,i),e.storage()):p(e,a,i);default:throw new RangeError("Matrix must be two dimensional (size: "+St(t)+")")}},any:function(e){return i(e,0)?Ie(e):u(1,e)}});function p(e,t,n){var{C:a,F:i}=function(e,t,n){var r=function(e,t,n){for(var r=Ie(e),a=0,i=0;i<t;i++){if(n<=a)return r;for(var s=i;h(r[s][a]);)if(t===++s&&(s=i,n===++a))return r;[r[s],r[i]]=[r[i],r[s]];for(var l=r[i][a],u=0;u<n;u++)r[i][u]=o(r[i][u],l);for(var f=0;f<t;f++)if(f!==i){l=r[f][a];for(var p=0;p<n;p++)r[f][p]=d(r[f][p],c(-1,c(l,r[i][p])))}a++}return r}(e,t,n),a=e.map((e,n)=>e.filter((e,n)=>n<t&&!h(s(r[n],r[n])))),i=r.filter((e,t)=>!h(s(r[t],r[t])));return{C:a,F:i}}(e,t,n),u=c(r(c(l(a),a)),l(a)),f=c(l(i),r(c(i,l(i))));return c(f,u)}function h(e){return i(d(e,f(1,1)),d(0,f(1,1)))}function m(e){return a(d(e,f(1,1)),d(c(e,0),f(1,1)))}});function $h(e){var{addScalar:t,subtract:n,flatten:r,multiply:a,multiplyScalar:i,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:c,inv:d,qr:f,usolve:p,usolveAll:h,equal:m,complex:g,larger:y,smaller:v,matrixFromColumns:b,dot:x}=e;function w(e,r,a,o){var l=t(e,o),u=n(i(e,o),i(r,a)),c=i(l,.5),d=i(s(n(i(l,l),i(4,u))),.5);return[t(c,d),n(c,d)]}function S(e,t,r,a,i,o,s,c){var d="BigNumber"===c,f="Complex"===c,p=d?u(0):f?g(0):0,h=d?u(1):f?g(1):1;if(v(l(r),s))return[[h,p],[p,h]];if(y(l(n(i,o)),s))return[[n(i,a),n(o,a)],[r,r]];var m=n(e,i),b=n(t,i),x=n(r,i),w=n(a,i);return v(l(b),s)?[[m,h],[x,p]]:[[b,p],[w,h]]}function N(e,t){for(var n=0;n<e.length;n++)e[n].push(...Array(t-e[n].length).fill(0));for(var r=e.length;r<t;r++)e.push(Array(t).fill(0)),e[r][r]=1;return e}function E(e,t,n){for(var r=0;r<e.length;r++)if(n(e[r],t))return r;return-1}function A(e,t,n,r,a){for(var i,o="BigNumber"===a?u(1e3):1e3,s=0;i=C(t,n,a),i=p(e,i),!y(_(i),o);)if(++s>=5)return null;for(s=0;;){var l=p(e,i);if(v(_(k(i,[l])),r))break;if(++s>=10)return null;i=D(l)}return i}function C(e,t,n){var r="BigNumber"===n,a="Complex"===n,i=Array(e).fill(0).map(e=>2*Math.random()-1);return r&&(i=i.map(e=>u(e))),a&&(i=i.map(e=>g(e))),D(i=k(i,t),n)}function k(e,t){for(var r of t)e=n(e,a(o(x(r,e),x(r,r)),r));return e}function _(e){return l(s(x(e,e)))}function D(e,t){var n="Complex"===t,r="BigNumber"===t?u(1):n?g(1):1;return a(o(r,_(e)),e)}return function(e,s,p,x,C){void 0===C&&(C=!0);var k=function(e,n,r,a,s){var d,f="BigNumber"===a,p="Complex"===a,h=f?u(0):0,b=f?u(1):p?g(1):1,x=f?u(1):1,w=f?u(10):2,S=i(w,w);s&&(d=Array(n).fill(b));var N=!1;for(;!N;){N=!0;for(var E=0;E<n;E++){for(var A=h,C=h,k=0;k<n;k++)if(E!==k){var _=l(e[E][k]);A=t(A,_),C=t(C,_)}if(!m(A,0)&&!m(C,0)){for(var D=x,j=A,O=o(C,w),M=i(C,w);v(j,O);)j=i(j,S),D=i(D,w);for(;y(j,M);)j=o(j,S),D=o(D,w);if(v(o(t(j,C),D),i(t(A,C),.95))){N=!1;for(var T=o(1,D),P=0;P<n;P++)E!==P&&(e[E][P]=i(e[E][P],D),e[P][E]=i(e[P][E],T));s&&(d[E]=i(d[E],D))}}}}return c(d)}(e,s,0,x,C);!function(e,r,a,s,c,d){var f="BigNumber"===s,p="Complex"===s,h=f?u(0):p?g(0):0;f&&(a=u(a));for(var m=0;m<r-2;m++){for(var y=0,b=h,x=m+1;x<r;x++){var w=e[x][m];v(l(b),l(w))&&(b=w,y=x)}if(!v(l(b),a)){if(y!==m+1){var S=e[y];e[y]=e[m+1],e[m+1]=S;for(var N=0;N<r;N++){var E=e[N][y];e[N][y]=e[N][m+1],e[N][m+1]=E}if(c){var A=d[y];d[y]=d[m+1],d[m+1]=A}}for(var C=m+2;C<r;C++){var k=o(e[C][m],b);if(0!==k){for(var _=0;_<r;_++)e[C][_]=n(e[C][_],i(k,e[m+1][_]));for(var D=0;D<r;D++)e[D][m+1]=t(e[D][m+1],i(k,e[D][C]));if(c)for(var j=0;j<r;j++)d[C][j]=n(d[C][j],i(k,d[m+1][j]))}}}}}(e,s,p,x,C,k);var _,{values:D,C:j}=function(e,r,i,o,s){var d="BigNumber"===o,p="Complex"===o,h=d?u(1):p?g(1):1;d&&(i=u(i));var m=Ie(e),y=[],b=r,x=[],E=s?c(Array(r).fill(h)):void 0,A=s?c(Array(b).fill(h)):void 0,C=0;for(;C<=100;){C+=1;for(var k=0,_=0;_<b;_++)m[_][_]=n(m[_][_],k);var{Q:D,R:j}=f(m);m=a(j,D);for(var O=0;O<b;O++)m[O][O]=t(m[O][O],k);if(s&&(A=a(A,D)),1===b||v(l(m[b-1][b-2]),i)){C=0,y.push(m[b-1][b-1]),s&&(x.unshift([[1]]),N(A,r),E=a(E,A),b>1&&(A=c(Array(b-1).fill(h)))),b-=1,m.pop();for(var M=0;M<b;M++)m[M].pop()}else if(2===b||v(l(m[b-2][b-3]),i)){C=0;var T=w(m[b-2][b-2],m[b-2][b-1],m[b-1][b-2],m[b-1][b-1]);y.push(...T),s&&(x.unshift(S(m[b-2][b-2],m[b-2][b-1],m[b-1][b-2],m[b-1][b-1],T[0],T[1],i,o)),N(A,r),E=a(E,A),b>2&&(A=c(Array(b-2).fill(h)))),b-=2,m.pop(),m.pop();for(var P=0;P<b;P++)m[P].pop(),m[P].pop()}if(0===b)break}if(y.sort((e,t)=>+n(l(e),l(t))),C>100){var F=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+y.join(", "));throw F.values=y,F.vectors=[],F}var I=s?a(E,function(e,t){for(var n=[],r=0;r<t;r++)n[r]=Array(t).fill(0);var a=0;for(var i of e){for(var o=i.length,s=0;s<o;s++)for(var l=0;l<o;l++)n[a+s][a+l]=i[s][l];a+=o}return n}(x,r)):void 0;return{values:y,C:I}}(e,s,p,x,C);return C&&(_=function(e,t,i,o,s,l,f){var p=d(i),y=a(p,e,i),v="BigNumber"===f,b="Complex"===f,x=v?u(0):b?g(0):0,w=v?u(1):b?g(1):1,S=[],N=[];for(var C of s){var k=E(S,C,m);-1===k?(S.push(C),N.push(1)):N[k]+=1}for(var _=[],D=S.length,j=Array(t).fill(x),O=c(Array(t).fill(w)),M=[],T=function(){var e=S[P],s=n(y,a(e,O)),u=h(s,j);for(u.shift();u.length<N[P];){var c=A(s,t,u,l,f);if(null==c){M.push(e);break}u.push(c)}var p=a(d(o),i);u=u.map(e=>a(p,e)),_.push(...u.map(e=>r(e)))},P=0;P<D;P++)T();if(0!==M.length){var F=new Error("Failed to find eigenvectors for the following eigenvalues: "+M.join(", "));throw F.values=s,F.vectors=_,F}return _}(e,s,j,k,D,p,x),_=b(..._)),{values:D,vectors:_}}}function Wh(e){var{config:t,addScalar:n,subtract:r,abs:a,atan:i,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:d,add:f}=e;function p(e,n,r){var a=n-e;return Math.abs(a)<=t.epsilon?Math.PI/4:.5*Math.atan(2*r/(n-e))}function h(e,n,o){var s=r(n,e);return a(s)<=t.epsilon?c(-1).acos().div(4):l(.5,i(d(2,o,u(s))))}function m(e,t,n,r){for(var a=e.length,i=Math.cos(t),o=Math.sin(t),s=S(a,0),l=S(a,0),u=0;u<a;u++)s[u]=i*e[u][n]-o*e[u][r],l[u]=o*e[u][n]+i*e[u][r];for(var c=0;c<a;c++)e[c][n]=s[c],e[c][r]=l[c];return e}function g(e,t,a,i){for(var u=e.length,d=o(t),f=s(t),p=S(u,c(0)),h=S(u,c(0)),m=0;m<u;m++)p[m]=r(l(d,e[m][a]),l(f,e[m][i])),h[m]=n(l(f,e[m][a]),l(d,e[m][i]));for(var g=0;g<u;g++)e[g][a]=p[g],e[g][i]=h[g];return e}function y(e,t,a,i){for(var u=e.length,p=c(o(t)),h=c(s(t)),m=l(p,p),g=l(h,h),y=S(u,c(0)),v=S(u,c(0)),b=d(c(2),p,h,e[a][i]),x=n(r(l(m,e[a][a]),b),l(g,e[i][i])),w=f(l(g,e[a][a]),b,l(m,e[i][i])),N=0;N<u;N++)y[N]=r(l(p,e[a][N]),l(h,e[i][N])),v[N]=n(l(h,e[a][N]),l(p,e[i][N]));e[a][a]=x,e[i][i]=w,e[a][i]=c(0),e[i][a]=c(0);for(var E=0;E<u;E++)E!==a&&E!==i&&(e[a][E]=y[E],e[E][a]=y[E],e[i][E]=v[E],e[E][i]=v[E]);return e}function v(e,t,n,r){for(var a=e.length,i=Math.cos(t),o=Math.sin(t),s=i*i,l=o*o,u=S(a,0),c=S(a,0),d=s*e[n][n]-2*i*o*e[n][r]+l*e[r][r],f=l*e[n][n]+2*i*o*e[n][r]+s*e[r][r],p=0;p<a;p++)u[p]=i*e[n][p]-o*e[r][p],c[p]=o*e[n][p]+i*e[r][p];e[n][n]=d,e[r][r]=f,e[n][r]=0,e[r][n]=0;for(var h=0;h<a;h++)h!==n&&h!==r&&(e[n][h]=u[h],e[h][n]=u[h],e[r][h]=c[h],e[h][r]=c[h]);return e}function b(e){for(var t=e.length,n=0,r=[0,1],a=0;a<t;a++)for(var i=a+1;i<t;i++)Math.abs(n)<Math.abs(e[a][i])&&(n=Math.abs(e[a][i]),r=[a,i]);return[r,n]}function x(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)a(n)<a(e[i][o])&&(n=a(e[i][o]),r=[i,o]);return[r,n]}function w(e,t){for(var n=e.length,r=Array(n),i=Array(n),o=0;o<n;o++)i[o]=Array(n);for(var s=0;s<n;s++){for(var l=0,u=e[0],c=0;c<e.length;c++)a(e[c])<a(u)&&(u=e[l=c]);r[s]=e.splice(l,1)[0];for(var d=0;d<n;d++)i[d][s]=t[d][l],t[d].splice(l,1)}return{values:r,vectors:i}}function S(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.epsilon,i=arguments.length>3?arguments[3]:void 0;if("number"===i)return function(e,t){for(var n,r=e.length,a=Math.abs(t/r),i=new Array(r),o=0;o<r;o++)i[o]=S(r,0),i[o][o]=1;var s=b(e);for(;Math.abs(s[1])>=Math.abs(a);){var l=s[0][0],u=s[0][1];e=v(e,n=p(e[l][l],e[u][u],e[l][u]),l,u),i=m(i,n,l,u),s=b(e)}for(var c=S(r,0),d=0;d<r;d++)c[d]=e[d][d];return w(Ie(c),Ie(i))}(e,r);if("BigNumber"===i)return function(e,t){for(var n,r=e.length,i=a(t/r),o=new Array(r),s=0;s<r;s++)o[s]=S(r,0),o[s][s]=1;var l=x(e);for(;a(l[1])>=a(i);){var u=l[0][0],c=l[0][1];e=y(e,n=h(e[u][u],e[c][c],e[u][c]),u,c),o=g(o,n,u,c),l=x(e)}for(var d=S(r,0),f=0;f<r;f++)d[f]=e[f][f];return w(Ie(d),Ie(o))}(e,r);throw TypeError("Unsupported data type: "+i)}}var Hh=Ve("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e=>{var{config:t,typed:n,matrix:r,addScalar:a,subtract:i,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:d,divideScalar:f,inv:p,bignumber:h,multiply:m,add:g,larger:y,column:v,flatten:b,number:x,complex:w,sqrt:S,diag:N,qr:E,usolve:A,usolveAll:C,im:k,re:_,smaller:D,matrixFromColumns:j,dot:O}=e,M=Wh({config:t,addScalar:a,subtract:i,column:v,flatten:b,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:d,inv:p,bignumber:h,complex:w,multiply:m,add:g}),T=$h({config:t,addScalar:a,subtract:i,multiply:m,multiplyScalar:d,flatten:b,divideScalar:f,sqrt:S,abs:s,bignumber:h,diag:N,qr:E,inv:p,usolve:A,usolveAll:C,equal:o,complex:w,larger:y,smaller:D,matrixFromColumns:j,dot:O});return n("eigs",{Array:function(e){return P(r(e))},"Array, number|BigNumber":function(e,t){return P(r(e),t)},Matrix:function(e){var{values:t,vectors:n}=P(e);return{values:r(t),vectors:r(n)}},"Matrix, number|BigNumber":function(e,t){var{values:n,vectors:a}=P(e,t);return{values:r(n),vectors:r(a)}}});function P(e,n){void 0===n&&(n=t.epsilon);var r=e.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+St(r)+")");var a=e.toArray(),o=r[0];if(function(e,t,n){for(var r=0;r<t;r++)for(var a=0;a<t;a++)if(y(h(s(k(e[r][a]))),n))return!1;return!0}(a,o,n)&&(function(e,t){for(var n=0;n<t;n++)for(var r=0;r<t;r++)e[n][r]=_(e[n][r])}(a,o),function(e,t,n){for(var r=0;r<t;r++)for(var a=r;a<t;a++)if(y(h(s(i(e[r][a],e[a][r]))),n))return!1;return!0}(a,o,n))){var l=F(e,a,o);return M(a,o,n,l)}var u=F(e,a,o);return T(a,o,n,u)}function F(e,t,n){var r=e.datatype();if("number"===r||"BigNumber"===r||"Complex"===r)return r;for(var a=!1,i=!1,o=!1,s=0;s<n;s++)for(var l=0;l<n;l++){var u=t[s][l];if(G(u)||Z(u))a=!0;else if(X(u))i=!0;else{if(!J(u))throw TypeError("Unsupported type in Matrix: "+Fe(u));o=!0}}if(i&&o&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),o){for(var c=0;c<n;c++)for(var d=0;d<n;d++)t[c][d]=w(t[c][d]);return"Complex"}if(i){for(var f=0;f<n;f++)for(var p=0;p<n;p++)t[f][p]=h(t[f][p]);return"BigNumber"}if(a){for(var m=0;m<n;m++)for(var g=0;g<n;g++)t[m][g]=x(t[m][g]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Kh="expm",Vh=Ve(Kh,["typed","abs","add","identity","inv","multiply"],e=>{var{typed:t,abs:n,add:r,identity:a,inv:i,multiply:o}=e;return t(Kh,{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+St(t)+")");for(var l=t[0],u=function(e){for(var t=e.size()[0],r=0,a=0;a<t;a++){for(var i=0,o=0;o<t;o++)i+=n(e.get([a,o]));r=Math.max(i,r)}return r}(e),c=function(e,t){for(var n=30,r=0;r<n;r++)for(var a=0;a<=r;a++){var i=r-a;if(s(e,a,i)<t)return{q:a,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(u,1e-15),d=c.q,f=c.j,p=o(e,Math.pow(2,-f)),h=a(l),m=a(l),g=1,y=p,v=-1,b=1;b<=d;b++)b>1&&(y=o(y,p),v=-v),h=r(h,o(g=g*(d-b+1)/((2*d-b+1)*b),y)),m=r(m,o(g*v,y));for(var x=o(i(m),h),w=0;w<f;w++)x=o(x,x);return ie(e)?e.createSparseMatrix(x):x}});function s(e,t,n){for(var r=1,a=2;a<=t;a++)r*=a;for(var i=r,o=t+1;o<=2*t;o++)i*=o;var s=i*(2*t+1);return 8*Math.pow(e/Math.pow(2,n),2*t)*r*r/(i*s)}}),Yh="sqrtm",Gh=Ve(Yh,["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],e=>{var{typed:t,abs:n,add:r,multiply:a,map:i,sqrt:o,subtract:s,inv:l,size:u,max:c,identity:d}=e,f=1e-6;function p(e){var t,i=0,o=e,p=d(u(e));do{var h=o;if(o=a(.5,r(h,l(p))),p=a(.5,r(p,l(h))),(t=c(n(s(o,h))))>f&&++i>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>f);return o}return t(Yh,{"Array | Matrix":function(e){var t=ne(e)?e.size():jt(e);switch(t.length){case 1:if(1===t[0])return i(e,o);throw new RangeError("Matrix must be square (size: "+St(t)+")");case 2:if(t[0]===t[1])return p(e);throw new RangeError("Matrix must be square (size: "+St(t)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+St(t)+")")}}})}),Xh="sylvester",Jh=Ve(Xh,["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],e=>{var{typed:t,schur:n,matrixFromColumns:r,matrix:a,multiply:i,range:o,concat:s,transpose:l,index:u,subset:c,add:d,subtract:f,identity:p,lusolve:h,abs:m}=e;return t(Xh,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(e,t,n){return g(a(e),t,n)},"Array, Array, Matrix":function(e,t,n){return g(a(e),a(t),n)},"Array, Matrix, Array":function(e,t,n){return g(a(e),t,a(n))},"Matrix, Array, Matrix":function(e,t,n){return g(e,a(t),n)},"Matrix, Array, Array":function(e,t,n){return g(e,a(t),a(n))},"Matrix, Matrix, Array":function(e,t,n){return g(e,t,a(n))},"Array, Array, Array":function(e,t,n){return g(a(e),a(t),a(n)).toArray()}});function g(e,t,g){for(var y=t.size()[0],v=e.size()[0],b=n(e),x=b.T,w=b.U,S=n(i(-1,t)),N=S.T,E=S.U,A=i(i(l(w),g),E),C=o(0,v),k=[],_=(e,t)=>s(e,t,1),D=(e,t)=>s(e,t,0),j=0;j<y;j++)if(j<y-1&&m(c(N,u(j+1,j)))>1e-5){for(var O=D(c(A,u(C,j)),c(A,u(C,j+1))),M=0;M<j;M++)O=d(O,D(i(k[M],c(N,u(M,j))),i(k[M],c(N,u(M,j+1)))));var T=i(p(v),i(-1,c(N,u(j,j)))),P=i(p(v),i(-1,c(N,u(j+1,j)))),F=i(p(v),i(-1,c(N,u(j,j+1)))),I=i(p(v),i(-1,c(N,u(j+1,j+1)))),B=D(_(d(x,T),P),_(F,d(x,I))),R=h(B,O);k[j]=R.subset(u(o(0,v),0)),k[j+1]=R.subset(u(o(v,2*v),0)),j++}else{for(var z=c(A,u(C,j)),L=0;L<j;L++)z=d(z,i(k[L],c(N,u(L,j))));var q=c(N,u(j,j)),U=f(x,i(q,p(v)));k[j]=h(U,z)}var $=a(r(...k));return i(w,i($,l(E)))}}),Zh="schur",Qh=Ve(Zh,["typed","matrix","identity","multiply","qr","norm","subtract"],e=>{var{typed:t,matrix:n,identity:r,multiply:a,qr:i,norm:o,subtract:s}=e;return t(Zh,{Array:function(e){var t=l(n(e));return{U:t.U.valueOf(),T:t.T.valueOf()}},Matrix:function(e){return l(e)}});function l(e){var t,n=e.size()[0],l=e,u=r(n),c=0;do{t=l;var d=i(l),f=d.Q,p=d.R;if(l=a(p,f),u=a(u,f),c++>100)break}while(o(s(l,t))>1e-4);return{U:u,T:l}}}),em="lyap",tm=Ve(em,["typed","matrix","sylvester","multiply","transpose"],e=>{var{typed:t,matrix:n,sylvester:r,multiply:a,transpose:i}=e;return t(em,{"Matrix, Matrix":function(e,t){return r(e,i(e),a(-1,t))},"Array, Matrix":function(e,t){return r(n(e),i(n(e)),a(-1,t))},"Matrix, Array":function(e,t){return r(e,i(n(e)),n(a(-1,t)))},"Array, Array":function(e,t){return r(n(e),i(n(e)),n(a(-1,t))).toArray()}})}),nm=Ve("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:t,matrix:n,multiply:r,equalScalar:a,divideScalar:i,inv:o}=e,s=mo({typed:t,equalScalar:a}),l=yo({typed:t});return t("divide",Re({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"DenseMatrix, any":function(e,t){return l(e,t,i,!1)},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"Array, any":function(e,t){return l(n(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},i.signatures))}),rm="distance",am=Ve(rm,["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],e=>{var{typed:t,addScalar:n,subtractScalar:r,multiplyScalar:a,divideScalar:i,deepEqual:o,sqrt:s,abs:l}=e;return t(rm,{"Array, Array, Array":function(e,t,n){if(2===e.length&&2===t.length&&2===n.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(t,n))throw new TypeError("LinePoint1 should not be same with LinePoint2");var i=r(n[1],t[1]),s=r(t[0],n[0]),l=r(a(n[0],t[1]),a(t[0],n[1]));return m(e[0],e[1],i,s,l)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,n){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(n).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(t),h(n)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in n&&"lineTwoPtY"in n){var i=r(n.lineTwoPtY,t.lineOnePtY),s=r(t.lineOnePtX,n.lineTwoPtX),l=r(a(n.lineTwoPtX,t.lineOnePtY),a(t.lineOnePtX,n.lineTwoPtY));return m(e.pointX,e.pointY,i,s,l)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!c(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!d(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!f(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return m(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!d(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return g(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!c(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return y([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!d(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return y([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&u(e[0][0])&&u(e[0][1])){if(e.some(e=>2!==e.length||!u(e[0])||!u(e[1])))return!1}else{if(!(3===e[0].length&&u(e[0][0])&&u(e[0][1])&&u(e[0][2])))return!1;if(e.some(e=>3!==e.length||!u(e[0])||!u(e[1])||!u(e[2])))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],n=[],r=[],a=0;a<e.length-1;a++)for(var i=a+1;i<e.length;i++)2===e[0].length?(n=[e[a][0],e[a][1]],r=[e[i][0],e[i][1]]):3===e[0].length&&(n=[e[a][0],e[a][1],e[a][2]],r=[e[i][0],e[i][1],e[i][2]]),t.push(y(n,r));return t}(e)}});function u(e){return"number"===typeof e||X(e)}function c(e){return e.constructor!==Array&&(e=h(e)),u(e[0])&&u(e[1])}function d(e){return e.constructor!==Array&&(e=h(e)),u(e[0])&&u(e[1])&&u(e[2])}function f(e){return Array.isArray(e)||(e=h(e)),e.every(u)}function p(e){return e.constructor!==Array&&(e=h(e)),u(e[0])&&u(e[1])&&u(e[2])&&u(e[3])&&u(e[4])&&u(e[5])}function h(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function m(e,t,r,o,u){var c=l(n(n(a(r,e),a(o,t)),u)),d=s(n(a(r,r),a(o,o)));return i(c,d)}function g(e,t,o,l,u,c,d,f,p){var h=[r(a(r(u,t),p),a(r(c,o),f)),r(a(r(c,o),d),a(r(l,e),p)),r(a(r(l,e),f),a(r(u,t),d))];h=s(n(n(a(h[0],h[0]),a(h[1],h[1])),a(h[2],h[2])));var m=s(n(n(a(d,d),a(f,f)),a(p,p)));return i(h,m)}function y(e,t){for(var i=e.length,o=0,l=0,u=0;u<i;u++)l=r(e[u],t[u]),o=n(a(l,l),o);return s(o)}}),im=Ve("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],e=>{var{typed:t,config:n,abs:r,add:a,addScalar:i,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:d,equalScalar:f,flatten:p,isZero:h,isNumeric:m}=e;return t("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(e,t,n){var r=g(e.valueOf(),t.valueOf(),n.valueOf());return null===r?null:o(r)},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){var a=y(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf());return null===a?null:o(a)}});function g(e,t,n){if(e=v(e),t=v(t),n=v(n),!x(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,n,r,a,o,s,d,f,p){var h=l(e,s),m=l(r,s),g=l(t,d),y=l(a,d),v=l(n,f),b=l(o,f),x=c(c(c(p,h),g),v),w=c(c(c(i(i(m,y),b),h),g),v),S=u(x,w),N=i(e,l(S,c(r,e))),E=i(t,l(S,c(a,t))),A=i(n,l(S,c(o,n)));return[N,E,A]}(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])}function y(e,t,o,p){if(e=v(e),t=v(t),o=v(o),p=v(p),2===e.length){if(!b(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!b(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!b(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!b(p))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,o,f){var p=e,m=o,g=c(p,t),y=c(m,f),v=c(l(g[0],y[1]),l(y[0],g[1]));if(h(v))return null;if(d(r(v),n.epsilon))return null;var b=l(y[0],p[1]),x=l(y[1],p[0]),w=l(y[0],m[1]),S=l(y[1],m[0]),N=u(i(c(c(b,x),w),S),v);return a(s(g,N),p)}(e,t,o,p)}if(3===e.length){if(!x(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!x(p))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function(e,t,n,r,a,o,s,d,p,m,g,y){var v=w(e,s,m,s,t,d,g,d,n,p,y,p),b=w(m,s,r,e,g,d,a,t,y,p,o,n),x=w(e,s,r,e,t,d,a,t,n,p,o,n),S=w(m,s,m,s,g,d,g,d,y,p,y,p),N=w(r,e,r,e,a,t,a,t,o,n,o,n),E=c(l(v,b),l(x,S)),A=c(l(N,S),l(b,b));if(h(A))return null;var C=u(E,A),k=u(i(v,l(C,b)),S),_=i(e,l(C,c(r,e))),D=i(t,l(C,c(a,t))),j=i(n,l(C,c(o,n))),O=i(s,l(k,c(m,s))),M=i(d,l(k,c(g,d))),T=i(p,l(k,c(y,p)));return f(_,O)&&f(D,M)&&f(j,T)?[_,D,j]:null}(e[0],e[1],e[2],t[0],t[1],t[2],o[0],o[1],o[2],p[0],p[1],p[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function v(e){return 1===e.length?e[0]:e.length>1&&Array.isArray(e[0])&&e.every(e=>Array.isArray(e)&&1===e.length)?p(e):e}function b(e){return 2===e.length&&m(e[0])&&m(e[1])}function x(e){return 3===e.length&&m(e[0])&&m(e[1])&&m(e[2])}function w(e,t,n,r,a,o,s,u,d,f,p,h){var m=l(c(e,t),c(n,r)),g=l(c(a,o),c(s,u)),y=l(c(d,f),c(p,h));return i(i(m,g),y)}}),om=Ve("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:n,add:r,numeric:a}=e;return t("sum",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{return La(e,t,r)}catch(n){throw ku(n,"sum")}},"...":function(e){if(Ba(e))throw new TypeError("Scalar values expected in function sum");return i(e)}});function i(e){var t;return Ra(e,function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw ku(n,"sum",e)}}),void 0===t&&(t=a(0,n.number)),"string"===typeof t&&(t=a(t,n.number)),t}}),sm="cumsum",lm=Ve(sm,["typed","add","unaryPlus"],e=>{var{typed:t,add:n,unaryPlus:r}=e;return t(sm,{Array:a,Matrix:function(e){return e.create(a(e.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(e,t){return e.create(o(e.valueOf(),t))},"...":function(e){if(Ba(e))throw new TypeError("All values expected to be scalar in function cumsum");return a(e)}});function a(e){try{return i(e)}catch(t){throw ku(t,sm)}}function i(e){if(0===e.length)return[];for(var t=[r(e[0])],a=1;a<e.length;++a)t.push(n(t[a-1],e[a]));return t}function o(e,t){var n=jt(e);if(t<0||t>=n.length)throw new Dt(t,n.length);try{return s(e,t)}catch(r){throw ku(r,sm)}}function s(e,t){var n,r,a;if(t<=0){var o=e[0][0];if(Array.isArray(o)){for(a=Ia(e),r=[],n=0;n<a.length;n++)r[n]=s(a[n],t-1);return r}return i(e)}for(r=[],n=0;n<e.length;n++)r[n]=s(e[n],t-1);return r}}),um="mean",cm=Ve(um,["typed","add","divide"],e=>{var{typed:t,add:n,divide:r}=e;return t(um,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{var a=La(e,t,n),i=Array.isArray(e)?jt(e):e.size();return r(a,i[t])}catch(o){throw ku(o,"mean")}},"...":function(e){if(Ba(e))throw new TypeError("Scalar values expected in function mean");return a(e)}});function a(e){var t,a=0;if(Ra(e,function(e){try{t=void 0===t?e:n(t,e),a++}catch(r){throw ku(r,"mean",e)}}),0===a)throw new Error("Cannot calculate the mean of an empty array");return r(t,a)}}),dm="median",fm=Ve(dm,["typed","add","divide","compare","partitionSelect"],e=>{var{typed:t,add:n,divide:r,compare:a,partitionSelect:i}=e;function o(e){try{var t=(e=Ht(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2===0){for(var n=t/2-1,r=i(e,n+1),o=e[n],u=0;u<n;++u)a(e[u],o)>0&&(o=e[u]);return l(o,r)}var c=i(e,(t-1)/2);return s(c)}catch(d){throw ku(d,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(e){return e}}),l=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return t(dm,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(Ba(e))throw new TypeError("Scalar values expected in function median");return o(e)}})}),pm=Ve("mad",["typed","abs","map","median","subtract"],e=>{var{typed:t,abs:n,map:r,median:a,subtract:i}=e;return t("mad",{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=Ht(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=a(e);return a(r(e,function(e){return n(i(e,t))}))}catch(o){throw o instanceof TypeError&&-1!==o.message.indexOf("median")?new TypeError(o.message.replace("median","mad")):ku(o,"mad")}}}),hm="unbiased",mm="variance",gm=Ve(mm,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:n,subtract:r,multiply:a,divide:i,apply:o,isNaN:s}=e;return t(mm,{"Array | Matrix":function(e){return l(e,hm)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(e,t){return u(e,t,hm)},"Array | Matrix, number | BigNumber, string":u,"...":function(e){return l(e,hm)}});function l(e,t){var o,l=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Ra(e,function(e){try{o=void 0===o?e:n(o,e),l++}catch(t){throw ku(t,"variance",e)}}),0===l)throw new Error("Cannot calculate variance of an empty array");var u=i(o,l);if(o=void 0,Ra(e,function(e){var t=r(e,u);o=void 0===o?a(t,t):n(o,a(t,t))}),s(o))return o;switch(t){case"uncorrected":return i(o,l);case"biased":return i(o,l+1);case"unbiased":var c=X(o)?o.mul(0):0;return 1===l?c:i(o,l-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,e=>l(e,n))}catch(r){throw ku(r,"variance")}}}),ym="quantileSeq",vm=Ve(ym,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:t,bignumber:n,add:r,subtract:a,divide:i,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f}=e,p=oo({typed:t,isInteger:u});return t(ym,{"Array | Matrix, number | BigNumber":(e,t)=>m(e,t,!1),"Array | Matrix, number | BigNumber, number":(e,t,n)=>h(e,t,!1,n,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(e,t,n,r)=>h(e,t,n,r,m),"Array | Matrix, Array | Matrix":(e,t)=>g(e,t,!1),"Array | Matrix, Array | Matrix, number":(e,t,n)=>h(e,t,!1,n,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(e,t,n,r)=>h(e,t,n,r,g)});function h(e,t,n,r,a){return p(e,r,e=>a(e,t,n))}function m(e,t,a){var o,s=e.valueOf();if(c(t,0))throw new Error("N/prob must be non-negative");if(d(t,1))return G(t)?y(s,t,a):n(y(s,t,a));if(f(t,1)){if(!u(t))throw new Error("N must be a positive integer");if(f(t,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var l=r(t,1);o=[];for(var p=0;c(p,t);p++){var h=i(p+1,l);o.push(y(s,h,a))}return G(t)?o:n(o)}}function g(e,t,n){for(var r=e.valueOf(),a=t.valueOf(),i=[],o=0;o<a.length;++o)i.push(y(r,a[o],n));return i}function y(e,t,n){var i=Ht(e),c=i.length;if(0===c)throw new Error("Cannot calculate quantile of an empty sequence");var d,f,p=G(t)?t*(c-1):t.times(c-1),h=G(t)?Math.floor(p):p.floor().toNumber(),m=G(t)?p%1:p.minus(h);if(u(p))return n?i[p]:s(i,G(t)?p:p.valueOf());if(n)d=i[h],f=i[h+1];else{f=s(i,h+1),d=i[h];for(var g=0;g<h;++g)l(i[g],d)>0&&(d=i[g])}return r(o(d,a(1,m)),o(f,m))}}),bm=Ve("std",["typed","map","sqrt","variance"],e=>{var{typed:t,map:n,sqrt:r,variance:a}=e;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(e){return i(e)}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var i=a.apply(null,arguments);return re(i)?n(i,r):r(i)}catch(o){throw o instanceof TypeError&&-1!==o.message.indexOf(" variance")?new TypeError(o.message.replace(" variance"," std")):o}}}),xm="corr",wm=Ve(xm,["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],e=>{var{typed:t,matrix:n,sqrt:r,sum:a,add:i,subtract:o,multiply:s,pow:l,divide:u}=e;return t(xm,{"Array, Array":function(e,t){return c(e,t)},"Matrix, Matrix":function(e,t){var r=c(e.toArray(),t.toArray());return Array.isArray(r)?n(r):r}});function c(e,t){var n=[];if(Array.isArray(e[0])&&Array.isArray(t[0])){if(e.length!==t.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var r=0;r<e.length;r++){if(e[r].length!==t[r].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");n.push(d(e[r],t[r]))}return n}if(e.length!==t.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(e,t)}function d(e,t){var n=e.length,c=a(e),d=a(t),f=e.reduce((e,n,r)=>i(e,s(n,t[r])),0),p=a(e.map(e=>l(e,2))),h=a(t.map(e=>l(e,2))),m=o(s(n,f),s(c,d)),g=r(s(o(s(n,p),l(c,2)),o(s(n,h),l(d,2))));return u(m,g)}});function Sm(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return Sm(e,n)*Sm(n+1,t)}function Nm(e,t){if(!Xe(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!Xe(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");for(var n=e-t,r=1,a=2,i=t<n?t:n,o=t<n?n+1:t+1;o<=e;++o)for(r*=o;a<=i&&r%a===0;)r/=a,++a;return a<=i&&(r/=Sm(a,i)),r}Nm.signature="number, number";var Em="combinations",Am=Ve(Em,["typed"],e=>{var{typed:t}=e;return t(Em,{"number, number":Nm,"BigNumber, BigNumber":function(e,t){var n,r,a=e.constructor,i=e.minus(t),o=new a(1);if(!Cm(e)||!Cm(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(n=o,t.lt(i))for(r=o;r.lte(i);r=r.plus(o))n=n.times(t.plus(r)).dividedBy(r);else for(r=o;r.lte(t);r=r.plus(o))n=n.times(i.plus(r)).dividedBy(r);return n}})});function Cm(e){return e.isInteger()&&e.gte(0)}var km="combinationsWithRep",_m=Ve(km,["typed"],e=>{var{typed:t}=e;return t(km,{"number, number":function(e,t){if(!Xe(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Xe(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?Sm(e,e+t-1)/Sm(1,t):Sm(t+1,e+t-1)/Sm(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,a=new(0,e.constructor)(1),i=e.minus(a);if(!Dm(e)||!Dm(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(a))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=a,t.lt(i))for(r=a;r.lte(i);r=r.plus(a))n=n.times(t.plus(r)).dividedBy(r);else for(r=a;r.lte(t);r=r.plus(a))n=n.times(i.plus(r)).dividedBy(r);return n}})});function Dm(e){return e.isInteger()&&e.gte(0)}function jm(e){var t;if(Xe(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:Sm(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*jm(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,a=r*e,i=a*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*a)+163879/(209018880*i)+5246819/(75246796800*i*e))}--e,t=Mm[0];for(var o=1;o<Mm.length;++o)t+=Mm[o]/(e+o);var s=e+Om+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}jm.signature="number";var Om=4.7421875,Mm=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Tm=.9189385332046728,Pm=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Fm(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-Fm(1-e);for(var t=(e-=1)+5+.5,n=Pm[0],r=6;r>=1;r--)n+=Pm[r]/(e+r);return Tm+(e+.5)*Math.log(t)-t+Math.log(n)}Fm.signature="number";var Im="gamma",Bm=Ve(Im,["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:t,config:n,multiplyScalar:r,pow:a,BigNumber:i,Complex:o}=e;return t(Im,{number:jm,Complex:function e(t){if(0===t.im)return jm(t.re);if(t.re<.5){var n=new o(1-t.re,-t.im),r=new o(Math.PI*t.re,Math.PI*t.im);return new o(Math.PI).div(r.sin()).div(e(n))}t=new o(t.re-1,t.im);for(var a=new o(Mm[0],0),i=1;i<Mm.length;++i){var s=new o(Mm[i],0);a=a.add(s.div(t.add(i)))}var l=new o(t.re+Om+.5,t.im),u=Math.sqrt(2*Math.PI),c=l.pow(t.add(.5)),d=l.neg().exp();return a.mul(u).mul(c).mul(d)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new i(1/0):s(e.minus(1));if(!e.isFinite())return new i(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function s(e){if(e<8)return new i([1,1,2,6,24,120,720,5040][e]);var t=n.precision+(0|Math.log(e.toNumber())),r=i.clone({precision:t});if(e%2===1)return e.times(s(new i(e-1)));for(var a=e,o=new r(e),l=e.toNumber();a>2;)l+=a-=2,o=o.times(l);return new i(o.toPrecision(i.precision))}}),Rm="lgamma",zm=Ve(Rm,["Complex","typed"],e=>{var{Complex:t,typed:n}=e,r=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return n(Rm,{number:Fm,Complex:function e(n){if(n.isNaN())return new t(NaN,NaN);if(0===n.im)return new t(Fm(n.re),0);if(n.re>=7||Math.abs(n.im)>=7)return a(n);if(n.re<=.1){var r=function(e,t){return(e>0||!(e<0)&&1/e===1/0)^(t>0||!(t<0)&&1/t===1/0)?-e:e}(6.283185307179586,n.im)*Math.floor(.5*n.re+.25),o=n.mul(Math.PI).sin().log(),s=e(new t(1-n.re,-n.im));return new t(1.1447298858494002,r).sub(o).sub(s)}return n.im>=0?i(n):i(n.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(e){for(var n=e.sub(.5).mul(e.log()).sub(e).add(Tm),a=new t(1,0).div(e),i=a.div(e),o=r[0],s=r[1],l=2*i.re,u=i.re*i.re+i.im*i.im,c=2;c<8;c++){var d=s;s=-u*o+r[c],o=l*o+d}var f=a.mul(i.mul(o).add(s));return n.add(f)}function i(e){var n=0,r=0,i=e;for(e=e.add(1);e.re<=7;){var o=(i=i.mul(e)).im<0?1:0;0!==o&&0===r&&n++,r=o,e=e.add(1)}return a(e).sub(i.log()).sub(new t(0,2*n*Math.PI*1))}}),Lm="factorial",qm=Ve(Lm,["typed","gamma"],e=>{var{typed:t,gamma:n}=e;return t(Lm,{number:function(e){if(e<0)throw new Error("Value must be non-negative");return n(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return n(e.plus(1))},"Array | Matrix":t.referToSelf(e=>t=>za(t,e))})}),Um="kldivergence",$m=Ve(Um,["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],e=>{var{typed:t,matrix:n,divide:r,sum:a,multiply:i,map:o,dotDivide:s,log:l,isNumeric:u}=e;return t(Um,{"Array, Array":function(e,t){return c(n(e),n(t))},"Matrix, Array":function(e,t){return c(e,n(t))},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Matrix":function(e,t){return c(e,t)}});function c(e,t){var n=t.size().length,c=e.size().length;if(n>1)throw new Error("first object must be one dimensional");if(c>1)throw new Error("second object must be one dimensional");if(n!==c)throw new Error("Length of two vectors must be equal");if(0===a(e))throw new Error("Sum of elements in first object must be non zero");if(0===a(t))throw new Error("Sum of elements in second object must be non zero");var d=r(e,a(e)),f=r(t,a(t)),p=a(i(d,o(s(d,f),e=>l(e))));return u(p)?p:Number.NaN}}),Wm="multinomial",Hm=Ve(Wm,["typed","add","divide","multiply","factorial","isInteger","isPositive"],e=>{var{typed:t,add:n,divide:r,multiply:a,factorial:i,isInteger:o,isPositive:s}=e;return t(Wm,{"Array | Matrix":function(e){var t=0,l=1;return Ra(e,function(e){if(!o(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=n(t,e),l=a(l,i(e))}),r(i(t),l)}})}),Km="permutations",Vm=Ve(Km,["typed","factorial"],e=>{var{typed:t,factorial:n}=e;return t(Km,{"number | BigNumber":n,"number, number":function(e,t){if(!Xe(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!Xe(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return Sm(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!Ym(e)||!Ym(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})});function Ym(e){return e.isInteger()&&e.gte(0)}var Gm=n(4334),Xm=Gm(Date.now());function Jm(e){var t,n;return t=null===(n=e)?Xm:Gm(String(n)),function(){return t()}}var Zm="pickRandom",Qm=Ve(Zm,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,a=Jm(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(a=Jm(e.randomSeed))}),t(Zm,{"Array | Matrix":function(e){return i(e,{})},"Array | Matrix, Object":function(e,t){return i(e,t)},"Array | Matrix, number":function(e,t){return i(e,{number:t})},"Array | Matrix, Array | Matrix":function(e,t){return i(e,{weights:t})},"Array | Matrix, Array | Matrix, number":function(e,t,n){return i(e,{number:n,weights:t})},"Array | Matrix, number, Array | Matrix":function(e,t,n){return i(e,{number:t,weights:n})}});function i(e,t){var{number:n,weights:r,elementWise:i=!0}=t,o="undefined"===typeof n;o&&(n=1);var s=ne(e)?e.create:ne(r)?r.create:null;e=e.valueOf(),r&&(r=r.valueOf()),!0===i&&(e=Ht(e),r=Ht(r));var l=0;if("undefined"!==typeof r){if(r.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var u=0,c=r.length;u<c;u++){if(!G(r[u])||r[u]<0)throw new Error("Weights must be an array of positive numbers");l+=r[u]}}for(var d,f=e.length,p=[];p.length<n;){if("undefined"===typeof r)d=e[Math.floor(a()*f)];else for(var h=a()*l,m=0,g=e.length;m<g;m++)if((h-=r[m])<0){d=e[m];break}p.push(d)}return o?p[0]:s?s(p):p}});function eg(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,a=e.shift();r<a;r++)n.push(eg(e,t));else for(var i=0,o=e.shift();i<o;i++)n.push(t());return n}var tg="random",ng=Ve(tg,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,a=Jm(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(a=Jm(e.randomSeed))}),t(tg,{"":()=>o(0,1),number:e=>o(0,e),"number, number":(e,t)=>o(e,t),"Array | Matrix":e=>i(e,0,1),"Array | Matrix, number":(e,t)=>i(e,0,t),"Array | Matrix, number, number":(e,t,n)=>i(e,t,n)});function i(e,t,n){var r=eg(e.valueOf(),()=>o(t,n));return ne(e)?e.create(r):r}function o(e,t){return e+a()*(t-e)}}),rg="randomInt",ag=Ve(rg,["typed","config","?on"],e=>{var{typed:t,config:n,on:r}=e,a=Jm(n.randomSeed);return r&&r("config",function(e,t){e.randomSeed!==t.randomSeed&&(a=Jm(e.randomSeed))}),t(rg,{"":()=>o(0,1),number:e=>o(0,e),"number, number":(e,t)=>o(e,t),"Array | Matrix":e=>i(e,0,1),"Array | Matrix, number":(e,t)=>i(e,0,t),"Array | Matrix, number, number":(e,t,n)=>i(e,t,n)});function i(e,t,n){var r=eg(e.valueOf(),()=>o(t,n));return ne(e)?e.create(r):r}function o(e,t){return Math.floor(e+a()*(t-e))}}),ig="stirlingS2",og=Ve(ig,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],e=>{var{typed:t,addScalar:n,subtractScalar:r,multiplyScalar:a,divideScalar:i,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:c,number:d,bignumber:f,larger:p}=e,h=[],m=[];return t(ig,{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||u(e)||!c(t)||u(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(p(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");var r=!(G(e)&&G(t)),i=r?m:h,o=r?f:d,s=d(e),l=d(t);if(i[s]&&i[s].length>l)return i[s][l];for(var g=0;g<=s;++g)if(i[g]||(i[g]=[o(0===g?1:0)]),0!==g)for(var y=i[g],v=i[g-1],b=y.length;b<=g&&b<=l;++b)y[b]=b===g?1:n(a(o(b),v[b]),v[b-1]);return i[s][l]}})}),sg="bellNumbers",lg=Ve(sg,["typed","addScalar","isNegative","isInteger","stirlingS2"],e=>{var{typed:t,addScalar:n,isNegative:r,isInteger:a,stirlingS2:i}=e;return t(sg,{"number | BigNumber":function(e){if(!a(e)||r(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,o=0;o<=e;o++)t=n(t,i(e,o));return t}})}),ug="catalan",cg=Ve(ug,["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],e=>{var{typed:t,addScalar:n,divideScalar:r,multiplyScalar:a,combinations:i,isNegative:o,isInteger:s}=e;return t(ug,{"number | BigNumber":function(e){if(!s(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return r(i(a(e,2),e),n(e,1))}})}),dg="composition",fg=Ve(dg,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],e=>{var{typed:t,addScalar:n,combinations:r,isPositive:a,isNegative:i,isInteger:o,larger:s}=e;return t(dg,{"number | BigNumber, number | BigNumber":function(e,t){if(!(o(e)&&a(e)&&o(t)&&a(t)))throw new TypeError("Positive integer value expected in function composition");if(s(t,e))throw new TypeError("k must be less than or equal to n in function composition");return r(n(e,-1),n(t,-1))}})}),pg="leafCount",hg=Ve(pg,["parse","typed"],e=>{var{parse:t,typed:n}=e;function r(e){var t=0;return e.forEach(e=>{t+=r(e)}),t||1}return n(pg,{Node:function(e){return r(e)}})});function mg(e){return Se(e)||De(e)&&e.isUnary()&&Se(e.args[0])}function gg(e){return!!Se(e)||(!(!Ae(e)&&!De(e)||!e.args.every(gg))||!(!je(e)||!gg(e.content)))}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(n),!0).forEach(function(t){hu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var bg=Ve("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],e=>{var{FunctionNode:t,OperatorNode:n,SymbolNode:r}=e,a=!0,i=!1,o="defaultF",s={add:{trivial:a,total:a,commutative:a,associative:a},unaryPlus:{trivial:a,total:a,commutative:a,associative:a},subtract:{trivial:i,total:a,commutative:i,associative:i},multiply:{trivial:a,total:a,commutative:a,associative:a},divide:{trivial:i,total:a,commutative:i,associative:i},paren:{trivial:a,total:a,commutative:a,associative:i},defaultF:{trivial:i,total:a,commutative:i,associative:i}};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=o;if("string"===typeof e?r=e:De(e)?r=e.fn.toString():Ae(e)?r=e.name:je(e)&&(r="paren"),We(n,r)){var a=n[r];if(We(a,t))return a[t];if(We(s,r))return s[r][t]}if(We(n,o)){var i=n[o];return We(i,t)?i[t]:s[o][t]}if(We(s,r)){var l=s[r];if(We(l,t))return l[t]}return s[o][t]}function u(e){return l(e,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)}function c(e,t){var n,r=[];return u(e,t)?(n=e.op,function e(t){for(var a=0;a<t.args.length;a++){var i=t.args[a];De(i)&&n===i.op?e(i):r.push(i)}}(e),r):e.args}function d(e){return De(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(r){return console.error(r),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:d,hasProperty:l,isCommutative:function(e){return l(e,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:s)},isAssociative:u,mergeContext:function(e,t){var n=vg({},e);for(var r in t)We(e,r)?n[r]=vg(vg({},t[r]),e[r]):n[r]=t[r];return n},flatten:function e(t,n){if(!t.args||0===t.args.length)return t;t.args=c(t,n);for(var r=0;r<t.args.length;r++)e(t.args[r],n)},allChildren:c,unflattenr:function e(t,n){if(t.args&&0!==t.args.length){for(var r=d(t),a=t.args.length,i=0;i<a;i++)e(t.args[i],n);if(a>2&&u(t,n)){for(var o=t.args.pop();t.args.length>0;)o=r([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t,n){if(t.args&&0!==t.args.length){for(var r=d(t),a=t.args.length,i=0;i<a;i++)e(t.args[i],n);if(a>2&&u(t,n)){for(var o=t.args.shift();t.args.length>0;)o=r([o,t.args.shift()]);t.args=o.args}}},defaultContext:s,realContext:{divide:{total:i},log:{total:i}},positiveContext:{subtract:{total:i},abs:{trivial:a},log:{total:a}}}}),xg=Ve("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{config:t,typed:n,parse:r,add:a,subtract:i,multiply:o,divide:s,pow:l,isZero:u,equal:c,resolve:d,simplifyConstant:f,simplifyCore:p,fraction:h,bignumber:m,mathWithTransform:g,matrix:y,AccessorNode:v,ArrayNode:b,ConstantNode:x,FunctionNode:w,IndexNode:S,ObjectNode:N,OperatorNode:E,ParenthesisNode:A,SymbolNode:C}=e,{hasProperty:k,isCommutative:_,isAssociative:D,mergeContext:j,flatten:O,unflattenr:M,unflattenl:T,createMakeNodeFunction:P,defaultContext:F,realContext:I,positiveContext:B}=bg({FunctionNode:w,OperatorNode:E,SymbolNode:C});n.addConversion({from:"Object",to:"Map",convert:En});var R=n("simplify",{Node:W,"Node, Map":(e,t)=>W(e,!1,t),"Node, Map, Object":(e,t,n)=>W(e,!1,t,n),"Node, Array":W,"Node, Array, Map":W,"Node, Array, Map, Object":W});function z(e){return e.transform(function(e,t,n){return je(e)?z(e.content):e})}n.removeConversion({from:"Object",to:"Map",convert:En}),R.defaultContext=F,R.realContext=I,R.positiveContext=B;var L={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function q(e,t){var n={};if(e.s){var a=e.s.split("->");if(2!==a.length)throw SyntaxError("Could not parse rule: "+e.s);n.l=a[0],n.r=a[1]}else n.l=e.l,n.r=e.r;for(var i of(n.l=z(r(n.l)),n.r=z(r(n.r)),["imposeContext","repeat","assuming"]))i in e&&(n[i]=e[i]);if(e.evaluate&&(n.evaluate=r(e.evaluate)),D(n.l,t)){var o,s=!_(n.l,t);s&&(o=$());var l=P(n.l),u=$();n.expanded={},n.expanded.l=l([n.l,u]),O(n.expanded.l,t),M(n.expanded.l,t),n.expanded.r=l([n.r,u]),s&&(n.expandedNC1={},n.expandedNC1.l=l([o,n.l]),n.expandedNC1.r=l([o,n.r]),n.expandedNC2={},n.expandedNC2.l=l([o,n.expanded.l]),n.expandedNC2.r=l([o,n.expanded.r]))}return n}R.rules=[p,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},f,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},f,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var U=0;function $(){return new C("_p"+U++)}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nn(),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.consoleDebug;t=function(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],i=void 0,o=typeof a;switch(o){case"string":a={s:a};case"object":i=q(a,t);break;case"function":i=a;break;default:throw TypeError("Unsupported type of rule: "+o)}n.push(i)}return n}(t||R.rules,r.context);for(var i=d(e,n),o={},s=(i=z(i)).toString({parenthesis:"all"});!o[s];){o[s]=!0,U=0;var l=s;a&&console.log("Working on: ",s);for(var u=0;u<t.length;u++){var c="";if("function"===typeof t[u]?(i=t[u](i,r),a&&(c=t[u].name)):(O(i,r.context),i=K(i,t[u],r.context),a&&(c="".concat(t[u].l.toString()," -> ").concat(t[u].r.toString()))),a){var f=i.toString({parenthesis:"all"});f!==l&&(console.log("Applying",c,"produced",f),l=f)}T(i,r.context)}s=i.toString({parenthesis:"all"})}return i}function H(e,t,n){var r=e;if(e)for(var a=0;a<e.length;++a){var i=K(e[a],t,n);i!==e[a]&&(r===e&&(r=e.slice()),r[a]=i)}return r}function K(e,t,n){if(t.assuming)for(var r in t.assuming)for(var a in t.assuming[r])if(k(r,a,n)!==t.assuming[r][a])return e;var i=j(t.imposeContext,n),o=e;if(o instanceof E||o instanceof w){var s=H(o.args,t,n);s!==o.args&&((o=o.clone()).args=s)}else if(o instanceof A){if(o.content){var l=K(o.content,t,n);l!==o.content&&(o=new A(l))}}else if(o instanceof b){var u=H(o.items,t,n);u!==o.items&&(o=new b(u))}else if(o instanceof v){var c=o.object;o.object&&(c=K(o.object,t,n));var d=o.index;o.index&&(d=K(o.index,t,n)),c===o.object&&d===o.index||(o=new v(c,d))}else if(o instanceof S){var f=H(o.dimensions,t,n);f!==o.dimensions&&(o=new S(f))}else if(o instanceof N){var p=!1,h={};for(var m in o.properties)h[m]=K(o.properties[m],t,n),h[m]!==o.properties[m]&&(p=!0);p&&(o=new N(h))}var g=t.r,y=G(t.l,o,i)[0];if(!y&&t.expanded&&(g=t.expanded.r,y=G(t.expanded.l,o,i)[0]),!y&&t.expandedNC1&&(g=t.expandedNC1.r,(y=G(t.expandedNC1.l,o,i)[0])||(g=t.expandedNC2.r,y=G(t.expandedNC2.l,o,i)[0])),y){var x=o.implicit;o=g.clone(),x&&"implicit"in g&&(o.implicit=!0),o=o.transform(function(e){return e.isSymbolNode&&We(y.placeholders,e.name)?y.placeholders[e.name].clone():e})}return t.repeat&&o!==e&&(o=K(o,t,n)),o}function V(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(We(e.placeholders,r)&&(n.placeholders[r]=e.placeholders[r],We(t.placeholders,r)&&!X(e.placeholders[r],t.placeholders[r])))return null;for(var a in t.placeholders)We(t.placeholders,a)&&(n.placeholders[a]=t.placeholders[a]);return n}function Y(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var a=0;a<e.length;a++)for(var i=0;i<t.length;i++)(n=V(e[a],t[i]))&&r.push(n);return r}function G(e,t,n,r){var a=[{placeholders:{}}];if(e instanceof E&&t instanceof E||e instanceof w&&t instanceof w){if(e instanceof E){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof w&&e.name!==t.name)return[];if(!(1===t.args.length&&1===e.args.length||!D(t,n)&&t.args.length===e.args.length||r)){if(t.args.length>=2&&2===e.args.length){for(var i=function(e,t){var n,r,a=[],i=P(e);if(_(e,t))for(var o=0;o<e.args.length;o++)(r=e.args.slice(0)).splice(o,1),n=1===r.length?r[0]:i(r),a.push(i([e.args[o],n]));else for(var s=1;s<e.args.length;s++){var l=e.args[0];s>1&&(l=i(e.args.slice(0,s))),n=1===(r=e.args.slice(s)).length?r[0]:i(r),a.push(i([l,n]))}return a}(t,n),o=[],s=0;s<i.length;s++){var l=G(e,i[s],n,!0);o=o.concat(l)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var u=[],d=0;d<e.args.length;d++){var f=G(e.args[d],t.args[d],n);if(0===f.length)break;u.push(f)}if(u.length!==e.args.length){if(!_(t,n)||1===e.args.length)return[];if(e.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var p=G(e.args[0],t.args[1],n);if(0===p.length)return[];var h=G(e.args[1],t.args[0],n);if(0===h.length)return[];u=[p,h]}a=function(e){if(0===e.length)return e;for(var t=e.reduce(Y),n=[],r={},a=0;a<t.length;a++){var i=JSON.stringify(t[a]);r[i]||(r[i]=!0,n.push(t[a]))}return n}(u)}else if(e instanceof C){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(L[e.name]){if(e.name!==t.name)return[]}else switch(e.name[1]>="a"&&e.name[1]<="z"?e.name.substring(0,2):e.name[0]){case"n":case"_p":a[0].placeholders[e.name]=t;break;case"c":case"cl":if(!Se(t))return[];a[0].placeholders[e.name]=t;break;case"v":if(Se(t))return[];a[0].placeholders[e.name]=t;break;case"vl":if(!Te(t))return[];a[0].placeholders[e.name]=t;break;case"cd":if(!mg(t))return[];a[0].placeholders[e.name]=t;break;case"vd":if(mg(t))return[];a[0].placeholders[e.name]=t;break;case"ce":if(!gg(t))return[];a[0].placeholders[e.name]=t;break;case"ve":if(gg(t))return[];a[0].placeholders[e.name]=t;break;default:throw new Error("Invalid symbol in rule: "+e.name)}}else{if(!(e instanceof x))return[];if(!c(e.value,t.value))return[]}return a}function X(e,t){if(e instanceof x&&t instanceof x){if(!c(e.value,t.value))return!1}else if(e instanceof C&&t instanceof C){if(e.name!==t.name)return!1}else{if(!(e instanceof E&&t instanceof E||e instanceof w&&t instanceof w))return!1;if(e instanceof E){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof w&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!X(e.args[n],t.args[n]))return!1}return!0}return R}),wg=Ve("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],e=>{var{typed:t,config:n,mathWithTransform:r,matrix:a,fraction:i,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:d,ObjectNode:f,OperatorNode:p,SymbolNode:h}=e,{isCommutative:m,isAssociative:g,allChildren:y,createMakeNodeFunction:v}=bg({FunctionNode:c,OperatorNode:p,SymbolNode:h}),b=t("simplifyConstant",{Node:e=>N(_(e,{})),"Node, Object":function(e,t){return N(_(e,t))}});function x(e){return Z(e)?e.valueOf():e instanceof Array?e.map(x):ne(e)?a(x(e.valueOf())):e}function w(e,t,n){try{return r[e].apply(null,t)}catch(a){return t=t.map(x),A(r[e].apply(null,t),n)}}var S=t({Fraction:function(e){var t,n=e.s*e.n;t=n<0?new p("-","unaryMinus",[new u(-n)]):new u(n);if(1===e.d)return t;return new p("/","divide",[t,new u(e.d)])},number:function(e){return e<0?C(new u(-e)):new u(e)},BigNumber:function(e){return e<0?C(new u(-e)):new u(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")},string:function(e){return new u(e)},Matrix:function(e){return new l(e.valueOf().map(e=>S(e)))}});function N(e){return ke(e)?e:S(e)}function E(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&i){var n=i(e),r=t&&"number"===typeof t.fractionsLimit?t.fractionsLimit:1/0;if(n.valueOf()===e&&n.n<r&&n.d<r)return n}return e}var A=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&Pl(),o(e)):"Fraction"===n.number?(void 0===i&&Fl(),i(e)):E(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return E(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:E(e.re,t)},"Matrix, Object":function(e,t){return a(E(e.valueOf()))},"Array, Object":function(e,t){return e.map(E)}});function C(e){return new p("-","unaryMinus",[e])}function k(e,t,n,r){var a=t.shift(),i=t.reduce((t,a)=>{if(!ke(a)){var i=t.pop();if(ke(i))return[i,a];try{return t.push(w(e,[i,a],r)),t}catch(s){t.push(i)}}t.push(N(t.pop()));var o=1===t.length?t[0]:n(t);return[n([o,N(a)])]},[a]);return 1===i.length?i[0]:n([i[0],S(i[1])])}function _(e,t){switch(e.type){case"SymbolNode":return e;case"ConstantNode":switch(typeof e.value){case"number":return A(e.value,t);case"string":return e.value;default:if(!isNaN(e.value))return A(e.value,t)}return e;case"FunctionNode":if(r[e.name]&&r[e.name].rawArgs)return e;if(-1===["add","multiply"].indexOf(e.name)){var n=e.args.map(e=>_(e,t));if(!n.some(ke))try{return w(e.name,n,t)}catch(T){}if("size"===e.name&&1===n.length&&ve(n[0])){for(var i=[],o=n[0];ve(o);)i.push(o.items.length),o=o.items[0];return a(i)}return new c(e.name,n.map(N))}case"OperatorNode":var p,h,x=e.fn.toString(),S=v(e);if(De(e)&&e.isUnary())h=ke((p=[_(e.args[0],t)])[0])?S(p):w(x,p,t);else if(g(e,t.context))if(p=(p=y(e,t.context)).map(e=>_(e,t)),m(x,t.context)){for(var E=[],C=[],D=0;D<p.length;D++)ke(p[D])?C.push(p[D]):E.push(p[D]);E.length>1?(h=k(x,E,S,t),C.unshift(h),h=k(x,C,S,t)):h=k(x,p,S,t)}else h=k(x,p,S,t);else h=k(x,p=e.args.map(e=>_(e,t)),S,t);return h;case"ParenthesisNode":return _(e.content,t);case"AccessorNode":return function(e,t,n){if(!Ce(t))return new s(N(e),N(t));if(ve(e)||ne(e)){for(var r=Array.from(t.dimensions);r.length>0;)if(Se(r[0])&&"string"!==typeof r[0].value){var i=A(r.shift().value,n);ve(e)?e=e.items[i-1]:(e=e.valueOf()[i-1])instanceof Array&&(e=a(e))}else{if(!(r.length>1&&Se(r[1])&&"string"!==typeof r[1].value))break;var o=A(r[1].value,n),c=[],f=ve(e)?e.items:e.valueOf();for(var p of f)if(ve(p))c.push(p.items[o-1]);else{if(!ne(e))break;c.push(p[o-1])}if(c.length!==f.length)break;e=ve(e)?new l(c):a(c),r.splice(1,1)}return r.length===t.dimensions.length?new s(N(e),t):r.length>0?(t=new d(r),new s(N(e),t)):e}if(_e(e)&&1===t.dimensions.length&&Se(t.dimensions[0])){var h=t.dimensions[0].value;return h in e.properties?e.properties[h]:new u}return new s(N(e),t)}(_(e.object,t),_(e.index,t),t);case"ArrayNode":var j=e.items.map(e=>_(e,t));return j.some(ke)?new l(j.map(N)):a(j);case"IndexNode":return new d(e.dimensions.map(e=>b(e,t)));case"ObjectNode":var O={};for(var M in e.properties)O[M]=b(e.properties[M],t);return new f(O);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(e.type))}}return b}),Sg="simplifyCore",Ng=Ve(Sg,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,parse:n,equal:r,isZero:a,add:i,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:d,ConstantNode:f,FunctionNode:p,IndexNode:h,ObjectNode:m,OperatorNode:g,ParenthesisNode:y,SymbolNode:v}=e,b=new f(0),x=new f(1),w=new f(!0),S=new f(!1);function N(e){return De(e)&&["and","not","or"].includes(e.op)}var{hasProperty:E,isCommutative:A}=bg({FunctionNode:p,OperatorNode:g,SymbolNode:v});function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t?t.context:void 0;if(E(e,"trivial",n)){if(Ae(e)&&1===e.args.length)return C(e.args[0],t);var i=!1,o=0;if(e.forEach(e=>{1===++o&&(i=C(e,t))}),1===o)return i}var s=e;if(Ae(s)){var l=function(e){var t="OperatorNode:"+e;for(var n of pp)if(t in n)return n[t].op;return null}(s.name);if(!l)return new p(C(s.fn),s.args.map(e=>C(e,t)));if(s.args.length>2&&E(s,"associative",n))for(;s.args.length>2;){var u=s.args.pop(),f=s.args.pop();s.args.push(new g(l,s.name,[u,f]))}s=new g(l,s.name,s.args)}if(De(s)&&s.isUnary()){var y=C(s.args[0],t);if("~"===s.op&&De(y)&&y.isUnary()&&"~"===y.op)return y.args[0];if("not"===s.op&&De(y)&&y.isUnary()&&"not"===y.op&&N(y.args[0]))return y.args[0];var v=!0;if("-"===s.op&&De(y)&&(y.isBinary()&&"subtract"===y.fn&&(s=new g("-","subtract",[y.args[1],y.args[0]]),v=!1),y.isUnary()&&"-"===y.op))return y.args[0];if(v)return new g(s.op,s.fn,[y])}if(De(s)&&s.isBinary()){var k=C(s.args[0],t),_=C(s.args[1],t);if("+"===s.op){if(Se(k)&&a(k.value))return _;if(Se(_)&&a(_.value))return k;De(_)&&_.isUnary()&&"-"===_.op&&(_=_.args[0],s=new g("-","subtract",[k,_]))}if("-"===s.op)return De(_)&&_.isUnary()&&"-"===_.op?C(new g("+","add",[k,_.args[0]]),t):Se(k)&&a(k.value)?C(new g("-","unaryMinus",[_])):Se(_)&&a(_.value)?k:new g(s.op,s.fn,[k,_]);if("*"===s.op){if(Se(k)){if(a(k.value))return b;if(r(k.value,1))return _}if(Se(_)){if(a(_.value))return b;if(r(_.value,1))return k;if(A(s,n))return new g(s.op,s.fn,[_,k],s.implicit)}return new g(s.op,s.fn,[k,_],s.implicit)}if("/"===s.op)return Se(k)&&a(k.value)?b:Se(_)&&r(_.value,1)?k:new g(s.op,s.fn,[k,_]);if("^"===s.op&&Se(_)){if(a(_.value))return x;if(r(_.value,1))return k}if("and"===s.op){if(Se(k)){if(!k.value)return S;if(N(_))return _}if(Se(_)){if(!_.value)return S;if(N(k))return k}}if("or"===s.op){if(Se(k)){if(k.value)return w;if(N(_))return _}if(Se(_)){if(_.value)return w;if(N(k))return k}}return new g(s.op,s.fn,[k,_])}if(De(s))return new g(s.op,s.fn,s.args.map(e=>C(e,t)));if(ve(s))return new d(s.items.map(e=>C(e,t)));if(ye(s))return new c(C(s.object,t),C(s.index,t));if(Ce(s))return new h(s.dimensions.map(e=>C(e,t)));if(_e(s)){var D={};for(var j in s.properties)D[j]=C(s.properties[j],t);return new m(D)}return s}return t(Sg,{Node:C,"Node,Object":C})}),Eg=Ve("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],e=>{var{typed:t,parse:n,ConstantNode:r,FunctionNode:a,OperatorNode:i,ParenthesisNode:o}=e;function s(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!t)return e;if(Te(e)){if(l.has(e.name)){var u=Array.from(l).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(u,"}"))}var c=t.get(e.name);if(ke(c)){var d=new Set(l);return d.add(e.name),s(c,t,d)}return"number"===typeof c?n(String(c)):void 0!==c?new r(c):e}if(De(e)){var f=e.args.map(function(e){return s(e,t,l)});return new i(e.op,e.fn,f,e.implicit)}if(je(e))return new o(s(e.content,t,l));if(Ae(e)){var p=e.args.map(function(e){return s(e,t,l)});return new a(e.name,p)}return e.map(e=>s(e,t,l))}return t("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(e,t)=>s(e,En(t)),"Array | Matrix":t.referToSelf(e=>t=>t.map(t=>e(t))),"Array | Matrix, null | undefined":t.referToSelf(e=>t=>t.map(t=>e(t))),"Array, Object":t.referTo("Array,Map",e=>(t,n)=>e(t,En(n))),"Matrix, Object":t.referTo("Matrix,Map",e=>(t,n)=>e(t,En(n))),"Array | Matrix, Map":t.referToSelf(e=>(t,n)=>t.map(t=>e(t,n)))})}),Ag="symbolicEqual",Cg=Ve(Ag,["parse","simplify","typed","OperatorNode"],e=>{var{parse:t,simplify:n,typed:r,OperatorNode:a}=e;function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new a("-","subtract",[e,t]),o=n(i,{},r);return Se(o)&&!o.value}return r(Ag,{"Node, Node":i,"Node, Node, Object":i})}),kg="derivative",_g=Ve(kg,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],e=>{var{typed:t,config:n,parse:r,simplify:a,equal:i,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:d,SymbolNode:f}=e;function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},r={};g(r,e,t.name);var i=y(e,r);return n.simplify?a(i):i}t.addConversion({from:"identifier",to:"SymbolNode",convert:r});var h=t(kg,{"Node, SymbolNode":p,"Node, SymbolNode, Object":p});t.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),h._simplify=!0,h.toTex=function(e){return m.apply(null,e.args)};var m=t("_derivTex",{"Node, SymbolNode":function(e,t){return Se(e)&&"string"===Fe(e.value)?m(r(e.value).toString(),t.toString(),1):m(e.toTex(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===Fe(t.value))return m(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return m(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),g=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return g(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):g(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=g(e,t.args[0],n),a=1;a<t.args.length;++a)r=g(e,t.args[a],n)&&r;if(r)return e[t]=!0,!0}return!1}}),y=t("_derivative",{"ConstantNode, Object":function(e){return v(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?v(0):v(1)},"ParenthesisNode, Object":function(e,t){return new d(y(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?v(0):y(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t)e.args[t]=v(0);throw e.compile().evaluate(),new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}(e),void 0!==t[e])return v(0);var n,r,a,i,o=e.args[0],s=!1,l=!1;switch(e.name){case"cbrt":s=!0,r=new c("*","multiply",[v(3),new c("^","pow",[o,new c("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,r=new c("*","multiply",[v(2),new u("sqrt",[o])]);else if(2===e.args.length)return t[n=new c("/","divide",[v(1),e.args[1]])]=t[e.args[1]],y(new c("^","pow",[o,n]),t);break;case"log10":n=v(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new c("*","multiply",[o.clone(),new u("log",[n||e.args[1]])]),s=!0;else if(2===e.args.length)return y(new c("/","divide",[new u("log",[o]),new u("log",[e.args[1]])]),t)}else r=o.clone(),s=!0;break;case"pow":return t[n]=t[e.args[1]],y(new c("^","pow",[o,e.args[1]]),t);case"exp":r=new u("exp",[o.clone()]);break;case"sin":r=new u("cos",[o.clone()]);break;case"cos":r=new c("-","unaryMinus",[new u("sin",[o.clone()])]);break;case"tan":r=new c("^","pow",[new u("sec",[o.clone()]),v(2)]);break;case"sec":r=new c("*","multiply",[e,new u("tan",[o.clone()])]);break;case"csc":l=!0,r=new c("*","multiply",[e,new u("cot",[o.clone()])]);break;case"cot":l=!0,r=new c("^","pow",[new u("csc",[o.clone()]),v(2)]);break;case"asin":s=!0,r=new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])])]);break;case"acos":s=!0,l=!0,r=new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])])]);break;case"atan":s=!0,r=new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)]);break;case"asec":s=!0,r=new c("*","multiply",[new u("abs",[o.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,l=!0,r=new c("*","multiply",[new u("abs",[o.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,l=!0,r=new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)]);break;case"sinh":r=new u("cosh",[o.clone()]);break;case"cosh":r=new u("sinh",[o.clone()]);break;case"tanh":r=new c("^","pow",[new u("sech",[o.clone()]),v(2)]);break;case"sech":l=!0,r=new c("*","multiply",[e,new u("tanh",[o.clone()])]);break;case"csch":l=!0,r=new c("*","multiply",[e,new u("coth",[o.clone()])]);break;case"coth":l=!0,r=new c("^","pow",[new u("csch",[o.clone()]),v(2)]);break;case"asinh":s=!0,r=new u("sqrt",[new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,r=new u("sqrt",[new c("-","subtract",[new c("^","pow",[o.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,r=new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])]);break;case"asech":s=!0,l=!0,r=new c("*","multiply",[o.clone(),new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])])])]);break;case"acsch":s=!0,l=!0,r=new c("*","multiply",[new u("abs",[o.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[o.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,l=!0,r=new c("-","subtract",[v(1),new c("^","pow",[o.clone(),v(2)])]);break;case"abs":r=new c("/","divide",[new u(new f("abs"),[o.clone()]),o.clone()]);break;default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(a="/",i="divide"):(a="*",i="multiply");var d=y(o,t);return l&&(d=new c("-","unaryMinus",[d])),new c(a,i,[d,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return v(0);if("+"===e.op)return new c(e.op,e.fn,e.args.map(function(e){return y(e,t)}));if("-"===e.op){if(e.isUnary())return new c(e.op,e.fn,[y(e.args[0],t)]);if(e.isBinary())return new c(e.op,e.fn,[y(e.args[0],t),y(e.args[1],t)])}if("*"===e.op){var n=e.args.filter(function(e){return void 0!==t[e]});if(n.length>0){var r=e.args.filter(function(e){return void 0===t[e]}),a=1===r.length?r[0]:new c("*","multiply",r),s=n.concat(y(a,t));return new c("*","multiply",s)}return new c("+","add",e.args.map(function(n){return new c("*","multiply",e.args.map(function(e){return e===n?y(e,t):e.clone()}))}))}if("/"===e.op&&e.isBinary()){var l=e.args[0],d=e.args[1];return void 0!==t[d]?new c("/","divide",[y(l,t),d]):void 0!==t[l]?new c("*","multiply",[new c("-","unaryMinus",[l]),new c("/","divide",[y(d,t),new c("^","pow",[d.clone(),v(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(l,t),d.clone()]),new c("*","multiply",[l.clone(),y(d,t)])]),new c("^","pow",[d.clone(),v(2)])])}if("^"===e.op&&e.isBinary()){var f=e.args[0],p=e.args[1];if(void 0!==t[f])return Se(f)&&(o(f.value)||i(f.value,1))?v(0):new c("*","multiply",[e,new c("*","multiply",[new u("log",[f.clone()]),y(p.clone(),t)])]);if(void 0!==t[p]){if(Se(p)){if(o(p.value))return v(0);if(i(p.value,1))return y(f,t)}var h=new c("^","pow",[f.clone(),new c("-","subtract",[p,v(1)])]);return new c("*","multiply",[p.clone(),new c("*","multiply",[y(f,t),h])])}return new c("*","multiply",[new c("^","pow",[f.clone(),p.clone()]),new c("+","add",[new c("*","multiply",[y(f,t),new c("/","divide",[p.clone(),f.clone()])]),new c("*","multiply",[y(p,t),new u("log",[f.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(e,t){return new l(s(e,t||n.number))}return h}),Dg="rationalize",jg=Ve(Dg,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],e=>{var{config:t,typed:n,equal:r,isZero:a,add:i,subtract:o,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:d,simplifyCore:f,simplify:p,fraction:h,bignumber:m,mathWithTransform:g,matrix:y,AccessorNode:v,ArrayNode:b,ConstantNode:x,FunctionNode:w,IndexNode:S,ObjectNode:N,OperatorNode:E,SymbolNode:A,ParenthesisNode:C}=e;function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(){var e=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],a={};return a.firstRules=e.concat(t,r),a.distrDivRules=n,a.sucDivRules=r,a.firstRulesAgain=e.concat(t),a.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],a}(),a=function(e,t,n,r){var a=[],i=p(e,r,t,{exactFractions:!1}),o="+-*"+((n=!!n)?"/":"");l(i);var s={};return s.expression=i,s.variables=a,s;function l(e){var t=e.type;if("FunctionNode"===t)throw new Error("There is an unsolved function call");if("OperatorNode"===t)if("^"===e.op){if("ConstantNode"!==e.args[1].type||!Xe(parseFloat(e.args[1].value)))throw new Error("There is a non-integer exponent");l(e.args[0])}else{if(-1===o.indexOf(e.op))throw new Error("Operator "+e.op+" invalid in polynomial expression");for(var n=0;n<e.args.length;n++)l(e.args[n])}else if("SymbolNode"===t){var r=e.name;-1===a.indexOf(r)&&a.push(r)}else if("ParenthesisNode"===t)l(e.content);else if("ConstantNode"!==t)throw new Error("type "+t+" is not allowed in polynomial expression")}}(e,t,!0,r.firstRules),i=a.variables.length,o={exactFractions:!1},s={exactFractions:!0};if(e=a.expression,i>=1){var l,u;e=_(e);var c,h=!0,m=!1;for(e=p(e,r.firstRules,{},o);u=h?r.distrDivRules:r.sucDivRules,h=!h,(c=(e=p(e,u,{},s)).toString())!==l;)m=!0,l=c;m&&(e=p(e,r.firstRulesAgain,{},o)),e=p(e,r.finalRules,{},o)}var g=[],y={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===i&&(e.args[0]=D(e.args[0],g),e.args[1]=D(e.args[1])),n&&(y.numerator=e.args[0],y.denominator=e.args[1])):(1===i&&(e=D(e,g)),n&&(y.numerator=e,y.denominator=null)),n?(y.coefficients=g,y.variables=a.variables,y.expression=e,y):e}return n(Dg,{Node:k,"Node, boolean":(e,t)=>k(e,{},t),"Node, Object":k,"Node, Object, boolean":k});function _(e,t,n){var r=e.type,a=arguments.length>1;if("OperatorNode"===r&&e.isBinary()){var i,o=!1;if("^"===e.op&&("ParenthesisNode"!==e.args[0].type&&"OperatorNode"!==e.args[0].type||"ConstantNode"!==e.args[1].type||(o=(i=parseFloat(e.args[1].value))>=2&&Xe(i))),o){if(i>2){var s=e.args[0],l=new E("^","pow",[e.args[0].cloneDeep(),new x(i-1)]);e=new E("*","multiply",[s,l])}else e=new E("*","multiply",[e.args[0],e.args[0].cloneDeep()]);a&&("content"===n?t.content=e:t.args[n]=e)}}if("ParenthesisNode"===r)_(e.content,e,"content");else if("ConstantNode"!==r&&"SymbolNode"!==r)for(var u=0;u<e.args.length;u++)_(e.args[u],e,u);if(!a)return e}function D(e,t){void 0===t&&(t=[]),t[0]=0;var n={cte:1,oper:"+",fire:""},r=0,a="";!function e(n,i,o){var s=n.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(n.op))throw new Error("Operator "+n.op+" invalid");if(null!==i){if(("unaryMinus"===n.fn||"pow"===n.fn)&&"add"!==i.fn&&"subtract"!==i.fn&&"multiply"!==i.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"multiply"===n.fn)&&"add"!==i.fn&&"subtract"!==i.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"unaryMinus"===n.fn)&&0!==o.noFil)throw new Error("Invalid "+n.op+" placing")}"^"!==n.op&&"*"!==n.op||(o.fire=n.op);for(var l=0;l<n.args.length;l++)"unaryMinus"===n.fn&&(o.oper="-"),"+"!==n.op&&"subtract"!==n.fn||(o.fire="",o.cte=1,o.oper=0===l?"+":n.op),o.noFil=l,e(n.args[l],n,o)}else if("SymbolNode"===s){if(n.name!==a&&""!==a)throw new Error("There is more than one variable");if(a=n.name,null===i)return void(t[1]=1);if("^"===i.op&&0!==o.noFil)throw new Error("In power the variable should be the first parameter");if("*"===i.op&&1!==o.noFil)throw new Error("In multiply the variable should be the second parameter");""!==o.fire&&"*"!==o.fire||(r<1&&(t[1]=0),t[1]+=o.cte*("+"===o.oper?1:-1),r=Math.max(1,r))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var u=parseFloat(n.value);if(null===i)return void(t[0]=u);if("^"===i.op){if(1!==o.noFil)throw new Error("Constant cannot be powered");if(!Xe(u)||u<=0)throw new Error("Non-integer exponent is not allowed");for(var c=r+1;c<u;c++)t[c]=0;return u>r&&(t[u]=0),t[u]+=o.cte*("+"===o.oper?1:-1),void(r=Math.max(u,r))}o.cte=u,""===o.fire&&(t[0]+=o.cte*("+"===o.oper?1:-1))}}(e,null,n);for(var i,o=!0,s=r=t.length-1;s>=0;s--)if(0!==t[s]){var l=new x(o?t[s]:Math.abs(t[s])),u=t[s]<0?"-":"+";if(s>0){var c=new A(a);if(s>1){var d=new x(s);c=new E("^","pow",[c,d])}l=-1===t[s]&&o?new E("-","unaryMinus",[c]):1===Math.abs(t[s])?c:new E("*","multiply",[l,c])}i=o?l:"+"===u?new E("+","add",[i,l]):new E("-","subtract",[i,l]),o=!1}return o?new x(0):i}}),Og="zpk2tf",Mg=Ve(Og,["typed","add","multiply","Complex","number"],e=>{var{typed:t,add:n,multiply:r,Complex:a,number:i}=e;return t(Og,{"Array,Array,number":function(e,t,n){return o(e,t,n)},"Array,Array":function(e,t){return o(e,t,1)},"Matrix,Matrix,number":function(e,t,n){return o(e.valueOf(),t.valueOf(),n)},"Matrix,Matrix":function(e,t){return o(e.valueOf(),t.valueOf(),1)}});function o(e,t,n){e.some(e=>"BigNumber"===e.type)&&(e=e.map(e=>i(e))),t.some(e=>"BigNumber"===e.type)&&(t=t.map(e=>i(e)));for(var o=[a(1,0)],l=[a(1,0)],u=0;u<e.length;u++){var c=e[u];"number"===typeof c&&(c=a(c,0)),o=s(o,[a(1,0),a(-c.re,-c.im)])}for(var d=0;d<t.length;d++){var f=t[d];"number"===typeof f&&(f=a(f,0)),l=s(l,[a(1,0),a(-f.re,-f.im)])}for(var p=0;p<o.length;p++)o[p]=r(o[p],n);return[o,l]}function s(e,t){for(var i=[],o=0;o<e.length+t.length-1;o++){i[o]=a(0,0);for(var s=0;s<e.length;s++)o-s>=0&&o-s<t.length&&(i[o]=n(i[o],r(e[s],t[o-s])))}return i}}),Tg="freqz",Pg=Ve(Tg,["typed","add","multiply","Complex","divide","matrix"],e=>{var{typed:t,add:n,multiply:r,Complex:a,divide:i,matrix:o}=e;return t(Tg,{"Array, Array":function(e,t){return s(e,t,l(512))},"Array, Array, Array":function(e,t,n){return s(e,t,n)},"Array, Array, number":function(e,t,n){if(n<0)throw new Error("w must be a positive number");return s(e,t,l(n))},"Matrix, Matrix":function(e,t){var n=l(512),{w:r,h:a}=s(e.valueOf(),t.valueOf(),n);return{w:o(r),h:o(a)}},"Matrix, Matrix, Matrix":function(e,t,n){var{h:r}=s(e.valueOf(),t.valueOf(),n.valueOf());return{h:o(r),w:o(n)}},"Matrix, Matrix, number":function(e,t,n){if(n<0)throw new Error("w must be a positive number");var r=l(n),{h:a}=s(e.valueOf(),t.valueOf(),r);return{h:o(a),w:o(r)}}});function s(e,t,o){for(var s=[],l=[],u=0;u<o.length;u++){for(var c=a(0,0),d=a(0,0),f=0;f<e.length;f++)c=n(c,r(e[f],a(Math.cos(-f*o[u]),Math.sin(-f*o[u]))));for(var p=0;p<t.length;p++)d=n(d,r(t[p],a(Math.cos(-p*o[u]),Math.sin(-p*o[u]))));s.push(c),l.push(d)}for(var h=[],m=0;m<s.length;m++)h.push(i(s[m],l[m]));return{h:h,w:o}}function l(e){for(var t=[],n=0;n<e;n++)t.push(n/e*Math.PI);return t}}),Fg=Ve("reviver",["classes"],e=>{var{classes:t}=e;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"===typeof r.fromJSON?r.fromJSON(n):n}}),Ig=Ve("replacer",[],()=>function(e,t){return"number"!==typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}),Bg=Math.PI,Rg=2*Math.PI,zg=Math.E,Lg=Ve("true",[],()=>!0),qg=Ve("false",[],()=>!1),Ug=Ve("null",[],()=>null),$g=iy("Infinity",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1/0):1/0}),Wg=iy("NaN",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(NaN):NaN}),Hg=iy("pi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?fd(n):Bg}),Kg=iy("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?pd(n):Rg}),Vg=iy("e",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?cd(n):zg}),Yg=iy("phi",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?dd(n):1.618033988749895}),Gg=iy("LN2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(2).ln():Math.LN2}),Xg=iy("LN10",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(10).ln():Math.LN10}),Jg=iy("LOG2E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1).div(new n(2).ln()):Math.LOG2E}),Zg=iy("LOG10E",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(1).div(new n(10).ln()):Math.LOG10E}),Qg=iy("SQRT1_2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n("0.5").sqrt():Math.SQRT1_2}),ey=iy("SQRT2",["config","?BigNumber"],e=>{var{config:t,BigNumber:n}=e;return"BigNumber"===t.number?new n(2).sqrt():Math.SQRT2}),ty=iy("i",["Complex"],e=>{var{Complex:t}=e;return t.I}),ny=Ve("PI",["pi"],e=>{var{pi:t}=e;return t}),ry=Ve("E",["e"],e=>{var{e:t}=e;return t}),ay=Ve("version",[],()=>"11.12.0");function iy(e,t,n){return Ve(e,t,n,{recreateOnConfigChange:!0})}var oy=nv("speedOfLight","299792458","m s^-1"),sy=nv("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),ly=nv("planckConstant","6.62607015e-34","J s"),uy=nv("reducedPlanckConstant","1.0545718176461565e-34","J s"),cy=nv("magneticConstant","1.25663706212e-6","N A^-2"),dy=nv("electricConstant","8.8541878128e-12","F m^-1"),fy=nv("vacuumImpedance","376.730313667","ohm"),py=nv("coulomb","8.987551792261171e9","N m^2 C^-2"),hy=nv("elementaryCharge","1.602176634e-19","C"),my=nv("bohrMagneton","9.2740100783e-24","J T^-1"),gy=nv("conductanceQuantum","7.748091729863649e-5","S"),yy=nv("inverseConductanceQuantum","12906.403729652257","ohm"),vy=nv("magneticFluxQuantum","2.0678338484619295e-15","Wb"),by=nv("nuclearMagneton","5.0507837461e-27","J T^-1"),xy=nv("klitzing","25812.807459304513","ohm"),wy=nv("bohrRadius","5.29177210903e-11","m"),Sy=nv("classicalElectronRadius","2.8179403262e-15","m"),Ny=nv("electronMass","9.1093837015e-31","kg"),Ey=nv("fermiCoupling","1.1663787e-5","GeV^-2"),Ay=rv("fineStructure",.0072973525693),Cy=nv("hartreeEnergy","4.3597447222071e-18","J"),ky=nv("protonMass","1.67262192369e-27","kg"),_y=nv("deuteronMass","3.3435830926e-27","kg"),Dy=nv("neutronMass","1.6749271613e-27","kg"),jy=nv("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),Oy=nv("rydberg","10973731.568160","m^-1"),My=nv("thomsonCrossSection","6.6524587321e-29","m^2"),Ty=rv("weakMixingAngle",.2229),Py=rv("efimovFactor",22.7),Fy=nv("atomicMass","1.66053906660e-27","kg"),Iy=nv("avogadro","6.02214076e23","mol^-1"),By=nv("boltzmann","1.380649e-23","J K^-1"),Ry=nv("faraday","96485.33212331001","C mol^-1"),zy=nv("firstRadiation","3.7417718521927573e-16","W m^2"),Ly=nv("loschmidt","2.686780111798444e25","m^-3"),qy=nv("gasConstant","8.31446261815324","J K^-1 mol^-1"),Uy=nv("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),$y=nv("molarVolume","0.022413969545014137","m^3 mol^-1"),Wy=rv("sackurTetrode",-1.16487052358),Hy=nv("secondRadiation","0.014387768775039337","m K"),Ky=nv("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Vy=nv("wienDisplacement","2.897771955e-3","m K"),Yy=nv("molarMass","0.99999999965e-3","kg mol^-1"),Gy=nv("molarMassC12","11.9999999958e-3","kg mol^-1"),Xy=nv("gravity","9.80665","m s^-2"),Jy=nv("planckLength","1.616255e-35","m"),Zy=nv("planckMass","2.176435e-8","kg"),Qy=nv("planckTime","5.391245e-44","s"),ev=nv("planckCharge","1.87554603778e-18","C"),tv=nv("planckTemperature","1.416785e+32","K");function nv(e,t,n){return Ve(e,["config","Unit","BigNumber"],e=>{var{config:r,Unit:a,BigNumber:i}=e,o=new a("BigNumber"===r.number?new i(t):parseFloat(t),n);return o.fixPrefix=!0,o})}function rv(e,t){return Ve(e,["config","BigNumber"],e=>{var{config:n,BigNumber:r}=e;return"BigNumber"===n.number?new r(t):t})}var av=Ve("apply",["typed","isInteger"],e=>{var{typed:t,isInteger:n}=e,r=oo({typed:t,isInteger:n});return t("apply",{"...any":function(e){var t=e[1];G(t)?e[1]=t-1:X(t)&&(e[1]=t.minus(1));try{return r.apply(null,e)}catch(n){throw sp(n)}}})},{isTransformFunction:!0}),iv=Ve("column",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:a}=e,i=ll({typed:t,Index:n,matrix:r,range:a});return t("column",{"...any":function(e){var t=e.length-1,n=e[t];G(n)&&(e[t]=n-1);try{return i.apply(null,e)}catch(r){throw sp(r)}}})},{isTransformFunction:!0});function ov(e,t,n){var r=e.filter(function(e){return Te(e)&&!(e.name in t)&&!n.has(e.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var a=r.name,i=Yp(n),o=e.compile();return function(e){return i.set(a,e),o.evaluate(i)}}var sv=Ve("filter",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var a,i;return e[0]&&(a=e[0].compile().evaluate(n)),e[1]&&(i=Te(e[1])||Ee(e[1])?e[1].compile().evaluate(n):ov(e[1],t,n)),r(a,i)}n.rawArgs=!0;var r=t("filter",{"Array, function":lv,"Matrix, function":function(e,t){return e.create(lv(e.toArray(),t))},"Array, RegExp":Gt,"Matrix, RegExp":function(e,t){return e.create(Gt(e.toArray(),t))}});return n},{isTransformFunction:!0});function lv(e,t){return Yt(e,function(e,n,r){return ml(t,e,[n+1],r,"filter")})}var uv=Ve("forEach",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var a,i;return e[0]&&(a=e[0].compile().evaluate(n)),e[1]&&(i=Te(e[1])||Ee(e[1])?e[1].compile().evaluate(n):ov(e[1],t,n)),r(a,i)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){!function n(r,a){if(!Array.isArray(r))return ml(t,r,a,e,"forEach");Vt(r,function(e,t){n(e,a.concat(t+1))})}(e.valueOf(),[])}});return n},{isTransformFunction:!0}),cv=Ve("index",["Index","getMatrixDataType"],e=>{var{Index:t,getMatrixDataType:n}=e;return function(){for(var e=[],r=0,a=arguments.length;r<a;r++){var i=arguments[r];if(oe(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(e){return e-1});else if(te(i)||ne(i))"boolean"!==n(i)&&(i=i.map(function(e){return e-1}));else if(G(i))i--;else if(X(i))i=i.toNumber()-1;else if("string"!==typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[r]=i}var o=new t;return t.apply(o,e),o}},{isTransformFunction:!0}),dv=Ve("map",["typed"],e=>{var{typed:t}=e;function n(e,t,n){var a,i;return e[0]&&(a=e[0].compile().evaluate(n)),e[1]&&(i=Te(e[1])||Ee(e[1])?e[1].compile().evaluate(n):ov(e[1],t,n)),r(a,i)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return fv(e,t,e)},"Matrix, function":function(e,t){return e.create(fv(e.valueOf(),t,e))}});return n},{isTransformFunction:!0});function fv(e,t,n){return function e(r,a){return Array.isArray(r)?Kt(r,function(t,n){return e(t,a.concat(n+1))}):ml(t,r,a,n,"map")}(e,[])}function pv(e){if(2===e.length&&re(e[0])){var t=(e=e.slice())[1];G(t)?e[1]=t-1:X(t)&&(e[1]=t.minus(1))}return e}var hv=Ve("max",["typed","config","numeric","larger"],e=>{var{typed:t,config:n,numeric:r,larger:a}=e,i=rd({typed:t,config:n,numeric:r,larger:a});return t("max",{"...any":function(e){e=pv(e);try{return i.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),mv=Ve("mean",["typed","add","divide"],e=>{var{typed:t,add:n,divide:r}=e,a=cm({typed:t,add:n,divide:r});return t("mean",{"...any":function(e){e=pv(e);try{return a.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),gv=Ve("min",["typed","config","numeric","smaller"],e=>{var{typed:t,config:n,numeric:r,smaller:a}=e,i=ad({typed:t,config:n,numeric:r,smaller:a});return t("min",{"...any":function(e){e=pv(e);try{return i.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),yv=Ve("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:n,matrix:r,bignumber:a,smaller:i,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c}=e,d=Rl({typed:t,config:n,matrix:r,bignumber:a,smaller:i,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:c});return t("range",{"...any":function(e){return"boolean"!==typeof e[e.length-1]&&e.push(!0),d.apply(null,e)}})},{isTransformFunction:!0}),vv=Ve("row",["typed","Index","matrix","range"],e=>{var{typed:t,Index:n,matrix:r,range:a}=e,i=Kl({typed:t,Index:n,matrix:r,range:a});return t("row",{"...any":function(e){var t=e.length-1,n=e[t];G(n)&&(e[t]=n-1);try{return i.apply(null,e)}catch(r){throw sp(r)}}})},{isTransformFunction:!0}),bv=Ve("subset",["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:n,zeros:r,add:a}=e,i=Zl({typed:t,matrix:n,zeros:r,add:a});return t("subset",{"...any":function(e){try{return i.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),xv=Ve("concat",["typed","matrix","isInteger"],e=>{var{typed:t,matrix:n,isInteger:r}=e,a=ol({typed:t,matrix:n,isInteger:r});return t("concat",{"...any":function(e){var t=e.length-1,n=e[t];G(n)?e[t]=n-1:X(n)&&(e[t]=n.minus(1));try{return a.apply(null,e)}catch(r){throw sp(r)}}})},{isTransformFunction:!0}),wv="diff",Sv=Ve(wv,["typed","matrix","subtract","number","bignumber"],e=>{var{typed:t,matrix:n,subtract:r,number:a,bignumber:i}=e,o=Ml({typed:t,matrix:n,subtract:r,number:a,bignumber:i});return t(wv,{"...any":function(e){e=pv(e);try{return o.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),Nv=Ve("std",["typed","map","sqrt","variance"],e=>{var{typed:t,map:n,sqrt:r,variance:a}=e,i=bm({typed:t,map:n,sqrt:r,variance:a});return t("std",{"...any":function(e){e=pv(e);try{return i.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),Ev=Ve("sum",["typed","config","add","numeric"],e=>{var{typed:t,config:n,add:r,numeric:a}=e,i=om({typed:t,config:n,add:r,numeric:a});return t("sum",{"...any":function(e){e=pv(e);try{return i.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),Av=Ve("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],e=>{var{typed:t,bignumber:n,add:r,subtract:a,divide:i,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f}=e,p=vm({typed:t,bignumber:n,add:r,subtract:a,divide:i,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:d,larger:f});return t("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(e,t,n)=>p(e,t,h(n)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(e,t,n,r)=>p(e,t,n,h(r)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(e,t,n)=>p(e,t,h(n)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(e,t,n,r)=>p(e,t,n,h(r))});function h(e){return pv([[],e])[1]}},{isTransformFunction:!0}),Cv="cumsum",kv=Ve(Cv,["typed","add","unaryPlus"],e=>{var{typed:t,add:n,unaryPlus:r}=e,a=lm({typed:t,add:n,unaryPlus:r});return t(Cv,{"...any":function(e){if(2===e.length&&re(e[0])){var t=e[1];G(t)?e[1]=t-1:X(t)&&(e[1]=t.minus(1))}try{return a.apply(null,e)}catch(n){throw sp(n)}}})},{isTransformFunction:!0}),_v="variance",Dv=Ve(_v,["typed","add","subtract","multiply","divide","apply","isNaN"],e=>{var{typed:t,add:n,subtract:r,multiply:a,divide:i,apply:o,isNaN:s}=e,l=gm({typed:t,add:n,subtract:r,multiply:a,divide:i,apply:o,isNaN:s});return t(_v,{"...any":function(e){e=pv(e);try{return l.apply(null,e)}catch(t){throw sp(t)}}})},{isTransformFunction:!0}),jv="print",Ov=Ve(jv,["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:n,zeros:r,add:a}=e,i=Bu({typed:t,matrix:n,zeros:r,add:a});return t(jv,{"string, Object | Array":function(e,t){return i(o(e),t)},"string, Object | Array, number | Object":function(e,t,n){return i(o(e),t,n)}});function o(e){return e.replace(Fu,e=>"$"+e.slice(1).split(".").map(function(e){return!isNaN(e)&&e.length>0?parseInt(e)-1:e}).join("."))}},{isTransformFunction:!0});const Mv=function e(t,n){var r=V({},cn,n);if("function"!==typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var a=function(e){var t=new Ke;return e.on=t.on.bind(t),e.off=t.off.bind(t),e.once=t.once.bind(t),e.emit=t.emit.bind(t),e}({isNumber:G,isComplex:J,isBigNumber:X,isFraction:Z,isUnit:Q,isString:ee,isArray:te,isMatrix:ne,isCollection:re,isDenseMatrix:ae,isSparseMatrix:ie,isRange:oe,isIndex:se,isBoolean:le,isResultSet:ue,isHelp:ce,isFunction:de,isDate:fe,isRegExp:pe,isObject:he,isNull:me,isUndefined:ge,isAccessorNode:ye,isArrayNode:ve,isAssignmentNode:be,isBlockNode:xe,isConditionalNode:we,isConstantNode:Se,isFunctionAssignmentNode:Ee,isFunctionNode:Ae,isIndexNode:Ce,isNode:ke,isObjectNode:_e,isOperatorNode:De,isParenthesisNode:je,isRangeNode:Oe,isRelationalNode:Me,isSymbolNode:Te,isChain:Pe});a.config=pn(r,a.emit),a.expression={transform:{},mathWithTransform:{config:a.config}};var i={};function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.typed.apply(a.typed,t)}o.isTypedFunction=Y.isTypedFunction;var s=un(o,0,a,i);return a.import=s,a.on("config",()=>{He(i).forEach(e=>{e&&e.meta&&e.meta.recreateOnConfigChange&&s(e,{override:!0})})}),a.create=e.bind(null,t),a.factory=Ve,a.import(He(qe(t))),a.ArgumentsError=ln,a.DimensionError=_t,a.IndexError=Dt,a}(e,{number:"BigNumber",precision:64});const Tv=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.precision=e,this.math=Mv}add(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map(e=>this.math.bignumber(this.parseAmount(e))).reduce((e,t)=>this.math.add(e,t));return this.roundToPrecision(r)}catch(r){return console.error("Currency addition error:",r),0}}subtract(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(this.parseAmount(t)),a=this.math.subtract(n,r);return this.roundToPrecision(a)}catch(n){return console.error("Currency subtraction error:",n),0}}multiply(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),a=this.math.multiply(n,r);return this.roundToPrecision(a)}catch(n){return console.error("Currency multiplication error:",n),0}}divide(e,t){try{if(0===t)return 0;const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),a=this.math.divide(n,r);return this.roundToPrecision(a)}catch(n){return console.error("Currency division error:",n),0}}percentage(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),a=this.math.multiply(n,this.math.divide(r,100));return this.roundToPrecision(a)}catch(n){return console.error("Percentage calculation error:",n),0}}percentageOf(e,t){try{if(0===t)return 0;const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(this.parseAmount(t)),a=this.math.multiply(this.math.divide(n,r),100);return this.roundToPrecision(a)}catch(n){return console.error("Percentage of calculation error:",n),0}}compoundInterest(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;try{const a=this.math.bignumber(this.parseAmount(e)),i=this.math.bignumber(t/100),o=this.math.bignumber(r),s=this.math.bignumber(n),l=this.math.divide(i,o),u=this.math.add(1,l),c=this.math.multiply(o,s),d=this.math.pow(u,c),f=this.math.multiply(a,d);return this.roundToPrecision(f)}catch(a){return console.error("Compound interest calculation error:",a),0}}simpleInterest(e,t,n){try{const r=this.math.bignumber(this.parseAmount(e)),a=this.math.bignumber(t/100),i=this.math.bignumber(n),o=this.math.multiply(this.math.multiply(r,a),i);return this.roundToPrecision(o)}catch(r){return console.error("Simple interest calculation error:",r),0}}monthlyPayment(e,t,n){try{if(0===t)return this.divide(e,12*n);const r=this.math.bignumber(this.parseAmount(e)),a=this.math.bignumber(t/100/12),i=this.math.bignumber(12*n),o=this.math.add(1,a),s=this.math.pow(o,i),l=this.math.multiply(a,s),u=this.math.subtract(s,1),c=this.math.multiply(r,this.math.divide(l,u));return this.roundToPrecision(c)}catch(r){return console.error("Monthly payment calculation error:",r),0}}allocateByPercentage(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r={};return Object.entries(t).forEach(e=>{let[t,a]=e;const i=this.math.bignumber(a),o=this.math.multiply(n,this.math.divide(i,100));r[t]=this.roundToPrecision(o)}),r}catch(n){return console.error("Budget allocation error:",n),{}}}savingsGoal(e,t,n){try{const r=this.math.bignumber(this.parseAmount(e)),a=this.math.bignumber(this.parseAmount(t)),i=this.math.bignumber(n),o=this.math.subtract(r,a),s=this.math.divide(o,i);return this.roundToPrecision(s)}catch(r){return console.error("Savings goal calculation error:",r),0}}convertCurrency(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t),a=this.math.multiply(n,r);return this.roundToPrecision(a)}catch(n){return console.error("Currency conversion error:",n),0}}calculateTax(e,t){try{const n=this.math.bignumber(this.parseAmount(e)),r=this.math.bignumber(t/100),a=this.math.multiply(n,r);return this.roundToPrecision(a)}catch(n){return console.error("Tax calculation error:",n),0}}afterTax(e,t){try{const n=this.parseAmount(e),r=this.calculateTax(n,t);return this.subtract(n,r)}catch(n){return console.error("After-tax calculation error:",n),0}}annualToMonthly(e){return this.divide(e,12)}monthlyToAnnual(e){return this.multiply(e,12)}weeklyToMonthly(e){return this.multiply(e,52/12)}dailyToMonthly(e){return this.multiply(e,30.4375)}calculateAverage(e){try{if(0===e.length)return 0;const t=this.add(...e);return this.divide(t,e.length)}catch(t){return console.error("Average calculation error:",t),0}}calculateMedian(e){try{if(0===e.length)return 0;const t=e.map(e=>this.parseAmount(e)).sort((e,t)=>e-t),n=Math.floor(t.length/2);return t.length%2===0?this.divide(this.add(t[n-1],t[n]),2):t[n]}catch(t){return console.error("Median calculation error:",t),0}}parseAmount(e){if(null===e||void 0===e||""===e)return 0;if("string"===typeof e){const t=e.replace(/[$,\s]/g,""),n=parseFloat(t);return isNaN(n)?0:n}const t=parseFloat(e);return isNaN(t)?0:t}roundToPrecision(e){try{const t=this.math.round(e,this.precision);return parseFloat(t.toString())}catch(t){return console.error("Rounding error:",t),0}}formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";try{const r=this.parseAmount(e);return new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:this.precision,maximumFractionDigits:this.precision}).format(r)}catch(r){return`$${this.parseAmount(e).toFixed(this.precision)}`}}isValidAmount(e){const t=this.parseAmount(e);return!isNaN(t)&&t>=0}isPositive(e){return this.parseAmount(e)>0}isNegative(e){return this.parseAmount(e)<0}isZero(e){return 0===this.parseAmount(e)}isEqual(e,t){const n=this.parseAmount(e),r=this.parseAmount(t);return Math.abs(n-r)<Math.pow(10,-this.precision)}isGreater(e,t){return this.parseAmount(e)>this.parseAmount(t)}isLess(e,t){return this.parseAmount(e)<this.parseAmount(t)}},{add:Pv,subtract:Fv,multiply:Iv,divide:Bv,percentage:Rv,percentageOf:zv,compoundInterest:Lv,simpleInterest:qv,monthlyPayment:Uv,allocateByPercentage:$v,savingsGoal:Wv,convertCurrency:Hv,calculateTax:Kv,afterTax:Vv,annualToMonthly:Yv,monthlyToAnnual:Gv,weeklyToMonthly:Xv,dailyToMonthly:Jv,calculateAverage:Zv,calculateMedian:Qv,parseAmount:eb,formatCurrency:tb,isValidAmount:nb,isPositive:rb,isNegative:ab,isZero:ib,isEqual:ob,isGreater:sb,isLess:lb}=Tv;function ub(e){const t=(0,r.useMemo)(()=>{if(!e)return{getTotalIncome:()=>0,getTotalActualIncome:()=>0,getTotalProjectedIncome:()=>0,getTotalMonthlyExpenses:()=>0,getTotalAnnualExpenses:()=>0,getMonthlyAnnualImpact:()=>0,getNetMonthlyIncome:()=>0,getActualNetIncome:()=>0,getSavingsRate:()=>0,getActualSavingsRate:()=>0,getIncomeProgress:()=>({}),getUpcomingExpenses:()=>[],getCategoryTotals:()=>({}),getAccountAllocations:()=>({}),getBudgetHealth:()=>({}),getExpensesByFrequency:()=>({}),getMonthlyProjections:()=>[],getCashFlowProjection:()=>[],getVarianceAnalysis:()=>({}),getTopExpenseCategories:()=>[],getWeeklyIncome:()=>[0,0,0,0,0],getWeeklyPlannerTotals:()=>[],getExpectedIncomeByNow:()=>0};const{income:t=[],monthly:n={},annual:r={},plannerState:a={}}=e,i=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projected";const n=Array.isArray(e.payDates)&&e.payDates.length>0,r=i(e.projectedAmount||e.amount),a=i(e.actualAmount);if("actual"===t){if(Array.isArray(e.payActuals)&&e.payActuals.length>0)return e.payActuals.reduce((e,t)=>e+(i(t)||0),0);if("monthly-total"===e.actualMode)return a||0;switch(e.frequency){case"weekly":return n?(a||0)*e.payDates.length:(a||0)*(52/12);case"bi-weekly":return n?(a||0)*e.payDates.length:(a||0)*(26/12);case"semi-monthly":return n?(a||0)*e.payDates.length:2*(a||0);case"monthly":default:return a||0;case"quarterly":return(a||0)/3;case"semi-annual":return(a||0)/6;case"annual":return(a||0)/12;case"one-time":return 0}}switch(e.frequency){case"weekly":return n?(r||0)*e.payDates.length:(r||0)*(52/12);case"bi-weekly":return n?(r||0)*e.payDates.length:(r||0)*(26/12);case"semi-monthly":return n?(r||0)*e.payDates.length:2*(r||0);case"monthly":default:return r||0;case"quarterly":return(r||0)/3;case"semi-annual":return(r||0)/6;case"annual":return(r||0)/12;case"one-time":return 0}},s=(e,t)=>{const n=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},{month:r,year:a}=(()=>{for(const t of e)if(t.payDates&&t.payDates.length>0){const e=t.payDates[0],[n,r]=e.split("-").map(e=>parseInt(e,10));return{month:r-1,year:n}}return{month:(new Date).getMonth(),year:(new Date).getFullYear()}})();let i=0;return e.forEach(e=>{const o=Array.isArray(e.payDates)?e.payDates:[],s=Array.isArray(e.payActuals)?e.payActuals:[],l=n(e.projectedAmount||e.amount||0);if(o.forEach((e,o)=>{const[u,c,d]=e.split("-").map(e=>parseInt(e,10));c-1===r&&u===a&&d<=t&&(void 0!==s[o]&&null!==s[o]&&""!==s[o]?i+=n(s[o]):i+=l)}),0===o.length){const n=l,r=t/31;switch(e.frequency){case"weekly":i+=n*(52/12)*r;break;case"bi-weekly":i+=n*(26/12)*r;break;case"monthly":t>=15&&(i+=n);break;default:i+=n*r}}}),i},l=()=>{const e=[0,0,0,0,0],{month:n,year:r}=(()=>{for(const e of t)if(e.payDates&&e.payDates.length>0){const t=e.payDates[0],[n,r,a]=t.split("-").map(e=>parseInt(e,10));return{month:r-1,year:n}}return{month:(new Date).getMonth(),year:(new Date).getFullYear()}})();return t.forEach(t=>{const a=Array.isArray(t.payDates)?t.payDates:[],o=i(t.projectedAmount||t.amount),s=i(t.actualAmount);if(a.length>0&&Array.isArray(t.payActuals)&&t.payActuals.length>0)a.forEach((a,s)=>{if(void 0!==t.payActuals[s]&&null!==t.payActuals[s]){const[o,l,u]=a.split("-").map(e=>parseInt(e,10));if(l-1===n&&o===r){let n;if(u>=1&&u<=7?n=0:u>=8&&u<=14?n=1:u>=15&&u<=21?n=2:u>=22&&u<=28?n=3:u>=29&&(n=4),n>=0&&n<5){const r=i(t.payActuals[s]);e[n]+=r}}}else{const[t,i,s]=a.split("-").map(e=>parseInt(e,10));if(i-1===n&&t===r){let t;s>=1&&s<=7?t=0:s>=8&&s<=14?t=1:s>=15&&s<=21?t=2:s>=22&&s<=28?t=3:s>=29&&(t=4),t>=0&&t<5&&(e[t]+=o)}}});else if("monthly-total"===t.actualMode&&s>0)if(a.length>0){const t=s/a.length;a.forEach(a=>{const[i,o,s]=a.split("-").map(e=>parseInt(e,10));if(o-1===n&&i===r){let n;s>=1&&s<=7?n=0:s>=8&&s<=14?n=1:s>=15&&s<=21?n=2:s>=22&&s<=28?n=3:s>=29&&(n=4),n>=0&&n<5&&(e[n]+=t)}})}else{const t=s/4;for(let n=0;n<4;n++)e[n]+=t}else if(s>0)if(a.length>0)a.forEach(t=>{const[a,i,o]=t.split("-").map(e=>parseInt(e,10));if(i-1===n&&a===r){let t;o>=1&&o<=7?t=0:o>=8&&o<=14?t=1:o>=15&&o<=21?t=2:o>=22&&o<=28?t=3:o>=29&&(t=4),t>=0&&t<5&&(e[t]+=s)}});else switch(t.frequency){case"weekly":for(let n=0;n<4;n++)e[n]+=s;break;case"bi-weekly":case"semi-monthly":e[0]+=s,e[2]+=s;break;case"monthly":e[0]+=s;break;default:const t=s/4;for(let n=0;n<4;n++)e[n]+=t}else if(a.length>0)a.forEach(t=>{const[a,i,s]=t.split("-").map(e=>parseInt(e,10));if(i-1===n&&a===r){let t;s>=1&&s<=7?t=0:s>=8&&s<=14?t=1:s>=15&&s<=21?t=2:s>=22&&s<=28?t=3:s>=29&&(t=4),t>=0&&t<5&&(e[t]+=o)}});else if(t.weeks&&Array.isArray(t.weeks))t.weeks.forEach((t,n)=>{n<5&&(e[n]+=i(t))});else{let n=0;switch(t.frequency){case"weekly":n=o*(52/12);break;case"bi-weekly":n=o*(26/12);break;case"monthly":default:n=o;break;case"quarterly":n=o/3;break;case"semi-annual":n=o/6;break;case"annual":n=o/12;break;case"one-time":n=0}switch(t.frequency){case"weekly":const t=n/4.33;for(let n=0;n<4;n++)e[n]+=t;break;case"bi-weekly":e[0]+=o,e[2]+=o,n>2*o&&(e[4]+=n-2*o);break;case"monthly":e[0]+=n;break;default:const r=n/4;for(let n=0;n<4;n++)e[n]+=r}}}),e},u=()=>t.reduce((e,t)=>e+o(t,"projected"),0),c=()=>t.reduce((e,t)=>e+o(t,"actual"),0),d=()=>{const e=u(),t=c(),n=t-e,r=e>0?t/e*100:0,a=new Date,i=(new Date(a.getFullYear(),a.getMonth(),1),new Date(a.getFullYear(),a.getMonth()+1,0).getDate()),o=a.getDate()/i*100,l=s(),d=t-l;return{totalProjectedIncome:e,totalActualIncome:t,variance:n,percentReceived:r,monthProgress:o,expectedAtThisPoint:l,progressVariance:d,isOnTrack:d>=0}},p=()=>{let e=0;return Object.values(n).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{e+=i(t.actual||t.amount)})}),e},h=()=>{let e=0;return Object.values(r).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{e+=i(t.actual||t.amount)})}),e},m=()=>h()/12,g=()=>u()-p()-m(),y=()=>c()-p()-m(),v=()=>{const e=u(),t=g();return e>0?t/e*100:0},b=()=>{const e=c(),t=y();return e>0?t/e*100:0},x=()=>{const e=[0,0,0,0,0],t=l();return Object.entries(a).forEach(t=>{let[n,r]=t;"weeklyIncome"!==n&&"weeklyExpenses"!==n&&"monthlyTargets"!==n&&r&&r.weeks&&Array.isArray(r.weeks)&&r.weeks.forEach((t,n)=>{n<5&&(e[n]+=i(t))})}),e.map((e,n)=>({week:n+1,income:t[n]||0,expenses:e,balance:(t[n]||0)-e,expenseCount:Object.values(a).filter(e=>e.weeks&&e.weeks[n]&&i(e.weeks[n])>0).length}))},w=()=>{const e=[],t=new Date;return Object.values(n).forEach(n=>{Array.isArray(n)&&n.forEach(n=>{if(n.date&&!n.paid){const r=new Date(n.date),a=Math.ceil((r-t)/864e5);a<=f&&e.push({...n,daysUntil:a,type:"monthly",amount:i(n.actual||n.amount)})}})}),Object.values(r).forEach(n=>{Array.isArray(n)&&n.forEach(n=>{if(n.date&&!n.paid){const r=new Date(n.date),a=Math.ceil((r-t)/864e5);a<=f&&e.push({...n,daysUntil:a,type:"annual",amount:i(n.actual||n.amount)})}})}),e.sort((e,t)=>e.daysUntil-t.daysUntil)},S=()=>{const e={monthly:{},annual:{}};return Object.entries(n).forEach(t=>{let[n,r]=t;Array.isArray(r)&&(e.monthly[n]=r.reduce((e,t)=>e+i(t.actual||t.amount),0))}),Object.entries(r).forEach(t=>{let[n,r]=t;Array.isArray(r)&&(e.annual[n]=r.reduce((e,t)=>e+i(t.actual||t.amount),0))}),e},N=(e,t,n,r)=>{const a=[];return"critical"===e?(a.push("\ud83d\udea8 Your expenses exceed your income. Consider reducing non-essential spending."),a.push("\ud83d\udca1 Review your largest expense categories for potential cuts."),a.push("\ud83d\udcca Use the Weekly Planner to better distribute expenses throughout the month.")):"warning"===e?(a.push("\u26a0\ufe0f Your savings rate is below 10%. Try to increase it gradually."),a.push("\ud83d\udca1 Look for ways to reduce expenses or increase income."),a.push("\ud83d\udccb The Weekly Planner can help you identify weeks with excess cash flow for savings.")):(a.push("\u2705 Your budget is healthy! Keep up the good work."),t>=20&&a.push("\ud83c\udf89 Excellent savings rate! Consider investing for long-term goals.")),r.isOnTrack||a.push("\ud83d\udcc8 Your income is behind schedule this month. Monitor actual vs projected closely."),a};return{getTotalIncome:()=>u(),getTotalProjectedIncome:u,getTotalActualIncome:c,getIncomeProgress:d,getExpectedIncomeByNow:s,getTotalMonthlyExpenses:p,getTotalAnnualExpenses:h,getMonthlyAnnualImpact:m,getNetMonthlyIncome:g,getActualNetIncome:y,getSavingsRate:v,getActualSavingsRate:b,getWeeklyIncome:l,getWeeklyPlannerTotals:x,getUpcomingExpenses:w,getCategoryTotals:S,getAccountAllocations:()=>{const e={};return Object.values(n).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{const n=t.accountId||t.account||"Unassigned",r=i(t.actual||t.amount);e[n]=(e[n]||0)+r})}),Object.values(r).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{const n=t.accountId||t.account||"Unassigned",r=i(t.actual||t.amount)/12;e[n]=(e[n]||0)+r})}),e},getBudgetHealth:()=>{const e=u(),t=c(),n=p()+m(),r=g(),a=y(),i=v(),o=b(),s=w(),f=d();let h="good";return r<0||a<0?h="critical":(i<10||o<10)&&(h="warning"),{status:h,incomeToExpenseRatio:e>0?e/n:0,debtToIncomeRatio:e>0?n/e*100:0,savingsRate:i,emergencyFundWeeks:r>0?4*r/n:0,actualIncomeToExpenseRatio:t>0?t/n:0,actualSavingsRate:o,incomeProgress:f.percentReceived,isIncomeOnTrack:f.isOnTrack,upcomingExpensesCount:s.length,overdueExpensesCount:s.filter(e=>e.daysUntil<0).length,budgetUtilization:e>0?n/e*100:0,cashFlowStatus:r>=0?"positive":"negative",actualCashFlowStatus:a>=0?"positive":"negative",weeklyPlannerTotals:x(),totalPlannedIncome:l().reduce((e,t)=>e+t,0),totalPlannedExpenses:x().reduce((e,t)=>e+t.expenses,0),recommendations:N(h,i,o,f)}},getExpensesByFrequency:()=>{const e={monthly:0,quarterly:0,"semi-annual":0,annual:0,"one-time":0};return Object.values(r).forEach(t=>{Array.isArray(t)&&t.forEach(t=>{const n=t.frequency||"annual",r=i(t.actual||t.amount);e[n]=(e[n]||0)+r})}),e.monthly=p(),e},getMonthlyProjections:()=>{const e=[],t=u(),n=p()+m();for(let r=0;r<12;r++){const a=new Date;a.setMonth(a.getMonth()+r),e.push({month:a.toLocaleDateString("en-US",{month:"short",year:"numeric"}),income:t,expenses:n,netFlow:t-n,cumulative:0===r?t-n:e[r-1].cumulative+(t-n)})}return e},getCashFlowProjection:()=>x().map(e=>({week:e.week,income:e.income,expenses:e.expenses,netFlow:e.balance,status:e.balance>=0?"positive":"negative",expenseCount:e.expenseCount})),getVarianceAnalysis:()=>{const e=d();p(),m();return{incomeVariance:e.variance,incomeProgressVariance:e.progressVariance,incomeVariancePercent:e.totalProjectedIncome>0?e.variance/e.totalProjectedIncome*100:0,monthProgress:e.monthProgress,isIncomeOnTrack:e.isOnTrack,projectedNetFlow:g(),actualNetFlow:y(),weeklyVariance:x().map(e=>({week:e.week,variance:e.balance,status:e.balance>=0?"surplus":"deficit"}))}},getTopExpenseCategories:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=S(),n=[];return Object.entries(t.monthly).forEach(e=>{let[t,r]=e;n.push({key:t,total:r,type:"monthly"})}),Object.entries(t.annual).forEach(e=>{let[t,r]=e;const a=r/12;n.push({key:t,total:a,type:"annual"})}),n.sort((e,t)=>t.total-e.total).slice(0,e)}}},[e,(new Date).toDateString()]);return t}const cb=n.p+"static/media/FamilyBudgetLogo_ImageOnly.24c5c48e4f6eb5b4d2bb.png",db=()=>{const{state:e,actions:t,calculations:n,formatCurrency:a}=H(),i=!((e,t)=>e&&"function"===typeof e[t])(n,"getTotalProjectedIncome"),s=ub((null===e||void 0===e?void 0:e.data)||{}),l=i?s:n,[u,d]=(0,r.useState)((new Date).getMonth()),[f,p]=(0,r.useState)(!1),h=(0,r.useRef)(null),[m,g]=(0,r.useState)(()=>{const e=localStorage.getItem("theme");return"dark"===e||"light"===e?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});(0,r.useEffect)(()=>{const e=document.documentElement;"dark"===m?e.setAttribute("data-theme","dark"):e.removeAttribute("data-theme"),localStorage.setItem("theme",m)},[m]),(0,r.useEffect)(()=>{const e=()=>{var e;const t=(null===(e=h.current)||void 0===e?void 0:e.offsetHeight)||0;document.documentElement.style.setProperty("--header-height",`${t}px`)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{localStorage.getItem("privacy-notice-acknowledged")||p(!0)},[]);const y=l.getTotalProjectedIncome(),v=l.getNetMonthlyIncome(),b=(()=>{try{const e=l.getTotalMonthlyExpenses();return e+(n.getMonthlyAnnualImpact?l.getMonthlyAnnualImpact():n.getTotalAnnualExpenses?l.getTotalAnnualExpenses()/12:0)}catch{return 0}})();return(0,o.jsxs)(o.Fragment,{children:[f&&(0,o.jsx)("div",{className:"privacy-notice-overlay",style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:(0,o.jsxs)("div",{className:"privacy-notice-modal",style:{backgroundColor:"white",borderRadius:"12px",padding:"2rem",maxWidth:"600px",width:"100%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[(0,o.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,o.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\ud83d\udd12"}),(0,o.jsx)("h2",{style:{color:"#2563eb",marginBottom:"0.5rem"},children:"Your Privacy is Protected"}),(0,o.jsx)("p",{style:{color:"#6b7280",fontSize:"1.1rem"},children:"This budget application respects your privacy"})]}),(0,o.jsxs)("div",{style:{textAlign:"left",marginBottom:"2rem"},children:[(0,o.jsx)("h3",{style:{color:"#1f2937",marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83d\udee1\ufe0f Complete Privacy Guarantee"}),(0,o.jsxs)("div",{style:{backgroundColor:"#f0f9ff",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #0ea5e9"},children:[(0,o.jsx)("strong",{style:{color:"#0369a1"},children:"\u2705 Your data NEVER leaves your device"}),(0,o.jsxs)("ul",{style:{margin:"0.5rem 0 0 1rem",color:"#374151"},children:[(0,o.jsx)("li",{children:"All budget data is stored locally in your browser only"}),(0,o.jsx)("li",{children:"No accounts, registrations, or cloud storage"}),(0,o.jsx)("li",{children:"No data transmission to external servers"}),(0,o.jsx)("li",{children:"No cookies or tracking"})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #22c55e"},children:[(0,o.jsx)("strong",{style:{color:"#15803d"},children:"\ud83d\udd12 Local Storage Only"}),(0,o.jsxs)("ul",{style:{margin:"0.5rem 0 0 1rem",color:"#374151"},children:[(0,o.jsx)("li",{children:"Data stays in your browser's local storage"}),(0,o.jsx)("li",{children:"Only you can access your financial information"}),(0,o.jsx)("li",{children:"Clear your browser data to remove all information"})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#fef3c7",padding:"1rem",borderRadius:"8px",border:"1px solid #f59e0b"},children:[(0,o.jsx)("strong",{style:{color:"#d97706"},children:"\ud83d\udcf1 Device Recommendations"}),(0,o.jsxs)("ul",{style:{margin:"0.5rem 0 0 1rem",color:"#374151"},children:[(0,o.jsx)("li",{children:"Use on your personal devices for maximum security"}),(0,o.jsx)("li",{children:"Avoid public computers for sensitive financial data"}),(0,o.jsx)("li",{children:"Regular browser backups recommended for data safety"})]})]})]}),(0,o.jsx)("div",{style:{textAlign:"center"},children:(0,o.jsx)("button",{onClick:()=>{localStorage.setItem("privacy-notice-acknowledged","true"),p(!1)},style:{backgroundColor:"#2563eb",color:"white",padding:"0.75rem 2rem",borderRadius:"8px",border:"none",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1d4ed8",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2563eb",children:"I Understand - Continue to Budget App"})})]})}),(0,o.jsxs)("header",{ref:h,className:"app-header",children:[(0,o.jsx)("div",{className:"privacy-badge",style:{position:"fixed",top:"20px",right:"20px",backgroundColor:"#059669",color:"white",padding:"0.375rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",zIndex:1e3,cursor:"pointer",transition:"all 0.2s ease",border:"1px solid rgba(255, 255, 255, 0.2)"},onClick:()=>p(!0),onMouseOver:e=>{e.currentTarget.style.backgroundColor="#047857",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#059669",e.currentTarget.style.transform="translateY(0px)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:"\ud83d\udd12 Private"}),(0,o.jsxs)("div",{className:"header-content",children:[(0,o.jsx)("div",{className:"app-title-section",children:(0,o.jsx)("img",{src:cb,alt:"Family Budget Simplified",className:"app-logo-img",style:{height:"110px",width:"auto"}})}),(0,o.jsxs)("div",{className:"title-info",children:[(0,o.jsx)("h1",{className:"app-title",children:"Family Budget"}),(0,o.jsx)("div",{className:"app-subtitle",children:"Complete Budget Management"})]}),(0,o.jsxs)("div",{className:"month-selector",children:[(0,o.jsx)("label",{htmlFor:"budget-month",className:"month-label",children:"Budget Month:"}),(0,o.jsx)("select",{id:"budget-month",value:u,onChange:e=>{d(parseInt(e.target.value,10))},className:"month-select",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,t)=>(0,o.jsx)("option",{value:t,children:e},t))})]}),(0,o.jsxs)("div",{className:"header-stats",children:[(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-label",children:"Net Monthly:"}),(0,o.jsx)("span",{className:"stat-value "+(v>=0?"positive":"negative"),children:a(v)})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-label",children:"Projected Income:"}),(0,o.jsx)("span",{className:"stat-value income-value",children:a(y)})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-label",children:"Total Expenses:"}),(0,o.jsx)("span",{className:"stat-value expense",children:a(b)})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-label",children:"Budget Health:"}),(0,o.jsx)("span",{className:"stat-value warning "+(v>=0?"positive":"negative"),children:v>=0?"\u2705 Good":"\u26a0\ufe0f Alert"})]})]}),(0,o.jsxs)("div",{className:"version-info",children:[(0,o.jsxs)("span",{className:"version-number",children:["v",c]}),(0,o.jsx)("span",{className:"file-name",children:"Family Budget"})]})]})," "]})]})};var fb=n(1929),pb=n.n(fb);function hb(e){let{onClose:t}=e;const[n,a]=(0,r.useState)(""),[i,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(0),[h,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)([]),[v,b]=(0,r.useState)(!1),[x,w]=(0,r.useState)(!1),[S,N]=(0,r.useState)(null),E=(0,r.useRef)(null),A=(0,r.useRef)(null),C=(0,r.useRef)(null),[k,_]=(0,r.useState)({x:0,y:0});(0,r.useLayoutEffect)(()=>{const e="undefined"!==typeof window?window.innerWidth:1200,t="undefined"!==typeof window?window.innerHeight:800,n=v?680:380,r=Math.max(12,Math.round((e-n)/2)),a=Math.max(16,Math.round(.1*t));_({x:r,y:a});const i=E.current;i&&(i.style.width=n+"px",i.style.maxWidth=n+"px")},[v]),(0,r.useEffect)(()=>{const e=e=>{if(!x)return;const t=e.target.closest(".hamburger-menu"),n=e.target.closest(".hamburger-dropdown");t||n||w(!1)};if(x)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[x]),(0,r.useEffect)(()=>{var e;null===(e=A.current)||void 0===e||e.focus()},[]),(0,r.useEffect)(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},[g,v]),(0,r.useEffect)(()=>{const e=sessionStorage.getItem("calculator-memory"),t=sessionStorage.getItem("calculator-history");if(e){const t=parseFloat(e);isNaN(t)||0===t||(p(t),m(!0))}if(t)try{const e=JSON.parse(t);Array.isArray(e)&&y(e)}catch{}},[]),(0,r.useEffect)(()=>{sessionStorage.setItem("calculator-memory",String(f)),m(0!==f)},[f]),(0,r.useEffect)(()=>{sessionStorage.setItem("calculator-history",JSON.stringify(g))},[g]),(0,r.useEffect)(()=>{const e=e=>{const t=E.current,n=t&&t.matches(":hover"),r=document.activeElement===A.current;if(!n&&!r)return;const a=e.key;(/[0-9+\-*/.=]/.test(a)||["Enter","Escape","Backspace","Delete"].includes(a))&&(e.preventDefault(),e.stopPropagation()),/[0-9]/.test(a)||["+","-","*","/"].includes(a)?D(a):"."===a?D("."):"Enter"===a||"="===a?T():"Escape"===a||"Delete"===a?j():"Backspace"===a&&M(),e.ctrlKey&&"m"===a.toLowerCase()&&(e.preventDefault(),P()),e.ctrlKey&&"r"===a.toLowerCase()&&(e.preventDefault(),F()),e.ctrlKey&&"l"===a.toLowerCase()&&(e.preventDefault(),I())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,l,i,c,f]);const D=e=>{var t;if(null===(t=A.current)||void 0===t||t.focus(),l)return a(e),u(!1),s(""),void d(!1);if(c&&/[0-9.]/.test(e))return a(e),s(""),void d(!1);if(c&&/[+\-*/]/.test(e))return s(n+" "+e),a(""),void d(!1);if(/[+\-*/]/.test(e)){if(n)s(n+" "+e),a(""),d(!1);else if(i){const t=i.replace(/[\s+\-*/=]+$/,"");s(t+" "+e)}}else a(t=>t+e)},j=()=>{var e;a(""),s(""),u(!1),N(null),d(!1),null===(e=A.current)||void 0===e||e.focus()},O=()=>{var e;a(""),u(!1),null===(e=A.current)||void 0===e||e.focus()},M=()=>{var e;if(l||c)return O();a(e=>e.slice(0,-1)),null===(e=A.current)||void 0===e||e.focus()},T=()=>{if(l)return;let e="";if(i&&n)e=i+" "+n;else if(n)e=n;else{if(!i)return;e=i}try{var t;let n=e.trim().replace(/[\+\-\*\/=\s]+$/,"");if(!n)return;const r=n.replace(/[^0-9+\-*/.() ]/g,"");if(!r)return;const i=function(e){var t;const n=(null===(t=e.match(/(\d+(?:\.\d+)?)|[+\-*/()]|\s+/g))||void 0===t?void 0:t.filter(e=>!/^\s+$/.test(e)))||[],r={"+":1,"-":1,"*":2,"/":2},a=[],i=[];for(let l=0;l<n.length;l++){const e=n[l];if(/^\d+(?:\.\d+)?$/.test(e))a.push(parseFloat(e));else if("("!==e){if(")"!==e){if(/[+\-*/]/.test(e)){const t=n[l-1];for("-"===e&&(0===l||"("===t||/[+\-*/]/.test(t))&&a.push(0);i.length;){const t=i[i.length-1];if(!(/[+\-*/]/.test(t)&&r[t]>=r[e]))break;a.push(i.pop())}i.push(e);continue}throw new Error("Invalid token")}for(;i.length&&"("!==i[i.length-1];)a.push(i.pop());if("("!==i.pop())throw new Error("Mismatched parentheses")}else i.push(e)}for(;i.length;){const e=i.pop();if("("===e||")"===e)throw new Error("Mismatched parentheses");a.push(e)}const o=[];for(const l of a){if("number"===typeof l){o.push(l);continue}const e=o.pop(),t=o.pop();if(void 0===t||void 0===e)throw new Error("Invalid expression");switch(l){case"+":o.push(t+e);break;case"-":o.push(t-e);break;case"*":o.push(t*e);break;case"/":if(0===e)throw new Error("Invalid calculation");o.push(t/e);break;default:throw new Error("Invalid operator")}}const s=o.pop();if(o.length||!isFinite(s))throw new Error("Invalid calculation");return s}(r);if(isNaN(i)||!isFinite(i))throw new Error("Invalid calculation");const o={id:Date.now(),expression:n,result:i,timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString()};y(e=>[...e,o]),N(i),s(n+" ="),a(String(i)),d(!0),null===(t=A.current)||void 0===t||t.focus()}catch(o){var r;const t={id:Date.now(),expression:e.trim().replace(/[\+\-\*\/=\s]+$/,"")||e,result:"Error",timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString(),isError:!0};y(e=>[...e,t]),a("Error"),u(!0),s(""),d(!1),null===(r=A.current)||void 0===r||r.focus()}},P=()=>{const e=parseFloat(n)||0;p(e),y(t=>[...t,{id:Date.now(),expression:`Memory Store: ${e}`,result:`M = ${e}`,timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString(),isMemory:!0}])},F=()=>{0!==f&&(l||c?(a(String(f)),u(!1),s(""),d(!1)):a(e=>e+String(f)),y(e=>[...e,{id:Date.now(),expression:"Memory Recall",result:f,timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString(),isMemory:!0}]))},I=()=>{p(0),y(e=>[...e,{id:Date.now(),expression:"Memory Clear",result:"M = 0",timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString(),isMemory:!0}])},B=()=>{window.confirm("Clear all calculation history?")&&(y([]),sessionStorage.removeItem("calculator-history")),w(!1)},R=(e,t)=>{t.stopPropagation(),"history"===e&&b(e=>!e),"clearHistory"===e&&B(),w(!1)},z=Boolean(i);return(0,o.jsx)("div",{className:"calculator-backdrop","aria-hidden":"false",children:(0,o.jsx)(pb(),{nodeRef:E,handle:".calculator-header",cancel:".hamburger-menu, .hamburger-dropdown, .close-button, .history-panel, .keypad-button, .memory-btn, .calculator-display",defaultPosition:k,children:(0,o.jsxs)("div",{ref:E,className:"calculator-modal enhanced "+(v?"with-history":""),role:"dialog","aria-label":"Calculator",children:[(0,o.jsxs)("div",{className:"calculator-header",children:[(0,o.jsxs)("div",{className:"header-left",children:[(0,o.jsxs)("div",{className:"hamburger-container",children:[(0,o.jsx)("button",{className:"hamburger-menu",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),w(e=>!e)},title:"Menu","aria-haspopup":"true","aria-expanded":x,children:"\u2630"}),x&&(0,o.jsxs)("div",{className:"hamburger-dropdown",onMouseDown:e=>e.stopPropagation(),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"menu-item",onClick:e=>R("history",e),children:["\ud83d\udcca ",v?"Hide":"Show"," History"]}),(0,o.jsx)("div",{className:"menu-item",onClick:e=>R("clearHistory",e),children:"\ud83d\uddd1\ufe0f Clear History"})]})]}),(0,o.jsxs)("h4",{id:"calculator-title",children:["\ud83e\uddee Calculator",h&&(0,o.jsx)("span",{className:"memory-indicator",title:`Memory: ${f}`,children:"M"})]})]}),(0,o.jsx)("div",{className:"header-controls",children:(0,o.jsx)("button",{className:"close-button",onMouseDown:e=>e.stopPropagation(),onClick:t,"aria-label":"Close calculator",children:"\xd7"})})]}),(0,o.jsxs)("div",{className:"calculator-content",children:[v&&(0,o.jsxs)("div",{className:"history-panel","aria-label":"Calculation history",children:[(0,o.jsxs)("div",{className:"history-header",children:[(0,o.jsx)("span",{children:"Receipt History"}),(0,o.jsxs)("div",{className:"history-actions",children:[(0,o.jsx)("button",{className:"clear-history",title:"Clear history",onClick:B,children:"\ud83d\uddd1\ufe0f"}),(0,o.jsx)("button",{className:"close-history",title:"Close history",onClick:()=>b(!1),children:"\xd7"})]})]}),(0,o.jsx)("div",{className:"history-list",ref:C,children:0===g.length?(0,o.jsx)("div",{className:"history-empty",children:"No calculations yet"}):g.map(e=>(0,o.jsxs)("div",{className:`history-item ${e.isError?"error":""} ${e.isMemory?"memory":""}`,onClick:()=>(e=>{var t;if(e.isError)return;const n="number"===typeof e.result?String(e.result):e.expression;l||c?(a(n),u(!1),s(""),d(!1)):a(e=>e+n),null===(t=A.current)||void 0===t||t.focus()})(e),title:"Click to use this value",children:[(0,o.jsx)("div",{className:"history-expression",children:e.expression}),(0,o.jsxs)("div",{className:"history-result",children:["= ",e.result]}),(0,o.jsx)("div",{className:"history-time",children:e.fullTimestamp})]},e.id))})]}),(0,o.jsxs)("div",{className:"calculator-panel",children:[(0,o.jsxs)("div",{className:"display-container",children:[z&&(0,o.jsx)("div",{className:"previous-expression",children:i}),(0,o.jsx)("textarea",{className:`calculator-display ${l?"error":""} ${z?"has-previous":""}`,value:n||"0",onChange:e=>{const t=e.target.value;/^[0-9+\-*/.() ]*$/.test(t)&&(a(t),l&&(u(!1),s(""),d(!1)))},onPaste:e=>{e.preventDefault();const t=e.clipboardData.getData("text");/^[0-9+\-*/.() ]*$/.test(t)&&(l||c?(a(t),u(!1),s(""),d(!1)):a(e=>e+t))},ref:A,"aria-live":"polite"})]}),(0,o.jsxs)("div",{className:"memory-controls","aria-label":"Memory controls",children:[(0,o.jsx)("button",{className:"memory-btn",onClick:I,disabled:0===f,children:"MC"}),(0,o.jsx)("button",{className:"memory-btn",onClick:F,disabled:0===f,children:"MR"}),(0,o.jsx)("button",{className:"memory-btn",onClick:P,children:"MS"}),(0,o.jsx)("button",{className:"memory-btn",onClick:()=>{const e=parseFloat(n)||0,t=f+e;p(t),y(n=>[...n,{id:Date.now(),expression:`Memory Add: ${e}`,result:`M = ${t}`,timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString(),isMemory:!0}])},children:"M+"}),(0,o.jsx)("button",{className:"memory-btn",onClick:()=>{const e=parseFloat(n)||0,t=f-e;p(t),y(n=>[...n,{id:Date.now(),expression:`Memory Subtract: ${e}`,result:`M = ${t}`,timestamp:(new Date).toLocaleTimeString(),fullTimestamp:(new Date).toLocaleString(),isMemory:!0}])},children:"M-"})]}),(0,o.jsxs)("div",{className:"keypad-grid",children:[(0,o.jsx)("button",{className:"keypad-button clear",onClick:j,children:"C"}),(0,o.jsx)("button",{className:"keypad-button clear-entry",onClick:O,children:"CE"}),(0,o.jsx)("button",{className:"keypad-button backspace",onClick:M,title:"Backspace",children:"\u232b"}),(0,o.jsx)("button",{className:"keypad-button operator",onClick:()=>D("/"),children:"\xf7"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("7"),children:"7"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("8"),children:"8"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("9"),children:"9"}),(0,o.jsx)("button",{className:"keypad-button operator",onClick:()=>D("*"),children:"\xd7"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("4"),children:"4"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("5"),children:"5"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("6"),children:"6"}),(0,o.jsx)("button",{className:"keypad-button operator",onClick:()=>D("-"),children:"-"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("1"),children:"1"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("2"),children:"2"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("3"),children:"3"}),(0,o.jsx)("button",{className:"keypad-button operator",onClick:()=>D("+"),children:"+"}),(0,o.jsx)("button",{className:"keypad-button number zero",onClick:()=>D("0"),children:"0"}),(0,o.jsx)("button",{className:"keypad-button number",onClick:()=>D("."),children:"."}),(0,o.jsx)("button",{className:"keypad-button equals",onClick:T,children:"="})]}),(0,o.jsxs)("div",{className:"calculator-instructions",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Memory:"})," Ctrl+M (Store) \u2022 Ctrl+R (Recall) \u2022 Ctrl+L (Clear)"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Menu:"})," Click \u2630 for receipt history and more options"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Input:"})," Type, Ctrl+CV, Enter for equals, Esc to clear"]})]})]})]})]})})})}const mb=()=>{const{calculations:e,formatCurrency:t}=H(),[n,a]=(0,r.useState)({"net-income":!1,"total-income":!1,"monthly-expenses":!1,"annual-impact":!1}),i=e.getTotalIncome(),s=e.getTotalMonthlyExpenses(),l=e.getMonthlyAnnualImpact(),u=e.getNetMonthlyIncome(),c=[{id:"net-income",label:"Net Monthly Cash",value:u,className:u>=0?"positive":"negative",icon:"\ud83d\udcb0",description:"Income minus all expenses",helpContent:{title:"\ud83d\udcb0 Net Monthly Cash",description:"Shows how much money you have left after paying all monthly expenses.",details:["Formula: Total Income - Monthly Expenses - Annual Impact = Net Cash","Positive (green): You have money left over for savings and goals","Negative (red): You're spending more than you earn this month","This is your available cash flow for savings, investments, or emergency funds"],goal:"Keep this positive to build wealth and achieve financial stability."}},{id:"total-income",label:"Total Monthly Income",value:i,className:"income",icon:"\ud83d\udcb5",description:"All income sources combined",helpContent:{title:"\ud83d\udcb5 Total Monthly Income",description:"Your complete monthly income from all sources combined.",details:["Includes salary, freelance work, side hustles, and other income","Based on projected amounts and pay frequency settings","Automatically calculates monthly equivalent (weekly \xd7 4.33, bi-weekly \xd7 2.17, etc.)","Used as the foundation for all budget calculations"],goal:"Maximize this through career growth, side income, or investment returns."}},{id:"monthly-expenses",label:"Monthly Expenses",value:s,className:"expense",icon:"\ud83d\udcb3",description:"Recurring monthly expenses",helpContent:{title:"\ud83d\udcb3 Monthly Expenses",description:"Your total recurring monthly expenses across all categories.",details:["Includes rent/mortgage, utilities, groceries, subscriptions, etc.","Based on actual amounts when available, otherwise budgeted amounts","Does not include annual expenses (those are shown separately)","Automatically tracks and categorizes your spending patterns"],goal:"Keep under 80% of income to maintain healthy cash flow and savings."}},{id:"annual-impact",label:"Annual Impact (Monthly)",value:l,className:"annual",icon:"\ud83d\udcc5",description:"Annual expenses divided by 12",helpContent:{title:"\ud83d\udcc5 Annual Impact (Monthly)",description:"Shows the monthly impact of your annual expenses.",details:["Takes yearly expenses (insurance, taxes, memberships) and divides by 12","Helps you plan monthly savings for large annual bills","Includes property taxes, car registration, annual subscriptions, etc.","Prevents budget surprises when annual expenses come due"],goal:"Set aside this amount monthly so annual expenses don't strain your budget."}}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{jsx:!0,children:"\n        .summary-section {\n          margin: 1.5rem 0;\n        }\n\n        .summary-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 1rem;\n        }\n\n        .summary-card {\n          position: relative;\n          background: var(--bg-secondary, #f8fafc);\n          border-radius: 0.75rem;\n          padding: 1.25rem;\n          border: 1px solid var(--border-light, #e5e7eb);\n          transition: all 0.2s ease;\n          min-height: 120px;\n          display: flex;\n          flex-direction: column;\n        }\n\n        .summary-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n        }\n\n        .summary-card.positive {\n          background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);\n          border-color: #10b981;\n        }\n\n        .summary-card.negative {\n          background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);\n          border-color: #ef4444;\n        }\n\n        .summary-card.income {\n          background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);\n          border-color: #3b82f6;\n        }\n\n        .summary-card.expense {\n          background: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%);\n          border-color: #f59e0b;\n        }\n\n        .summary-card.annual {\n          background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);\n          border-color: #6366f1;\n        }\n\n        .summary-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 0.75rem;\n        }\n\n        .summary-icon-label {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .summary-icon {\n          font-size: 1.5rem;\n        }\n\n        .summary-label {\n          font-weight: 600;\n          font-size: 0.875rem;\n          color: var(--text-primary, #111827);\n        }\n\n        .summary-amount {\n          font-size: 1.5rem;\n          font-weight: 700;\n          margin: 0.5rem 0;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n\n        .summary-amount.positive {\n          color: #059669;\n        }\n\n        .summary-amount.negative {\n          color: #dc2626;\n        }\n\n        .summary-amount.income {\n          color: #2563eb;\n        }\n\n        .summary-amount.expense {\n          color: #d97706;\n        }\n\n        .summary-amount.annual {\n          color: #7c3aed;\n        }\n\n        .summary-description {\n          font-size: 0.75rem;\n          color: var(--text-muted, #6b7280);\n          margin-top: auto;\n        }\n\n        .summary-trend {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-top: 0.5rem;\n        }\n\n        .trend-indicator {\n          font-size: 0.875rem;\n        }\n\n        /* Help Toggle Styles */\n        .help-toggle {\n          background: rgba(0, 0, 0, 0.1);\n          border: 1px solid rgba(0, 0, 0, 0.2);\n          border-radius: 50%;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          font-size: 12px;\n          color: #6b7280;\n          transition: all 0.2s ease;\n          flex-shrink: 0;\n        }\n\n        .help-toggle:hover {\n          background: rgba(0, 0, 0, 0.2);\n          color: #374151;\n          transform: scale(1.1);\n        }\n\n        /* Help Accordion Styles */\n        .help-accordion {\n          margin-top: 12px;\n          overflow: hidden;\n          transition: max-height 0.3s ease-out, opacity 0.3s ease-out;\n        }\n\n        .help-accordion.closed {\n          max-height: 0;\n          opacity: 0;\n        }\n\n        .help-accordion.open {\n          max-height: 500px;\n          opacity: 1;\n        }\n\n        .help-content {\n          background: rgba(255, 255, 255, 0.9);\n          border: 1px solid rgba(0, 0, 0, 0.1);\n          border-radius: 8px;\n          padding: 12px;\n          font-size: 0.875rem;\n          line-height: 1.5;\n          color: #374151;\n        }\n\n        .help-content h4 {\n          margin: 0 0 8px 0;\n          font-weight: 600;\n          color: #111827;\n          font-size: 0.9rem;\n        }\n\n        .help-content p {\n          margin: 0 0 8px 0;\n        }\n\n        .help-content ul {\n          margin: 8px 0 0 0;\n          padding-left: 16px;\n        }\n\n        .help-content li {\n          margin-bottom: 4px;\n        }\n\n        .help-content strong {\n          color: #1f2937;\n        }\n\n        .help-goal {\n          margin-top: 8px;\n          padding: 8px;\n          background: rgba(16, 185, 129, 0.1);\n          border-radius: 6px;\n          border-left: 3px solid #10b981;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .summary-grid {\n            grid-template-columns: 1fr;\n          }\n          \n          .summary-card {\n            min-height: 100px;\n          }\n          \n          .summary-amount {\n            font-size: 1.25rem;\n          }\n        }\n      "}),(0,o.jsx)("div",{className:"summary-section",children:(0,o.jsx)("div",{className:"summary-grid",children:c.map(e=>(0,o.jsxs)("div",{className:`summary-card ${e.className}`,children:[(0,o.jsxs)("div",{className:"summary-header",children:[(0,o.jsxs)("div",{className:"summary-icon-label",children:[(0,o.jsx)("div",{className:"summary-icon",children:e.icon}),(0,o.jsx)("div",{className:"summary-label",children:e.label})]}),(0,o.jsx)("button",{className:"help-toggle",onClick:()=>{return t=e.id,void a(e=>({...e,[t]:!e[t]}));var t},"aria-label":`Help for ${e.label}`,children:"?"})]}),(0,o.jsx)("div",{className:`summary-amount ${e.className}`,children:t(e.value)}),(0,o.jsx)("div",{className:"summary-description",children:e.description}),(0,o.jsx)("div",{className:"summary-trend",children:(0,o.jsx)("span",{className:"trend-indicator",children:e.value>0&&"positive"===e.className?"\u2197\ufe0f":e.value<0&&"negative"===e.className?"\u2198\ufe0f":""})}),(0,o.jsx)("div",{className:"help-accordion "+(n[e.id]?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:e.helpContent.title}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"What it shows:"})," ",e.helpContent.description]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Key Details:"})}),(0,o.jsx)("ul",{children:e.helpContent.details.map((e,t)=>(0,o.jsx)("li",{children:e},t))}),(0,o.jsxs)("div",{className:"help-goal",children:[(0,o.jsx)("strong",{children:"Goal:"})," ",e.helpContent.goal]})]})})]},e.id))})})]})},gb=e=>{let{children:t,variant:n="primary",size:r="medium",onClick:a,disabled:i=!1,className:s="",type:l="button",...u}=e;const c=["btn",`btn-${n}`,`btn-${r}`,i?"btn-disabled":"",s].filter(Boolean).join(" ");return(0,o.jsx)("button",{type:l,className:c,onClick:a,disabled:i,...u,children:t})},yb=e=>{let{expenses:t=[],maxDisplay:n=5}=e;const{formatCurrency:r,state:a,actions:i}=H();if(!t||0===t.length)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{jsx:!0,children:"\n          .upcoming-expenses.empty {\n            padding: 2rem 1rem;\n            text-align: center;\n            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);\n            border-radius: 12px;\n            border: 1px solid #bbf7d0;\n          }\n\n          .empty-state .empty-icon {\n            font-size: 3rem;\n            margin-bottom: 1rem;\n            display: block;\n          }\n\n          .empty-state h4 {\n            color: #166534;\n            margin: 0 0 0.5rem 0;\n            font-size: 1.25rem;\n          }\n\n          .empty-state p {\n            color: #15803d;\n            margin: 0;\n            font-size: 0.875rem;\n          }\n        "}),(0,o.jsx)("div",{className:"upcoming-expenses empty",children:(0,o.jsxs)("div",{className:"empty-state",children:[(0,o.jsx)("span",{className:"empty-icon",children:"\u2705"}),(0,o.jsx)("h4",{children:"All Caught Up!"}),(0,o.jsx)("p",{children:"No upcoming expenses in the next 30 days."})]})})]});const s=t.sort((e,t)=>e.daysUntil<0&&t.daysUntil>=0?-1:t.daysUntil<0&&e.daysUntil>=0?1:e.daysUntil-t.daysUntil).slice(0,n);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("style",{jsx:!0,children:"\n        .upcoming-expenses {\n          background: var(--bg-primary, #ffffff);\n          border-radius: 12px;\n          overflow: hidden;\n        }\n\n        .expenses-list {\n          display: flex;\n          flex-direction: column;\n          gap: 0;\n        }\n\n        .expense-item {\n          background: var(--bg-primary, #ffffff);\n          border-bottom: 1px solid var(--border-light, #f1f5f9);\n          transition: all 0.2s ease;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .expense-item:last-child {\n          border-bottom: none;\n        }\n\n        .expense-item:hover {\n          background: var(--bg-secondary, #f8fafc);\n          transform: translateX(2px);\n        }\n\n        .expense-item.overdue {\n          border-left: 4px solid #dc2626;\n          background: linear-gradient(90deg, #fef2f2 0%, #ffffff 20%);\n        }\n\n        .expense-item.urgent {\n          border-left: 4px solid #f59e0b;\n          background: linear-gradient(90deg, #fffbeb 0%, #ffffff 20%);\n        }\n\n        .expense-item.soon {\n          border-left: 4px solid #3b82f6;\n          background: linear-gradient(90deg, #eff6ff 0%, #ffffff 20%);\n        }\n\n        .expense-item.upcoming {\n          border-left: 4px solid #10b981;\n          background: linear-gradient(90deg, #f0fdf4 0%, #ffffff 20%);\n        }\n\n        .expense-content {\n          padding: 1rem;\n        }\n\n        .expense-header {\n          display: flex;\n          align-items: flex-start;\n          justify-content: space-between;\n          margin-bottom: 0.75rem;\n        }\n\n        .expense-info {\n          display: flex;\n          align-items: flex-start;\n          gap: 0.75rem;\n          flex: 1;\n        }\n\n        .urgency-icon {\n          font-size: 1.25rem;\n          margin-top: 0.125rem;\n          flex-shrink: 0;\n        }\n\n        .expense-details {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .expense-name {\n          font-weight: 600;\n          font-size: 1rem;\n          color: var(--text-primary, #111827);\n          margin-bottom: 0.25rem;\n          line-height: 1.3;\n        }\n\n        .expense-metadata {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          font-size: 0.8125rem;\n          color: var(--text-muted, #6b7280);\n          margin-bottom: 0.5rem;\n        }\n\n        .expense-type {\n          background: var(--bg-tertiary, #f1f5f9);\n          padding: 0.125rem 0.5rem;\n          border-radius: 12px;\n          font-size: 0.75rem;\n          font-weight: 500;\n          color: var(--text-secondary, #4b5563);\n        }\n\n        .expense-account {\n          font-weight: 500;\n        }\n\n        .expense-amount {\n          font-size: 1.125rem;\n          font-weight: 700;\n          color: var(--text-primary, #111827);\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n          flex-shrink: 0;\n          margin-left: 1rem;\n        }\n\n        .expense-footer {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-top: 0.75rem;\n          padding-top: 0.75rem;\n          border-top: 1px solid var(--border-light, #f1f5f9);\n        }\n\n        .timing-info {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n\n        .timing-text {\n          font-size: 0.875rem;\n          font-weight: 600;\n        }\n\n        .timing-text.overdue {\n          color: #dc2626;\n        }\n\n        .timing-text.urgent {\n          color: #f59e0b;\n        }\n\n        .timing-text.soon {\n          color: #3b82f6;\n        }\n\n        .timing-text.upcoming {\n          color: #10b981;\n        }\n\n        .due-date {\n          font-size: 0.75rem;\n          color: var(--text-muted, #6b7280);\n        }\n\n        .expense-actions {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .expense-actions button {\n          padding: 0.375rem 0.75rem;\n          font-size: 0.8125rem;\n          border-radius: 6px;\n          transition: all 0.2s ease;\n          border: 1px solid var(--border-light, #d1d5db);\n          background: var(--bg-primary, #ffffff);\n          color: var(--text-secondary, #4b5563);\n          cursor: pointer;\n          font-weight: 500;\n        }\n\n        .expense-actions button:hover {\n          background: var(--bg-secondary, #f8fafc);\n          border-color: var(--border-medium, #9ca3af);\n          transform: translateY(-1px);\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n        }\n\n        .expense-actions button:first-child {\n          background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n          color: white;\n          border-color: #10b981;\n        }\n\n        .expense-actions button:first-child:hover {\n          background: linear-gradient(135deg, #059669 0%, #047857 100%);\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(16, 185, 129, 0.2);\n        }\n\n        .urgency-bar {\n          height: 3px;\n          background: var(--border-light, #f1f5f9);\n          position: relative;\n          overflow: hidden;\n        }\n\n        .urgency-fill {\n          height: 100%;\n          transition: width 0.3s ease;\n          position: absolute;\n          left: 0;\n          top: 0;\n        }\n\n        .urgency-fill.overdue {\n          background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%);\n        }\n\n        .urgency-fill.urgent {\n          background: linear-gradient(90deg, #f59e0b 0%, #fbbf24 100%);\n        }\n\n        .urgency-fill.soon {\n          background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);\n        }\n\n        .urgency-fill.upcoming {\n          background: linear-gradient(90deg, #10b981 0%, #34d399 100%);\n        }\n\n        .expenses-footer {\n          background: var(--bg-secondary, #f8fafc);\n          padding: 1rem;\n          border-top: 1px solid var(--border-light, #e5e7eb);\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n\n        .more-expenses {\n          font-size: 0.875rem;\n          color: var(--text-muted, #6b7280);\n          font-weight: 500;\n        }\n\n        .expenses-footer button {\n          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);\n          color: white;\n          border: none;\n          padding: 0.5rem 1rem;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .expenses-footer button:hover {\n          background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(59, 130, 246, 0.3);\n        }\n\n        .expenses-stats {\n          background: var(--bg-secondary, #f8fafc);\n          padding: 1rem;\n          border-top: 1px solid var(--border-light, #e5e7eb);\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          gap: 1rem;\n        }\n\n        .stat-item {\n          text-align: center;\n          padding: 0.75rem;\n          background: var(--bg-primary, #ffffff);\n          border-radius: 8px;\n          border: 1px solid var(--border-light, #e5e7eb);\n          transition: transform 0.2s ease;\n        }\n\n        .stat-item:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n\n        .upcoming-expenses .stat-value {\n          display: block;\n          font-size: 1.5rem;\n          font-weight: 700;\n          margin-bottom: 0.25rem;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n\n        .upcoming-expenses .stat-value.overdue {\n          color: #dc2626;\n        }\n\n        .upcoming-expenses .stat-value.urgent {\n          color: #f59e0b;\n        }\n\n        .upcoming-expenses .stat-value.total {\n          color: #3b82f6;\n        }\n\n        .stat-label {\n          font-size: 0.75rem;\n          color: var(--text-muted, #6b7280);\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.025em;\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .expense-header {\n            flex-direction: column;\n            gap: 0.5rem;\n          }\n\n          .expense-amount {\n            margin-left: 0;\n            align-self: flex-start;\n          }\n\n          .expense-footer {\n            flex-direction: column;\n            gap: 0.75rem;\n            align-items: flex-start;\n          }\n\n          .expense-actions {\n            align-self: stretch;\n          }\n\n          .expense-actions button {\n            flex: 1;\n          }\n\n          .stats-grid {\n            grid-template-columns: 1fr;\n            gap: 0.75rem;\n          }\n\n          .expenses-footer {\n            flex-direction: column;\n            gap: 0.75rem;\n            text-align: center;\n          }\n        }\n      "}),(0,o.jsxs)("div",{className:"upcoming-expenses",children:[(0,o.jsx)("div",{className:"expenses-list",children:s.map((e,t)=>{const n=(s=e.daysUntil)<0?"overdue":s<=3?"urgent":s<=7?"soon":"upcoming";var s;const l=(e=>e<0?"\ud83d\udea8":e<=3?"\u26a0\ufe0f":e<=7?"\ud83d\udcc5":"\ud83d\udccb")(e.daysUntil),u=(e=>{if(e<0){const t=Math.abs(e);return`${t} day${1===t?"":"s"} overdue`}return 0===e?"Due today":1===e?"Due tomorrow":`Due in ${e} days`})(e.daysUntil),c=(Array.isArray(a.data.accounts)?a.data.accounts:[]).find(t=>t.id===e.accountId);return(0,o.jsxs)("div",{className:`expense-item ${n}`,children:[(0,o.jsxs)("div",{className:"expense-content",children:[(0,o.jsxs)("div",{className:"expense-header",children:[(0,o.jsxs)("div",{className:"expense-info",children:[(0,o.jsx)("span",{className:"urgency-icon",children:l}),(0,o.jsxs)("div",{className:"expense-details",children:[(0,o.jsx)("div",{className:"expense-name",children:e.name}),(0,o.jsxs)("div",{className:"expense-metadata",children:[(0,o.jsx)("span",{className:"expense-type",children:"monthly"===e.type?"Monthly":"Annual"}),c&&(0,o.jsxs)("span",{className:"expense-account",children:["\u2022 ",c.name]})]})]})]}),(0,o.jsx)("div",{className:"expense-amount",children:r(e.actual||e.amount||0)})]}),(0,o.jsxs)("div",{className:"expense-footer",children:[(0,o.jsxs)("div",{className:"timing-info",children:[(0,o.jsx)("span",{className:`timing-text ${n}`,children:u}),e.date&&(0,o.jsxs)("span",{className:"due-date",children:["(",b(e.date),")"]})]}),(0,o.jsxs)("div",{className:"expense-actions",children:[(0,o.jsx)("button",{onClick:()=>(e=>{try{let t=!1;"monthly"===e.type?Object.keys(a.data.monthly||{}).forEach(n=>{const r=a.data.monthly[n]||[],o=r.findIndex(t=>t.name===e.name||t.id===e.id);if(-1!==o&&!t){t=!0;const a={...r[o],paid:!0,paidDate:(new Date).toISOString().split("T")[0]};i.updateMonthlyExpense(n,a,o),i.updateExpenseStatus&&e.name&&i.updateExpenseStatus(a.id||e.id,e.name,0,"paid",!0,"monthly")}}):"annual"===e.type&&Object.keys(a.data.annual||{}).forEach(n=>{const r=a.data.annual[n]||[],o=r.findIndex(t=>t.name===e.name||t.id===e.id);if(-1!==o&&!t){t=!0;const a={...r[o],paid:!0,paidDate:(new Date).toISOString().split("T")[0]};i.updateAnnualExpense(n,a,o),i.updateExpenseStatus&&e.name&&i.updateExpenseStatus(a.id||e.id,e.name,0,"paid",!0,"annual")}}),t?console.log(`\u2705 Marked "${e.name}" as paid`):console.warn(`\u26a0\ufe0f Could not find expense "${e.name}" to mark as paid`)}catch(t){console.error("Error marking expense as paid:",t),alert(`Error marking "${e.name}" as paid. Please try again.`)}})(e),children:"Mark Paid"}),(0,o.jsx)("button",{onClick:()=>(e=>{try{"monthly"===e.type?i.setCurrentPage("monthly"):"annual"===e.type||e.amount>1e3||"yearly"===e.frequency?i.setCurrentPage("annual"):i.setCurrentPage("monthly")}catch(t){console.error("Error navigating to expense page:",t),alert("Error navigating to expense page. Please try again.")}})(e),children:"View"})]})]})]}),(0,o.jsx)("div",{className:"urgency-bar",children:(0,o.jsx)("div",{className:`urgency-fill ${n}`,style:{width:e.daysUntil<0?"100%":e.daysUntil<=3?"90%":e.daysUntil<=7?"60%":"30%"}})})]},`${e.name}-${t}`)})}),t.length>n&&(0,o.jsxs)("div",{className:"expenses-footer",children:[(0,o.jsx)("div",{className:"more-expenses",children:(0,o.jsxs)("span",{children:["+",t.length-n," more upcoming expenses"]})}),(0,o.jsx)("button",{onClick:()=>i.setCurrentPage("planner"),children:"View All"})]}),(0,o.jsx)("div",{className:"expenses-stats",children:(0,o.jsxs)("div",{className:"stats-grid",children:[(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-value overdue",children:t.filter(e=>e.daysUntil<0).length}),(0,o.jsx)("span",{className:"stat-label",children:"Overdue"})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-value urgent",children:t.filter(e=>e.daysUntil>=0&&e.daysUntil<=3).length}),(0,o.jsx)("span",{className:"stat-label",children:"This Week"})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-value total",children:r(t.reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0))}),(0,o.jsx)("span",{className:"stat-label",children:"Total Due"})]})]})})]})]})};function vb(){const{state:e,actions:t}=H(),n=()=>{const t=[["Category","Name","Amount","Account","Date","Paid","Notes"].join(",")];return Object.entries(e.data.monthly).forEach(e=>{let[n,r]=e;r.forEach(e=>{const r=[n,e.name||"",e.actual||e.amount||0,e.accountId||"",e.date||"",e.paid?"Yes":"No",e.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);t.push(r.join(","))})}),t.join("\n")},r=()=>{const t=[["Category","Name","Amount","Account","Due Date","Frequency","Paid","Notes"].join(",")];return Object.entries(e.data.annual).forEach(e=>{let[n,r]=e;r.forEach(e=>{const r=[n,e.name||"",e.actual||e.amount||0,e.accountId||"",e.date||"",e.frequency||"annual",e.paid?"Yes":"No",e.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);t.push(r.join(","))})}),t.join("\n")},a=()=>{const t=[["Source","Amount","Frequency","Account","Notes"].join(",")];return e.data.income.forEach(e=>{const n=[e.name||"",e.amount||0,e.frequency||"monthly",e.account||"",e.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);t.push(n.join(","))}),t.join("\n")},i=()=>["# INCOME DATA",a(),"","# MONTHLY EXPENSES",n(),"","# ANNUAL EXPENSES",r()].join("\n");return{exportToJSON:async t=>{try{const r={exportDate:(new Date).toISOString(),version:c,appName:"Family Budget React",data:e.data},a=JSON.stringify(r,null,2),i=new Blob([a],{type:"application/json"}),o=t||w("family-budget","json");if(!("showSaveFilePicker"in window)){const e=URL.createObjectURL(i),t=document.createElement("a");return t.href=e,t.download=o,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e),{success:!0,filename:o}}try{const e=await window.showSaveFilePicker({suggestedName:o,types:[{description:"JSON files",accept:{"application/json":[".json"]}}]}),t=await e.createWritable();return await t.write(i),await t.close(),{success:!0,filename:e.name}}catch(n){if("AbortError"===n.name)return{success:!1,cancelled:!0};throw n}}catch(n){throw console.error("Export failed:",n),new Error(`Export failed: ${n.message}`)}},importFromJSON:async e=>{try{if(!e)throw new Error("No file provided");if(!e.name.toLowerCase().endsWith(".json"))throw new Error("Invalid file type. Please select a JSON file.");const n=await e.text(),r=g(JSON.parse(n));if(!r.valid)throw new Error(r.error);const a=`Import budget data from ${e.name}?\n\nStats:\n- Total Expenses: ${r.stats.totalExpenses}\n- Has Income Data: ${r.stats.hasIncome?"Yes":"No"}\n- Has Account Data: ${r.stats.hasAccounts?"Yes":"No"}\n\nThis will replace your current budget data.`;return window.confirm(a)?(t.loadData(r.data),{success:!0,filename:e.name,stats:r.stats}):{success:!1,cancelled:!0}}catch(n){throw console.error("Import failed:",n),new Error(`Import failed: ${n.message}`)}},exportToCSV:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{let t=[],o="";switch(e){case"monthly":t=n(),o=w("monthly-expenses","csv");break;case"annual":t=r(),o=w("annual-expenses","csv");break;case"income":t=a(),o=w("income","csv");break;default:t=i(),o=w("complete-budget","csv")}const s=new Blob([t],{type:"text/csv"});if("showSaveFilePicker"in window){const e=await window.showSaveFilePicker({suggestedName:o,types:[{description:"CSV files",accept:{"text/csv":[".csv"]}}]}),t=await e.createWritable();return await t.write(s),await t.close(),{success:!0,filename:e.name}}{const e=URL.createObjectURL(s),t=document.createElement("a");return t.href=e,t.download=o,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e),{success:!0,filename:o}}}catch(t){throw console.error("CSV export failed:",t),new Error(`CSV export failed: ${t.message}`)}},getCurrentState:()=>({exportDate:(new Date).toISOString(),version:c,data:e.data})}}const bb=()=>{const{actions:e}=H(),{exportToJSON:t,importFromJSON:n}=vb(),a=(0,r.useRef)(null),i=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=()=>{if(i.current){i.current.querySelectorAll("button, .btn, .action-btn").forEach(e=>{const t=e.textContent||"",n=t.includes("\ud83d\udcc1"),r=t.includes("\ud83d\udcc2"),a=t.toLowerCase().includes("export"),i=t.toLowerCase().includes("import"),o=t.includes("\ud83d\udd04"),s=t.toLowerCase().includes("reset");(n||a)&&(e.classList.add("js-export-btn"),e.setAttribute("data-action","export"),console.log("Applied export styling to:",t)),(r||i)&&(e.classList.add("js-import-btn"),e.setAttribute("data-action","import"),console.log("Applied import styling to:",t)),(o||s)&&(e.classList.add("js-reset-btn"),e.setAttribute("data-action","reset"),console.log("Applied reset styling to:",t))})}};e();const t=setTimeout(e,100);return()=>clearTimeout(t)},[]);return(0,o.jsxs)("div",{className:"quick-actions",ref:i,children:[(0,o.jsx)("style",{jsx:!0,children:'\n        /* Inline styles to ensure styling is applied */\n        .quick-actions .js-export-btn,\n        .quick-actions [data-action="export"] {\n          background: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%) !important;\n          color: white !important;\n          font-weight: 600 !important;\n          border: 2px solid #7c3aed !important;\n          box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3) !important;\n        }\n        \n        .quick-actions .js-export-btn:hover,\n        .quick-actions [data-action="export"]:hover {\n          background: linear-gradient(135deg, #6d28d9 0%, #7c3aed 100%) !important;\n          transform: translateY(-3px) !important;\n          box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4) !important;\n        }\n        \n        .quick-actions .js-import-btn,\n        .quick-actions [data-action="import"] {\n          background: linear-gradient(135deg, #059669 0%, #10b981 100%) !important;\n          color: white !important;\n          font-weight: 600 !important;\n          border: 2px solid #059669 !important;\n          box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3) !important;\n        }\n        \n        .quick-actions .js-import-btn:hover,\n        .quick-actions [data-action="import"]:hover {\n          background: linear-gradient(135deg, #047857 0%, #059669 100%) !important;\n          transform: translateY(-3px) !important;\n          box-shadow: 0 6px 20px rgba(5, 150, 105, 0.4) !important;\n        }\n\n        .quick-actions .js-reset-btn,\n        .quick-actions [data-action="reset"] {\n          background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%) !important;\n          color: white !important;\n          font-weight: 600 !important;\n          border: 2px solid #dc2626 !important;\n          box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3) !important;\n        }\n        \n        .quick-actions .js-reset-btn:hover,\n        .quick-actions [data-action="reset"]:hover {\n          background: linear-gradient(135deg, #b91c1c 0%, #dc2626 100%) !important;\n          transform: translateY(-3px) !important;\n          box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4) !important;\n        }\n\n        /* Add warning pulse animation for reset button */\n        .quick-actions .js-reset-btn,\n        .quick-actions [data-action="reset"] {\n          animation: subtle-pulse 3s ease-in-out infinite;\n        }\n\n        @keyframes subtle-pulse {\n          0%, 100% { \n            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);\n          }\n          50% { \n            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.5);\n          }\n        }\n      '}),(0,o.jsxs)("div",{className:"actions-header",children:[(0,o.jsx)("h3",{children:"Quick Actions"}),(0,o.jsx)("p",{children:"Common tasks and shortcuts"})]}),(0,o.jsxs)("div",{className:"actions-grid",children:[(0,o.jsxs)(gb,{variant:"primary",onClick:()=>{e.setCurrentPage("income")},className:"action-btn","data-action":"add-income",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb5"}),"Add Income"]}),(0,o.jsxs)(gb,{variant:"primary",onClick:()=>{e.setCurrentPage("monthly")},className:"action-btn","data-action":"add-expense",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb3"}),"Add Expense"]}),(0,o.jsxs)(gb,{variant:"secondary",onClick:()=>{e.setCurrentPage("planner")},className:"action-btn","data-action":"view-planner",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udccb"}),"Weekly Planner"]}),(0,o.jsxs)(gb,{variant:"secondary",onClick:async()=>{try{await t()}catch(e){console.error("Export failed:",e),alert("Export failed. Please try again.")}},className:"action-btn export-data-btn js-export-btn","data-action":"export",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc1"}),"Export Data"]}),(0,o.jsxs)(gb,{variant:"secondary",onClick:()=>{var e;null===(e=a.current)||void 0===e||e.click()},className:"action-btn import-data-btn js-import-btn","data-action":"import",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc2"}),"Import Data"]}),(0,o.jsxs)(gb,{variant:"secondary",onClick:e.toggleCalculator,className:"action-btn","data-action":"calculator",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83e\uddee"}),"Calculator"]}),(0,o.jsxs)(gb,{variant:"danger",onClick:()=>{if(window.confirm("\u26a0\ufe0f WARNING: This will permanently delete ALL your budget data!\n\nThis includes:\n\u2022 All income entries\n\u2022 All monthly and annual expenses\n\u2022 All accounts and balances\n\u2022 Weekly planner data\n\u2022 All saved links and categories\n\nThis action CANNOT be undone.\n\nAre you absolutely sure you want to reset everything to default?")){if(window.confirm("\ud83d\udea8 FINAL CONFIRMATION\n\nYou are about to lose ALL your data permanently!\n\nClick OK to proceed with the reset, or Cancel to keep your data."))try{e.resetData(),alert("\u2705 Application has been reset to default state.\n\nAll data has been cleared and you can start fresh."),e.setCurrentPage("home")}catch(t){console.error("Reset failed:",t),alert("\u274c Reset failed. Please try again or refresh the page.")}}},className:"action-btn reset-data-btn js-reset-btn","data-action":"reset",title:"Reset all application data to default state",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udd04"}),"Reset App"]})]}),(0,o.jsx)("input",{ref:a,type:"file",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t)try{await n(t),e.target.value=""}catch(r){console.error("Import failed:",r),alert("Import failed. Please check the file format and try again.")}},style:{display:"none"}})]})};function xb(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=xb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const wb=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=xb(e))&&(r&&(r+=" "),r+=t);return r};var Sb=n(9889),Nb=n.n(Sb),Eb=n(620),Ab=n.n(Eb),Cb=n(5268),kb=n.n(Cb),_b=n(3097),Db=n.n(_b),jb=n(9160),Ob=n.n(jb),Mb=n(9686),Tb=n.n(Mb),Pb=function(e){return 0===e?0:e>0?1:-1},Fb=function(e){return Ab()(e)&&e.indexOf("%")===e.length-1},Ib=function(e){return Ob()(e)&&!kb()(e)},Bb=function(e){return Ib(e)||Ab()(e)},Rb=0,zb=function(e){var t=++Rb;return"".concat(e||"").concat(t)},Lb=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ib(e)&&!Ab()(e))return r;if(Fb(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return kb()(n)&&(n=r),a&&n>t&&(n=t),n},qb=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Ub=function(e,t){return Ib(e)&&Ib(t)?function(n){return e+n*(t-e)}:function(){return t}};function $b(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):Db()(e,t))===n}):null}var Wb=function(e,t){return Ib(e)&&Ib(t)?e-t:Ab()(e)&&Ab()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},Hb=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},Kb=n(1629),Vb=n.n(Kb),Yb=n(6686),Gb=n.n(Yb),Xb=n(9062);function Jb(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Zb(e){return Zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(e)}var Qb=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ex=["points","pathLength"],tx={svg:["viewBox","children"],polygon:ex,polyline:ex},nx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],rx=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!Gb()(n))return null;var a={};return Object.keys(n).forEach(function(e){nx.includes(e)&&(a[e]=t||function(t){return n[e](n,t)})}),a},ax=function(e,t,n){if(!Gb()(e)||"object"!==Zb(e))return null;var r=null;return Object.keys(e).forEach(function(a){var i=e[a];nx.includes(a)&&"function"===typeof i&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))}),r},ix=["children"],ox=["children"];function sx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lx(e){return lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(e)}var ux={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},cx=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},dx=null,fx=null,px=function e(t){if(t===dx&&Array.isArray(fx))return fx;var n=[];return r.Children.forEach(t,function(t){Tb()(t)||((0,Xb.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),fx=n,dx=t,n};function hx(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return cx(e)}):[cx(t)],px(e).forEach(function(e){var t=Db()(e,"type.displayName")||Db()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function mx(e,t){var n=hx(e,t);return n&&n[0]}var gx=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ib(n)||n<=0||!Ib(r)||r<=0)},yx=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vx=function(e){return e&&e.type&&Ab()(e.type)&&yx.indexOf(e.type)>=0},bx=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var a=e;if((0,r.isValidElement)(e)&&(a=e.props),!Gb()(a))return null;var i={};return Object.keys(a).forEach(function(e){var r;(function(e,t,n,r){var a,i=null!==(a=null===tx||void 0===tx?void 0:tx[r])&&void 0!==a?a:[];return t.startsWith("data-")||!Vb()(e)&&(r&&i.includes(t)||Qb.includes(t))||n&&nx.includes(t)})(null===(r=a)||void 0===r?void 0:r[e],e,t,n)&&(i[e]=a[e])}),i},xx=function e(t,n){if(t===n)return!0;var a=r.Children.count(t);if(a!==r.Children.count(n))return!1;if(0===a)return!0;if(1===a)return wx(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<a;i++){var o=t[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!wx(o,s))return!1}return!0},wx=function(e,t){if(Tb()(e)&&Tb()(t))return!0;if(!Tb()(e)&&!Tb()(t)){var n=e.props||{},r=n.children,a=sx(n,ix),i=t.props||{},o=i.children,s=sx(i,ox);return r&&o?Jb(a,s)&&xx(r,o):!r&&!o&&Jb(a,s)}return!1},Sx=function(e,t){var n=[],r={};return px(e).forEach(function(e,a){if(vx(e))n.push(e);else if(e){var i=cx(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!r[i])){var u=s(e,i,a);n.push(u),r[i]=!0}}}),n};function Nx(e){return Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(e)}function Ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ex(Object(n),!0).forEach(function(t){Cx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ex(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Nx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nx(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dx=(0,r.forwardRef)(function(e,t){var n=e.aspect,a=e.initialDimension,i=void 0===a?{width:-1,height:-1}:a,o=e.width,s=void 0===o?"100%":o,l=e.height,u=void 0===l?"100%":l,c=e.minWidth,d=void 0===c?0:c,f=e.minHeight,p=e.maxHeight,h=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,S=(0,r.useRef)(null),N=(0,r.useRef)();N.current=b,(0,r.useImperativeHandle)(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=kx((0,r.useState)({containerWidth:i.width,containerHeight:i.height}),2),A=E[0],C=E[1],k=(0,r.useCallback)(function(e,t){C(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,r.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;k(r,a),null===(t=N.current)||void 0===t||t.call(N,r,a)};g>0&&(e=Nb()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,a=n.height;return k(r,a),t.observe(S.current),function(){t.disconnect()}},[k,g]);var _=(0,r.useMemo)(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;Hb(Fb(s)||Fb(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,u),Hb(!n||n>0,"The aspect(%s) must be greater than zero.",n);var a=Fb(s)?e:s,i=Fb(u)?t:u;n&&n>0&&(a?i=a/n:i&&(a=i*n),p&&i>p&&(i=p)),Hb(a>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",a,i,s,u,d,f,n);var o=!Array.isArray(h)&&cx(h.type).endsWith("Chart");return r.Children.map(h,function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,Ax({width:a,height:i},o?{style:Ax({height:"100%",width:"100%",maxHeight:i,maxWidth:a},e.props.style)}:{})):e})},[n,h,u,p,f,d,A,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:wb("recharts-responsive-container",v),style:Ax(Ax({},w),{},{width:s,height:u,minWidth:d,minHeight:f,maxHeight:p}),ref:S},_)}),jx=n(6604),Ox=n.n(jx),Mx=n(7424),Tx=n.n(Mx),Px="Invariant failed";function Fx(e,t){if(!e)throw new Error(Px)}var Ix=["children","width","height","viewBox","className","style","title","desc"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(this,arguments)}function Rx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zx(e){var t=e.children,n=e.width,a=e.height,i=e.viewBox,o=e.className,s=e.style,l=e.title,u=e.desc,c=Rx(e,Ix),d=i||{width:n,height:a,x:0,y:0},f=wb("recharts-surface",o);return r.createElement("svg",Bx({},bx(c,!0,"svg"),{className:f,width:n,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,u),t)}var Lx=["children","className"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(this,arguments)}function Ux(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var $x=r.forwardRef(function(e,t){var n=e.children,a=e.className,i=Ux(e,Lx),o=wb("recharts-layer",a);return r.createElement("g",qx({className:o},bx(i,!0),{ref:t}),n)});function Wx(e){return Wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(e)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(this,arguments)}function Kx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yx(Object(n),!0).forEach(function(t){Xx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Wx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wx(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jx(e){return Array.isArray(e)&&Bb(e[0])&&Bb(e[1])?e.join(" ~ "):e}var Zx=function(e){var t=e.separator,n=void 0===t?" : ":t,a=e.contentStyle,i=void 0===a?{}:a,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,u=void 0===l?{}:l,c=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=Gx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),x=Gx({margin:0},u),w=!Tb()(m),S=w?m:"",N=wb("recharts-default-tooltip",p),E=wb("recharts-tooltip-label",h);w&&g&&void 0!==c&&null!==c&&(S=g(m,c));var A=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",Hx({className:N,style:b},A),r.createElement("p",{className:E,style:x},r.isValidElement(S)?S:"".concat(S)),function(){if(c&&c.length){var e=(f?Tx()(c,f):c).map(function(e,t){if("none"===e.type)return null;var a=Gx({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||Jx,o=e.value,l=e.name,u=o,f=l;if(i&&null!=u&&null!=f){var p=i(o,l,e,t,c);if(Array.isArray(p)){var h=Kx(p,2);u=h[0],f=h[1]}else u=p}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:a},Bb(f)?r.createElement("span",{className:"recharts-tooltip-item-name"},f):null,Bb(f)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},u),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Qx(e){return Qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(e)}function ew(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Qx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qx(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tw="recharts-tooltip-wrapper",nw={visibility:"hidden"};function rw(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return wb(tw,ew(ew(ew(ew({},"".concat(tw,"-right"),Ib(n)&&t&&Ib(t.x)&&n>=t.x),"".concat(tw,"-left"),Ib(n)&&t&&Ib(t.x)&&n<t.x),"".concat(tw,"-bottom"),Ib(r)&&t&&Ib(t.y)&&r>=t.y),"".concat(tw,"-top"),Ib(r)&&t&&Ib(t.y)&&r<t.y))}function aw(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(i&&Ib(i[r]))return i[r];var c=n[r]-s-a,d=n[r]+a;return t[r]?o[r]?c:d:o[r]?c<l[r]?Math.max(d,l[r]):Math.max(c,l[r]):d+s>l[r]+u?Math.max(c,l[r]):Math.max(d,l[r])}function iw(e){return iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(e)}function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach(function(t){pw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hw(r.key),r)}}function uw(e,t,n){return t=dw(t),function(e,t){if(t&&("object"===iw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cw()?Reflect.construct(t,n||[],dw(e).constructor):t.apply(e,n))}function cw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(cw=function(){return!!e})()}function dw(e){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dw(e)}function fw(e,t){return fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fw(e,t)}function pw(e,t,n){return(t=hw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hw(e){var t=function(e,t){if("object"!=iw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==iw(t)?t:t+""}var mw=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return pw(e=uw(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pw(e,"handleKeyDown",function(t){var n,r,a,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fw(e,t)}(t,e),n=t,(a=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,u=t.hasPayload,c=t.isAnimationActive,d=t.offset,f=t.position,p=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,c=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=aw({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),translateY:n=aw({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),useTranslate3d:u}):nw,cssClasses:rw({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:a,coordinate:l,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=sw(sw({transition:c&&n?"transform ".concat(i,"ms ").concat(o):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&u?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&lw(n.prototype,a),i&&lw(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent),gw={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return gw[e]},set:function(e,t){if("string"===typeof e)gw[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){gw[t]=e[t]})}}},yw=n(977),vw=n.n(yw);function bw(e,t,n){return!0===t?vw()(e,n):Vb()(t)?vw()(e,t):e}function xw(e){return xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(e)}function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ww(Object(n),!0).forEach(function(t){_w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dw(r.key),r)}}function Ew(e,t,n){return t=Cw(t),function(e,t){if(t&&("object"===xw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Aw()?Reflect.construct(t,n||[],Cw(e).constructor):t.apply(e,n))}function Aw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Aw=function(){return!!e})()}function Cw(e){return Cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cw(e)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kw(e,t)}function _w(e,t,n){return(t=Dw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dw(e){var t=function(e,t){if("object"!=xw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xw(t)?t:t+""}function jw(e){return e.dataKey}var Ow=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ew(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,a=t.allowEscapeViewBox,i=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,u=t.filterNull,c=t.isAnimationActive,d=t.offset,f=t.payload,p=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==f&&void 0!==f?f:[];u&&b.length&&(b=bw(f.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,jw));var x=b.length>0;return r.createElement(mw,{allowEscapeViewBox:a,animationDuration:i,animationEasing:o,isAnimationActive:c,active:n,coordinate:l,hasPayload:x,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(Zx,t)}(s,Sw(Sw({},this.props),{},{payload:b})))}}])&&Nw(n.prototype,a),i&&Nw(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);_w(Ow,"displayName","Tooltip"),_w(Ow,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Mw=n(643),Tw=n.n(Mw);Math.abs,Math.atan2;const Pw=Math.cos,Fw=(Math.max,Math.min,Math.sin),Iw=Math.sqrt,Bw=Math.PI,Rw=2*Bw;const zw={draw(e,t){const n=Iw(t/Bw);e.moveTo(n,0),e.arc(0,0,n,0,Rw)}},Lw={draw(e,t){const n=Iw(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qw=Iw(1/3),Uw=2*qw,$w={draw(e,t){const n=Iw(t/Uw),r=n*qw;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ww={draw(e,t){const n=Iw(t),r=-n/2;e.rect(r,r,n,n)}},Hw=Fw(Bw/10)/Fw(7*Bw/10),Kw=Fw(Rw/10)*Hw,Vw=-Pw(Rw/10)*Hw,Yw={draw(e,t){const n=Iw(.8908130915292852*t),r=Kw*n,a=Vw*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const t=Rw*i/5,o=Pw(t),s=Fw(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*a,s*r+o*a)}e.closePath()}},Gw=Iw(3),Xw={draw(e,t){const n=-Iw(t/(3*Gw));e.moveTo(0,2*n),e.lineTo(-Gw*n,-n),e.lineTo(Gw*n,-n),e.closePath()}},Jw=-.5,Zw=Iw(3)/2,Qw=1/Iw(12),eS=3*(Qw/2+1),tS={draw(e,t){const n=Iw(t/eS),r=n/2,a=n*Qw,i=r,o=n*Qw+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Jw*r-Zw*a,Zw*r+Jw*a),e.lineTo(Jw*i-Zw*o,Zw*i+Jw*o),e.lineTo(Jw*s-Zw*l,Zw*s+Jw*l),e.lineTo(Jw*r+Zw*a,Jw*a-Zw*r),e.lineTo(Jw*i+Zw*o,Jw*o-Zw*i),e.lineTo(Jw*s+Zw*l,Jw*l-Zw*s),e.closePath()}};function nS(e){return function(){return e}}const rS=Math.PI,aS=2*rS,iS=1e-6,oS=aS-iS;function sS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class lS{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?sS:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sS;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,a,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=n-e,l=r-t,u=i-e,c=o-t,d=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>iS)if(Math.abs(c*s-l*u)>iS&&a){let f=n-i,p=r-o,h=s*s+l*l,m=f*f+p*p,g=Math.sqrt(h),y=Math.sqrt(d),v=a*Math.tan((rS-Math.acos((h+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>iS&&this._append`L${e+b*u},${t+b*c}`,this._append`A${a},${a},0,0,${+(c*f>u*p)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,a,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,u=t+s,c=1^i,d=i?r-a:a-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>iS||Math.abs(this._y1-u)>iS)&&this._append`L${l},${u}`,n&&(d<0&&(d=d%aS+aS),d>oS?this._append`A${n},${n},0,1,${c},${e-o},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:d>iS&&this._append`A${n},${n},0,${+(d>=rS)},${c},${this._x1=e+n*Math.cos(a)},${this._y1=t+n*Math.sin(a)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function uS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new lS(t)}Iw(3),Iw(3);function cS(e){return cS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cS(e)}var dS=["type","size","sizeType"];function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fS.apply(this,arguments)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(t){mS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=cS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var yS={symbolCircle:zw,symbolCross:Lw,symbolDiamond:$w,symbolSquare:Ww,symbolStar:Yw,symbolTriangle:Xw,symbolWye:tS},vS=Math.PI/180,bS=function(e){var t=e.type,n=void 0===t?"circle":t,a=e.size,i=void 0===a?64:a,o=e.sizeType,s=void 0===o?"area":o,l=hS(hS({},gS(e,dS)),{},{type:n,size:i,sizeType:s}),u=l.className,c=l.cx,d=l.cy,f=bx(l,!0);return c===+c&&d===+d&&i===+i?r.createElement("path",fS({},f,{className:wb("recharts-symbols",u),transform:"translate(".concat(c,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Tw()(e));return yS[t]||zw}(n),t=function(e,t){let n=null,r=uS(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:nS(e||zw),t="function"===typeof t?t:nS(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:nS(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:nS(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*vS;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,s,n));return t()}()})):null};function xS(e){return xS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xS(e)}function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wS.apply(this,arguments)}function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DS(r.key),r)}}function ES(e,t,n){return t=CS(t),function(e,t){if(t&&("object"===xS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AS()?Reflect.construct(t,n||[],CS(e).constructor):t.apply(e,n))}function AS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(AS=function(){return!!e})()}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CS(e)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kS(e,t)}function _S(e,t,n){return(t=DS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(e){var t=function(e,t){if("object"!=xS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xS(t)?t:t+""}bS.registerSymbol=function(e,t){yS["symbol".concat(Tw()(e))]=t};var jS=32,OS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ES(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}(t,e),n=t,a=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,a=jS/6,i=jS/3,o=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:jS,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(jS,"M").concat(2*i,",").concat(n,"\n            A").concat(a,",").concat(a,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(jS,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SS(Object(n),!0).forEach(function(t){_S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(bS,{fill:o,cx:n,cy:n,size:jS,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,a=t.iconSize,i=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:jS,height:jS},u={display:"horizontal"===i?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var i=t.formatter||o,d=wb(_S(_S({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var f=Vb()(t.value)?null:t.value;Hb(!Vb()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return r.createElement("li",wS({className:d,style:u,key:"legend-item-".concat(n)},ax(e.props,t,n)),r.createElement(zx,{width:a,height:a,viewBox:l,style:c},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},i?i(f,t,n):f))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,a=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?a:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],a&&NS(n.prototype,a),i&&NS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function MS(e){return MS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MS(e)}_S(OS,"displayName","Legend"),_S(OS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var TS=["ref"];function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function FS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(t){qS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,US(r.key),r)}}function BS(e,t,n){return t=zS(t),function(e,t){if(t&&("object"===MS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RS()?Reflect.construct(t,n||[],zS(e).constructor):t.apply(e,n))}function RS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(RS=function(){return!!e})()}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zS(e)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LS(e,t)}function qS(e,t,n){return(t=US(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function US(e){var t=function(e,t){if("object"!=MS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MS(t)?t:t+""}function $S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function WS(e){return e.value}var HS=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return qS(e=BS(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}(t,e),n=t,i=[{key:"getWithHeight",value:function(e,t){var n=FS(FS({},this.defaultProps),e.props).layout;return"vertical"===n&&Ib(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(a=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?FS({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,i=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((u||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),FS(FS({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.width,i=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,u=FS(FS({position:"absolute",width:a||"auto",height:i||"auto"},this.getDefaultPosition(o)),o);return r.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=$S(t,TS);return r.createElement(OS,n)}(n,FS(FS({},this.props),{},{payload:bw(l,s,WS)})))}}])&&IS(n.prototype,a),i&&IS(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}qS(HS,"displayName","Legend"),qS(HS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VS=function(e){var t=e.cx,n=e.cy,a=e.r,i=e.className,o=wb("recharts-dot",i);return t===+t&&n===+n&&a===+a?r.createElement("circle",KS({},bx(e,!1),rx(e),{className:o,cx:t,cy:n,r:a})):null},YS=n(5173),GS=n.n(YS),XS=Object.getOwnPropertyNames,JS=Object.getOwnPropertySymbols,ZS=Object.prototype.hasOwnProperty;function QS(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function eN(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,i=a.get(t),o=a.get(n);if(i&&o)return i===n&&o===t;a.set(t,n),a.set(n,t);var s=e(t,n,r);return a.delete(t),a.delete(n),s}}function tN(e){return XS(e).concat(JS(e))}var nN=Object.hasOwn||function(e,t){return ZS.call(e,t)};function rN(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var aN=Object.getOwnPropertyDescriptor,iN=Object.keys;function oN(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function sN(e,t){return rN(e.getTime(),t.getTime())}function lN(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function uN(e,t){return e===t}function cN(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var u=t.entries(),c=!1,d=0;(i=u.next())&&!i.done;)if(o[d])d++;else{var f=a.value,p=i.value;if(n.equals(f[0],p[0],l,d,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){c=o[d]=!0;break}d++}if(!c)return!1;l++}return!0}var dN=rN;function fN(e,t,n){var r=iN(e),a=r.length;if(iN(t).length!==a)return!1;for(;a-- >0;)if(!bN(e,t,n,r[a]))return!1;return!0}function pN(e,t,n){var r,a,i,o=tN(e),s=o.length;if(tN(t).length!==s)return!1;for(;s-- >0;){if(!bN(e,t,n,r=o[s]))return!1;if(a=aN(e,r),i=aN(t,r),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function hN(e,t){return rN(e.valueOf(),t.valueOf())}function mN(e,t){return e.source===t.source&&e.flags===t.flags}function gN(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,i,o=new Array(r),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),u=!1,c=0;(i=l.next())&&!i.done;){if(!o[c]&&n.equals(a.value,i.value,a.value,i.value,e,t,n)){u=o[c]=!0;break}c++}if(!u)return!1}return!0}function yN(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function vN(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function bN(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||nN(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var xN=Array.isArray,wN="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,SN=Object.assign,NN=Object.prototype.toString.call.bind(Object.prototype.toString);var EN=AN();AN({strict:!0}),AN({circular:!0}),AN({circular:!0,strict:!0}),AN({createInternalComparator:function(){return rN}}),AN({strict:!0,createInternalComparator:function(){return rN}}),AN({circular:!0,createInternalComparator:function(){return rN}}),AN({circular:!0,createInternalComparator:function(){return rN},strict:!0});function AN(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?pN:oN,areDatesEqual:sN,areErrorsEqual:lN,areFunctionsEqual:uN,areMapsEqual:r?QS(cN,pN):cN,areNumbersEqual:dN,areObjectsEqual:r?pN:fN,arePrimitiveWrappersEqual:hN,areRegExpsEqual:mN,areSetsEqual:r?QS(gN,pN):gN,areTypedArraysEqual:r?pN:yN,areUrlsEqual:vN};if(n&&(a=SN({},a,n(a))),t){var i=eN(a.areArraysEqual),o=eN(a.areMapsEqual),s=eN(a.areObjectsEqual),l=eN(a.areSetsEqual);a=SN({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?o(e,p,h):"function"===m&&a(e,p,h);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(e,p,h);if(xN(e))return t(e,p,h);if(null!=wN&&wN(e))return d(e,p,h);if(g===Date)return n(e,p,h);if(g===RegExp)return u(e,p,h);if(g===Map)return i(e,p,h);if(g===Set)return c(e,p,h);var y=NN(e);return"[object Date]"===y?n(e,p,h):"[object RegExp]"===y?u(e,p,h):"[object Map]"===y?i(e,p,h):"[object Set]"===y?c(e,p,h):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof p.then&&s(e,p,h):"[object URL]"===y?f(e,p,h):"[object Error]"===y?r(e,p,h):"[object Arguments]"===y?s(e,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,p,h)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,u=void 0===l?t?new WeakMap:void 0:l,c=s.meta;return n(e,o,{cache:u,equals:a,meta:c,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return n(e,t,o)}}({circular:r,comparator:u,createState:i,equals:a?a(u):(t=u,function(e,n,r,a,i,o,s){return t(e,n,s)}),strict:s})}function CN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function kN(e){return kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kN(e)}function _N(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return DN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jN(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=_N(r),i=a[0],o=a.slice(1);return"number"===typeof i?void CN(n.bind(null,o),i):(n(i),void CN(n.bind(null,o)))}"object"===kN(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function ON(e){return ON="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ON(e)}function MN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MN(Object(n),!0).forEach(function(t){PN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ON(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ON(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ON(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FN=function(e){return e},IN=function(e,t){return Object.keys(t).reduce(function(n,r){return TN(TN({},n),{},PN({},r,e(r,t[r])))},{})},BN=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function RN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||LN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zN(e){return function(e){if(Array.isArray(e))return qN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||LN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LN(e,t){if(e){if("string"===typeof e)return qN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qN(e,t):void 0}}function qN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UN=1e-4,$N=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},WN=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},HN=function(e,t){return function(n){var r=$N(e,t);return WN(r,n)}},KN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,i=1,o=1;break;case"ease":r=.25,a=.1,i=.25,o=1;break;case"ease-in":r=.42,a=0,i=1,o=1;break;case"ease-out":r=.42,a=0,i=.58,o=1;break;case"ease-in-out":r=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=RN(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],i=l[2],o=l[3]}}[r,i,a,o].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var u,c,d=HN(r,i),f=HN(a,o),p=(u=r,c=i,function(e){var t=$N(u,c),n=[].concat(zN(t.map(function(e,t){return e*t}).slice(1)),[0]);return WN(n,e)}),h=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=d(n)-t,i=p(n);if(Math.abs(a-t)<UN||i<UN)return f(n);n=h(n-a/i)}return f(n)};return m.isStepper=!1,m},VN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KN(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,i=e.dt,o=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*a)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<UN&&Math.abs(i)<UN?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return KN(r)}return"function"===typeof r?r:null};function YN(e){return YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YN(e)}function GN(e){return function(e){if(Array.isArray(e))return tE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(t){ZN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZN(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==YN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==YN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===YN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||eE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eE(e,t){if(e){if("string"===typeof e)return tE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tE(e,t):void 0}}function tE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nE=function(e,t,n){return e+(t-e)*n},rE=function(e){return e.from!==e.to},aE=function e(t,n,r){var a=IN(function(e,n){if(rE(n)){var r=QN(t(n.from,n.to,n.velocity),2),a=r[0],i=r[1];return JN(JN({},n),{},{from:a,velocity:i})}return n},n);return r<1?IN(function(e,t){return rE(t)?JN(JN({},t),{},{velocity:nE(t.velocity,a[e].velocity,r),from:nE(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const iE=function(e,t,n,r,a){var i,o,s,l,u=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),c=u.reduce(function(n,r){return JN(JN({},n),{},ZN({},r,[e[r],t[r]]))},{}),d=u.reduce(function(n,r){return JN(JN({},n),{},ZN({},r,{from:e[r],velocity:0,to:t[r]}))},{}),f=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=aE(n,d,i),a(JN(JN(JN({},e),t),IN(function(e,t){return t.from},d))),s=r,Object.values(d).filter(rE).length&&(f=requestAnimationFrame(p))}:function(i){l||(l=i);var o=(i-l)/r,s=IN(function(e,t){return nE.apply(void 0,GN(t).concat([n(o)]))},c);if(a(JN(JN(JN({},e),t),s)),o<1)f=requestAnimationFrame(p);else{var u=IN(function(e,t){return nE.apply(void 0,GN(t).concat([n(1)]))},c);a(JN(JN(JN({},e),t),u))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function oE(e){return oE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oE(e)}var sE=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lE(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uE(e){return function(e){if(Array.isArray(e))return cE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(t){pE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pE(e,t,n){return(t=mE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mE(r.key),r)}}function mE(e){var t=function(e,t){if("object"!==oE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oE(t)?t:String(t)}function gE(e,t){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gE(e,t)}function yE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=xE(e);if(t){var a=xE(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return vE(this,n)}}function vE(e,t){if(t&&("object"===oE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bE(e)}function bE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xE(e){return xE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xE(e)}var wE=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gE(e,t)}(o,e);var t,n,a,i=yE(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=i.call(this,e,t)).props,a=r.isActive,s=r.attributeName,l=r.from,u=r.to,c=r.steps,d=r.children,f=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(bE(n)),n.changeStyle=n.changeStyle.bind(bE(n)),!a||f<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:u}),vE(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"===typeof d)return n.state={style:l},vE(n);n.state={style:s?pE({},s,l):l}}else n.state={style:{}};return n}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(EN(e.to,o)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||i?s:e.to;if(this.state&&l){var d={style:a?pE({},a,c):c};(a&&l[a]!==c||!a&&l!==c)&&this.setState(d)}this.runAnimation(fE(fE({},this.props),{},{from:c,begin:0}))}}else{var f={style:a?pE({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=iE(n,r,VN(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=u()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,i=n[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(uE(n.reduce(function(e,r,a){if(0===a)return e;var i=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,u=r.properties,c=r.onAnimationEnd,d=a>0?n[a-1]:r,f=u||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(uE(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var p=BN(f,i,s),h=fE(fE(fE({},d.style),l),{},{transition:p});return[].concat(uE(e),[h,i,c]).filter(FN)},[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=jN());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof u&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=r?pE({},r,a):a,f=BN(Object.keys(d),n,i);c.start([o,t,fE(fE({},d),{},{transition:f}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),a=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,lE(e,sE)),o=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!a||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,a=void 0===n?{}:n,o=t.className;return(0,r.cloneElement)(e,fE(fE({},i),{},{style:fE(fE({},a),s),className:o}))};return 1===o?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,function(e){return l(e)}))}}],n&&hE(t.prototype,n),a&&hE(t,a),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent);wE.displayName="Animate",wE.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},wE.propTypes={from:GS().oneOfType([GS().object,GS().string]),to:GS().oneOfType([GS().object,GS().string]),attributeName:GS().string,duration:GS().number,begin:GS().number,easing:GS().oneOfType([GS().string,GS().func]),steps:GS().arrayOf(GS().shape({duration:GS().number.isRequired,style:GS().object.isRequired,easing:GS().oneOfType([GS().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),GS().func]),properties:GS().arrayOf("string"),onAnimationEnd:GS().func})),children:GS().oneOfType([GS().node,GS().func]),isActive:GS().bool,canBegin:GS().bool,onAnimationEnd:GS().func,shouldReAnimate:GS().bool,onAnimationStart:GS().func,onAnimationReStart:GS().func};const SE=wE;function NE(e){return NE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NE(e)}function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(this,arguments)}function AE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return CE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kE(Object(n),!0).forEach(function(t){DE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function DE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=NE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NE(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jE=function(e,t,n,r,a){var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var c=[0,0,0,0],d=0;d<4;d++)c[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(i+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),i+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(i+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),i+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(i+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),i+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(i+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(u,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*f,"\n            L ").concat(e+n,",").concat(t+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(u,",").concat(e+n-l*f,",").concat(t+r,"\n            L ").concat(e+l*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},OE=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),u=Math.max(a,a+o),c=Math.min(i,i+s),d=Math.max(i,i+s);return n>=l&&n<=u&&r>=c&&r<=d}return!1},ME={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TE=function(e){var t=_E(_E({},ME),e),n=(0,r.useRef)(),a=AE((0,r.useState)(-1),2),i=a[0],o=a[1];(0,r.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.width,c=t.height,d=t.radius,f=t.className,p=t.animationEasing,h=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||0===u||0===c)return null;var v=wb("recharts-rectangle",f);return y?r.createElement(SE,{canBegin:i>0,from:{width:u,height:c,x:s,y:l},to:{width:u,height:c,x:s,y:l},duration:h,animationEasing:p,isActive:y},function(e){var a=e.width,o=e.height,s=e.x,l=e.y;return r.createElement(SE,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:p},r.createElement("path",EE({},bx(t,!0),{className:v,d:jE(s,l,a,o,d),ref:n})))}):r.createElement("path",EE({},bx(t,!0),{className:v,d:jE(s,l,u,c,d)}))};function PE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function FE(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class IE extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(BE(this,e))}has(e){return super.has(BE(this,e))}set(e,t){return super.set(RE(this,e),t)}delete(e){return super.delete(zE(this,e))}}Set;function BE(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function RE(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function zE(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function LE(e){return null!==e&&"object"===typeof e?e.valueOf():e}const qE=Symbol("implicit");function UE(){var e=new IE,t=[],n=[],r=qE;function a(a){let i=e.get(a);if(void 0===i){if(r!==qE)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new IE;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return UE(t,n).unknown(r)},PE.apply(a,arguments),a}function $E(){var e,t,n=UE().unknown(void 0),r=n.domain,a=n.range,i=0,o=1,s=!1,l=0,u=0,c=.5;function d(){var n=r().length,d=o<i,f=d?o:i,p=d?i:o;e=(p-f)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),f+=(p-f-e*(n-l))*c,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e+r*n;return i}(n).map(function(t){return f+e*t});return a(d?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},n.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return $E(r(),[i,o]).round(s).paddingInner(l).paddingOuter(u).align(c)},PE.apply(d(),arguments)}function WE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WE(t())},e}function HE(){return WE($E.apply(null,arguments).paddingInner(1))}function KE(e){return KE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KE(e)}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(t){GE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function GE(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=KE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KE(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XE={widthCache:{},cacheCount:0},JE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZE="recharts_measurement_span";var QE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||gw.isSsr)return{width:0,height:0};var n=function(e){var t=YE({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(XE.widthCache[r])return XE.widthCache[r];try{var a=document.getElementById(ZE);a||((a=document.createElement("span")).setAttribute("id",ZE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=YE(YE({},JE),n);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return XE.widthCache[r]=s,++XE.cacheCount>2e3&&(XE.cacheCount=0,XE.widthCache={}),s}catch(l){return{width:0,height:0}}};function eA(e){return eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(e)}function tA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aA(r.key),r)}}function aA(e){var t=function(e,t){if("object"!=eA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eA(t)?t:t+""}var iA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sA=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lA=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},cA=Object.keys(uA),dA="NaN";var fA=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||sA.test(n)||(this.num=NaN,this.unit=""),cA.includes(n)&&(this.num=function(e,t){return e*uA[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=tA(null!==(n=lA.exec(t))&&void 0!==n?n:[],3),a=r[1],i=r[2];return new e(parseFloat(a),null!==i&&void 0!==i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&rA(t.prototype,n),r&&rA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function pA(e){if(e.includes(dA))return dA;for(var t=e;t.includes("*")||t.includes("/");){var n,r=tA(null!==(n=iA.exec(t))&&void 0!==n?n:[],4),a=r[1],i=r[2],o=r[3],s=fA.parse(null!==a&&void 0!==a?a:""),l=fA.parse(null!==o&&void 0!==o?o:""),u="*"===i?s.multiply(l):s.divide(l);if(u.isNaN())return dA;t=t.replace(iA,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,d=tA(null!==(c=oA.exec(t))&&void 0!==c?c:[],4),f=d[1],p=d[2],h=d[3],m=fA.parse(null!==f&&void 0!==f?f:""),g=fA.parse(null!==h&&void 0!==h?h:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return dA;t=t.replace(oA,y.toString())}return t}var hA=/\(([^()]*)\)/;function mA(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=tA(hA.exec(t),2)[1];t=t.replace(hA,pA(n))}return t}(t),t=pA(t)}function gA(e){var t=function(e){try{return mA(e)}catch(t){return dA}}(e.slice(5,-1));return t===dA?"":t}var yA=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vA=["dx","dy","angle","className","breakAll"];function bA(){return bA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bA.apply(this,arguments)}function xA(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return SA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var NA=/[ \f\n\r\t\v\u2028\u2029]+/,EA=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Tb()(t)||(a=n?t.toString().split(""):t.toString().split(NA)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:QE(e,r).width}}),spaceWidth:n?0:QE("\xa0",r).width}}catch(i){return null}},AA=function(e){return[{words:Tb()(e)?[]:e.toString().split(NA)}]},CA=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||n)&&!gw.isSsr){var s=EA({breakAll:i,children:r,style:a});return s?function(e,t,n,r,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,u=Ib(i),c=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||a||s.width+o+n<Number(r)))s.words.push(i),s.width+=o+n;else{var l={words:[i],width:o};e.push(l)}return e},[])},f=d(t);if(!u)return f;for(var p,h=function(e){var t=c.slice(0,e),n=EA({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,a=d(n),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[o,a]},m=0,g=c.length-1,y=0;m<=g&&y<=c.length-1;){var v=Math.floor((m+g)/2),b=wA(h(v-1),2),x=b[0],w=b[1],S=wA(h(v),1)[0];if(x||S||(m=v+1),x&&S&&(g=v-1),!x&&S){p=w;break}y++}return p||f}({breakAll:i,children:r,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,n):AA(r)}return AA(r)},kA="#808080",_A=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,i=void 0===a?0:a,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,u=void 0===l?"0.71em":l,c=e.scaleToFit,d=void 0!==c&&c,f=e.textAnchor,p=void 0===f?"start":f,h=e.verticalAnchor,m=void 0===h?"end":h,g=e.fill,y=void 0===g?kA:g,v=xA(e,yA),b=(0,r.useMemo)(function(){return CA({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,S=v.angle,N=v.className,E=v.breakAll,A=xA(v,vA);if(!Bb(n)||!Bb(i))return null;var C,k=n+(Ib(x)?x:0),_=i+(Ib(w)?w:0);switch(m){case"start":C=gA("calc(".concat(u,")"));break;case"middle":C=gA("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=gA("calc(".concat(b.length-1," * -").concat(s,")"))}var D=[];if(d){var j=b[0].width,O=v.width;D.push("scale(".concat((Ib(O)?O/j:1)/j,")"))}return S&&D.push("rotate(".concat(S,", ").concat(k,", ").concat(_,")")),D.length&&(A.transform=D.join(" ")),r.createElement("text",bA({},bx(A,!0),{x:k,y:_,className:wb("recharts-text",N),textAnchor:p,fill:y.includes("url")?kA:y}),b.map(function(e,t){var n=e.words.join(E?"":" ");return r.createElement("tspan",{x:k,dy:0===t?C:s,key:"".concat(n,"-").concat(t)},n)}))};const DA=Math.sqrt(50),jA=Math.sqrt(10),OA=Math.sqrt(2);function MA(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=DA?10:i>=jA?5:i>=OA?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?MA(e,t,2*n):[s,l,u]}function TA(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,i,o]=r?MA(t,e,n):MA(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function PA(e,t,n){return MA(e=+e,t=+t,n=+n)[2]}function FA(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?PA(t,e,n):PA(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function IA(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BA(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RA(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=IA,n=(t,n)=>IA(e(t),n),r=(t,n)=>e(t)-n):(t=e===IA||e===BA?e:zA,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>n&&r(e[i-1],t)>-r(e[i],t)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==t(r,r))return i;do{const t=a+i>>>1;n(e[t],r)<=0?a=t+1:i=t}while(a<i)}return a}}}function zA(){return 0}function LA(e){return null===e?NaN:+e}const qA=RA(IA),UA=qA.right,$A=(qA.left,RA(LA).center,UA);function WA(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HA(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function KA(){}var VA=.7,YA=1/VA,GA="\\s*([+-]?\\d+)\\s*",XA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",JA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZA=/^#([0-9a-f]{3,8})$/,QA=new RegExp(`^rgb\\(${GA},${GA},${GA}\\)$`),eC=new RegExp(`^rgb\\(${JA},${JA},${JA}\\)$`),tC=new RegExp(`^rgba\\(${GA},${GA},${GA},${XA}\\)$`),nC=new RegExp(`^rgba\\(${JA},${JA},${JA},${XA}\\)$`),rC=new RegExp(`^hsl\\(${XA},${JA},${JA}\\)$`),aC=new RegExp(`^hsla\\(${XA},${JA},${JA},${XA}\\)$`),iC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function oC(){return this.rgb().formatHex()}function sC(){return this.rgb().formatRgb()}function lC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ZA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?uC(t):3===n?new fC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?cC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?cC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=QA.exec(e))?new fC(t[1],t[2],t[3],1):(t=eC.exec(e))?new fC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tC.exec(e))?cC(t[1],t[2],t[3],t[4]):(t=nC.exec(e))?cC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rC.exec(e))?vC(t[1],t[2]/100,t[3]/100,1):(t=aC.exec(e))?vC(t[1],t[2]/100,t[3]/100,t[4]):iC.hasOwnProperty(e)?uC(iC[e]):"transparent"===e?new fC(NaN,NaN,NaN,0):null}function uC(e){return new fC(e>>16&255,e>>8&255,255&e,1)}function cC(e,t,n,r){return r<=0&&(e=t=n=NaN),new fC(e,t,n,r)}function dC(e,t,n,r){return 1===arguments.length?function(e){return e instanceof KA||(e=lC(e)),e?new fC((e=e.rgb()).r,e.g,e.b,e.opacity):new fC}(e):new fC(e,t,n,null==r?1:r)}function fC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function pC(){return`#${yC(this.r)}${yC(this.g)}${yC(this.b)}`}function hC(){const e=mC(this.opacity);return`${1===e?"rgb(":"rgba("}${gC(this.r)}, ${gC(this.g)}, ${gC(this.b)}${1===e?")":`, ${e})`}`}function mC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yC(e){return((e=gC(e))<16?"0":"")+e.toString(16)}function vC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xC(e,t,n,r)}function bC(e){if(e instanceof xC)return new xC(e.h,e.s,e.l,e.opacity);if(e instanceof KA||(e=lC(e)),!e)return new xC;if(e instanceof xC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new xC(o,s,l,e.opacity)}function xC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function wC(e){return(e=(e||0)%360)<0?e+360:e}function SC(e){return Math.max(0,Math.min(1,e||0))}function NC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function EC(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}WA(KA,lC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oC,formatHex:oC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return bC(this).formatHsl()},formatRgb:sC,toString:sC}),WA(fC,dC,HA(KA,{brighter(e){return e=null==e?YA:Math.pow(YA,e),new fC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?VA:Math.pow(VA,e),new fC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fC(gC(this.r),gC(this.g),gC(this.b),mC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pC,formatHex:pC,formatHex8:function(){return`#${yC(this.r)}${yC(this.g)}${yC(this.b)}${yC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:hC,toString:hC})),WA(xC,function(e,t,n,r){return 1===arguments.length?bC(e):new xC(e,t,n,null==r?1:r)},HA(KA,{brighter(e){return e=null==e?YA:Math.pow(YA,e),new xC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?VA:Math.pow(VA,e),new xC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new fC(NC(e>=240?e-240:e+120,a,r),NC(e,a,r),NC(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new xC(wC(this.h),SC(this.s),SC(this.l),mC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mC(this.opacity);return`${1===e?"hsl(":"hsla("}${wC(this.h)}, ${100*SC(this.s)}%, ${100*SC(this.l)}%${1===e?")":`, ${e})`}`}}));const AC=e=>()=>e;function CC(e,t){return function(n){return e+n*t}}function kC(e){return 1===(e=+e)?_C:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):AC(isNaN(t)?n:t)}}function _C(e,t){var n=t-e;return n?CC(e,n):AC(isNaN(e)?t:e)}const DC=function e(t){var n=kC(t);function r(e,t){var r=n((e=dC(e)).r,(t=dC(t)).r),a=n(e.g,t.g),i=n(e.b,t.b),o=_C(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function jC(e){return function(t){var n,r,a=t.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=dC(t[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=e(i),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=s(e),r+""}}}jC(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,s=r<t-1?e[r+2]:2*i-a;return EC((n-r/t)*t,o,a,i,s)}}),jC(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return EC((n-r/t)*t,a,i,o,s)}});function OC(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=zC(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<a;++n)o[n]=i[n](e);return o}}function MC(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function TC(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function PC(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=zC(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var FC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IC=new RegExp(FC.source,"g");function BC(e,t){var n,r,a,i=FC.lastIndex=IC.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=FC.exec(e))&&(r=IC.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:TC(n,r)})),i=IC.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function RC(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(n=0;n<r;++n)a[n]=e[n]*(1-i)+t[n]*i;return a}}function zC(e,t){var n,r=typeof t;return null==t||"boolean"===r?AC(t):("number"===r?TC:"string"===r?(n=lC(t))?(t=n,DC):BC:t instanceof lC?DC:t instanceof Date?MC:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?RC:Array.isArray(t)?OC:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?PC:TC)(e,t)}function LC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function qC(e){return+e}var UC=[0,1];function $C(e){return e}function WC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function HC(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=WC(a,r),i=n(o,i)):(r=WC(r,a),i=n(i,o)),function(e){return i(r(e))}}function KC(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=WC(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(t){var n=$A(e,t,1,r)-1;return i[n](a[n](t))}}function VC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function YC(){var e,t,n,r,a,i,o=UC,s=UC,l=zC,u=$C;function c(){var e=Math.min(o.length,s.length);return u!==$C&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?KC:HC,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(a||(a=r(o.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((i||(i=r(s,o.map(e),TC)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,qC),c()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=LC,c()},d.clamp=function(e){return arguments.length?(u=!!e||$C,c()):u!==$C},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function GC(){return YC()($C,$C)}var XC,JC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ZC(e){if(!(t=JC.exec(e)))throw new Error("invalid format: "+e);var t;return new QC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function QC(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ek(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function tk(e){return(e=ek(Math.abs(e)))?e[1]:NaN}function nk(e,t){var n=ek(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}ZC.prototype=QC.prototype,QC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const rk={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nk(100*e,t),r:nk,s:function(e,t){var n=ek(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(XC=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ek(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ak(e){return e}var ik,ok,sk,lk=Array.prototype.map,uk=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ck(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ak:(t=lk.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ak:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(lk.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ZC(e)).fill,n=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):rk[v]||(void 0===g&&(g=12),y=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?i:/[%p]/.test(v)?l:"",w=rk[v],S=/[defgprs%]/.test(v);function N(e){var a,i,l,f=b,N=x;if("c"===v)N=w(e)+N,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==d&&(E=!1),f=(E?"("===d?d:u:"-"===d||"("===d?"":d)+f,N=("s"===v?uk[8+XC/3]:"")+N+(E&&"("===d?")":""),S)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!p&&(e=r(e,1/0));var A=f.length+e.length+N.length,C=A<h?new Array(h-A+1).join(t):"";switch(m&&p&&(e=r(C+e,C.length?h-N.length:1/0),C=""),n){case"<":e=f+e+N+C;break;case"=":e=f+C+e+N;break;case"^":e=C.slice(0,A=C.length>>1)+f+e+N+C.slice(A);break;default:e=C+f+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var n=d(((e=ZC(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(tk(t)/3))),a=Math.pow(10,-r),i=uk[8+r/3];return function(e){return n(a*e)+i}}}}function dk(e,t,n,r){var a,i=FA(e,t,n);switch((r=ZC(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tk(t)/3)))-tk(Math.abs(e)))}(i,o))||(r.precision=a),sk(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tk(t)-tk(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-tk(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return ok(r)}function fk(e){var t=e.domain;return e.ticks=function(e){var n=t();return TA(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return dk(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,i=t(),o=0,s=i.length-1,l=i[o],u=i[s],c=10;for(u<l&&(a=l,l=u,u=a,a=o,o=s,s=a);c-- >0;){if((a=PA(l,u,n))===r)return i[o]=l,i[s]=u,t(i);if(a>0)l=Math.floor(l/a)*a,u=Math.ceil(u/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,u=Math.floor(u*a)/a}r=a}return e},e}function pk(){var e=GC();return e.copy=function(){return VC(e,pk())},PE.apply(e,arguments),fk(e)}function hk(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,qC),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return hk(e).unknown(t)},e=arguments.length?Array.from(e,qC):[0,1],fk(n)}function mk(e,t){var n,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function gk(e){return Math.log(e)}function yk(e){return Math.exp(e)}function vk(e){return-Math.log(-e)}function bk(e){return-Math.exp(-e)}function xk(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wk(e){return(t,n)=>-e(-t,n)}function Sk(e){const t=e(gk,yk),n=t.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?xk:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=wk(r),a=wk(a),e(vk,bk)):e(gk,yk),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let u,c,d=r(o),f=r(s);const p=null==e?10:+e;let h=[];if(!(i%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(u=1;u<i;++u)if(c=d<0?u/a(-d):u*a(d),!(c<o)){if(c>s)break;h.push(c)}}else for(;d<=f;++d)for(u=i-1;u>=1;--u)if(c=d>0?u/a(-d):u*a(d),!(c<o)){if(c>s)break;h.push(c)}2*h.length<p&&(h=TA(o,s,p))}else h=TA(d,f,Math.min(f-d,p)).map(a);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!==typeof n&&(i%1||null!=(n=ZC(n)).precision||(n.trim=!0),n=ok(n)),e===1/0)return n;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=o?n(e):""}},t.nice=()=>n(mk(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function Nk(){const e=Sk(YC()).domain([1,10]);return e.copy=()=>VC(e,Nk()).base(e.base()),PE.apply(e,arguments),e}function Ek(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ak(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ck(e){var t=1,n=e(Ek(t),Ak(t));return n.constant=function(n){return arguments.length?e(Ek(t=+n),Ak(t)):t},fk(n)}function kk(){var e=Ck(YC());return e.copy=function(){return VC(e,kk()).constant(e.constant())},PE.apply(e,arguments)}function _k(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Dk(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jk(e){return e<0?-e*e:e*e}function Ok(e){var t=e($C,$C),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e($C,$C):.5===n?e(Dk,jk):e(_k(n),_k(1/n)):n},fk(t)}function Mk(){var e=Ok(YC());return e.copy=function(){return VC(e,Mk()).exponent(e.exponent())},PE.apply(e,arguments),e}function Tk(){return Mk.apply(null,arguments).exponent(.5)}function Pk(e){return Math.sign(e)*e*e}function Fk(){var e,t=GC(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Pk(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,qC)).map(Pk)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Fk(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},PE.apply(a,arguments),fk(a)}function Ik(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Bk(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Rk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:IA;if(e===IA)return zk;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function zk(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Lk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?zk:Rk(a);r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Lk(e,t,Math.max(n,Math.floor(t-o*l/i+u)),Math.min(r,Math.floor(t+(i-o)*l/i+u)),a)}const i=e[t];let o=n,s=r;for(qk(e,n,t),a(e[r],i)>0&&qk(e,n,r);o<s;){for(qk(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[n],i)?qk(e,n,s):(++s,qk(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function qk(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Uk(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Bk(e);if(t>=1)return Ik(e);var r,a=(r-1)*t,i=Math.floor(a),o=Ik(Lk(e,i).subarray(0,i+1));return o+(Bk(e.subarray(i+1))-o)*(a-i)}}function $k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LA;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e);return o+(+n(e[i+1],i+1,e)-o)*(a-i)}}function Wk(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=$k(t,e/a);return i}function i(t){return null==t||isNaN(t=+t)?e:n[$A(r,t)]}return i.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(IA),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return Wk().domain(t).range(n).unknown(e)},PE.apply(i,arguments)}function Hk(){var e,t=0,n=1,r=1,a=[.5],i=[0,1];function o(t){return null!=t&&t<=t?i[$A(a,t,0,r)]:e}function s(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},o.invertExtent=function(e){var o=i.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return Hk().domain([t,n]).range(i).unknown(e)},PE.apply(fk(o),arguments)}function Kk(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[$A(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Kk().domain(t).range(n).unknown(e)},PE.apply(a,arguments)}ik=ck({thousands:",",grouping:[3],currency:["$",""]}),ok=ik.format,sk=ik.formatPrefix;const Vk=1e3,Yk=6e4,Gk=36e5,Xk=864e5,Jk=6048e5,Zk=2592e6,Qk=31536e6,e_=new Date,t_=new Date;function n_(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,i)=>{const o=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return o;let s;do{o.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return o},a.filter=n=>n_(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(e_.setTime(+t),t_.setTime(+r),e(e_),e(t_),Math.floor(n(e_,t_))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const r_=n_(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);r_.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n_(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):r_:null);r_.range;const a_=n_(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vk)},(e,t)=>(t-e)/Vk,e=>e.getUTCSeconds()),i_=(a_.range,n_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vk)},(e,t)=>{e.setTime(+e+t*Yk)},(e,t)=>(t-e)/Yk,e=>e.getMinutes())),o_=(i_.range,n_(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yk)},(e,t)=>(t-e)/Yk,e=>e.getUTCMinutes())),s_=(o_.range,n_(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vk-e.getMinutes()*Yk)},(e,t)=>{e.setTime(+e+t*Gk)},(e,t)=>(t-e)/Gk,e=>e.getHours())),l_=(s_.range,n_(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gk)},(e,t)=>(t-e)/Gk,e=>e.getUTCHours())),u_=(l_.range,n_(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yk)/Xk,e=>e.getDate()-1)),c_=(u_.range,n_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xk,e=>e.getUTCDate()-1)),d_=(c_.range,n_(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xk,e=>Math.floor(e/Xk)));d_.range;function f_(e){return n_(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yk)/Jk)}const p_=f_(0),h_=f_(1),m_=f_(2),g_=f_(3),y_=f_(4),v_=f_(5),b_=f_(6);p_.range,h_.range,m_.range,g_.range,y_.range,v_.range,b_.range;function x_(e){return n_(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Jk)}const w_=x_(0),S_=x_(1),N_=x_(2),E_=x_(3),A_=x_(4),C_=x_(5),k_=x_(6),__=(w_.range,S_.range,N_.range,E_.range,A_.range,C_.range,k_.range,n_(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),D_=(__.range,n_(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),j_=(D_.range,n_(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));j_.every=e=>isFinite(e=Math.floor(e))&&e>0?n_(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;j_.range;const O_=n_(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());O_.every=e=>isFinite(e=Math.floor(e))&&e>0?n_(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;O_.range;function M_(e,t,n,r,a,i){const o=[[a_,1,Vk],[a_,5,5e3],[a_,15,15e3],[a_,30,3e4],[i,1,Yk],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Gk],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Xk],[r,2,1728e5],[n,1,Jk],[t,1,Zk],[t,3,7776e6],[e,1,Qk]];function s(t,n,r){const a=Math.abs(n-t)/r,i=RA(e=>{let[,,t]=e;return t}).right(o,a);if(i===o.length)return e.every(FA(t/Qk,n/Qk,r));if(0===i)return r_.every(Math.max(FA(t,n,r),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:s(e,t,n),i=a?a.range(e,+t+1):[];return r?i.reverse():i},s]}const[T_,P_]=M_(O_,D_,w_,d_,l_,o_),[F_,I_]=M_(j_,__,p_,u_,s_,i_);function B_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function R_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function z_(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var L_,q_,U_,$_={"-":"",_:" ",0:"0"},W_=/^\s*\d+/,H_=/^%/,K_=/[\\^$*+?|[\]().{}]/g;function V_(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Y_(e){return e.replace(K_,"\\$&")}function G_(e){return new RegExp("^(?:"+e.map(Y_).join("|")+")","i")}function X_(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function J_(e,t,n){var r=W_.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Z_(e,t,n){var r=W_.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Q_(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function nD(e,t,n){var r=W_.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function aD(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function iD(e,t,n){var r=W_.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function oD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lD(e,t,n){var r=W_.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dD(e,t,n){var r=W_.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fD(e,t,n){var r=W_.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function pD(e,t,n){var r=W_.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hD(e,t,n){var r=H_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mD(e,t,n){var r=W_.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gD(e,t,n){var r=W_.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function yD(e,t){return V_(e.getDate(),t,2)}function vD(e,t){return V_(e.getHours(),t,2)}function bD(e,t){return V_(e.getHours()%12||12,t,2)}function xD(e,t){return V_(1+u_.count(j_(e),e),t,3)}function wD(e,t){return V_(e.getMilliseconds(),t,3)}function SD(e,t){return wD(e,t)+"000"}function ND(e,t){return V_(e.getMonth()+1,t,2)}function ED(e,t){return V_(e.getMinutes(),t,2)}function AD(e,t){return V_(e.getSeconds(),t,2)}function CD(e){var t=e.getDay();return 0===t?7:t}function kD(e,t){return V_(p_.count(j_(e)-1,e),t,2)}function _D(e){var t=e.getDay();return t>=4||0===t?y_(e):y_.ceil(e)}function DD(e,t){return e=_D(e),V_(y_.count(j_(e),e)+(4===j_(e).getDay()),t,2)}function jD(e){return e.getDay()}function OD(e,t){return V_(h_.count(j_(e)-1,e),t,2)}function MD(e,t){return V_(e.getFullYear()%100,t,2)}function TD(e,t){return V_((e=_D(e)).getFullYear()%100,t,2)}function PD(e,t){return V_(e.getFullYear()%1e4,t,4)}function FD(e,t){var n=e.getDay();return V_((e=n>=4||0===n?y_(e):y_.ceil(e)).getFullYear()%1e4,t,4)}function ID(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+V_(t/60|0,"0",2)+V_(t%60,"0",2)}function BD(e,t){return V_(e.getUTCDate(),t,2)}function RD(e,t){return V_(e.getUTCHours(),t,2)}function zD(e,t){return V_(e.getUTCHours()%12||12,t,2)}function LD(e,t){return V_(1+c_.count(O_(e),e),t,3)}function qD(e,t){return V_(e.getUTCMilliseconds(),t,3)}function UD(e,t){return qD(e,t)+"000"}function $D(e,t){return V_(e.getUTCMonth()+1,t,2)}function WD(e,t){return V_(e.getUTCMinutes(),t,2)}function HD(e,t){return V_(e.getUTCSeconds(),t,2)}function KD(e){var t=e.getUTCDay();return 0===t?7:t}function VD(e,t){return V_(w_.count(O_(e)-1,e),t,2)}function YD(e){var t=e.getUTCDay();return t>=4||0===t?A_(e):A_.ceil(e)}function GD(e,t){return e=YD(e),V_(A_.count(O_(e),e)+(4===O_(e).getUTCDay()),t,2)}function XD(e){return e.getUTCDay()}function JD(e,t){return V_(S_.count(O_(e)-1,e),t,2)}function ZD(e,t){return V_(e.getUTCFullYear()%100,t,2)}function QD(e,t){return V_((e=YD(e)).getUTCFullYear()%100,t,2)}function ej(e,t){return V_(e.getUTCFullYear()%1e4,t,4)}function tj(e,t){var n=e.getUTCDay();return V_((e=n>=4||0===n?A_(e):A_.ceil(e)).getUTCFullYear()%1e4,t,4)}function nj(){return"+0000"}function rj(){return"%"}function aj(e){return+e}function ij(e){return Math.floor(+e/1e3)}function oj(e){return new Date(e)}function sj(e){return e instanceof Date?+e:+new Date(+e)}function lj(e,t,n,r,a,i,o,s,l,u){var c=GC(),d=c.invert,f=c.domain,p=u(".%L"),h=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(e){return(l(e)<e?p:s(e)<e?h:o(e)<e?m:i(e)<e?g:r(e)<e?a(e)<e?y:v:n(e)<e?b:x)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?f(Array.from(e,sj)):f().map(oj)},c.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:u(t)},c.nice=function(e){var n=f();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(mk(n,e)):c},c.copy=function(){return VC(c,lj(e,t,n,r,a,i,o,s,l,u))},c}function uj(){return PE.apply(lj(F_,I_,j_,__,p_,u_,s_,i_,a_,q_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cj(){return PE.apply(lj(T_,P_,O_,D_,w_,c_,l_,o_,a_,U_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dj(){var e,t,n,r,a,i=0,o=1,s=$C,l=!1;function u(t){return null==t||isNaN(t=+t)?a:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),t=r(o=+o),n=e===t?0:1/(t-e),u):[i,o]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(zC),u.rangeRound=c(LC),u.unknown=function(e){return arguments.length?(a=e,u):a},function(a){return r=a,e=a(i),t=a(o),n=e===t?0:1/(t-e),u}}function fj(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pj(){var e=fk(dj()($C));return e.copy=function(){return fj(e,pj())},FE.apply(e,arguments)}function hj(){var e=Sk(dj()).domain([1,10]);return e.copy=function(){return fj(e,hj()).base(e.base())},FE.apply(e,arguments)}function mj(){var e=Ck(dj());return e.copy=function(){return fj(e,mj()).constant(e.constant())},FE.apply(e,arguments)}function gj(){var e=Ok(dj());return e.copy=function(){return fj(e,gj()).exponent(e.exponent())},FE.apply(e,arguments)}function yj(){return gj.apply(null,arguments).exponent(.5)}function vj(){var e=[],t=$C;function n(n){if(null!=n&&!isNaN(n=+n))return t(($A(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(IA),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>Uk(e,r/t))},n.copy=function(){return vj(t).domain(e)},FE.apply(n,arguments)}function bj(){var e,t,n,r,a,i,o,s=0,l=.5,u=1,c=1,d=$C,f=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(c*e<c*t?r:a),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,d=function(e,t){void 0===t&&(t=e,e=zC);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,a]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){return arguments.length?([s,l,u]=o,e=i(s=+s),t=i(l=+l),n=i(u=+u),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),c=t<e?-1:1,p):[s,l,u]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(zC),p.rangeRound=h(LC),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return i=o,e=o(s),t=o(l),n=o(u),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),c=t<e?-1:1,p}}function xj(){var e=fk(bj()($C));return e.copy=function(){return fj(e,xj())},FE.apply(e,arguments)}function wj(){var e=Sk(bj()).domain([.1,1,10]);return e.copy=function(){return fj(e,wj()).base(e.base())},FE.apply(e,arguments)}function Sj(){var e=Ck(bj());return e.copy=function(){return fj(e,Sj()).constant(e.constant())},FE.apply(e,arguments)}function Nj(){var e=Ok(bj());return e.copy=function(){return fj(e,Nj()).exponent(e.exponent())},FE.apply(e,arguments)}function Ej(){return Nj.apply(null,arguments).exponent(.5)}function Aj(e,t){if((a=e.length)>1)for(var n,r,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(r=o,o=e[t[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){L_=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=G_(a),c=X_(a),d=G_(i),f=X_(i),p=G_(o),h=X_(o),m=G_(s),g=X_(s),y=G_(l),v=X_(l),b={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:yD,e:yD,f:SD,g:TD,G:FD,H:vD,I:bD,j:xD,L:wD,m:ND,M:ED,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:aj,s:ij,S:AD,u:CD,U:kD,V:DD,w:jD,W:OD,x:null,X:null,y:MD,Y:PD,Z:ID,"%":rj},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:BD,e:BD,f:UD,g:QD,G:tj,H:RD,I:zD,j:LD,L:qD,m:$D,M:WD,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:aj,s:ij,S:HD,u:KD,U:VD,V:GD,w:XD,W:JD,x:null,X:null,y:ZD,Y:ej,Z:nj,"%":rj},w={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:sD,e:sD,f:pD,g:rD,G:nD,H:uD,I:uD,j:lD,L:fD,m:oD,M:cD,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:iD,Q:mD,s:gD,S:dD,u:Z_,U:Q_,V:eD,w:J_,W:tD,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:rD,Y:nD,Z:aD,"%":hD};function S(e,t){return function(n){var r,a,i,o=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=$_[r=e.charAt(++s)])?r=e.charAt(++s):a="e"===r?" ":"0",(i=t[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(n){var r,a,i=z_(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=R_(z_(i.y,0,1))).getUTCDay(),r=a>4||0===a?S_.ceil(r):S_(r),r=c_.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=B_(z_(i.y,0,1))).getDay(),r=a>4||0===a?h_.ceil(r):h_(r),r=u_.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?R_(z_(i.y,0,1)).getUTCDay():B_(z_(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,R_(i)):B_(i)}}function E(e,t,n,r){for(var a,i,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=w[a in $_?t.charAt(o++):a])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),x.x=S(n,x),x.X=S(r,x),x.c=S(t,x),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),q_=L_.format,L_.parse,U_=L_.utcFormat,L_.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Cj(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function kj(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _j(e,t){return e[t]}function Dj(e){const t=[];return t.key=e,t}var jj=n(539),Oj=n.n(jj),Mj=n(6745),Tj=n.n(Mj),Pj=n(3538),Fj=n.n(Pj),Ij=n(9853),Bj=n.n(Ij),Rj=n(8210),zj=n.n(Rj);function Lj(e){return function(e){if(Array.isArray(e))return qj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uj=function(e){return e},$j={"@@functional/placeholder":!0},Wj=function(e){return e===$j},Hj=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Wj(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Kj=function e(t,n){return 1===t?n:Hj(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==$j}).length;return o>=t?n.apply(void 0,a):e(t-o,Hj(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=a.map(function(e){return Wj(e)?t.shift():e});return n.apply(void 0,Lj(i).concat(t))}))})},Vj=function(e){return Kj(e.length,e)},Yj=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Gj=Vj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),Xj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return Uj;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},Jj=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Zj=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};const Qj={rangeStep:function(e,t,n){for(var r=new(zj())(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(zj())(e).abs().log(10).toNumber())+1},interpolateNumber:Vj(function(e,t,n){var r=+e;return r+n*(+t-r)}),uninterpolateNumber:Vj(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),uninterpolateTruncation:Vj(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))})};function eO(e){return function(e){if(Array.isArray(e))return rO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||nO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||nO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nO(e,t){if(e){if("string"===typeof e)return rO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rO(e,t):void 0}}function rO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aO(e){var t=tO(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function iO(e,t,n){if(e.lte(0))return new(zj())(0);var r=Qj.getDigitCount(e.toNumber()),a=new(zj())(10).pow(r),i=e.div(a),o=1!==r?.05:.1,s=new(zj())(Math.ceil(i.div(o).toNumber())).add(n).mul(o).mul(a);return t?s:new(zj())(Math.ceil(s))}function oO(e,t,n){var r=1,a=new(zj())(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new(zj())(10).pow(Qj.getDigitCount(e)-1),a=new(zj())(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new(zj())(Math.floor(e)))}else 0===e?a=new(zj())(Math.floor((t-1)/2)):n||(a=new(zj())(Math.floor(e)));var o=Math.floor((t-1)/2);return Xj(Gj(function(e){return a.add(new(zj())(e-o).mul(r)).toNumber()}),Yj)(0,t)}function sO(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(zj())(0),tickMin:new(zj())(0),tickMax:new(zj())(0)};var i,o=iO(new(zj())(t).sub(e).div(n-1),r,a);i=e<=0&&t>=0?new(zj())(0):(i=new(zj())(e).add(t).div(2)).sub(new(zj())(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new(zj())(t).sub(i).div(o).toNumber()),u=s+l+1;return u>n?sO(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:i.sub(new(zj())(s).mul(o)),tickMax:i.add(new(zj())(l).mul(o))})}var lO=Zj(function(e){var t=tO(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=tO(aO([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0){var c=u===1/0?[l].concat(eO(Yj(0,a-1).map(function(){return 1/0}))):[].concat(eO(Yj(0,a-1).map(function(){return-1/0})),[u]);return n>r?Jj(c):c}if(l===u)return oO(l,a,i);var d=sO(l,u,o,i),f=d.step,p=d.tickMin,h=d.tickMax,m=Qj.rangeStep(p,h.add(new(zj())(.1).mul(f)),f);return n>r?Jj(m):m}),uO=(Zj(function(e){var t=tO(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=tO(aO([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,r];if(l===u)return oO(l,a,i);var c=iO(new(zj())(u).sub(l).div(o-1),i,0),d=Xj(Gj(function(e){return new(zj())(l).add(new(zj())(e).mul(c)).toNumber()}),Yj)(0,o).filter(function(e){return e>=l&&e<=u});return n>r?Jj(d):d}),Zj(function(e,t){var n=tO(e,2),r=n[0],a=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=tO(aO([r,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,a];if(s===l)return[s];var u=Math.max(t,2),c=iO(new(zj())(l).sub(s).div(u-1),i,0),d=[].concat(eO(Qj.rangeStep(new(zj())(s),new(zj())(l).sub(new(zj())(.99).mul(c)),c)),[l]);return r>a?Jj(d):d})),cO=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dO(e){return dO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dO(e)}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fO.apply(this,arguments)}function pO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return hO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mO(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SO(r.key),r)}}function yO(e,t,n){return t=bO(t),function(e,t){if(t&&("object"===dO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vO()?Reflect.construct(t,n||[],bO(e).constructor):t.apply(e,n))}function vO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vO=function(){return!!e})()}function bO(e){return bO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bO(e)}function xO(e,t){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xO(e,t)}function wO(e,t,n){return(t=SO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SO(e){var t=function(e,t){if("object"!=dO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dO(t)?t:t+""}var NO=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yO(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xO(e,t)}(t,e),n=t,a=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,a=e.width,i=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=mO(e,cO),d=bx(c,!1);"x"===this.props.direction&&"number"!==l.type&&Fx(!1);var f=o.map(function(e){var o=s(e,i),c=o.x,f=o.y,p=o.value,h=o.errorVal;if(!h)return null;var m,g,y=[];if(Array.isArray(h)){var v=pO(h,2);m=v[0],g=v[1]}else m=g=h;if("vertical"===n){var b=l.scale,x=f+t,w=x+a,S=x-a,N=b(p-m),E=b(p+g);y.push({x1:E,y1:w,x2:E,y2:S}),y.push({x1:N,y1:x,x2:E,y2:x}),y.push({x1:N,y1:w,x2:N,y2:S})}else if("horizontal"===n){var A=u.scale,C=c+t,k=C-a,_=C+a,D=A(p-m),j=A(p+g);y.push({x1:k,y1:j,x2:_,y2:j}),y.push({x1:C,y1:D,x2:C,y2:j}),y.push({x1:k,y1:D,x2:_,y2:D})}return r.createElement($x,fO({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return r.createElement("line",fO({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return r.createElement($x,{className:"recharts-errorBars"},f)}}],a&&gO(n.prototype,a),i&&gO(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function EO(e){return EO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EO(e)}function AO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AO(Object(n),!0).forEach(function(t){kO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=EO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wO(NO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),wO(NO,"displayName","ErrorBar");var _O=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,i=mx(t,HS);if(!i)return null;var o,s=HS.defaultProps,l=void 0!==s?CO(CO({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?CO(CO({},n),t.props):{},a=r.dataKey,i=r.name,o=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||o||"square",color:BO(t),value:i||a,payload:r}}),CO(CO(CO({},l),HS.getWithHeight(i,r)),{},{payload:o,item:i})};function DO(e){return DO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DO(e)}function jO(e){return function(e){if(Array.isArray(e))return OO(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return OO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MO(Object(n),!0).forEach(function(t){PO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=DO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DO(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FO(e,t,n){return Tb()(e)||Tb()(t)?n:Bb(t)?Db()(e,t,n):Vb()(t)?t(e):n}function IO(e,t,n,r){var a=Fj()(e,function(e){return FO(e,t)});if("number"===n){var i=a.filter(function(e){return Ib(e)||parseFloat(e)});return i.length?[Tj()(i),Oj()(i)]:[1/0,-1/0]}return(r?a.filter(function(e){return!Tb()(e)}):a).map(function(e){return Bb(e)||e instanceof Date?e:""})}var BO=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?TO(TO({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:o;break;default:n=o}return n},RO=function(e,t,n,r,a){var i=hx(t.props.children,NO).filter(function(e){return function(e,t,n){return!!Tb()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=FO(t,n);if(Tb()(r))return e;var a=Array.isArray(r)?[Tj()(r),Oj()(r)]:[r,r],i=o.reduce(function(e,n){var r=FO(t,n,0),i=a[0]-Math.abs(Array.isArray(r)?r[0]:r),o=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},zO=function(e,t,n,r,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===n&&i&&RO(e,t,i,r)||IO(e,i,n,a)});if("number"===n)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e},[])},LO=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},qO=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(n),o},UO=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*Pb(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!kb()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},$O=new WeakMap,WO=function(e,t){if("function"!==typeof t)return e;$O.has(e)||$O.set(e,new WeakMap);var n=$O.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},HO=function(e,n,r){var a=e.scale,i=e.type,o=e.layout,s=e.axisType;if("auto"===a)return"radial"===o&&"radiusAxis"===s?{scale:$E(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:pk(),realScaleType:"linear"}:"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:HE(),realScaleType:"point"}:"category"===i?{scale:$E(),realScaleType:"band"}:{scale:pk(),realScaleType:"linear"};if(Ab()(a)){var l="scale".concat(Tw()(a));return{scale:(t[l]||HE)(),realScaleType:t[l]?l:"point"}}return Vb()(a)?{scale:a}:{scale:HE(),realScaleType:"point"}},KO=1e-4,VO=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-KO,i=Math.max(r[0],r[1])+KO,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},YO={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0,o=0;o<t;++o){var s=kb()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,i=0,o=e[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Aj(e,t)}},none:Aj,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}Aj(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[o][1]||0,f=(d-(c[o-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];f+=(h[o][1]||0)-(h[o-1][1]||0)}l+=d,u+=f*d}n[o-1][1]+=n[o-1][0]=i,l&&(i-=u/l)}n[o-1][1]+=n[o-1][0]=i,Aj(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,i=0;i<t;++i){var o=kb()(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},GO=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=YO[n],i=function(){var e=nS([]),t=kj,n=Aj,r=_j;function a(a){var i,o,s=Array.from(e.apply(this,arguments),Dj),l=s.length,u=-1;for(const e of a)for(i=0,++u;i<l;++i)(s[i][u]=[0,+r(e,s[i].key,u,a)]).data=e;for(i=0,o=Cj(t(s));i<l;++i)s[o[i]].index=i;return n(s,o),s}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:nS(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:nS(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?kj:"function"===typeof e?e:nS(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?Aj:e,a):n},a}().keys(r).value(function(e,t){return+FO(e,t,0)}).order(kj).offset(a);return i(e)},XO=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var u=lO(l,a,o);return e.domain([Tj()(u),Oj()(u)]),{niceTicks:u}}if(a&&"number"===r){var c=e.domain();return{niceTicks:uO(c,a,o)}}return null};function JO(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Tb()(a[t.dataKey])){var s=$b(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=FO(a,Tb()(o)?t.dataKey:o);return Tb()(l)?null:t.scale(l)}var ZO=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=FO(i,t.dataKey,t.domain[o]);return Tb()(s)?null:t.scale(s)-a/2+r},QO=function(e,t,n){return Object.keys(e).reduce(function(r,a){var i=e[a].stackedData.reduce(function(e,r){var a=r.slice(t,n+1).reduce(function(e,t){return[Tj()(t.concat([e[0]]).filter(Ib)),Oj()(t.concat([e[1]]).filter(Ib))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},eM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nM=function(e,t,n){if(Vb()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ib(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(eM.test(e[0])){var a=+eM.exec(e[0])[1];r[0]=t[0]-a}else Vb()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ib(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(tM.test(e[1])){var i=+tM.exec(e[1])[1];r[1]=t[1]+i}else Vb()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},rM=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Tx()(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min((l.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},aM=function(e,t,n){return e&&e.length?Bj()(e,Db()(n,"type.defaultProps.domain"))?t:e:t},iM=function(e,t){var n=e.type.defaultProps?TO(TO({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,i=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,u=n.hide;return TO(TO({},bx(e,!1)),{},{dataKey:r,unit:i,formatter:o,name:a||r,color:BO(e),value:FO(t,r),type:s,payload:t,chartType:l,hide:u})};function oM(e){return oM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oM(e)}function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(t){uM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=oM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cM=["Webkit","Moz","O","ms"];function dM(e){return dM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dM(e)}function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fM.apply(this,arguments)}function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(t){xM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wM(r.key),r)}}function gM(e,t,n){return t=vM(t),function(e,t){if(t&&("object"===dM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yM()?Reflect.construct(t,n||[],vM(e).constructor):t.apply(e,n))}function yM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yM=function(){return!!e})()}function vM(e){return vM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vM(e)}function bM(e,t){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bM(e,t)}function xM(e,t,n){return(t=wM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wM(e){var t=function(e,t){if("object"!=dM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dM(t)?t:t+""}var SM=function(e){return e.changedTouches&&!!e.changedTouches.length},NM=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xM(n=gM(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),xM(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),xM(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:a})}),n.detachDragEndListener()}),xM(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xM(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xM(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xM(n,"handleSlideDragStart",function(e){var t=SM(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bM(e,t)}(t,e),n=t,a=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(n,r),u=Math.max(n,r),c=t.getIndexInRange(a,l),d=t.getIndexInRange(a,u);return{startIndex:c-c%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,i=FO(n[e],a,e);return Vb()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,u=i.startIndex,c=i.endIndex,d=i.onChange,f=e.pageX-n;f>0?f=Math.min(f,o+s-l-a,o+s-l-r):f<0&&(f=Math.max(f,o-r,o-a));var p=this.getIndex({startX:r+f,endX:a+f});p.startIndex===u&&p.endIndex===c||!d||d(p),this.setState({startX:r+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=SM(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[r],s=this.props,l=s.x,u=s.width,c=s.travellerWidth,d=s.onChange,f=s.gap,p=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+u-c-o):m<0&&(m=Math.max(m,l-o)),h[r]=o+m;var g=this.getIndex(h),y=g.startIndex,v=g.endIndex;this.setState(xM(xM({},r,o+m),"brushMoveStartX",e.pageX),function(){d&&function(){var e=p.length-1;return"startX"===r&&(a>i?y%f===0:v%f===0)||a<i&&v===e||"endX"===r&&(a>i?v%f===0:y%f===0)||a>i&&v===e}()&&d(g)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,i=r.startX,o=r.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var u=l+e;if(!(-1===u||u>=a.length)){var c=a[u];"startX"===t&&c>=o||"endX"===t&&c<=i||this.setState(xM({},t,c),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,o=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:o,x:t,y:n,width:a,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,u=r.Children.only(s);return u?r.cloneElement(u,{x:t,y:n,width:a,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var a,i,o=this,s=this.props,l=s.y,u=s.travellerWidth,c=s.height,d=s.traveller,f=s.ariaLabel,p=s.data,h=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=hM(hM({},bx(this.props,!1)),{},{x:g,y:l,width:u,height:c}),v=f||"Min value: ".concat(null===(a=p[h])||void 0===a?void 0:a.name,", Max value: ").concat(null===(i=p[m])||void 0===i?void 0:i.name);return r.createElement($x,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,a=n.y,i=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:a,width:u,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,a=e.y,i=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,d={pointerEvents:"none",fill:s};return r.createElement($x,{className:"recharts-brush-texts"},r.createElement(_A,fM({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:a+i/2},d),this.getTextOfTick(t)),r.createElement(_A,fM({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+o+5,y:a+i/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,a=e.children,i=e.x,o=e.y,s=e.width,l=e.height,u=e.alwaysShowText,c=this.state,d=c.startX,f=c.endX,p=c.isTextActive,h=c.isSlideMoving,m=c.isTravellerMoving,g=c.isTravellerFocused;if(!t||!t.length||!Ib(i)||!Ib(o)||!Ib(s)||!Ib(l)||s<=0||l<=0)return null;var y=wb("recharts-brush",n),v=1===r.Children.count(a),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=cM.reduce(function(e,r){return lM(lM({},e),{},uM({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return r.createElement($x,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(p||h||m||g||u)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,a=e.width,i=e.height,o=e.stroke,s=Math.floor(n+i/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:a,height:i,fill:o,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+a-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):Vb()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return hM({prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=HE().domain(Ox()(0,s)).range([a,a+i-o]),u=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+r-i]);var u=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],a&&mM(n.prototype,a),i&&mM(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function EM(e){return EM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EM(e)}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(t){kM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=EM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return DM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xM(NM,"displayName","Brush"),xM(NM,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var jM=Math.PI/180,OM=function(e){return 180*e/Math.PI},MM=function(e,t,n,r){return{x:e+Math.cos(-jM*r)*n,y:t+Math.sin(-jM*r)*n}},TM=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},PM=function(e,t){var n=e.x,r=e.y,a=t.cx,i=t.cy,o=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:OM(l),angleInRadian:l}},FM=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(a,i)},IM=function(e,t){var n=e.x,r=e.y,a=PM({x:n,y:r},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=c.startAngle,f=c.endAngle,p=o;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;u=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;u=p>=f&&p<=d}return u?CM(CM({},t),{},{radius:i,angle:FM(p,t)}):null},BM=function(e){return(0,r.isValidElement)(e)||Vb()(e)||"boolean"===typeof e?"":e.className};function RM(e){return RM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RM(e)}var zM=["offset"];function LM(e){return function(e){if(Array.isArray(e))return qM(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UM(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(t){HM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HM(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=RM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KM(){return KM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KM.apply(this,arguments)}var VM=function(e,t,n){var a,i,o=e.position,s=e.viewBox,l=e.offset,u=e.className,c=s,d=c.cx,f=c.cy,p=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,y=c.clockWise,v=(p+h)/2,b=function(e,t){return Pb(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===o?(a=m+x*l,i=y):"insideEnd"===o?(a=g-x*l,i=!y):"end"===o&&(a=g+x*l,i=y),i=b<=0?i:!i;var w=MM(d,f,v,a),S=MM(d,f,v,a+359*(i?1:-1)),N="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(S.x,",").concat(S.y),E=Tb()(e.id)?zb("recharts-radial-line-"):e.id;return r.createElement("text",KM({},n,{dominantBaseline:"central",className:wb("recharts-radial-bar-label",u)}),r.createElement("defs",null,r.createElement("path",{id:E,d:N})),r.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function YM(e){var t,n=e.offset,a=WM({offset:void 0===n?5:n},UM(e,zM)),i=a.viewBox,o=a.position,s=a.value,l=a.children,u=a.content,c=a.className,d=void 0===c?"":c,f=a.textBreakAll;if(!i||Tb()(s)&&Tb()(l)&&!(0,r.isValidElement)(u)&&!Vb()(u))return null;if((0,r.isValidElement)(u))return(0,r.cloneElement)(u,a);if(Vb()(u)){if(t=(0,r.createElement)(u,a),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Tb()(e.children)?t:e.children;return Vb()(n)?n(r):r}(a);var p=function(e){return"cx"in e&&Ib(e.cx)}(i),h=bx(a,!0);if(p&&("insideStart"===o||"insideEnd"===o||"end"===o))return VM(a,t,h);var m=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,u=(a.startAngle+a.endAngle)/2;if("outside"===r){var c=MM(i,o,l+n,u),d=c.x;return{x:d,y:c.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=MM(i,o,(s+l)/2,u);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(a):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,u=i.height,c=u>=0?1:-1,d=c*r,f=c>0?"end":"start",p=c>0?"start":"end",h=l>=0?1:-1,m=h*r,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===a)return WM(WM({},{x:o+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===a)return WM(WM({},{x:o+l/2,y:s+u+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return WM(WM({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===a){var b={x:o+l+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return WM(WM({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:u}:{})}var x=n?{width:l,height:u}:{};return"insideLeft"===a?WM({x:o+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===a?WM({x:o+l-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===a?WM({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},x):"insideBottom"===a?WM({x:o+l/2,y:s+u-d,textAnchor:"middle",verticalAnchor:f},x):"insideTopLeft"===a?WM({x:o+m,y:s+d,textAnchor:y,verticalAnchor:p},x):"insideTopRight"===a?WM({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:p},x):"insideBottomLeft"===a?WM({x:o+m,y:s+u-d,textAnchor:y,verticalAnchor:f},x):"insideBottomRight"===a?WM({x:o+l-m,y:s+u-d,textAnchor:g,verticalAnchor:f},x):Gb()(a)&&(Ib(a.x)||Fb(a.x))&&(Ib(a.y)||Fb(a.y))?WM({x:o+Lb(a.x,l),y:s+Lb(a.y,u),textAnchor:"end",verticalAnchor:"end"},x):WM({x:o+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(a);return r.createElement(_A,KM({className:wb("recharts-label",d)},h,m,{breakAll:f}),t)}YM.displayName="Label";var GM=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,d=e.y,f=e.top,p=e.left,h=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ib(h)&&Ib(m)){if(Ib(c)&&Ib(d))return{x:c,y:d,width:h,height:m};if(Ib(f)&&Ib(p))return{x:f,y:p,width:h,height:m}}return Ib(c)&&Ib(d)?{x:c,y:d,width:0,height:0}:Ib(t)&&Ib(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:u||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};YM.parseViewBox=GM,YM.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=GM(e),o=hx(a,YM).map(function(e,n){return(0,r.cloneElement)(e,{viewBox:t||i,key:"label-".concat(n)})});if(!n)return o;var s=function(e,t){return e?!0===e?r.createElement(YM,{key:"label-implicit",viewBox:t}):Bb(e)?r.createElement(YM,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===YM?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(YM,{key:"label-implicit",content:e,viewBox:t}):Vb()(e)?r.createElement(YM,{key:"label-implicit",content:e,viewBox:t}):Gb()(e)?r.createElement(YM,KM({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(LM(o))};var XM=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},JM=n(1733),ZM=n.n(JM),QM=n(7002),eT=n.n(QM),tT=function(e){return null};tT.displayName="Cell";var nT=n(4065),rT=n.n(nT);function aT(e){return aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(e)}var iT=["valueAccessor"],oT=["data","dataKey","clockWise","id","textBreakAll"];function sT(e){return function(e){if(Array.isArray(e))return lT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return lT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uT(){return uT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uT.apply(this,arguments)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(t){fT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=aT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pT(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var hT=function(e){return Array.isArray(e.value)?rT()(e.value):e.value};function mT(e){var t=e.valueAccessor,n=void 0===t?hT:t,a=pT(e,iT),i=a.data,o=a.dataKey,s=a.clockWise,l=a.id,u=a.textBreakAll,c=pT(a,oT);return i&&i.length?r.createElement($x,{className:"recharts-label-list"},i.map(function(e,t){var a=Tb()(o)?n(e,t):FO(e&&e.payload,o),i=Tb()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(YM,uT({},bx(e,!0),c,i,{parentViewBox:e.parentViewBox,value:a,textBreakAll:u,viewBox:YM.parseViewBox(Tb()(s)?e:dT(dT({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))})):null}mT.displayName="LabelList",mT.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var a=hx(e.children,mT).map(function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});return n?[function(e,t){return e?!0===e?r.createElement(mT,{key:"labelList-implicit",data:t}):r.isValidElement(e)||Vb()(e)?r.createElement(mT,{key:"labelList-implicit",data:t,content:e}):Gb()(e)?r.createElement(mT,uT({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(sT(a)):a};var gT=n(2322),yT=n.n(gT),vT=n(6361),bT=n.n(vT);function xT(e){return xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xT(e)}function wT(){return wT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wT.apply(this,arguments)}function ST(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return NT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ET(Object(n),!0).forEach(function(t){CT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kT=function(e,t,n,r,a){var i,o=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-o/2,",").concat(t+a),i+="L ".concat(e+n-o/2-r,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},_T={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DT=function(e){var t=AT(AT({},_T),e),n=(0,r.useRef)(),a=ST((0,r.useState)(-1),2),i=a[0],o=a[1];(0,r.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.upperWidth,c=t.lowerWidth,d=t.height,f=t.className,p=t.animationEasing,h=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||c!==+c||d!==+d||0===u&&0===c||0===d)return null;var y=wb("recharts-trapezoid",f);return g?r.createElement(SE,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:u,lowerWidth:c,height:d,x:s,y:l},duration:h,animationEasing:p,isActive:g},function(e){var a=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,u=e.y;return r.createElement(SE,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:p},r.createElement("path",wT({},bx(t,!0),{className:y,d:kT(l,u,a,o,s),ref:n})))}):r.createElement("g",null,r.createElement("path",wT({},bx(t,!0),{className:y,d:kT(s,l,u,c,d)})))};function jT(e){return jT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jT(e)}function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OT.apply(this,arguments)}function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(t){PT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=jT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FT=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(o?1:-1)+r,c=Math.asin(s/u)/jM,d=l?a:a+i*c,f=l?a-i*c:a;return{center:MM(t,n,u,d),circleTangency:MM(t,n,r,d),lineTangency:MM(t,n,u*Math.cos(c*jM),f),theta:c}},IT=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Pb(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=MM(t,n,a,i),u=MM(t,n,a,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var d=MM(t,n,r,i),f=MM(t,n,r,s);c+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},BT={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RT=function(e){var t=TT(TT({},BT),e),n=t.cx,a=t.cy,i=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,f=t.className;if(o<i||c===d)return null;var p,h=wb("recharts-sector",f),m=o-i,g=Lb(s,m,0,!0);return p=g>0&&Math.abs(c-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=Pb(u-l),d=FT({cx:t,cy:n,radius:a,angle:l,sign:c,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,p=d.lineTangency,h=d.theta,m=FT({cx:t,cy:n,radius:a,angle:u,sign:-c,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-u):Math.abs(l-u)-h-v;if(b<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):IT({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=FT({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),S=w.circleTangency,N=w.lineTangency,E=w.theta,A=FT({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),C=A.circleTangency,k=A.lineTangency,_=A.theta,D=s?Math.abs(l-u):Math.abs(l-u)-E-_;if(D<0&&0===i)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(k.x,",").concat(k.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(c>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(c<0),",").concat(N.x,",").concat(N.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):IT({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}),r.createElement("path",OT({},bx(t,!0),{className:h,d:p,role:"img"}))},zT=["option","shapeType","propTransformer","activeClassName","isActive"];function LT(e){return LT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LT(e)}function qT(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(t){WT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function WT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=LT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LT(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HT(e,t){return $T($T({},t),e)}function KT(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(TE,n);case"trapezoid":return r.createElement(DT,n);case"sector":return r.createElement(RT,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(bS,n);break;default:return null}}function VT(e){var t,n=e.option,a=e.shapeType,i=e.propTransformer,o=void 0===i?HT:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,u=e.isActive,c=qT(e,zT);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,$T($T({},c),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if(Vb()(n))t=n(c);else if(yT()(n)&&!bT()(n)){var d=o(n,c);t=r.createElement(KT,{shapeType:a,elementProps:d})}else{var f=c;t=r.createElement(KT,{shapeType:a,elementProps:f})}return u?r.createElement($x,{className:l},t):t}function YT(e,t){return null!=t&&"trapezoids"in e.props}function GT(e,t){return null!=t&&"sectors"in e.props}function XT(e,t){return null!=t&&"points"in e.props}function JT(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&i}function ZT(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function QT(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function eP(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return YT(e,t)?n="trapezoids":GT(e,t)?n="sectors":XT(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return YT(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:GT(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:XT(e,t)?t.payload:{}}(n,t),o=r.filter(function(e,r){var o=Bj()(i,e),s=n.props[a].filter(function(e){var r=function(e,t){var n;return YT(e,t)?n=JT:GT(e,t)?n=ZT:XT(e,t)&&(n=QT),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(s[s.length-1]);return o&&r===l});return r.indexOf(o[o.length-1])}var tP=["x","y"];function nP(e){return nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nP(e)}function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rP.apply(this,arguments)}function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(t){oP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nP(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lP(e,t){var n=e.x,r=e.y,a=sP(e,tP),i="".concat(n),o=parseInt(i,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||a.height),c=parseInt(u,10),d="".concat(t.width||a.width),f=parseInt(d,10);return iP(iP(iP(iP(iP({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:f,name:t.name,radius:t.radius})}function uP(e){return r.createElement(VT,rP({shapeType:"rectangle",propTransformer:lP,activeClassName:"recharts-active-bar"},e))}var cP,dP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=Ib(n)||function(e){return Tb()(e)}(n);return a?e(n,r):(a||Fx(!1),t)}},fP=["value","background"];function pP(e){return pP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pP(e)}function hP(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mP.apply(this,arguments)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(t){NP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EP(r.key),r)}}function bP(e,t,n){return t=wP(t),function(e,t){if(t&&("object"===pP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xP()?Reflect.construct(t,n||[],wP(e).constructor):t.apply(e,n))}function xP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xP=function(){return!!e})()}function wP(e){return wP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wP(e)}function SP(e,t){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SP(e,t)}function NP(e,t,n){return(t=EP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EP(e){var t=function(e,t){if("object"!=pP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pP(t)?t:t+""}var AP=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return NP(e=bP(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),NP(e,"id",zb("recharts-bar-")),NP(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),NP(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SP(e,t)}(t,e),n=t,a=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,a=n.shape,i=n.dataKey,o=n.activeIndex,s=n.activeBar,l=bx(this.props,!1);return e&&e.map(function(e,n){var u=n===o,c=u?s:a,d=yP(yP(yP({},l),e),{},{isActive:u,option:c,index:n,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement($x,mP({className:"recharts-bar-rectangle"},ax(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),r.createElement(uP,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,a=t.layout,i=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,u=t.animationId,c=this.state.prevData;return r.createElement(SE,{begin:o,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var i=t.t,o=n.map(function(e,t){var n=c&&c[t];if(n){var r=Ub(n.x,e.x),o=Ub(n.y,e.y),s=Ub(n.width,e.width),l=Ub(n.height,e.height);return yP(yP({},e),{},{x:r(i),y:o(i),width:s(i),height:l(i)})}if("horizontal"===a){var u=Ub(0,e.height)(i);return yP(yP({},e),{},{y:e.y+e.height-u,height:u})}var d=Ub(0,e.width)(i);return yP(yP({},e),{},{width:d})});return r.createElement($x,null,e.renderRectanglesStatically(o))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Bj()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,a=t.dataKey,i=t.activeIndex,o=bx(this.props.background,!1);return n.map(function(t,n){t.value;var s=t.background,l=hP(t,fP);if(!s)return null;var u=yP(yP(yP(yP(yP({},l),{},{fill:"#eee"},s),o),ax(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:a,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(uP,mP({key:"background-bar-".concat(n),option:e.props.background,isActive:n===i},u))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.data,i=n.xAxis,o=n.yAxis,s=n.layout,l=hx(n.children,NO);if(!l)return null;var u="vertical"===s?a[0].height/2:a[0].width/2,c=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:FO(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement($x,d,l.map(function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,offset:u,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,a=e.className,i=e.xAxis,o=e.yAxis,s=e.left,l=e.top,u=e.width,c=e.height,d=e.isAnimationActive,f=e.background,p=e.id;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,m=wb("recharts-bar",a),g=i&&i.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,b=Tb()(p)?this.id:p;return r.createElement($x,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-u/2,y:y?l:l-c/2,width:g?u:2*u,height:y?c:2*c}))):null,r.createElement($x,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||h)&&mT.renderCallByParent(this.props,n))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],a&&vP(n.prototype,a),i&&vP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function CP(e){return CP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CP(e)}function kP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OP(r.key),r)}}function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(t){jP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jP(e,t,n){return(t=OP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OP(e){var t=function(e,t){if("object"!=CP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CP(t)?t:t+""}cP=AP,NP(AP,"displayName","Bar"),NP(AP,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gw.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),NP(AP,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,f=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,m=n.type.defaultProps,g=void 0!==m?yP(yP({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===h?o:i,w=u?x.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:x}),N=hx(v,tT),E=d.map(function(e,t){var r,d,f,m,g,v;u?r=function(e,t){if(!t||2!==t.length||!Ib(t[0])||!Ib(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ib(e[0])||e[0]<n)&&(a[0]=n),(!Ib(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(u[c+t],w):(r=FO(e,y),Array.isArray(r)||(r=[S,r]));var x=dP(b,cP.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var E,A=[o.scale(r[0]),o.scale(r[1])],C=A[0],k=A[1];d=ZO({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:e,index:t}),f=null!==(E=null!==k&&void 0!==k?k:C)&&void 0!==E?E:void 0,m=p.size;var _=C-k;if(g=Number.isNaN(_)?0:_,v={x:d,y:o.y,width:m,height:o.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var D=Pb(g||x)*(Math.abs(x)-Math.abs(g));f-=D,g+=D}}else{var j=[i.scale(r[0]),i.scale(r[1])],O=j[0],M=j[1];if(d=O,f=ZO({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),m=M-O,g=p.size,v={x:i.x,y:f,width:i.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=Pb(m||x)*(Math.abs(x)-Math.abs(m))}return yP(yP(yP({},e),{},{x:d,y:f,width:m,height:g,value:u?r:r[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[iM(n,e)],tooltipPosition:{x:d+m/2,y:f+g/2}})});return yP({data:E,layout:h},f)});var MP=function(e,t){var n=e.x,r=e.y,a=t.x,i=t.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},TP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&kP(t.prototype,n),r&&kP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();jP(TP,"EPS",1e-4);var PP=function(e){var t=Object.keys(e).reduce(function(t,n){return DP(DP({},t),{},jP({},n,TP.create(e[n])))},{});return DP(DP({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return ZM()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return eT()(e,function(e,n){return t[n].isInRange(e)})}})};function FP(){return FP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FP.apply(this,arguments)}function IP(e){return IP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IP(e)}function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function RP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(t){WP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HP(r.key),r)}}function LP(e,t,n){return t=UP(t),function(e,t){if(t&&("object"===IP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qP()?Reflect.construct(t,n||[],UP(e).constructor):t.apply(e,n))}function qP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qP=function(){return!!e})()}function UP(e){return UP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UP(e)}function $P(e,t){return $P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$P(e,t)}function WP(e,t,n){return(t=HP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HP(e){var t=function(e,t){if("object"!=IP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IP(t)?t:t+""}var KP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LP(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$P(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,n=e.x,a=e.y,i=e.r,o=e.alwaysShow,s=e.clipPathId,l=Bb(n),u=Bb(a);if(Hb(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!u)return null;var c=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,i=PP({x:r.scale,y:a.scale}),o=i.apply({x:t,y:n},{bandAware:!0});return XM(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!c)return null;var d=c.x,f=c.y,p=this.props,h=p.shape,m=p.className,g=RP(RP({clipPath:XM(this.props,"hidden")?"url(#".concat(s,")"):void 0},bx(this.props,!0)),{},{cx:d,cy:f});return r.createElement($x,{className:wb("recharts-reference-dot",m)},t.renderDot(h,g),YM.renderCallByParent(this.props,{x:d-i,y:f-i,width:2*i,height:2*i}))}}])&&zP(n.prototype,a),i&&zP(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);WP(KP,"displayName","ReferenceDot"),WP(KP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),WP(KP,"renderDot",function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):Vb()(e)?e(t):r.createElement(VS,FP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var VP=n(4597),YP=n.n(VP),GP=n(8990),XP=n.n(GP),JP=n(5797),ZP=n.n(JP)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var QP=(0,r.createContext)(void 0),eF=(0,r.createContext)(void 0),tF=(0,r.createContext)(void 0),nF=(0,r.createContext)({}),rF=(0,r.createContext)(void 0),aF=(0,r.createContext)(0),iF=(0,r.createContext)(0),oF=function(e){var t=e.state,n=t.xAxisMap,a=t.yAxisMap,i=t.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=ZP(i);return r.createElement(QP.Provider,{value:n},r.createElement(eF.Provider,{value:a},r.createElement(nF.Provider,{value:i},r.createElement(tF.Provider,{value:c},r.createElement(rF.Provider,{value:o},r.createElement(aF.Provider,{value:u},r.createElement(iF.Provider,{value:l},s)))))))};var sF=function(e){var t=(0,r.useContext)(QP);null==t&&Fx(!1);var n=t[e];return null==n&&Fx(!1),n},lF=function(e){var t=(0,r.useContext)(eF);null==t&&Fx(!1);var n=t[e];return null==n&&Fx(!1),n},uF=function(){return(0,r.useContext)(iF)},cF=function(){return(0,r.useContext)(aF)};function dF(e){return dF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dF(e)}function fF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xF(r.key),r)}}function pF(e,t,n){return t=mF(t),function(e,t){if(t&&("object"===dF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hF()?Reflect.construct(t,n||[],mF(e).constructor):t.apply(e,n))}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hF=function(){return!!e})()}function mF(e){return mF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mF(e)}function gF(e,t){return gF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gF(e,t)}function yF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yF(Object(n),!0).forEach(function(t){bF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bF(e,t,n){return(t=xF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xF(e){var t=function(e,t){if("object"!=dF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dF(t)?t:t+""}function wF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return SF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NF(){return NF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NF.apply(this,arguments)}function EF(e){var t=e.x,n=e.y,a=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,u=e.alwaysShow,c=(0,r.useContext)(rF),d=sF(i),f=lF(o),p=(0,r.useContext)(tF);if(!c||!p)return null;Hb(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,a,i,o,s,l){var u=a.x,c=a.y,d=a.width,f=a.height;if(n){var p=l.y,h=e.y.apply(p,{position:i});if(XM(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:u+d,y:h},{x:u,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(XM(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:c+f},{x:y,y:c}];return"top"===o?v.reverse():v}if(r){var b=l.segment.map(function(t){return e.apply(t,{position:i})});return XM(l,"discard")&&YP()(b,function(t){return!e.isInRange(t)})?null:b}return null}(PP({x:d.scale,y:f.scale}),Bb(t),Bb(n),a&&2===a.length,p,e.position,d.orientation,f.orientation,e);if(!h)return null;var m=wF(h,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,S=vF(vF({clipPath:XM(e,"hidden")?"url(#".concat(c,")"):void 0},bx(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return r.createElement($x,{className:wb("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):Vb()(e)?e(t):r.createElement("line",NF({},t,{className:"recharts-reference-line-line"}))}(s,S),YM.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return MP({x:t,y:n},{x:r,y:a})}({x1:y,y1:v,x2:x,y2:w})))}var AF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gF(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(EF,this.props)}}])&&fF(n.prototype,a),i&&fF(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function CF(){return CF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CF.apply(this,arguments)}function kF(e){return kF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kF(e)}function _F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_F(Object(n),!0).forEach(function(t){FF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IF(r.key),r)}}function OF(e,t,n){return t=TF(t),function(e,t){if(t&&("object"===kF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MF()?Reflect.construct(t,n||[],TF(e).constructor):t.apply(e,n))}function MF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(MF=function(){return!!e})()}function TF(e){return TF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TF(e)}function PF(e,t){return PF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PF(e,t)}function FF(e,t,n){return(t=IF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IF(e){var t=function(e,t){if("object"!=kF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kF(t)?t:t+""}bF(AF,"displayName","ReferenceLine"),bF(AF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var BF=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),OF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PF(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,n=e.x1,a=e.x2,i=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,u=e.clipPathId;Hb(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Bb(n),d=Bb(a),f=Bb(i),p=Bb(o),h=this.props.shape;if(!c&&!d&&!f&&!p&&!h)return null;var m=function(e,t,n,r,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,u=a.xAxis,c=a.yAxis;if(!u||!c)return null;var d=PP({x:u.scale,y:c.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!XM(a,"discard")||d.isInRange(f)&&d.isInRange(p)?MP(f,p):null}(c,d,f,p,this.props);if(!m&&!h)return null;var g=XM(this.props,"hidden")?"url(#".concat(u,")"):void 0;return r.createElement($x,{className:wb("recharts-reference-area",s)},t.renderRect(h,DF(DF({clipPath:g},bx(this.props,!0)),m)),YM.renderCallByParent(this.props,m))}}])&&jF(n.prototype,a),i&&jF(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function RF(e){return function(e){if(Array.isArray(e))return zF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return zF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}FF(BF,"displayName","ReferenceArea"),FF(BF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),FF(BF,"renderRect",function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):Vb()(e)?e(t):r.createElement(TE,CF({},t,{className:"recharts-reference-area-rect"}))});var LF=function(e,t,n,r,a){var i=hx(e,AF),o=hx(e,KP),s=[].concat(RF(i),RF(o)),l=hx(e,BF),u="".concat(r,"Id"),c=r[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[u]===n&&XM(t.props,"extendDomain")&&Ib(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},d)),l.length){var f="".concat(c,"1"),p="".concat(c,"2");d=l.reduce(function(e,t){if(t.props[u]===n&&XM(t.props,"extendDomain")&&Ib(t.props[f])&&Ib(t.props[p])){var r=t.props[f],a=t.props[p];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Ib(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},qF=n(7283),UF=new(n.n(qF)()),$F="recharts.syncMouseEvents";function WF(e){return WF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WF(e)}function HF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VF(r.key),r)}}function KF(e,t,n){return(t=VF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(e){var t=function(e,t){if("object"!=WF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WF(t)?t:t+""}var YF=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KF(this,"activeIndex",0),KF(this,"coordinateList",[]),KF(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,u=void 0===l?null:l,c=e.mouseHandlerCallback,d=void 0===c?null:c;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==i&&void 0!==i?i:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==u&&void 0!==u?u:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,i=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,u=r+o+s,c=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:u,pageY:c})}}}])&&HF(e.prototype,t),n&&HF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function GF(){}function XF(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function JF(e){this._context=e}function ZF(e){this._context=e}function QF(e){this._context=e}JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:XF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:XF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ZF.prototype={areaStart:GF,areaEnd:GF,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:XF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},QF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:XF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class eI{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function tI(e){this._context=e}function nI(e){this._context=e}function rI(e){return new nI(e)}function aI(e){return e<0?-1:1}function iI(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(aI(i)+aI(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function oI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function sI(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function lI(e){this._context=e}function uI(e){this._context=new cI(e)}function cI(e){this._context=e}function dI(e){this._context=e}function fI(e){var t,n,r=e.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function pI(e,t){this._context=e,this._t=t}function hI(e){return e[0]}function mI(e){return e[1]}function gI(e,t){var n=nS(!0),r=null,a=rI,i=null,o=uS(s);function s(s){var l,u,c,d=(s=Cj(s)).length,f=!1;for(null==r&&(i=a(c=o())),l=0;l<=d;++l)!(l<d&&n(u=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(u,l,s),+t(u,l,s));if(c)return i=null,c+""||null}return e="function"===typeof e?e:void 0===e?hI:nS(e),t="function"===typeof t?t:void 0===t?mI:nS(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:nS(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:nS(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:nS(!!e),s):n},s.curve=function(e){return arguments.length?(a=e,null!=r&&(i=a(r)),s):a},s.context=function(e){return arguments.length?(null==e?r=i=null:i=a(r=e),s):r},s}function yI(e,t,n){var r=null,a=nS(!0),i=null,o=rI,s=null,l=uS(u);function u(u){var c,d,f,p,h,m=(u=Cj(u)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(h=l())),c=0;c<=m;++c){if(!(c<m&&a(p=u[c],c,u))===g)if(g=!g)d=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=d;--f)s.point(y[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+e(p,c,u),v[c]=+t(p,c,u),s.point(r?+r(p,c,u):y[c],n?+n(p,c,u):v[c]))}if(h)return s=null,h+""||null}function c(){return gI().defined(a).curve(o).context(i)}return e="function"===typeof e?e:void 0===e?hI:nS(+e),t="function"===typeof t?t:nS(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?mI:nS(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:nS(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:nS(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:nS(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:nS(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:nS(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:nS(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(a="function"===typeof e?e:nS(!!e),u):a},u.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),u):o},u.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),u):i},u}function vI(e){return vI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vI(e)}function bI(){return bI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bI.apply(this,arguments)}function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(t){SI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function SI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}tI.prototype={areaStart:GF,areaEnd:GF,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sI(this,this._t0,oI(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sI(this,oI(this,n=iI(this,e,t)),n);break;default:sI(this,this._t0,n=iI(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(uI.prototype=Object.create(lI.prototype)).point=function(e,t){lI.prototype.point.call(this,t,e)},cI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}},dI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=fI(e),a=fI(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var NI={curveBasisClosed:function(e){return new ZF(e)},curveBasisOpen:function(e){return new QF(e)},curveBasis:function(e){return new JF(e)},curveBumpX:function(e){return new eI(e,!0)},curveBumpY:function(e){return new eI(e,!1)},curveLinearClosed:function(e){return new tI(e)},curveLinear:rI,curveMonotoneX:function(e){return new lI(e)},curveMonotoneY:function(e){return new uI(e)},curveNatural:function(e){return new dI(e)},curveStep:function(e){return new pI(e,.5)},curveStepAfter:function(e){return new pI(e,1)},curveStepBefore:function(e){return new pI(e,0)}},EI=function(e){return e.x===+e.x&&e.y===+e.y},AI=function(e){return e.x},CI=function(e){return e.y},kI=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,u=void 0!==l&&l,c=function(e,t){if(Vb()(e))return e;var n="curve".concat(Tw()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?NI[n]||rI:NI["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=u?i.filter(function(e){return EI(e)}):i;if(Array.isArray(o)){var f=u?o.filter(function(e){return EI(e)}):o,p=d.map(function(e,t){return wI(wI({},e),{},{base:f[t]})});return(t="vertical"===s?yI().y(CI).x1(AI).x0(function(e){return e.base.x}):yI().x(AI).y1(CI).y0(function(e){return e.base.y})).defined(EI).curve(c),t(p)}return(t="vertical"===s&&Ib(o)?yI().y(CI).x1(AI).x0(o):Ib(o)?yI().x(AI).y1(CI).y0(o):gI().x(AI).y(CI)).defined(EI).curve(c),t(d)},_I=function(e){var t=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?kI(e):a;return r.createElement("path",bI({},bx(e,!1),rx(e),{className:wb("recharts-curve",t),d:o,ref:i}))};function DI(e){return DI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DI(e)}var jI=["x","y","top","left","width","height","className"];function OI(){return OI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OI.apply(this,arguments)}function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function TI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=DI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var FI=function(e,t,n,r,a,i){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},II=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,i=void 0===a?0:a,o=e.top,s=void 0===o?0:o,l=e.left,u=void 0===l?0:l,c=e.width,d=void 0===c?0:c,f=e.height,p=void 0===f?0:f,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(t){TI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:i,top:s,left:u,width:d,height:p},PI(e,jI));return Ib(n)&&Ib(i)&&Ib(d)&&Ib(p)&&Ib(s)&&Ib(u)?r.createElement("path",OI({},bx(m,!0),{className:wb("recharts-cross",h),d:FI(n,i,d,p,s,u)})):null};function BI(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle;return{points:[MM(t,n,r,a),MM(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function RI(e,t,n){var r,a,i,o;if("horizontal"===e)i=r=t.x,a=n.top,o=n.top+n.height;else if("vertical"===e)o=a=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return BI(t);var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,d=t.angle,f=MM(s,l,u,d),p=MM(s,l,c,d);r=f.x,a=f.y,i=p.x,o=p.y}return[{x:r,y:a},{x:i,y:o}]}function zI(e){return zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zI(e)}function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(t){UI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function UI(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=zI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zI(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $I(e){var t,n,a,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,u=e.activePayload,c=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!m||!s||!l||"ScatterChart"!==h&&"axis"!==o)return null;var g=_I;if("ScatterChart"===h)a=l,g=II;else if("BarChart"===h)a=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,c,f),g=TE;else if("radial"===p){var y=BI(l),v=y.cx,b=y.cy,x=y.radius;a={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=RT}else a={points:RI(p,l,c)},g=_I;var w=qI(qI(qI(qI({stroke:"#ccc",pointerEvents:"none"},c),a),bx(m,!1)),{},{payload:u,payloadIndex:d,className:wb("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,w):(0,r.createElement)(g,w)}var WI=["item"],HI=["children","className","width","height","style","compact","title","desc"];function KI(e){return KI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KI(e)}function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VI.apply(this,arguments)}function YI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||nB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GI(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sB(r.key),r)}}function JI(e,t,n){return t=QI(t),function(e,t){if(t&&("object"===KI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZI()?Reflect.construct(t,n||[],QI(e).constructor):t.apply(e,n))}function ZI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ZI=function(){return!!e})()}function QI(e){return QI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QI(e)}function eB(e,t){return eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eB(e,t)}function tB(e){return function(e){if(Array.isArray(e))return rB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nB(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nB(e,t){if(e){if("string"===typeof e)return rB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rB(e,t):void 0}}function rB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aB(Object(n),!0).forEach(function(t){oB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oB(e,t,n){return(t=sB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sB(e){var t=function(e,t){if("object"!=KI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KI(t)?t:t+""}var lB={xAxis:["bottom","top"],yAxis:["left","right"]},uB={width:"100%",height:"100%"},cB={x:0,y:0};function dB(e){return e}var fB=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,i=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(tB(e),tB(n)):e},[]);return i.length>0?i:e&&e.length&&Ib(r)&&Ib(a)?e.slice(r,a+1):[]};function pB(e){return"number"===e?[0,"auto"]:void 0}var hB=function(e,t,n,r){var a=e.graphicalItems,i=e.tooltipAxis,o=fB(t,e);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(a,s){var l,u,c=null!==(l=s.props.data)&&void 0!==l?l:t;(c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?u=$b(void 0===c?o:c,i.dataKey,r):u=c&&c[n]||o[n];return u?[].concat(tB(a),[iM(s,u)]):a},[])},mB=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,c=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(Pb(c-u)!==Pb(d-c)){var p=[];if(Pb(d-c)===Pb(s[1]-s[0])){f=d;var h=c+s[1]-s[0];p[0]=Math.min(h,(h+u)/2),p[1]=Math.max(h,(h+u)/2)}else{f=u;var m=d+s[1]-s[0];p[0]=Math.min(c,(m+c)/2),p[1]=Math.max(c,(m+c)/2)}var g=[Math.min(c,(f+c)/2),Math.max(c,(f+c)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){i=r[l].index;break}}else{var y=Math.min(u,d),v=Math.max(u,d);if(e>(y+c)/2&&e<=(v+c)/2){i=r[l].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){i=n[b].index;break}return i}(i,o,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,d=hB(e,t,u,c),f=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=r.radius;return iB(iB(iB({},r),MM(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=r.angle;return iB(iB(iB({},r),MM(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return cB}(n,o,u,a);return{activeTooltipIndex:u,activeLabel:c,activePayload:d,activeCoordinate:f}}return null},gB=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,d=e.stackOffset,f=LO(u,a);return n.reduce(function(t,n){var p,h=void 0!==n.type.defaultProps?iB(iB({},n.type.defaultProps),n.props):n.props,m=h.type,g=h.dataKey,y=h.allowDataOverflow,v=h.allowDuplicatedCategory,b=h.scale,x=h.ticks,w=h.includeHidden,S=h[i];if(t[S])return t;var N,E,A,C=fB(e.data,{graphicalItems:r.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===S}),dataStartIndex:s,dataEndIndex:l}),k=C.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&Ib(r)&&Ib(a))return!0}return!1})(h.domain,y,m)&&(N=nM(h.domain,null,y),!f||"number"!==m&&"auto"===b||(A=IO(C,g,"category")));var _=pB(m);if(!N||0===N.length){var D,j=null!==(D=h.domain)&&void 0!==D?D:_;if(g){if(N=IO(C,g,m),"category"===m&&f){var O=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);v&&O?(E=N,N=Ox()(0,k)):v||(N=aM(j,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(tB(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!Tb()(e)}):aM(j,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Tb()(t)?e:[].concat(tB(e),[t])},[]);else if("number"===m){var M=function(e,t,n,r,a){var i=t.map(function(t){return RO(e,t,n,a,r)}).filter(function(e){return!Tb()(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,r.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(w||!a)}),g,a,u);M&&(N=M)}!f||"number"!==m&&"auto"===b||(A=IO(C,g,"category"))}else N=f?Ox()(0,k):o&&o[S]&&o[S].hasStack&&"number"===m?"expand"===d?[0,1]:QO(o[S].stackGroups,s,l):zO(C,r.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(w||!n)}),m,u,!0);if("number"===m)N=LF(c,N,S,a,x),j&&(N=nM(j,N,y));else if("category"===m&&j){var T=j;N.every(function(e){return T.indexOf(e)>=0})&&(N=T)}}return iB(iB({},t),{},oB({},S,iB(iB({},h),{},{axisType:a,domain:N,categoricalDomain:A,duplicateDomain:E,originalDomain:null!==(p=h.domain)&&void 0!==p?p:_,isCategorical:f,layout:u})))},{})},yB=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),d=hx(u,a),f={};return d&&d.length?f=gB(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:c,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,d=fB(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),f=d.length,p=LO(u,a),h=-1;return n.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?iB(iB({},t.type.defaultProps),t.props):t.props)[i],y=pB("number");return e[g]?e:(h++,p?m=Ox()(0,f):o&&o[g]&&o[g].hasStack?(m=QO(o[g].stackGroups,s,l),m=LF(c,m,g,a)):(m=nM(y,zO(d,n.filter(function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!a}),"number",u),r.defaultProps.allowDataOverflow),m=LF(c,m,g,a)),iB(iB({},e),{},oB({},g,iB(iB({axisType:a},r.defaultProps),{},{hide:!0,orientation:Db()(lB,"".concat(a,".").concat(h%2),null),domain:m,originalDomain:y,isCategorical:p,layout:u}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:c,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},vB=function(e){var t=e.children,n=e.defaultShowTooltip,r=mx(t,NM),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},bB=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},xB=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,i=e.yAxisMap,o=void 0===i?{}:i,s=n.width,l=n.height,u=n.children,c=n.margin||{},d=mx(u,NM),f=mx(u,HS),p=Object.keys(o).reduce(function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:iB(iB({},e),{},oB({},r,e[r]+n.width))},{left:c.left||0,right:c.right||0}),h=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:iB(iB({},e),{},oB({},r,Db()(e,"".concat(r))+n.height))},{top:c.top||0,bottom:c.bottom||0}),m=iB(iB({},h),p),g=m.bottom;d&&(m.bottom+=d.props.height||NM.defaultProps.height),f&&t&&(m=function(e,t,n,r){var a=n.children,i=n.width,o=n.margin,s=i-(o.left||0)-(o.right||0),l=_O({children:a,legendWidth:s});if(l){var u=r||{},c=u.width,d=u.height,f=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==f&&Ib(e[f]))return TO(TO({},e),{},PO({},f,e[f]+(c||0)));if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==p&&Ib(e[p]))return TO(TO({},e),{},PO({},p,e[p]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return iB(iB({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},wB=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},SB=function(e){var t=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,u=e.barSize,c=e.layout,d=e.barGap,f=e.barCategoryGap,p=e.maxBarSize,h=bB(c),m=h.numericAxisName,g=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=cx(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),v=[];return n.forEach(function(n,h){var b=fB(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),x=void 0!==n.type.defaultProps?iB(iB({},n.type.defaultProps),n.props):n.props,w=x.dataKey,S=x.maxBarSize,N=x["".concat(m,"Id")],E=x["".concat(g,"Id")],A=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=x["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||Fx(!1);var i=r[a];return iB(iB({},e),{},oB(oB({},n.axisType,i),"".concat(n.axisType,"Ticks"),UO(i)))},{}),C=A[g],k=A["".concat(g,"Ticks")],_=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?TO(TO({},e.type.defaultProps),e.props):e.props).stackId;if(Bb(r)){var a=t[r];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(n,r[N].stackGroups),D=cx(n.type).indexOf("Bar")>=0,j=rM(C,k),O=[],M=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var u=a[o[s]].stackGroups,c=Object.keys(u),d=0,f=c.length;d<f;d++){var p=u[c[d]],h=p.items,m=p.cateAxisId,g=h.filter(function(e){return cx(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?TO(TO({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];i[x]||(i[x]=[]);var w=Tb()(b)?t:b;i[x].push({item:g[0],stackList:g.slice(1),barSize:Tb()(w)?void 0:Lb(w,n,0)})}}return i}({barSize:u,stackGroups:r,totalSize:wB(A,g)});if(D){var T,P,F=Tb()(S)?p:S,I=null!==(T=null!==(P=rM(C,k,!0))&&void 0!==P?P:F)&&void 0!==T?T:0;O=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,u=Lb(t,r,0,!0),c=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=r/s,p=i.reduce(function(e,t){return e+t.barSize||0},0);(p+=(s-1)*u)>=r&&(p-=(s-1)*u,u=0),p>=r&&f>0&&(d=!0,p=s*(f*=.9));var h={offset:((r-p)/2|0)-u,size:0};l=i.reduce(function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+u,size:d?f:t.barSize}},r=[].concat(jO(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:h})}),r},c)}else{var m=Lb(n,r,0,!0);r-2*m-(s-1)*u<=0&&(u=0);var g=(r-2*m-(s-1)*u)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,n){var r=[].concat(jO(e),[{item:t.item,position:{offset:m+(g+u)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},c)}return l}({barGap:d,barCategoryGap:f,bandSize:I!==j?I:j,sizeList:M[E],maxBarSize:F}),I!==j&&(O=O.map(function(e){return iB(iB({},e),{},{position:iB(iB({},e.position),{},{offset:e.position.offset-I/2})})}))}var B,R,z=n&&n.type&&n.type.getComposedData;z&&v.push({props:iB(iB({},z(iB(iB({},A),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:j,barPosition:O,offset:a,stackedData:_,layout:c,dataStartIndex:o,dataEndIndex:s}))),{},oB(oB(oB({key:n.key||"item-".concat(h)},m,A[m]),g,A[g]),"animationId",i)),childIndex:(B=n,R=e.children,px(R).indexOf(B)),item:n})}),v},p=function(e,r){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!gx({props:a}))return null;var u=a.children,d=a.layout,p=a.stackOffset,h=a.data,m=a.reverseStackOrder,g=bB(d),y=g.numericAxisName,v=g.cateAxisName,b=hx(u,n),x=function(e,t,n,r,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?TO(TO({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Bb(o)){var u=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(t),l.hasStack=!0,l.stackGroups[o]=u}else l.stackGroups[zb("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return TO(TO({},e),{},PO({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return TO(TO({},t),{},PO({},i,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:GO(e,o.items,a)}))},{})),TO(TO({},t),{},PO({},i,s))},{})}(h,b,"".concat(y,"Id"),"".concat(v,"Id"),p,m),w=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return iB(iB({},e),{},oB({},n,yB(a,iB(iB({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:i,dataEndIndex:o}))))},{}),S=xB(iB(iB({},w),{},{props:a,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach(function(e){w[e]=c(a,w[e],S,e.replace("Map",""),t)});var N=function(e){var t=qb(e),n=UO(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Tx()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:rM(t,n)}}(w["".concat(v,"Map")]),E=f(a,iB(iB({},w),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:b,stackGroups:x,offset:S}));return iB(iB({formattedGraphicalItems:E,graphicalItems:b,offset:S,stackGroups:x},N),w)},h=function(e){function n(e){var a,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),oB(o=JI(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oB(o,"accessibilityManager",new YF),oB(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;o.setState(iB({legendBBox:e},p({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:a},iB(iB({},o.state),{},{legendBBox:e}))))}}),oB(o,"handleReceiveSyncEvent",function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),oB(o,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState(function(){return iB({dataStartIndex:t,dataEndIndex:n},p({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),oB(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var n=iB(iB({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;Vb()(r)&&r(n,e)}}),oB(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),n=t?iB(iB({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;Vb()(r)&&r(n,e)}),oB(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),oB(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),oB(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),oB(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;Vb()(n)&&n(t,e)}),oB(o,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&ux[t]?ux[t]:null}(e),r=Db()(o.props,"".concat(n));n&&Vb()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),oB(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var n=iB(iB({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;Vb()(r)&&r(n,e)}}),oB(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;Vb()(t)&&t(o.getMouseInfo(e),e)}),oB(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;Vb()(t)&&t(o.getMouseInfo(e),e)}),oB(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),oB(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),oB(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),oB(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;Vb()(t)&&t(o.getMouseInfo(e),e)}),oB(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;Vb()(t)&&t(o.getMouseInfo(e),e)}),oB(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&UF.emit($F,o.props.syncId,e,o.eventEmitterSymbol)}),oB(o,"applySyncEvent",function(e){var t=o.props,n=t.layout,r=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(iB({dataStartIndex:i,dataEndIndex:s},p({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,u=e.chartY,c=e.activeTooltipIndex,d=o.state,f=d.offset,h=d.tooltipTicks;if(!f)return;if("function"===typeof r)c=r(h,e);else if("value"===r){c=-1;for(var m=0;m<h.length;m++)if(h[m].value===e.activeLabel){c=m;break}}var g=iB(iB({},f),{},{x:f.left,y:f.top}),y=Math.min(l,g.x+g.width),v=Math.min(u,g.y+g.height),b=h[c]&&h[c].value,x=hB(o.state,o.props.data,c),w=h[c]?{x:"horizontal"===n?h[c].coordinate:y,y:"horizontal"===n?v:h[c].coordinate}:cB;o.setState(iB(iB({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:c}))}else o.setState(e)}),oB(o,"renderCursor",function(e){var n,a=o.state,i=a.isTooltipActive,s=a.activeCoordinate,l=a.activePayload,u=a.offset,c=a.activeTooltipIndex,d=a.tooltipAxisBandSize,f=o.getTooltipEventType(),p=null!==(n=e.props.active)&&void 0!==n?n:i,h=o.props.layout,m=e.key||"_recharts-cursor";return r.createElement($I,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:c,chartName:t,element:e,isActive:p,layout:h,offset:u,tooltipAxisBandSize:d,tooltipEventType:f})}),oB(o,"renderPolarAxis",function(e,t,n){var a=Db()(e,"type.axisType"),i=Db()(o.state,"".concat(a,"Map")),s=e.type.defaultProps,l=void 0!==s?iB(iB({},s),e.props):e.props,u=i&&i[l["".concat(a,"Id")]];return(0,r.cloneElement)(e,iB(iB({},u),{},{className:wb(a,u.className),key:e.key||"".concat(t,"-").concat(n),ticks:UO(u,!0)}))}),oB(o,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,a=t.polarAngles,i=t.polarRadius,s=o.state,l=s.radiusAxisMap,u=s.angleAxisMap,c=qb(l),d=qb(u),f=d.cx,p=d.cy,h=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(a)?a:UO(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:UO(c,!0).map(function(e){return e.coordinate}),cx:f,cy:p,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:n})}),oB(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,a=t.width,i=t.height,s=o.props.margin||{},l=a-(s.left||0)-(s.right||0),c=_O({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var d=c.item,f=GI(c,WI);return(0,r.cloneElement)(d,iB(iB({},f),{},{chartWidth:a,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),oB(o,"renderTooltip",function(){var e,t=o.props,n=t.children,a=t.accessibilityLayer,i=mx(n,Ow);if(!i)return null;var s=o.state,l=s.isTooltipActive,u=s.activeCoordinate,c=s.activePayload,d=s.activeLabel,f=s.offset,p=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(i,{viewBox:iB(iB({},f),{},{x:f.left,y:f.top}),active:p,label:d,payload:p?c:[],coordinate:u,accessibilityLayer:a})}),oB(o,"renderBrush",function(e){var t=o.props,n=t.margin,a=t.data,i=o.state,s=i.offset,l=i.dataStartIndex,u=i.dataEndIndex,c=i.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:WO(o.handleBrushChange,e.props.onChange),data:a,x:Ib(e.props.x)?e.props.x:s.left,y:Ib(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Ib(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:u,updateId:"brush-".concat(c)})}),oB(o,"renderReferenceElement",function(e,t,n){if(!e)return null;var a=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,u=i.offset,c=e.type.defaultProps||{},d=e.props,f=d.xAxisId,p=void 0===f?c.xAxisId:f,h=d.yAxisId,m=void 0===h?c.yAxisId:h;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[p],yAxis:l[m],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:a})}),oB(o,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,a=e.basePoint,i=e.childIndex,o=e.isRange,s=[],l=t.props.key,u=void 0!==t.item.type.defaultProps?iB(iB({},t.item.type.defaultProps),t.item.props):t.item.props,c=u.activeDot,d=iB(iB({index:i,dataKey:u.dataKey,cx:r.x,cy:r.y,r:4,fill:BO(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},bx(c,!1)),rx(c));return s.push(n.renderActiveDot(c,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(n.renderActiveDot(c,iB(iB({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),oB(o,"renderGraphicChild",function(e,t,n){var a=o.filterFormatItem(e,t,n);if(!a)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,u=s.tooltipAxis,c=s.activeTooltipIndex,d=s.activeLabel,f=mx(o.props.children,Ow),p=a.props,h=p.points,m=p.isRange,g=p.baseLine,y=void 0!==a.item.type.defaultProps?iB(iB({},a.item.type.defaultProps),a.item.props):a.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,S=Boolean(!b&&l&&f&&(v||x||w)),N={};"axis"!==i&&f&&"click"===f.props.trigger?N={onClick:WO(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:WO(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:WO(o.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,r.cloneElement)(e,iB(iB({},a.props),N));if(S){if(!(c>=0)){var A,C=(null!==(A=o.getItemByXY(o.state.activeCoordinate))&&void 0!==A?A:{graphicalItem:E}).graphicalItem,k=C.item,_=void 0===k?e:k,D=C.childIndex,j=iB(iB(iB({},a.props),N),{},{activeIndex:D});return[(0,r.cloneElement)(_,j),null,null]}var O,M;if(u.dataKey&&!u.allowDuplicatedCategory){var T="function"===typeof u.dataKey?function(e){return"function"===typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());O=$b(h,T,d),M=m&&g&&$b(g,T,d)}else O=null===h||void 0===h?void 0:h[c],M=m&&g&&g[c];if(w||x){var P=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[(0,r.cloneElement)(e,iB(iB(iB({},a.props),N),{},{activeIndex:P})),null,null]}if(!Tb()(O))return[E].concat(tB(o.renderActivePoints({item:a,activePoint:O,basePoint:M,childIndex:c,isRange:m})))}return m?[E,null,null]:[E,null]}),oB(o,"renderCustomized",function(e,t,n){return(0,r.cloneElement)(e,iB(iB({key:"recharts-customized-".concat(n)},o.props),o.state))}),oB(o,"renderMap",{CartesianGrid:{handler:dB,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:dB},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:dB},YAxis:{handler:dB},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(a=e.id)&&void 0!==a?a:zb("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Nb()(o.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eB(e,t)}(n,e),a=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,i=mx(t,Ow);if(i){var o=i.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=hB(this.state,n,o,s),u=this.state.tooltipTicks[o].coordinate,c=(this.state.offset.top+r)/2,d="horizontal"===a?{x:u,y:c}:{y:u,x:c},f=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});f&&(d=iB(iB({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var p={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){xx([mx(e.children,Ow)],[mx(this.props.children,Ow)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=mx(this.props.children,Ow);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,u=l.xAxisMap,c=l.yAxisMap,d=this.getTooltipEventType(),f=mB(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&u&&c){var p=qb(u).scale,h=qb(c).scale,m=p&&p.invert?p.invert(i.chartX):null,g=h&&h.invert?h.invert(i.chartY):null;return iB(iB({},i),{},{xValue:m,yValue:g},f)}return f?iB(iB({},i),f):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,u=s.radiusAxisMap;if(l&&u){var c=qb(l);return IM({x:a,y:i},c)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=mx(e,Ow),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),iB(iB({},rx(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){UF.on($F,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){UF.removeListener($F,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.item===e||o.props.key===e.key||t===cx(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,a=t.top,i=t.height,o=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:a,height:i,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=YI(t,2),r=n[0],a=n[1];return iB(iB({},e),{},oB({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=YI(t,2),r=n[0],a=n[1];return iB(iB({},e),{},oB({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,i=n.length;a<i;a++){var o=n[a],s=o.props,l=o.item,u=void 0!==l.type.defaultProps?iB(iB({},l.type.defaultProps),l.props):l.props,c=cx(l.type);if("Bar"===c){var d=(s.data||[]).find(function(t){return OE(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===c){var f=(s.data||[]).find(function(t){return IM(e,t)});if(f)return{graphicalItem:o,payload:f}}else if(YT(o,r)||GT(o,r)||XT(o,r)){var p=eP({graphicalItem:o,activeTooltipItem:r,itemData:u.data}),h=void 0===u.activeIndex?p:u.activeIndex;return{graphicalItem:iB(iB({},o),{},{childIndex:h}),payload:XT(o,r)?u.data[p]:o.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!gx(this))return null;var t,n,a=this.props,i=a.children,o=a.className,s=a.width,l=a.height,u=a.style,c=a.compact,d=a.title,f=a.desc,p=GI(a,HI),h=bx(p,!1);if(c)return r.createElement(oF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(zx,VI({},h,{width:s,height:l,title:d,desc:f}),this.renderClipPath(),Sx(i,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(oF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",VI({className:wb("recharts-wrapper",o),style:iB({position:"relative",cursor:"default",width:s,height:l},u)},m,{ref:function(t){e.container=t}}),r.createElement(zx,VI({},h,{width:s,height:l,title:d,desc:f,style:uB}),this.renderClipPath(),Sx(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&XI(a.prototype,o),l&&XI(a,l),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,o,l}(r.Component);oB(h,"displayName",t),oB(h,"defaultProps",iB({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oB(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,u=e.margin,c=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=vB(e);return iB(iB(iB({},f),{},{updateId:0},p(iB(iB({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Jb(u,t.prevMargin)){var h=vB(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=iB(iB({},mB(t,r,s)),{},{updateId:t.updateId+1}),y=iB(iB(iB({},h),m),g);return iB(iB(iB({},y),p(iB({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:a})}if(!xx(a,t.prevChildren)){var v,b,x,w,S=mx(a,NM),N=S&&null!==(v=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:c,E=S&&null!==(x=null===(w=S.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,A=N!==c||E!==d,C=!Tb()(r)&&!A?t.updateId:t.updateId+1;return iB(iB({updateId:C},p(iB(iB({props:e},t),{},{updateId:C,dataStartIndex:N,dataEndIndex:E}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:E})}return null}),oB(h,"renderActiveDot",function(e,t,n){var a;return a=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):Vb()(e)?e(t):r.createElement(VS,t),r.createElement($x,{className:"recharts-active-dot",key:n},a)});var m=(0,r.forwardRef)(function(e,t){return r.createElement(h,VI({},e,{ref:t}))});return m.displayName=h.displayName,m},NB=["type","layout","connectNulls","ref"],EB=["key"];function AB(e){return AB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AB(e)}function CB(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kB(){return kB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kB.apply(this,arguments)}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function DB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(t){BB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jB(e){return function(e){if(Array.isArray(e))return OB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return OB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RB(r.key),r)}}function TB(e,t,n){return t=FB(t),function(e,t){if(t&&("object"===AB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PB()?Reflect.construct(t,n||[],FB(e).constructor):t.apply(e,n))}function PB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(PB=function(){return!!e})()}function FB(e){return FB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FB(e)}function IB(e,t){return IB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},IB(e,t)}function BB(e,t,n){return(t=RB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RB(e){var t=function(e,t){if("object"!=AB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AB(t)?t:t+""}var zB=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return BB(e=TB(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),BB(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),BB(e,"getStrokeDasharray",function(n,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(r,n);for(var o=Math.floor(n/i),s=n%i,l=r-n,u=[],c=0,d=0;c<a.length;d+=a[c],++c)if(d+a[c]>s){u=[].concat(jB(a.slice(0,c)),[s-d]);break}var f=u.length%2===0?[0,l]:[l];return[].concat(jB(t.repeat(a,o)),jB(u),f).map(function(e){return"".concat(e,"px")}).join(", ")}),BB(e,"id",zb("recharts-line-")),BB(e,"pathRef",function(t){e.mainCurve=t}),BB(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),BB(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IB(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(jB(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(jB(r),jB(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(Vb()(e))n=e(t);else{var a=t.key,i=CB(t,EB),o=wb("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(VS,kB({key:a},i,{className:o}))}return n}}],(a=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,i=n.xAxis,o=n.yAxis,s=n.layout,l=hx(n.children,NO);if(!l)return null;var u=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:FO(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement($x,c,l.map(function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:a,xAxis:i,yAxis:o,layout:s,dataPointFormatter:u})}))}},{key:"renderDots",value:function(e,n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.dot,s=i.points,l=i.dataKey,u=bx(this.props,!1),c=bx(o,!0),d=s.map(function(e,n){var r=DB(DB(DB({key:"dot-".concat(n),r:3},u),c),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:s});return t.renderDotItem(o,r)}),f={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return r.createElement($x,kB({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,t,n,a){var i=this.props,o=i.type,s=i.layout,l=i.connectNulls,u=(i.ref,CB(i,NB)),c=DB(DB(DB({},bx(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},a),{},{type:o,layout:s,connectNulls:l});return r.createElement(_I,kB({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,a=this.props,i=a.points,o=a.strokeDasharray,s=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,c=a.animationEasing,d=a.animationId,f=a.animateNewValues,p=a.width,h=a.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(SE,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var a=r.t;if(g){var s=g.length/i.length,l=i.map(function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],i=Ub(r.x,e.x),o=Ub(r.y,e.y);return DB(DB({},e),{},{x:i(a),y:o(a)})}if(f){var l=Ub(2*p,e.x),u=Ub(h/2,e.y);return DB(DB({},e),{},{x:l(a),y:u(a)})}return DB(DB({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var u,c=Ub(0,y)(a);if(o){var d="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});u=n.getStrokeDasharray(c,y,d)}else u=n.generateSimpleStrokeDasharray(y,c);return n.renderCurveStatically(i,e,t,{strokeDasharray:u})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&r&&r.length&&(!o&&s>0||!Bj()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,a=t.dot,i=t.points,o=t.className,s=t.xAxis,l=t.yAxis,u=t.top,c=t.left,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=wb("recharts-line",o),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=Tb()(h)?this.id:h,S=null!==(e=bx(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=S.r,E=void 0===N?3:N,A=S.strokeWidth,C=void 0===A?2:A,k=(function(e){return e&&"object"===lx(e)&&"clipDot"in e}(a)?a:{}).clipDot,_=void 0===k||k,D=2*E+C;return r.createElement($x,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:v?c:c-d/2,y:b?u:u-f/2,width:v?d:2*d,height:b?f:2*f})),!_&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:c-D/2,y:u-D/2,width:d+D,height:f+D}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||a)&&this.renderDots(x,_,w),(!p||m)&&mT.renderCallByParent(this.props,i))}}])&&MB(n.prototype,a),i&&MB(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function LB(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function qB(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,i=Math.atan(n/t),o=a>i&&a<Math.PI-i?n/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function UB(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function $B(e){return $B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$B(e)}function WB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WB(Object(n),!0).forEach(function(t){KB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function KB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VB(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,d=e.angle;if(!a||!a.length||!r)return[];if(Ib(l)||gw.isSsr)return function(e,t){return LB(e,t+1)}(a,"number"===typeof l&&Ib(l)?l:0);var f=[],p="top"===s||"bottom"===s?"width":"height",h=c&&"width"===p?QE(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var a=Vb()(u)?u(e.value,r):e.value;return"width"===p?qB(QE(a,{fontSize:t,letterSpacing:n}),h,d):QE(a,{fontSize:t,letterSpacing:n})[p]},g=a.length>=2?Pb(a[1].coordinate-a[0].coordinate):1,y=function(e,t,n){var r="width"===n,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}(i,g,p);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var i,o=(r||[]).slice(),s=t.start,l=t.end,u=0,c=1,d=s,f=function(){var t=null===r||void 0===r?void 0:r[u];if(void 0===t)return{v:LB(r,c)};var i,o=u,f=function(){return void 0===i&&(i=n(t,o)),i},p=t.coordinate,h=0===u||UB(e,p,f,d,l);h||(u=0,d=s,c+=1),h&&(d=p+e*(f()/2+a),u+=c)};c<=o.length;)if(i=f())return i.v;return[]}(g,y,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,l=t.start,u=t.end;if(i){var c=r[s-1],d=n(c,s-1),f=e*(c.coordinate+e*d/2-u);o[s-1]=c=HB(HB({},c),{},{tickCoord:f>0?c.coordinate-f*e:c.coordinate}),UB(e,c.tickCoord,function(){return d},l,u)&&(u=c.tickCoord-e*(d/2+a),o[s-1]=HB(HB({},c),{},{isShow:!0}))}for(var p=i?s-1:s,h=function(t){var r,i=o[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var c=e*(i.coordinate-e*s()/2-l);o[t]=i=HB(HB({},i),{},{tickCoord:c<0?i.coordinate-c*e:i.coordinate})}else o[t]=i=HB(HB({},i),{},{tickCoord:i.coordinate});UB(e,i.tickCoord,s,l,u)&&(l=i.tickCoord+e*(s()/2+a),o[t]=HB(HB({},i),{},{isShow:!0}))},m=0;m<p;m++)h(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,s=t.start,l=t.end,u=function(t){var r,u=i[t],c=function(){return void 0===r&&(r=n(u,t)),r};if(t===o-1){var d=e*(u.coordinate+e*c()/2-l);i[t]=u=HB(HB({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate})}else i[t]=u=HB(HB({},u),{},{tickCoord:u.coordinate});UB(e,u.tickCoord,c,s,l)&&(l=u.tickCoord-e*(c()/2+a),i[t]=HB(HB({},u),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return i}(g,y,m,a,o),f.filter(function(e){return e.isShow}))}BB(zB,"displayName","Line"),BB(zB,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gw.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),BB(zB,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout,d=l.map(function(e,t){var l=FO(e,o);return"horizontal"===c?{x:JO({axis:n,ticks:a,bandSize:s,entry:e,index:t}),y:Tb()(l)?null:r.scale(l),value:l,payload:e}:{x:Tb()(l)?null:n.scale(l),y:JO({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}});return DB({points:d,layout:c},u)});var YB=["viewBox"],GB=["viewBox"],XB=["ticks"];function JB(e){return JB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JB(e)}function ZB(){return ZB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZB.apply(this,arguments)}function QB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QB(Object(n),!0).forEach(function(t){sR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lR(r.key),r)}}function rR(e,t,n){return t=iR(t),function(e,t){if(t&&("object"===JB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aR()?Reflect.construct(t,n||[],iR(e).constructor):t.apply(e,n))}function aR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(aR=function(){return!!e})()}function iR(e){return iR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iR(e)}function oR(e,t){return oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oR(e,t)}function sR(e,t,n){return(t=lR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lR(e){var t=function(e,t){if("object"!=JB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JB(t)?t:t+""}var uR=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=rR(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oR(e,t)}(t,e),n=t,a=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=tR(e,YB),a=this.props,i=a.viewBox,o=tR(a,GB);return!Jb(n,i)||!Jb(r,o)||!Jb(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,i,o,s=this.props,l=s.x,u=s.y,c=s.width,d=s.height,f=s.orientation,p=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,y=e.tickSize||p,v=Ib(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,o=(r=(a=u+ +!h*d)-g*y)-g*m,i=v;break;case"left":r=a=e.coordinate,i=(t=(n=l+ +!h*c)-g*y)-g*m,o=v;break;case"right":r=a=e.coordinate,i=(t=(n=l+ +h*c)+g*y)+g*m,o=v;break;default:t=n=e.coordinate,o=(r=(a=u+ +h*d)+g*y)+g*m,i=v}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,a=e.width,i=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,u=eR(eR(eR({},bx(this.props,!1)),bx(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!s||"bottom"===o&&s);u=eR(eR({},u),{},{x1:t,y1:n+c*i,x2:t+a,y2:n+c*i})}else{var d=+("left"===o&&!s||"right"===o&&s);u=eR(eR({},u),{},{x1:t+d*a,y1:n,x2:t+d*a,y2:n+i})}return r.createElement("line",ZB({},u,{className:wb("recharts-cartesian-axis-line",Db()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,a){var i=this,o=this.props,s=o.tickLine,l=o.stroke,u=o.tick,c=o.tickFormatter,d=o.unit,f=VB(eR(eR({},this.props),{},{ticks:e}),n,a),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=bx(this.props,!1),g=bx(u,!1),y=eR(eR({},m),{},{fill:"none"},bx(s,!1)),v=f.map(function(e,n){var a=i.getTickLineCoord(e),o=a.line,v=a.tick,b=eR(eR(eR(eR({textAnchor:p,verticalAnchor:h},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:f.length,tickFormatter:c});return r.createElement($x,ZB({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ax(i.props,e,n)),s&&r.createElement("line",ZB({},y,o,{className:wb("recharts-cartesian-axis-tick-line",Db()(s,"className"))})),u&&t.renderTickItem(u,b,"".concat(Vb()(c)?c(e.value,n):e.value).concat(d||"")))});return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,a=t.width,i=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,u=l.ticks,c=tR(l,XB),d=u;return Vb()(o)&&(d=u&&u.length>0?o(this.props):o(c)),a<=0||i<=0||!d||!d.length?null:r.createElement($x,{className:wb("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),YM.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,n){var a=wb(t.className,"recharts-cartesian-axis-tick-value");return r.isValidElement(e)?r.cloneElement(e,eR(eR({},t),{},{className:a})):Vb()(e)?e(eR(eR({},t),{},{className:a})):r.createElement(_A,ZB({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],a&&nR(n.prototype,a),i&&nR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function cR(e){return cR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cR(e)}function dR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yR(r.key),r)}}function fR(e,t,n){return t=hR(t),function(e,t){if(t&&("object"===cR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pR()?Reflect.construct(t,n||[],hR(e).constructor):t.apply(e,n))}function pR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pR=function(){return!!e})()}function hR(e){return hR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hR(e)}function mR(e,t){return mR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mR(e,t)}function gR(e,t,n){return(t=yR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yR(e){var t=function(e,t){if("object"!=cR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cR(t)?t:t+""}function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vR.apply(this,arguments)}function bR(e){var t=e.xAxisId,n=uF(),a=cF(),i=sF(t);return null==i?null:r.createElement(uR,vR({},i,{className:wb("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return UO(e,!0)}}))}sR(uR,"displayName","CartesianAxis"),sR(uR,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mR(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(bR,this.props)}}])&&dR(n.prototype,a),i&&dR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);function wR(e){return wR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wR(e)}function SR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_R(r.key),r)}}function NR(e,t,n){return t=AR(t),function(e,t){if(t&&("object"===wR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ER()?Reflect.construct(t,n||[],AR(e).constructor):t.apply(e,n))}function ER(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ER=function(){return!!e})()}function AR(e){return AR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},AR(e)}function CR(e,t){return CR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CR(e,t)}function kR(e,t,n){return(t=_R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _R(e){var t=function(e,t){if("object"!=wR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wR(t)?t:t+""}function DR(){return DR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DR.apply(this,arguments)}gR(xR,"displayName","XAxis"),gR(xR,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var jR=function(e){var t=e.yAxisId,n=uF(),a=cF(),i=lF(t);return null==i?null:r.createElement(uR,DR({},i,{className:wb("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(e){return UO(e,!0)}}))},OR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),NR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CR(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){return r.createElement(jR,this.props)}}])&&SR(n.prototype,a),i&&SR(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.Component);kR(OR,"displayName","YAxis"),kR(OR,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var MR=SB({chartName:"LineChart",GraphicalChild:zB,axisComponents:[{axisType:"xAxis",AxisComp:xR},{axisType:"yAxis",AxisComp:OR}],formatAxisMap:function(e,t,n,r,a){var i=e.width,o=e.height,s=e.layout,l=e.children,u=Object.keys(t),c={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!mx(l,AP);return u.reduce(function(i,o){var l,u,f,p,h,m=t[o],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,S="".concat(g).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=y[1]-y[0],E=1/0,A=m.categoricalDomain.sort(Wb);if(A.forEach(function(e,t){t>0&&(E=Math.min((e||0)-(A[t-1]||0),E))}),Number.isFinite(E)){var C=E/N,k="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=C*k/2),"no-gap"===m.padding){var _=Lb(e.barCategoryGap,C*k),D=C*k/2;l=D-_-(D-_)/k*_}}}u="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(u=[u[1],u[0]]);var j=HO(m,a,d),O=j.scale,M=j.realScaleType;O.domain(y).range(u),VO(O);var T=XO(O,DP(DP({},m),{},{realScaleType:M}));"xAxis"===r?(h="top"===g&&!x||"bottom"===g&&x,f=n.left,p=c[S]-h*m.height):"yAxis"===r&&(h="left"===g&&!x||"right"===g&&x,f=c[S]-h*m.width,p=n.top);var P=DP(DP(DP({},m),T),{},{realScaleType:M,x:f,y:p,scale:O,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return P.bandSize=rM(P,T),m.hide||"xAxis"!==r?m.hide||(c[S]+=(h?-1:1)*P.width):c[S]+=(h?-1:1)*P.height,DP(DP({},i),{},jP({},o,P))},{})}}),TR=["x1","y1","x2","y2","key"],PR=["offset"];function FR(e){return FR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FR(e)}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(t){RR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=FR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zR(){return zR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zR.apply(this,arguments)}function LR(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var qR=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.ry;return r.createElement("rect",{x:a,y:i,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function UR(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if(Vb()(e))n=e(t);else{var a=t.x1,i=t.y1,o=t.x2,s=t.y2,l=t.key,u=LR(t,TR),c=bx(u,!1),d=(c.offset,LR(c,PR));n=r.createElement("line",zR({},d,{x1:a,y1:i,x2:o,y2:s,fill:"none",key:l}))}return n}function $R(e){var t=e.x,n=e.width,a=e.horizontal,i=void 0===a||a,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(r,a){var o=BR(BR({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(a),index:a});return UR(i,o)});return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function WR(e){var t=e.y,n=e.height,a=e.vertical,i=void 0===a||a,o=e.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(r,a){var o=BR(BR({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(a),index:a});return UR(i,o)});return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function HR(e){var t=e.horizontalFill,n=e.fillOpacity,a=e.x,i=e.y,o=e.width,s=e.height,l=e.horizontalPoints,u=e.horizontal;if(!(void 0===u||u)||!t||!t.length)return null;var c=l.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==c[0]&&c.unshift(0);var d=c.map(function(e,l){var u=!c[l+1]?i+s-e:c[l+1]-e;if(u<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:u,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KR(e){var t=e.vertical,n=void 0===t||t,a=e.verticalFill,i=e.fillOpacity,o=e.x,s=e.y,l=e.width,u=e.height,c=e.verticalPoints;if(!n||!a||!a.length)return null;var d=c.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==d[0]&&d.unshift(0);var f=d.map(function(e,t){var n=!d[t+1]?o+l-e:d[t+1]-e;if(n<=0)return null;var c=t%a.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:u,stroke:"none",fill:a[c],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var VR=function(e,t){var n=e.xAxis,r=e.width,a=e.height,i=e.offset;return qO(VB(BR(BR(BR({},uR.defaultProps),n),{},{ticks:UO(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},YR=function(e,t){var n=e.yAxis,r=e.width,a=e.height,i=e.offset;return qO(VB(BR(BR(BR({},uR.defaultProps),n),{},{ticks:UO(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},GR={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function XR(e){var t,n,a,i,o,s,l=uF(),u=cF(),c=(0,r.useContext)(nF),d=BR(BR({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:GR.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:GR.fill,horizontal:null!==(a=e.horizontal)&&void 0!==a?a:GR.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:GR.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:GR.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:GR.verticalFill,x:Ib(e.x)?e.x:c.left,y:Ib(e.y)?e.y:c.top,width:Ib(e.width)?e.width:c.width,height:Ib(e.height)?e.height:c.height}),f=d.x,p=d.y,h=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,r.useContext)(QP);return qb(e)}(),x=function(){var e=(0,r.useContext)(eF);return XP()(e,function(e){return eT()(e.domain,Number.isFinite)})||qb(e)}();if(!Ib(h)||h<=0||!Ib(m)||m<=0||!Ib(f)||f!==+f||!Ib(p)||p!==+p)return null;var w=d.verticalCoordinatesGenerator||VR,S=d.horizontalCoordinatesGenerator||YR,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&Vb()(S)){var A=y&&y.length,C=S({yAxis:x?BR(BR({},x),{},{ticks:A?y:x.ticks}):void 0,width:l,height:u,offset:c},!!A||g);Hb(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(FR(C),"]")),Array.isArray(C)&&(N=C)}if((!E||!E.length)&&Vb()(w)){var k=v&&v.length,_=w({xAxis:b?BR(BR({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:u,offset:c},!!k||g);Hb(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(FR(_),"]")),Array.isArray(_)&&(E=_)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(qR,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),r.createElement($R,zR({},d,{offset:c,horizontalPoints:N,xAxis:b,yAxis:x})),r.createElement(WR,zR({},d,{offset:c,verticalPoints:E,xAxis:b,yAxis:x})),r.createElement(HR,zR({},d,{horizontalPoints:N})),r.createElement(KR,zR({},d,{verticalPoints:E})))}XR.displayName="CartesianGrid";const JR=()=>{var e,t;const{state:n,calculations:a,formatCurrency:i}=H(),{isDark:s}=l(),u=(0,r.useMemo)(()=>{const e=n.data.plannerState||{},t=e.weeklyIncome||[0,0,0,0],r=e.weeklyExpenses||[0,0,0,0],i=a.getTotalIncome(),o=a.getTotalMonthlyExpenses(),s=a.getMonthlyAnnualImpact(),l=Tv.add(o,s),u=[];let c=0;for(let n=1;n<=4;n++){const e=n-1,a=t[e]||Tv.divide(i,4),o=r[e]||Tv.divide(l,4),s=Tv.subtract(a,o);c=Tv.add(c,s),u.push({week:`Week ${n}`,income:Number(a.toFixed(2)),expenses:Number(o.toFixed(2)),netFlow:Number(s.toFixed(2)),cumulative:Number(c.toFixed(2))})}return u},[n.data.plannerState,a]),c={income:s?"#2ecc71":"#27ae60",expenses:s?"#e74c3c":"#c0392b",netFlow:s?"#3498db":"#2980b9",cumulative:s?"#f39c12":"#e67e22",grid:s?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",text:s?"#ecf0f1":"#2c3e50"},d=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,o.jsxs)("div",{className:"chart-tooltip",children:[(0,o.jsx)("p",{className:"tooltip-label",children:r}),n.map((e,t)=>(0,o.jsx)("p",{className:"tooltip-item",style:{color:e.color},children:`${e.name}: ${i(e.value)}`},t))]}):null};return(0,o.jsxs)("div",{className:"cash-flow-chart",children:[(0,o.jsx)("div",{className:"chart-container",children:(0,o.jsx)(Dx,{width:"100%",height:300,children:(0,o.jsxs)(MR,{data:u,margin:{top:20,right:30,left:20,bottom:5},children:[(0,o.jsx)(XR,{strokeDasharray:"3 3",stroke:c.grid}),(0,o.jsx)(xR,{dataKey:"week",stroke:c.text,tick:{fill:c.text,fontSize:12}}),(0,o.jsx)(OR,{stroke:c.text,tick:{fill:c.text,fontSize:12},tickFormatter:e=>Math.abs(e)>=1e3?`$${(e/1e3).toFixed(1)}k`:`$${e}`}),(0,o.jsx)(Ow,{content:(0,o.jsx)(d,{})}),(0,o.jsx)(HS,{wrapperStyle:{color:c.text}}),(0,o.jsx)(AF,{y:0,stroke:c.text,strokeDasharray:"2 2"}),(0,o.jsx)(zB,{type:"monotone",dataKey:"income",stroke:c.income,strokeWidth:2,dot:{fill:c.income,strokeWidth:2,r:4},name:"Income"}),(0,o.jsx)(zB,{type:"monotone",dataKey:"expenses",stroke:c.expenses,strokeWidth:2,dot:{fill:c.expenses,strokeWidth:2,r:4},name:"Expenses"}),(0,o.jsx)(zB,{type:"monotone",dataKey:"netFlow",stroke:c.netFlow,strokeWidth:3,dot:{fill:c.netFlow,strokeWidth:2,r:5},name:"Net Flow"}),(0,o.jsx)(zB,{type:"monotone",dataKey:"cumulative",stroke:c.cumulative,strokeWidth:2,strokeDasharray:"5 5",dot:{fill:c.cumulative,strokeWidth:2,r:4},name:"Cumulative"})]})})}),(0,o.jsxs)("div",{className:"chart-summary",children:[(0,o.jsxs)("div",{className:"summary-stats",children:[(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-icon",style:{color:c.income},children:"\ud83d\udcc8"}),(0,o.jsx)("span",{className:"stat-label",children:"Avg Weekly Income:"}),(0,o.jsx)("span",{className:"stat-value",children:i(u.reduce((e,t)=>e+t.income,0)/4)})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-icon",style:{color:c.expenses},children:"\ud83d\udcc9"}),(0,o.jsx)("span",{className:"stat-label",children:"Avg Weekly Expenses:"}),(0,o.jsx)("span",{className:"stat-value",children:i(u.reduce((e,t)=>e+t.expenses,0)/4)})]}),(0,o.jsxs)("div",{className:"stat-item",children:[(0,o.jsx)("span",{className:"stat-icon",style:{color:c.cumulative},children:"\ud83d\udcb0"}),(0,o.jsx)("span",{className:"stat-label",children:"Month-End Position:"}),(0,o.jsx)("span",{className:"stat-value "+((null===(e=u[3])||void 0===e?void 0:e.cumulative)>=0?"positive":"negative"),children:i((null===(t=u[3])||void 0===t?void 0:t.cumulative)||0)})]})]}),(0,o.jsxs)("div",{className:"flow-health",children:[(0,o.jsx)("div",{className:"health-label",children:"Cash Flow Health:"}),(0,o.jsx)("div",{className:"health-indicators",children:u.map((e,t)=>(0,o.jsxs)("div",{className:"health-indicator "+(e.netFlow>=0?"healthy":"warning"),title:`${e.week}: ${i(e.netFlow)}`,children:[(0,o.jsx)("div",{className:"indicator-bar",children:(0,o.jsx)("div",{className:"indicator-fill",style:{height:`${Math.min(Math.abs(e.netFlow)/1e3*100,100)}%`,backgroundColor:e.netFlow>=0?c.income:c.expenses}})}),(0,o.jsxs)("span",{className:"week-label",children:["W",t+1]})]},t))})]})]})]})};var ZR=["points","className","baseLinePoints","connectNulls"];function QR(){return QR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QR.apply(this,arguments)}function ez(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tz(e){return function(e){if(Array.isArray(e))return nz(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return nz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rz=function(e){return e&&e.x===+e.x&&e.y===+e.y},az=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){rz(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),rz(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce(function(e,t){return[].concat(tz(e),tz(t))},[])]);var r=n.map(function(e){return e.reduce(function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===n.length?"".concat(r,"Z"):r},iz=function(e){var t=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,o=ez(e,ZR);if(!t||!t.length)return null;var s=wb("recharts-polygon",n);if(a&&a.length){var l=o.stroke&&"none"!==o.stroke,u=function(e,t,n){var r=az(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(az(t.reverse(),n).slice(1))}(t,a,i);return r.createElement("g",{className:s},r.createElement("path",QR({},bx(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",stroke:"none",d:u})),l?r.createElement("path",QR({},bx(o,!0),{fill:"none",d:az(t,i)})):null,l?r.createElement("path",QR({},bx(o,!0),{fill:"none",d:az(a,i)})):null)}var c=az(t,i);return r.createElement("path",QR({},bx(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",className:s,d:c}))};function oz(e){return oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oz(e)}function sz(){return sz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sz.apply(this,arguments)}function lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lz(Object(n),!0).forEach(function(t){mz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gz(r.key),r)}}function dz(e,t,n){return t=pz(t),function(e,t){if(t&&("object"===oz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fz()?Reflect.construct(t,n||[],pz(e).constructor):t.apply(e,n))}function fz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fz=function(){return!!e})()}function pz(e){return pz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pz(e)}function hz(e,t){return hz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hz(e,t)}function mz(e,t,n){return(t=gz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gz(e){var t=function(e,t){if("object"!=oz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oz(t)?t:t+""}var yz=Math.PI/180,vz=1e-5,bz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dz(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hz(e,t)}(t,e),n=t,a=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=MM(n,r,a,e.coordinate),l=MM(n,r,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*yz);return n>vz?"outer"===t?"start":"end":n<-vz?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.radius,i=e.axisLine,o=e.axisLineType,s=uz(uz({},bx(this.props,!1)),{},{fill:"none"},bx(i,!1));if("circle"===o)return r.createElement(VS,sz({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:a}));var l=this.props.ticks.map(function(e){return MM(t,n,a,e.coordinate)});return r.createElement(iz,sz({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,a=n.ticks,i=n.tick,o=n.tickLine,s=n.tickFormatter,l=n.stroke,u=bx(this.props,!1),c=bx(i,!1),d=uz(uz({},u),{},{fill:"none"},bx(o,!1)),f=a.map(function(n,a){var f=e.getTickLineCoord(n),p=uz(uz(uz({textAnchor:e.getTickTextAnchor(n)},u),{},{stroke:"none",fill:l},c),{},{index:a,payload:n,x:f.x2,y:f.y2});return r.createElement($x,sz({className:wb("recharts-polar-angle-axis-tick",BM(i)),key:"tick-".concat(n.coordinate)},ax(e.props,n,a)),o&&r.createElement("line",sz({className:"recharts-polar-angle-axis-tick-line"},d,f)),i&&t.renderTickItem(i,p,s?s(n.value,a):n.value))});return r.createElement($x,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,a=e.axisLine;return n<=0||!t||!t.length?null:r.createElement($x,{className:wb("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],i=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):Vb()(e)?e(t):r.createElement(_A,sz({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],a&&cz(n.prototype,a),i&&cz(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);mz(bz,"displayName","PolarAngleAxis"),mz(bz,"axisType","angleAxis"),mz(bz,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xz=n(2794),wz=n.n(xz),Sz=n(9364),Nz=n.n(Sz),Ez=["cx","cy","angle","ticks","axisLine"],Az=["ticks","tick","angle","tickFormatter","stroke"];function Cz(e){return Cz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cz(e)}function kz(){return kz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kz.apply(this,arguments)}function _z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Dz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_z(Object(n),!0).forEach(function(t){Iz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jz(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bz(r.key),r)}}function Mz(e,t,n){return t=Pz(t),function(e,t){if(t&&("object"===Cz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tz()?Reflect.construct(t,n||[],Pz(e).constructor):t.apply(e,n))}function Tz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Tz=function(){return!!e})()}function Pz(e){return Pz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pz(e)}function Fz(e,t){return Fz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fz(e,t)}function Iz(e,t,n){return(t=Bz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bz(e){var t=function(e,t){if("object"!=Cz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cz(t)?t:t+""}var Rz,zz=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mz(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fz(e,t)}(t,e),n=t,a=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,a=n.cx,i=n.cy;return MM(a,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,a=e.ticks,i=wz()(a,function(e){return e.coordinate||0});return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:Nz()(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,a=e.angle,i=e.ticks,o=e.axisLine,s=jz(e,Ez),l=i.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),u=MM(t,n,l[0],a),c=MM(t,n,l[1],a),d=Dz(Dz(Dz({},bx(s,!1)),{},{fill:"none"},bx(o,!1)),{},{x1:u.x,y1:u.y,x2:c.x,y2:c.y});return r.createElement("line",kz({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,a=n.ticks,i=n.tick,o=n.angle,s=n.tickFormatter,l=n.stroke,u=jz(n,Az),c=this.getTickTextAnchor(),d=bx(u,!1),f=bx(i,!1),p=a.map(function(n,a){var u=e.getTickValueCoord(n),p=Dz(Dz(Dz(Dz({textAnchor:c,transform:"rotate(".concat(90-o,", ").concat(u.x,", ").concat(u.y,")")},d),{},{stroke:"none",fill:l},f),{},{index:a},u),{},{payload:n});return r.createElement($x,kz({className:wb("recharts-polar-radius-axis-tick",BM(i)),key:"tick-".concat(n.coordinate)},ax(e.props,n,a)),t.renderTickItem(i,p,s?s(n.value,a):n.value))});return r.createElement($x,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,a=e.tick;return t&&t.length?r.createElement($x,{className:wb("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),a&&this.renderTicks(),YM.renderCallByParent(this.props,this.getViewBox())):null}}],i=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):Vb()(e)?e(t):r.createElement(_A,kz({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],a&&Oz(n.prototype,a),i&&Oz(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);function Lz(e){return Lz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lz(e)}function qz(){return qz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qz.apply(this,arguments)}function Uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function $z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uz(Object(n),!0).forEach(function(t){Gz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xz(r.key),r)}}function Hz(e,t,n){return t=Vz(t),function(e,t){if(t&&("object"===Lz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kz()?Reflect.construct(t,n||[],Vz(e).constructor):t.apply(e,n))}function Kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kz=function(){return!!e})()}function Vz(e){return Vz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vz(e)}function Yz(e,t){return Yz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yz(e,t)}function Gz(e,t,n){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xz(e){var t=function(e,t){if("object"!=Lz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lz(t)?t:t+""}Iz(zz,"displayName","PolarRadiusAxis"),Iz(zz,"axisType","radiusAxis"),Iz(zz,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Jz=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gz(n=Hz(this,t,[e]),"pieRef",null),Gz(n,"sectorRefs",[]),Gz(n,"id",zb("recharts-pie-")),Gz(n,"handleAnimationEnd",function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Vb()(e)&&e()}),Gz(n,"handleAnimationStart",function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Vb()(e)&&e()}),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yz(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);if(Vb()(e))return e(t);var a=wb("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(_I,qz({},t,{key:n,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var a=n;if(Vb()(e)&&(a=e(t),r.isValidElement(a)))return a;var i=wb("recharts-pie-label-text","boolean"===typeof e||Vb()(e)?"":e.className);return r.createElement(_A,qz({},t,{alignmentBaseline:"middle",className:i}),a)}}],(a=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.label,i=n.labelLine,o=n.dataKey,s=n.valueKey,l=bx(this.props,!1),u=bx(a,!1),c=bx(i,!1),d=a&&a.offsetRadius||20,f=e.map(function(e,n){var f=(e.startAngle+e.endAngle)/2,p=MM(e.cx,e.cy,e.outerRadius+d,f),h=$z($z($z($z({},l),e),{},{stroke:"none"},u),{},{index:n,textAnchor:t.getTextAnchor(p.x,e.cx)},p),m=$z($z($z($z({},l),e),{},{fill:"none",stroke:e.fill},c),{},{index:n,points:[MM(e.cx,e.cy,e.outerRadius,f),p]}),g=o;return Tb()(o)&&Tb()(s)?g="value":Tb()(o)&&(g=s),r.createElement($x,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},i&&t.renderLabelLineItem(i,m,"line"),t.renderLabelItem(a,h,FO(e,g)))});return r.createElement($x,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,a=n.activeShape,i=n.blendStroke,o=n.inactiveShape;return e.map(function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),u=o&&t.hasActiveIndex()?o:null,c=l?a:u,d=$z($z({},n),{},{stroke:i?n.fill:n.stroke,tabIndex:-1});return r.createElement($x,qz({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ax(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),r.createElement(VT,qz({option:c,isActive:l,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,u=this.state,c=u.prevSectors,d=u.prevIsAnimationActive;return r.createElement(SE,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var a=t.t,i=[],o=(n&&n[0]).startAngle;return n.forEach(function(e,t){var n=c&&c[t],r=t>0?Db()(e,"paddingAngle",0):0;if(n){var s=Ub(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=$z($z({},e),{},{startAngle:o+r,endAngle:o+s(a)+r});i.push(l),o=l.endAngle}else{var u=e.endAngle,d=e.startAngle,f=Ub(0,u-d)(a),p=$z($z({},e),{},{startAngle:o+r,endAngle:o+f+r});i.push(p),o=p.endAngle}}),r.createElement($x,null,e.renderSectorsStatically(i))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&Bj()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,a=t.sectors,i=t.className,o=t.label,s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(n||!a||!a.length||!Ib(s)||!Ib(l)||!Ib(u)||!Ib(c))return null;var p=wb("recharts-pie",i);return r.createElement($x,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(a),YM.renderCallByParent(this.props,null,!1),(!d||f)&&mT.renderCallByParent(this.props,a,!1))}}])&&Wz(n.prototype,a),i&&Wz(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a,i}(r.PureComponent);Rz=Jz,Gz(Jz,"displayName","Pie"),Gz(Jz,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),Gz(Jz,"parseDeltaAngle",function(e,t){return Pb(t-e)*Math.min(Math.abs(t-e),360)}),Gz(Jz,"getRealPieData",function(e){var t=e.data,n=e.children,r=bx(e,!1),a=hx(n,tT);return t&&t.length?t.map(function(e,t){return $z($z($z({payload:e},r),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return $z($z({},r),e.props)}):[]}),Gz(Jz,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=TM(a,i);return{cx:r+Lb(e.cx,a,a/2),cy:n+Lb(e.cy,i,i/2),innerRadius:Lb(e.innerRadius,o,0),outerRadius:Lb(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),Gz(Jz,"getComposedData",function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?$z($z({},t.type.defaultProps),t.props):t.props,a=Rz.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),h=Rz.parseCoordinateOfPie(r,n),m=Rz.parseDeltaAngle(o,s),g=Math.abs(m),y=u;Tb()(u)&&Tb()(d)?(Hb(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):Tb()(u)&&(Hb(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,b,x=a.filter(function(e){return 0!==FO(e,y,0)}).length,w=g-x*p-(g>=360?x:x-1)*l,S=a.reduce(function(e,t){var n=FO(t,y,0);return e+(Ib(n)?n:0)},0);S>0&&(v=a.map(function(e,t){var n,r=FO(e,y,0),a=FO(e,c,t),s=(Ib(r)?r:0)/S,u=(n=t?b.endAngle+Pb(m)*l*(0!==r?1:0):o)+Pb(m)*((0!==r?p:0)+s*w),d=(n+u)/2,g=(h.innerRadius+h.outerRadius)/2,v=[{name:a,value:r,payload:e,dataKey:y,type:f}],x=MM(h.cx,h.cy,g,d);return b=$z($z($z({percent:s,cornerRadius:i,name:a,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:x},e),h),{},{value:FO(e,y),startAngle:n,endAngle:u,payload:e,paddingAngle:Pb(m)*l})}));return $z($z({},h),{},{sectors:v,data:a})});var Zz=SB({chartName:"PieChart",GraphicalChild:Jz,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bz},{axisType:"radiusAxis",AxisComp:zz}],formatAxisMap:function(e,t,n,r,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,u=Lb(e.cx,i,i/2),c=Lb(e.cy,o,o/2),d=TM(i,o,n),f=Lb(e.innerRadius,d,0),p=Lb(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,n){var i,o=t[n],d=o.domain,h=o.reversed;if(Tb()(o.range))"angleAxis"===r?i=[s,l]:"radiusAxis"===r&&(i=[f,p]),h&&(i=[i[1],i[0]]);else{var m=_M(i=o.range,2);s=m[0],l=m[1]}var g=HO(o,a),y=g.realScaleType,v=g.scale;v.domain(d).range(i),VO(v);var b=XO(v,CM(CM({},o),{},{realScaleType:y})),x=CM(CM(CM({},o),b),{},{range:i,radius:p,realScaleType:y,scale:v,cx:u,cy:c,innerRadius:f,outerRadius:p,startAngle:s,endAngle:l});return CM(CM({},e),{},kM({},n,x))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Qz=e=>{let{data:t,type:n="combined"}=e;const{formatCurrency:a}=H(),{isDark:i}=l(),s=(0,r.useMemo)(()=>{if(!t)return[];const e=[];return"combined"!==n&&"monthly"!==n||Object.entries(t.monthlyData||{}).forEach(t=>{let[n,r]=t;if(r>0){const t=d.MONTHLY.find(e=>e.key===n);e.push({name:(null===t||void 0===t?void 0:t.name)||x(n),value:r,type:"monthly",icon:(null===t||void 0===t?void 0:t.icon)||"\ud83d\udcca",categoryKey:n})}}),"combined"!==n&&"annual"!==n||Object.entries(t.annualData||{}).forEach(t=>{let[n,r]=t;if(r>0){const t=d.ANNUAL.find(e=>e.key===n);e.push({name:(null===t||void 0===t?void 0:t.name)||x(n),value:r,type:"annual",icon:(null===t||void 0===t?void 0:t.icon)||"\ud83d\udcca",categoryKey:n})}}),e.sort((e,t)=>t.value-e.value)},[t,n]),u=i?["#3498db","#e74c3c","#2ecc71","#f39c12","#9b59b6","#1abc9c","#34495e","#e67e22","#95a5a6","#f1c40f","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50"]:p.PRIMARY,c=e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload;return(0,o.jsxs)("div",{className:"chart-tooltip",children:[(0,o.jsxs)("div",{className:"tooltip-header",children:[(0,o.jsx)("span",{className:"tooltip-icon",children:e.icon}),(0,o.jsx)("span",{className:"tooltip-name",children:e.name})]}),(0,o.jsxs)("div",{className:"tooltip-content",children:[(0,o.jsxs)("p",{className:"tooltip-value",children:["Amount: ",a(e.value)]}),(0,o.jsxs)("p",{className:"tooltip-percentage",children:[(e.value/s.reduce((e,t)=>e+t.value,0)*100).toFixed(1),"% of total"]}),(0,o.jsxs)("p",{className:"tooltip-type",children:["Type: ","monthly"===e.type?"Monthly":"Annual (monthly avg)"]})]})]})}return null},f=s.reduce((e,t)=>e+t.value,0);return 0===s.length?(0,o.jsx)("div",{className:"expense-breakdown empty",children:(0,o.jsxs)("div",{className:"empty-state",children:[(0,o.jsx)("span",{className:"empty-icon",children:"\ud83d\udcca"}),(0,o.jsx)("h4",{children:"No Expense Data"}),(0,o.jsx)("p",{children:"Add some expenses to see the breakdown chart."})]})}):(0,o.jsxs)("div",{className:"expense-breakdown",children:[(0,o.jsx)("div",{className:"chart-container",children:(0,o.jsx)(Dx,{width:"100%",height:300,children:(0,o.jsxs)(Zz,{children:[(0,o.jsx)(Jz,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{cx:t,cy:n,midAngle:r,innerRadius:a,outerRadius:s,percent:l}=e;const u=Math.PI/180,c=a+.5*(s-a),d=t+c*Math.cos(-r*u),f=n+c*Math.sin(-r*u);return l<.05?null:(0,o.jsx)("text",{x:d,y:f,fill:i?"#ecf0f1":"#2c3e50",textAnchor:d>t?"start":"end",dominantBaseline:"central",fontSize:"12",fontWeight:"500",children:`${(100*l).toFixed(0)}%`})},outerRadius:100,fill:"#8884d8",dataKey:"value",children:s.map((e,t)=>(0,o.jsx)(tT,{fill:u[t%u.length]},`cell-${t}`))}),(0,o.jsx)(Ow,{content:(0,o.jsx)(c,{})})]})})}),(0,o.jsxs)("div",{className:"breakdown-legend",children:[(0,o.jsxs)("div",{className:"legend-header",children:[(0,o.jsx)("h4",{children:"Expense Categories"}),(0,o.jsxs)("div",{className:"total-amount",children:["Total: ",a(f)]})]}),(0,o.jsx)("div",{className:"legend-items",children:s.map((e,t)=>{const n=(e.value/f*100).toFixed(1);return(0,o.jsxs)("div",{className:"legend-item",children:[(0,o.jsxs)("div",{className:"legend-indicator",children:[(0,o.jsx)("div",{className:"color-dot",style:{backgroundColor:u[t%u.length]}}),(0,o.jsx)("span",{className:"category-icon",children:e.icon})]}),(0,o.jsxs)("div",{className:"legend-content",children:[(0,o.jsx)("div",{className:"legend-name",children:e.name}),(0,o.jsxs)("div",{className:"legend-details",children:[(0,o.jsx)("span",{className:"legend-amount",children:a(e.value)}),(0,o.jsxs)("span",{className:"legend-percentage",children:["(",n,"%)"]}),(0,o.jsx)("span",{className:`legend-type ${e.type}`,children:"monthly"===e.type?"Monthly":"Annual"})]})]}),(0,o.jsx)("div",{className:"legend-bar",children:(0,o.jsx)("div",{className:"bar-fill",style:{width:`${n}%`,backgroundColor:u[t%u.length]}})})]},e.categoryKey)})})]}),(0,o.jsxs)("div",{className:"breakdown-insights",children:[(0,o.jsx)("div",{className:"insights-header",children:"\ud83d\udca1 Quick Insights"}),(0,o.jsxs)("div",{className:"insights-list",children:[s.length>0&&(0,o.jsx)("div",{className:"insight-item",children:(0,o.jsxs)("span",{children:["Largest category: ",s[0].name," (",(s[0].value/f*100).toFixed(1),"%)"]})}),s.length>=3&&(0,o.jsx)("div",{className:"insight-item",children:(0,o.jsxs)("span",{children:["Top 3 categories account for ",(s.slice(0,3).reduce((e,t)=>e+t.value,0)/f*100).toFixed(1),"% of expenses"]})}),(0,o.jsx)("div",{className:"insight-item",children:(0,o.jsxs)("span",{children:["Tracking ",s.length," expense categories"]})})]})]})]})},eL=e=>{let{children:t,title:n,subtitle:r,className:a="",headerActions:i,...s}=e;return(0,o.jsxs)("div",{className:`card ${a}`,...s,children:[(n||i)&&(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsxs)("div",{className:"card-title-section",children:[n&&(0,o.jsx)("h3",{className:"card-title",children:n}),r&&(0,o.jsx)("p",{className:"card-subtitle",children:r})]}),i&&(0,o.jsx)("div",{className:"card-actions",children:i})]}),(0,o.jsx)("div",{className:"card-content",children:t})]})},tL=e=>{let{isOpen:t,onClose:n,onAccountCreated:a}=e;const{state:i,actions:s}=H(),[l,u]=(0,r.useState)({name:"",bank:"",accountNumber:"",transitNumber:"",branchNumber:"",currentBalance:""});(0,r.useEffect)(()=>{t&&u({name:"",bank:"",accountNumber:"",transitNumber:"",branchNumber:"",currentBalance:""})},[t]);const c=(e,t)=>u(n=>({...n,[e]:"name"===e||"bank"===e?m(t):t}));return t?(0,o.jsx)("div",{className:"account-modal-overlay",onClick:e=>{e.target===e.currentTarget&&n()},children:(0,o.jsxs)("div",{className:"account-modal",children:[(0,o.jsx)("style",{jsx:!0,children:"\n          .account-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center; z-index:1000; padding:20px; }\n          .account-modal { background:#fff; border-radius:16px; padding:24px; width:100%; max-width:600px; max-height:90vh; overflow:auto; box-shadow:0 20px 60px rgba(0,0,0,.3); }\n          .grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:12px; }\n          .input { padding:10px 12px; border:1px solid #d1d5db; border-radius:8px; }\n          .actions { display:flex; gap:8px; justify-content:flex-end; margin-top:12px; }\n          .btn { padding:10px 16px; border-radius:8px; border:1px solid #d1d5db; background:#f9fafb; cursor:pointer; }\n          .btn.primary { background:#10b981; color:#fff; border-color:#10b981; }\n        "}),(0,o.jsx)("h2",{style:{marginTop:0},children:"\ud83c\udfe6 Add New Account"}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!l.name.trim())return void alert("Please enter an account name.");const t=Array.isArray(i.data.accounts)?i.data.accounts:[],r={...l,name:l.name.trim(),bank:l.bank.trim(),currentBalance:parseFloat(l.currentBalance)||0,id:`account-${Date.now()}`};s.updateAccounts([...t,r]),a&&a(r),n()},children:[(0,o.jsxs)("div",{className:"grid",children:[(0,o.jsx)("input",{className:"input",placeholder:"Account Name *",value:l.name,onChange:e=>c("name",e.target.value),required:!0}),(0,o.jsx)("input",{className:"input",placeholder:"Bank",value:l.bank,onChange:e=>c("bank",e.target.value)}),(0,o.jsx)("input",{className:"input",placeholder:"Account #",value:l.accountNumber,onChange:e=>c("accountNumber",e.target.value)}),(0,o.jsx)("input",{className:"input",placeholder:"Transit #",value:l.transitNumber,onChange:e=>c("transitNumber",e.target.value)}),(0,o.jsx)("input",{className:"input",placeholder:"Branch #",value:l.branchNumber,onChange:e=>c("branchNumber",e.target.value)}),(0,o.jsx)("input",{className:"input",placeholder:"Current Balance",value:l.currentBalance,onChange:e=>c("currentBalance",e.target.value)})]}),(0,o.jsxs)("div",{className:"actions",children:[(0,o.jsx)("button",{type:"button",className:"btn",onClick:n,children:"Cancel"}),(0,o.jsx)("button",{type:"submit",className:"btn primary",children:"Save Account"})]})]})]})}):null};class nL{static formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}static formatDate(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}static getBasePrintStyles(){return"\n      <style>\n        @page {\n          size: letter;\n          margin: 0.75in;\n        }\n        \n        * {\n          box-sizing: border-box;\n        }\n        \n        body {\n          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n          font-size: 12px;\n          line-height: 1.4;\n          color: #333;\n          margin: 0;\n          padding: 0;\n          background: white;\n        }\n        \n        .print-header {\n          text-align: center;\n          border-bottom: 2px solid #2c3e50;\n          padding-bottom: 15px;\n          margin-bottom: 25px;\n        }\n        \n        .print-title {\n          font-size: 24px;\n          font-weight: 700;\n          color: #2c3e50;\n          margin: 0 0 10px 0;\n        }\n        \n        .print-subtitle {\n          font-size: 14px;\n          color: #7f8c8d;\n          margin: 0;\n        }\n        \n        .print-date {\n          font-size: 12px;\n          color: #95a5a6;\n          margin: 5px 0 0 0;\n        }\n        \n        table {\n          width: 100%;\n          border-collapse: collapse;\n          margin-bottom: 20px;\n          font-size: 11px;\n        }\n        \n        th, td {\n          border: 1px solid #ddd;\n          padding: 8px;\n          text-align: left;\n          vertical-align: top;\n        }\n        \n        th {\n          background-color: #f8f9fa;\n          font-weight: 600;\n          color: #2c3e50;\n        }\n        \n        .category-header {\n          background-color: #e9ecef !important;\n          font-weight: 700;\n          font-size: 12px;\n          color: #495057;\n        }\n        \n        .amount {\n          text-align: right;\n          font-family: 'Courier New', monospace;\n          font-weight: 500;\n        }\n        \n        .total-row {\n          background-color: #f1f3f4 !important;\n          font-weight: 700;\n          border-top: 2px solid #2c3e50;\n        }\n        \n        .summary-section {\n          background-color: #f8f9fa;\n          padding: 15px;\n          border-radius: 5px;\n          margin: 20px 0;\n          border: 1px solid #dee2e6;\n        }\n        \n        .summary-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n          gap: 15px;\n          margin-top: 10px;\n        }\n        \n        .summary-item {\n          display: flex;\n          justify-content: space-between;\n          padding: 8px 0;\n          border-bottom: 1px solid #dee2e6;\n        }\n        \n        .summary-item:last-child {\n          border-bottom: none;\n        }\n        \n        .summary-label {\n          font-weight: 500;\n          color: #495057;\n        }\n        \n        .summary-value {\n          font-weight: 600;\n          font-family: 'Courier New', monospace;\n        }\n        \n        .positive {\n          color: #28a745;\n        }\n        \n        .negative {\n          color: #dc3545;\n        }\n        \n        .warning {\n          color: #ffc107;\n        }\n        \n        .page-break {\n          page-break-before: always;\n        }\n        \n        .no-print {\n          display: none;\n        }\n        \n        .status-indicator {\n          display: inline-block;\n          width: 10px;\n          height: 10px;\n          border-radius: 50%;\n          margin-right: 5px;\n        }\n        \n        .status-paid {\n          background-color: #28a745;\n        }\n        \n        .status-transferred {\n          background-color: #ffc107;\n        }\n        \n        .status-pending {\n          background-color: #6c757d;\n        }\n        \n        @media print {\n          body {\n            -webkit-print-color-adjust: exact;\n            print-color-adjust: exact;\n          }\n          \n          .no-break {\n            page-break-inside: avoid;\n          }\n        }\n      </style>\n    "}static openPrintWindow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Budget Report";const n=window.open("","_blank","width=800,height=600");n.document.write(`\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>${t}</title>\n        ${this.getBasePrintStyles()}\n      </head>\n      <body>\n        ${e}\n        <script>\n          window.onload = function() {\n            window.print();\n          };\n          \n          window.onafterprint = function() {\n            window.close();\n          };\n        <\/script>\n      </body>\n      </html>\n    `),n.document.close()}static generatePrintHeader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return`\n      <div class="print-header">\n        <h1 class="print-title">${e}</h1>\n        ${t?`<p class="print-subtitle">${t}</p>`:""}\n        <p class="print-date">Generated on ${(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}</p>\n      </div>\n    `}}class rL extends nL{static generatePrintContent(e,t,n){const r=t.getWeeklyPlannerTotals(),a=t.getWeeklyIncome();let i=this.generatePrintHeader("Weekly Budget Planner","Detailed weekly expense planning and cash flow analysis");i+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 10px 0; color: #28a745;">\ud83d\udcb5 Weekly Income Summary</h3>\n        <div class="summary-grid">\n          ${Array.from({length:5},(e,t)=>`\n            <div class="summary-item">\n              <span class="summary-label">Week ${t+1}:</span>\n              <span class="summary-value positive">${n(a[t])}</span>\n            </div>\n          `).join("")}\n        </div>\n      </div>\n    `,i+=`\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 25%;">Expense Category</th>\n            <th style="width: 12%;">Monthly Amount</th>\n            ${Array.from({length:5},(e,t)=>`\n              <th style="width: 10%;">Week ${t+1}</th>\n            `).join("")}\n            <th style="width: 12%;">Remaining</th>\n          </tr>\n        </thead>\n        <tbody>\n    `;const o=this.groupExpensesByCategory(e);return Object.entries(o).forEach(t=>{let[r,a]=t;i+=`\n        <tr class="category-header">\n          <td colspan="7"><strong>${a.name}</strong></td>\n        </tr>\n      `,a.expenses.forEach(t=>{var r;const a=(null===(r=e.plannerState)||void 0===r?void 0:r[t.name])||{weeks:Array(5).fill(0),transferred:Array(5).fill(!1),paid:Array(5).fill(!1)},o=a.weeks.reduce((e,t)=>e+t,0),s=t.monthlyAmount-o;i+=`\n          <tr>\n            <td style="padding-left: 20px;">\n              ${t.name}\n              ${t.isAnnual?'<br><small style="color: #6c757d; font-style: italic;">(Annual: '+n(t.originalAnnualAmount)+")</small>":""}\n            </td>\n            <td class="amount">${n(t.monthlyAmount)}</td>\n            ${a.weeks.map((e,t)=>`\n              <td class="amount">\n                ${n(e)}\n                ${a.paid[t]?'<div class="status-indicator status-paid" title="Paid"></div>':""}\n                ${a.transferred[t]?'<div class="status-indicator status-transferred" title="Transferred"></div>':""}\n              </td>\n            `).join("")}\n            <td class="amount ${Math.abs(s)<.001?"":"negative"}">${n(s)}</td>\n          </tr>\n        `})}),i+=`\n          <tr class="total-row">\n            <td><strong>Weekly Expense Totals</strong></td>\n            <td class="amount"><strong>${n(r.reduce((e,t)=>e+t,0))}</strong></td>\n            ${r.map((e,t)=>`\n              <td class="amount"><strong>${n(e)}</strong></td>\n            `).join("")}\n            <td class="amount"><strong>${n(r.reduce((e,t)=>e+t,0))}</strong></td>\n          </tr>\n        </tbody>\n      </table>\n    `,i+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 15px 0; color: #2c3e50;">\ud83d\udcca Weekly Cash Flow Analysis</h3>\n        <div class="summary-grid">\n          ${Array.from({length:5},(e,t)=>{const i=a[t]-r[t];return`\n              <div class="summary-item">\n                <div>\n                  <strong>Week ${t+1}</strong><br>\n                  <small>Income: ${n(a[t])}</small><br>\n                  <small>Expenses: ${n(r[t])}</small>\n                </div>\n                <div class="summary-value ${i>=0?"positive":"negative"}">\n                  ${n(i)}\n                </div>\n              </div>\n            `}).join("")}\n        </div>\n      </div>\n    `,i}static groupExpensesByCategory(e){const t={};return e.monthly&&Object.entries(e.monthly).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{e.name&&e.name.trim()&&(t[n]||(t[n]={name:this.getCategoryName(n),expenses:[]}),t[n].expenses.push({...e,categoryKey:n,monthlyAmount:parseFloat(e.actual||e.amount||0),type:"monthly",isAnnual:!1}))})}),e.annual&&Object.entries(e.annual).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{if(e.name&&e.name.trim()){const r=`annual-${n}`;t[r]||(t[r]={name:`${this.getCategoryName(n)} (Annual)`,expenses:[]});const a=parseFloat(e.actual||e.amount||0);t[r].expenses.push({...e,categoryKey:r,monthlyAmount:a/12,type:"annual",isAnnual:!0,originalAnnualAmount:a})}})}),t}static getCategoryName(e){return{housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts","yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car","yearly-bank":"Yearly Banking"}[e]||e.charAt(0).toUpperCase()+e.slice(1)}}class aL extends nL{static generatePrintContent(e,t,n){let r=this.generatePrintHeader("Monthly Expenses Report","Complete breakdown of monthly expense categories and amounts");const a=t.getTotalMonthlyExpenses();return r+=`\n      <div class="summary-section">\n        <div class="summary-item">\n          <span class="summary-label">Total Monthly Expenses:</span>\n          <span class="summary-value">${n(a)}</span>\n        </div>\n      </div>\n    `,r+='\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 30%;">Expense Name</th>\n            <th style="width: 15%;">Due Date</th>\n            <th style="width: 20%;">Account</th>\n            <th style="width: 10%;">Status</th>\n            <th style="width: 12%;">Projected</th>\n            <th style="width: 13%;">Actual</th>\n          </tr>\n        </thead>\n        <tbody>\n    ',Object.entries(e.monthly||{}).forEach(t=>{let[a,i]=t;const o=this.getCategoryName(a),s=i.reduce((e,t)=>e+(parseFloat(t.actual)||0),0);(s>0||i.some(e=>e.name))&&(r+=`\n          <tr class="category-header">\n            <td colspan="6"><strong>${o} - ${n(s)}</strong></td>\n          </tr>\n        `,i.forEach(t=>{if(t.name||parseFloat(t.actual||0)>0){const a=this.findAccount(e.accounts,t.accountId),i=[];t.transferred&&i.push('<span class="status-indicator status-transferred" title="Transferred"></span>'),t.paid&&i.push('<span class="status-indicator status-paid" title="Paid"></span>'),r+=`\n              <tr>\n                <td style="padding-left: 20px;">${t.name||"Unnamed"}</td>\n                <td>${this.formatDate(t.date)}</td>\n                <td>${a?a.name:"Not Selected"}</td>\n                <td>${i.join(" ")||'<span class="status-indicator status-pending" title="Pending"></span>'}</td>\n                <td class="amount">${n(t.projected||0)}</td>\n                <td class="amount">${n(t.actual||0)}</td>\n              </tr>\n            `}}))}),r+=`\n          <tr class="total-row">\n            <td colspan="5"><strong>Total Monthly Expenses</strong></td>\n            <td class="amount"><strong>${n(a)}</strong></td>\n          </tr>\n        </tbody>\n      </table>\n    `,r}static getCategoryName(e){return{housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts"}[e]||e.charAt(0).toUpperCase()+e.slice(1)}static findAccount(e,t){return Array.isArray(e)&&t?e.find(e=>e.id===t):null}}class iL extends nL{static generatePrintContent(e,t,n){let r=this.generatePrintHeader("Annual Expenses Report","Complete breakdown of yearly expense categories and savings plan");const a=t.getTotalAnnualExpenses(),i=a/12;r+=`\n      <div class="summary-section">\n        <div class="summary-grid">\n          <div class="summary-item">\n            <span class="summary-label">Total Annual Expenses:</span>\n            <span class="summary-value">${n(a)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Monthly Impact:</span>\n            <span class="summary-value">${n(i)}</span>\n          </div>\n        </div>\n      </div>\n    `,r+='\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 25%;">Expense Name</th>\n            <th style="width: 15%;">Due Date</th>\n            <th style="width: 15%;">Account</th>\n            <th style="width: 10%;">Status</th>\n            <th style="width: 12%;">Projected</th>\n            <th style="width: 12%;">Actual</th>\n            <th style="width: 11%;">Monthly</th>\n          </tr>\n        </thead>\n        <tbody>\n    ';const o={"yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car Expenses","yearly-bank":"Yearly Banking","yearly-insurance":"Yearly Insurance","yearly-tax":"Yearly Tax Expenses","yearly-medical":"Yearly Medical","yearly-home":"Yearly Home/Property","yearly-personal":"Yearly Personal"};return Object.entries(e.annual||{}).forEach(t=>{let[a,i]=t;const s=o[a]||a,l=i.reduce((e,t)=>e+(parseFloat(t.actual)||0),0);(l>0||i.some(e=>e.name))&&(r+=`\n          <tr class="category-header">\n            <td colspan="7"><strong>${s} - ${n(l)}/year</strong></td>\n          </tr>\n        `,i.forEach(t=>{if(t.name||parseFloat(t.actual||0)>0){const a=this.findAccount(e.accounts,t.accountId),i=parseFloat(t.actual||0),o=i/12,s=[];t.transferred&&s.push('<span class="status-indicator status-transferred" title="Transferred"></span>'),t.paid&&s.push('<span class="status-indicator status-paid" title="Paid"></span>'),r+=`\n              <tr>\n                <td style="padding-left: 20px;">${t.name||"Unnamed"}</td>\n                <td>${this.formatDate(t.date)}</td>\n                <td>${a?a.name:"Not Selected"}</td>\n                <td>${s.join(" ")||'<span class="status-indicator status-pending" title="Pending"></span>'}</td>\n                <td class="amount">${n(t.projected||0)}</td>\n                <td class="amount">${n(i)}</td>\n                <td class="amount">${n(o)}</td>\n              </tr>\n            `}}))}),r+=`\n          <tr class="total-row">\n            <td colspan="5"><strong>Total Annual Expenses</strong></td>\n            <td class="amount"><strong>${n(a)}</strong></td>\n            <td class="amount"><strong>${n(i)}</strong></td>\n          </tr>\n        </tbody>\n      </table>\n    `,r}static findAccount(e,t){return Array.isArray(e)&&t?e.find(e=>e.id===t):null}}class oL extends nL{static generatePrintContent(e,t,n){let r=this.generatePrintHeader("Budget Dashboard Overview","Complete financial summary and account balances");const a=t.getTotalIncome(),i=t.getTotalMonthlyExpenses(),o=t.getMonthlyAnnualImpact(),s=t.getNetMonthlyIncome(),l=t.getSavingsRate();r+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 15px 0; color: #2c3e50;">\ud83d\udcb0 Financial Overview</h3>\n        <div class="summary-grid">\n          <div class="summary-item">\n            <span class="summary-label">Monthly Income:</span>\n            <span class="summary-value positive">${n(a)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Monthly Expenses:</span>\n            <span class="summary-value">${n(i)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Annual Impact:</span>\n            <span class="summary-value">${n(o)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Net Monthly Cash:</span>\n            <span class="summary-value ${s>=0?"positive":"negative"}">${n(s)}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Savings Rate:</span>\n            <span class="summary-value ${l>=20?"positive":l>=10?"warning":"negative"}">${l.toFixed(1)}%</span>\n          </div>\n        </div>\n      </div>\n    `;const u=Array.isArray(e.accounts)?e.accounts:[];if(u.length>0){r+='\n        <h3 style="color: #2c3e50; margin: 25px 0 15px 0;">\ud83c\udfe6 Account Balances</h3>\n        <table>\n          <thead>\n            <tr>\n              <th style="width: 25%;">Account Name</th>\n              <th style="width: 25%;">Bank Details</th>\n              <th style="width: 20%;">Current Balance</th>\n              <th style="width: 15%;">Projected</th>\n              <th style="width: 15%;">Net</th>\n            </tr>\n          </thead>\n          <tbody>\n      ';let t=0,a=0;u.forEach(i=>{const o=parseFloat(i.currentBalance)||0,s=this.getProjectedTotal(e,i.id),l=o-s;t+=o,a+=s,r+=`\n          <tr>\n            <td><strong>${i.name}</strong></td>\n            <td>${i.bank} \u2022 ${i.transitNumber}-${i.branchNumber}</td>\n            <td class="amount">${n(o)}</td>\n            <td class="amount">${n(s)}</td>\n            <td class="amount ${l>=0?"positive":"negative"}">${n(l)}</td>\n          </tr>\n        `}),r+=`\n            <tr class="total-row">\n              <td colspan="2"><strong>Total</strong></td>\n              <td class="amount"><strong>${n(t)}</strong></td>\n              <td class="amount"><strong>${n(a)}</strong></td>\n              <td class="amount ${t-a>=0?"positive":"negative"}"><strong>${n(t-a)}</strong></td>\n            </tr>\n          </tbody>\n        </table>\n      `}return r+=`\n      <div class="summary-section">\n        <h3 style="margin: 0 0 15px 0; color: #2c3e50;">\ud83e\ude7a Budget Health</h3>\n        <div class="summary-grid">\n          <div class="summary-item">\n            <span class="summary-label">Emergency Fund Status:</span>\n            <span class="summary-value ${s>0?"positive":"negative"}">\n              ${s>0?"Building":"Attention Needed"}\n            </span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Debt-to-Income Ratio:</span>\n            <span class="summary-value">${a>0?(i/a*100).toFixed(1):0}%</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Tracked Categories:</span>\n            <span class="summary-value">${Object.keys(e.monthly||{}).length+Object.keys(e.annual||{}).length}</span>\n          </div>\n          <div class="summary-item">\n            <span class="summary-label">Total Expenses:</span>\n            <span class="summary-value">${Object.values(e.monthly||{}).flat().length+Object.values(e.annual||{}).flat().length}</span>\n          </div>\n        </div>\n      </div>\n    `,r}static getProjectedTotal(e,t){return[...Object.values(e.monthly||{}).flat(),...Object.values(e.annual||{}).flat()].filter(e=>e.accountId===t&&e.transferred&&!e.paid).reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0)}}const sL=()=>{const{state:e,calculations:t,formatCurrency:n,actions:a}=H(),[i,s]=(0,r.useState)(!1),[l,u]=(0,r.useState)({actualIncome:!1,netCashFlow:!1,projectedIncome:!1,monthlyExpenses:!1,savingsRate:!1,monthComplete:!1,legalDisclaimer:!1}),c=e=>{u(t=>({...t,[e]:!t[e]}))},d=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},f=(0,r.useMemo)(()=>(e.data.income||[]).reduce((e,t)=>{const n=Array.isArray(t.payDates)&&t.payDates.length>0,r=d(t.projectedAmount||t.amount);let a=0;switch(t.frequency){case"weekly":a=n?r*t.payDates.length:r*(52/12);break;case"bi-weekly":a=n?r*t.payDates.length:r*(26/12);break;case"semi-monthly":a=n?r*t.payDates.length:2*r;break;case"monthly":a=n?r*t.payDates.length:r;break;default:a=r}return e+a},0),[e.data.income]),p=(0,r.useMemo)(()=>(e.data.income||[]).reduce((e,t)=>{const n=Array.isArray(t.payDates)&&t.payDates.length>0;if(Array.isArray(t.payActuals)&&t.payActuals.length>0)return e+t.payActuals.reduce((e,t)=>e+(d(t)||0),0);const r=d(t.actualAmount||0);if("monthly-total"===t.actualMode)return e+r;let a=0;switch(t.frequency){case"weekly":a=n?r*t.payDates.length:r*(52/12);break;case"bi-weekly":a=n?r*t.payDates.length:r*(26/12);break;case"semi-monthly":a=n?r*t.payDates.length:2*r;break;case"monthly":a=n?r*t.payDates.length:r;break;default:a=r}return e+a},0),[e.data.income]),h=(0,r.useMemo)(()=>{const t=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},n=p-f,r=f>0?p/f*100:0,a=new Date,i=a.getDate(),o=i/new Date(a.getFullYear(),a.getMonth()+1,0).getDate()*100,s=((n,r)=>{const{month:a,year:i}=(()=>{const t=e.data.income||[];for(const e of t)if(e.payDates&&e.payDates.length>0){const t=e.payDates[0],[n,r]=t.split("-").map(e=>parseInt(e,10));return{month:r-1,year:n}}return{month:(new Date).getMonth(),year:(new Date).getFullYear()}})();let o=0;return n.forEach(e=>{const n=Array.isArray(e.payDates)?e.payDates:[],s=Array.isArray(e.payActuals)?e.payActuals:[],l=t(e.projectedAmount||e.amount||0);if(n.forEach((e,n)=>{const[u,c,d]=e.split("-").map(e=>parseInt(e,10));c-1===a&&u===i&&d<=r&&(void 0!==s[n]&&null!==s[n]&&""!==s[n]?o+=t(s[n]):o+=l)}),0===n.length){const t=l,n=r/31;switch(e.frequency){case"weekly":o+=t*(52/12)*n;break;case"bi-weekly":o+=t*(26/12)*n;break;case"monthly":r>=15&&(o+=t);break;default:o+=t*n}}}),o})(e.data.income||[],i),l=p-s;return{totalProjectedIncome:f,totalActualIncome:p,variance:n,percentReceived:r,monthProgress:o,expectedAtThisPoint:s,progressVariance:l,isOnTrack:l>=0}},[f,p,e.data.income]),m=t.getTotalMonthlyExpenses(),g=t.getMonthlyAnnualImpact?t.getMonthlyAnnualImpact():t.getTotalAnnualExpenses()/12,y=f-m-g,v=p-m-g,b=p>0?v/p*100:0,x=t.getUpcomingExpenses?t.getUpcomingExpenses():[],w=(()=>{const t={},n={};return Object.entries(e.data.monthly||{}).forEach(e=>{let[n,r]=e;const a=r.reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0);a>0&&(t[n]=a)}),Object.entries(e.data.annual||{}).forEach(e=>{let[t,r]=e;const a=r.reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0)/12;a>0&&(n[t]=a)}),{monthlyData:t,annualData:n}})(),S=Array.isArray(e.data.accounts)?e.data.accounts:[],N=[...Object.values(e.data.monthly||{}).flat(),...Object.values(e.data.annual||{}).flat()],E=e=>N.filter(t=>t.accountId===e&&t.transferred&&!t.paid).reduce((e,t)=>e+parseFloat(t.actual||t.amount||0),0),A=()=>S.reduce((e,t)=>e+(parseFloat(t.currentBalance)||0),0),C=()=>S.reduce((e,t)=>e+E(t.id),0),k=function(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?e>=90?"#10b981":e>=60?"#f59e0b":"#3b82f6":"#ef4444"};return(0,o.jsxs)("div",{className:"homepage-redesigned",children:[(0,o.jsx)("style",{jsx:!0,children:"\n        .income-progress-card {\n          background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);\n          color: white;\n          margin-bottom: 20px;\n        }\n        \n        .progress-container {\n          margin: 16px 0;\n        }\n        \n        .progress-bar {\n          background: rgba(255, 255, 255, 0.2);\n          border-radius: 12px;\n          height: 12px;\n          overflow: hidden;\n          margin: 8px 0;\n        }\n        \n        .progress-fill {\n          height: 100%;\n          border-radius: 12px;\n          transition: width 0.3s ease;\n        }\n        \n        .progress-labels {\n          display: flex;\n          justify-content: space-between;\n          font-size: 0.75rem;\n          opacity: 0.9;\n          margin-top: 4px;\n        }\n        \n        .income-stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n          gap: 12px;\n          margin-top: 16px;\n        }\n        \n        .income-stat {\n          background: rgba(255, 255, 255, 0.15);\n          padding: 12px;\n          border-radius: 8px;\n          text-align: center;\n        }\n        \n        .income-stat-value {\n          font-size: 1rem;\n          font-weight: 700;\n          margin-bottom: 4px;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n        \n        .income-stat-label {\n          font-size: 0.75rem;\n          opacity: 0.9;\n          font-weight: 600;\n        }\n        \n        .income-stat-explanation {\n          font-size: 0.7rem;\n          opacity: 0.8;\n          margin-top: 4px;\n          line-height: 1.2;\n        }\n        \n        .month-progress-indicator {\n          margin-top: 12px;\n          padding: 8px 12px;\n          background: rgba(255, 255, 255, 0.15);\n          border-radius: 8px;\n          font-size: 0.85rem;\n          font-weight: 600;\n        }\n        \n        .income-explanation-section {\n          margin-top: 16px;\n          padding: 12px;\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 8px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n        \n        .income-explanation-title {\n          font-weight: 700;\n          margin-bottom: 8px;\n          font-size: 0.9rem;\n        }\n        \n        .income-explanation-text {\n          font-size: 0.8rem;\n          line-height: 1.4;\n          opacity: 0.95;\n        }\n        \n        .financial-overview-alternative {\n          display: flex;\n          flex-direction: column;\n          gap: 16px;\n        }\n        \n        .financial-overview-row {\n          display: grid;\n          gap: 16px;\n        }\n        \n        .financial-overview-row.featured-row {\n          grid-template-columns: 1fr;\n        }\n        \n        .financial-overview-row.second-row {\n          grid-template-columns: repeat(2, 1fr);\n        }\n        \n        .financial-overview-row.third-row {\n          grid-template-columns: repeat(2, 1fr);\n        }\n        \n        .overview-stat.actual-performance {\n          background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);\n          border: 1px solid #0891b2;\n          color: white;\n        }\n        \n        .overview-stat.actual-performance .stat-icon {\n          color: white;\n        }\n        \n        .overview-stat.actual-performance .variance-indicator {\n          background: rgba(0, 0, 0, 0.4) !important;\n          color: #ffffff !important;\n          border: 2px solid rgba(255, 255, 255, 0.5) !important;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9) !important;\n          font-weight: 800 !important;\n          font-size: 0.85rem !important;\n          padding: 6px 12px !important;\n          border-radius: 8px !important;\n          white-space: nowrap;\n          backdrop-filter: blur(10px);\n        }\n        \n        .overview-stat {\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n          padding: 1rem;\n          background: var(--bg-secondary, #f8fafc);\n          border-radius: 0.75rem;\n          transition: all 0.2s ease;\n          min-height: 70px;\n          position: relative;\n        }\n        \n        .overview-stat:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\n        }\n        \n        .stat-icon {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 3rem;\n          height: 3rem;\n          border-radius: 50%;\n          font-size: 1.25rem;\n          flex-shrink: 0;\n        }\n        \n        .stat-content {\n          flex: 1;\n          min-width: 0;\n        }\n        \n       .homepage-redesigned .overview-stat .stat-value {\n          font-size: 1.25rem;\n          font-weight: 700;\n          margin-bottom: 0.25rem;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n        .stat-label {\n          font-size: 0.875rem;\n          color: #6b7280;\n          font-weight: 500;\n        }\n        \n        .two-column-stat {\n          display: grid;\n          grid-template-columns: repeat(2, 1fr);\n          gap: 16px;\n          text-align: center;\n        }\n        \n        /* Help Accordion Styles */\n        .card-with-help {\n          position: relative;\n        }\n\n        .help-toggle {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          background: rgba(0, 0, 0, 0.1);\n          border: 1px solid rgba(0, 0, 0, 0.2);\n          border-radius: 50%;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          cursor: pointer;\n          font-size: 12px;\n          color: #6b7280;\n          transition: all 0.2s ease;\n          z-index: 10;\n        }\n\n        .help-toggle:hover {\n          background: rgba(0, 0, 0, 0.2);\n          color: #374151;\n          transform: scale(1.1);\n        }\n\n        .overview-stat.actual-performance .help-toggle {\n          background: rgba(0, 0, 0, 0.3);\n          border: 1px solid rgba(255, 255, 255, 0.4);\n          color: rgba(255, 255, 255, 0.8);\n        }\n\n        .overview-stat.actual-performance .help-toggle:hover {\n          background: rgba(0, 0, 0, 0.4);\n          color: white;\n        }\n\n        .help-accordion {\n          margin-top: 12px;\n          overflow: hidden;\n          transition: max-height 0.3s ease-out, opacity 0.3s ease-out;\n        }\n\n        .help-accordion.closed {\n          max-height: 0;\n          opacity: 0;\n        }\n\n        .help-accordion.open {\n          max-height: 500px;\n          opacity: 1;\n        }\n\n        .help-content {\n          background: #f8fafc;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 12px;\n          font-size: 0.875rem;\n          line-height: 1.5;\n          color: #374151;\n        }\n\n        .overview-stat.actual-performance .help-content {\n          background: rgba(255, 255, 255, 0.95);\n          color: #374151;\n        }\n\n        .help-content h4 {\n          margin: 0 0 8px 0;\n          font-weight: 600;\n          color: #111827;\n          font-size: 0.9rem;\n        }\n\n        .help-content ul {\n          margin: 8px 0 0 0;\n          padding-left: 16px;\n        }\n\n        .help-content li {\n          margin-bottom: 4px;\n        }\n\n        .help-content strong {\n          color: #1f2937;\n        }\n        \n        /* Account-related styles */\n        .accounts-table-card {\n          margin-top: 2rem;\n        }\n\n        .empty-accounts-state {\n          text-align: center;\n          padding: 2rem;\n          color: #6b7280;\n        }\n\n        .empty-icon {\n          font-size: 3rem;\n          margin-bottom: 1rem;\n        }\n\n        .empty-accounts-state h4 {\n          margin: 0 0 0.5rem 0;\n          color: #374151;\n          font-size: 1.125rem;\n        }\n\n        .empty-accounts-state p {\n          margin: 0 0 1.5rem 0;\n          font-size: 0.875rem;\n        }\n\n        .accounts-table {\n          display: grid;\n          gap: 1px;\n          background: #e5e7eb;\n          border-radius: 8px;\n          overflow: hidden;\n        }\n\n        .accounts-table-header {\n          display: grid;\n          grid-template-columns: 2fr 1fr 1fr 1fr;\n          gap: 1px;\n          background: #f8fafc;\n          padding: 0.75rem 1rem;\n          font-weight: 600;\n          font-size: 0.875rem;\n          color: #374151;\n          text-transform: uppercase;\n          letter-spacing: 0.025em;\n        }\n\n        .accounts-table-row {\n          display: grid;\n          grid-template-columns: 2fr 1fr 1fr 1fr;\n          gap: 1px;\n          background: white;\n          padding: 0.75rem 1rem;\n          align-items: center;\n        }\n\n        .accounts-table-row.totals {\n          background: #f8fafc;\n          border-top: 2px solid #e5e7eb;\n        }\n\n        .account-info {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n\n        .account-name {\n          font-weight: 600;\n          color: #111827;\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n\n        .account-icon {\n          font-size: 0.875rem;\n        }\n\n        .account-details {\n          font-size: 0.75rem;\n          color: #6b7280;\n        }\n\n        .balance-cell {\n          text-align: right;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n          font-weight: 600;\n        }\n\n        .balance-cell.projected {\n          color: #10b981;\n        }\n\n        .balance-cell.net.positive {\n          color: #10b981;\n        }\n\n        .balance-cell.net.negative {\n          color: #ef4444;\n        }\n\n        .balance-input-compact {\n          width: 100%;\n          padding: 0.25rem 0.5rem;\n          border: 1px solid #d1d5db;\n          border-radius: 4px;\n          font-size: 0.875rem;\n          text-align: right;\n          font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n        }\n\n        .balance-input-compact:focus {\n          outline: none;\n          border-color: #10b981;\n          box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.1);\n        }\n\n        .accounts-table-footer {\n          margin-top: 1rem;\n          text-align: center;\n        }\n        \n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n          .financial-overview-row.second-row {\n            flex-direction: column;\n          }\n          \n          .financial-overview-row.third-row {\n            grid-template-columns: 1fr;\n          }\n          \n          .overview-stat.cash-flow-card {\n            min-width: auto;\n          }\n          \n          .overview-stat.full-width .stat-content > div {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 8px;\n          }\n          \n          .variance-indicator {\n            margin-left: 0;\n            margin-top: 8px;\n          }\n          \n          .financial-overview-row.featured-row {\n            grid-template-columns: 1fr;\n          }\n\n          .accounts-table-header,\n          .accounts-table-row {\n            grid-template-columns: 1fr;\n            gap: 0.5rem;\n          }\n\n          .account-info {\n            text-align: left;\n          }\n\n          .balance-cell {\n            text-align: left;\n          }\n        }\n\n        /* Give Net Cash Flow a little more breathing room */\n        .overview-stat.net-cash {\n          min-height: 96px;\n        }\n\n        /* Prevent the two numbers from squishing on narrower widths */\n        .overview-stat.net-cash .two-column-stat {\n          grid-template-columns: repeat(2, minmax(160px, 1fr));\n        }\n\n      "}),(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("h2",{className:"page-title",children:"\ud83c\udfe0 Dashboard Overview"}),(0,o.jsx)("p",{className:"page-description",children:"Your complete budget overview with real-time income tracking and insights"}),(0,o.jsx)("div",{className:"page-header-actions",children:(0,o.jsx)(gb,{variant:"outline",onClick:()=>{const r=oL.generatePrintContent(e.data,t,n);oL.openPrintWindow(r,"Budget Dashboard Overview")},className:"print-button",children:"\ud83d\udda8\ufe0f Print Dashboard"})})]}),(0,o.jsx)(bb,{}),(0,o.jsxs)(eL,{title:"\ud83d\udcb0 Income Progress This Month",className:"income-progress-card",children:[(0,o.jsxs)("div",{className:"progress-container",children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,o.jsx)("span",{style:{fontSize:"1.5rem",fontWeight:"700"},children:n(h.totalActualIncome)}),(0,o.jsxs)("span",{style:{fontSize:"0.9rem",opacity:"0.8"},children:["of ",n(h.totalProjectedIncome)," projected"]})]}),(0,o.jsx)("div",{className:"progress-bar",children:(0,o.jsx)("div",{className:"progress-fill",style:{width:`${Math.min(h.percentReceived,100)}%`,backgroundColor:k(h.percentReceived,h.isOnTrack)}})}),(0,o.jsxs)("div",{className:"progress-labels",children:[(0,o.jsxs)("span",{children:[h.percentReceived.toFixed(1),"% received"]}),(0,o.jsxs)("span",{children:[h.monthProgress.toFixed(1),"% through month"]})]}),(0,o.jsx)("div",{className:"month-progress-indicator",children:h.isOnTrack?(0,o.jsxs)("span",{children:["\u2705 On track - ",n(h.progressVariance)," ahead of schedule"]}):(0,o.jsxs)("span",{children:["\u26a0\ufe0f Behind schedule - ",n(Math.abs(h.progressVariance))," expected by now"]})})]}),(0,o.jsxs)("div",{className:"income-stats-grid",children:[(0,o.jsxs)("div",{className:"income-stat",children:[(0,o.jsx)("div",{className:"income-stat-value",children:n(h.variance)}),(0,o.jsx)("div",{className:"income-stat-label",children:"Total Variance"}),(0,o.jsx)("div",{className:"income-stat-explanation",children:"Difference between actual and projected income for the full month"})]}),(0,o.jsxs)("div",{className:"income-stat",children:[(0,o.jsx)("div",{className:"income-stat-value",children:n(h.expectedAtThisPoint)}),(0,o.jsx)("div",{className:"income-stat-label",children:"Expected by Now"}),(0,o.jsxs)("div",{className:"income-stat-explanation",children:["How much income you should have received by day ",(new Date).getDate()," of this month"]})]}),(0,o.jsxs)("div",{className:"income-stat",children:[(0,o.jsx)("div",{className:"income-stat-value",children:h.totalProjectedIncome-h.totalActualIncome>0?n(h.totalProjectedIncome-h.totalActualIncome):"$0"}),(0,o.jsx)("div",{className:"income-stat-label",children:"Still Expected"}),(0,o.jsx)("div",{className:"income-stat-explanation",children:"Amount still projected to be received this month from all income sources"})]})]}),(0,o.jsxs)("div",{className:"income-explanation-section",children:[(0,o.jsx)("div",{className:"income-explanation-title",children:"\ud83d\udcca How These Numbers Work"}),(0,o.jsxs)("div",{className:"income-explanation-text",children:[(0,o.jsx)("strong",{children:"Actual Income:"})," Total money you've received this month from all sources (salary, freelance, etc.).",(0,o.jsx)("strong",{children:"Projected Income:"})," Expected monthly total based on your income frequency settings.",(0,o.jsx)("strong",{children:"Progress Tracking:"})," Compares your actual income to what you should have received by today's date, helping you stay on track with your budget goals."]})]})]}),(0,o.jsx)(mb,{}),(0,o.jsxs)("div",{className:"homepage-main-content",children:[(0,o.jsxs)("div",{className:"homepage-left-column",children:[(0,o.jsx)(eL,{title:"\ud83d\udcb0 Financial Overview",className:"financial-overview-card",children:(0,o.jsxs)("div",{className:"financial-overview-alternative",children:[(0,o.jsx)("div",{className:"financial-overview-row featured-row",children:(0,o.jsxs)("div",{className:"overview-stat actual-performance full-width card-with-help",children:[(0,o.jsx)("button",{className:"help-toggle",onClick:()=>c("actualIncome"),"aria-label":"Help for Actual Monthly Income",children:"?"}),(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb5"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"stat-value",children:n(h.totalActualIncome)}),(0,o.jsx)("div",{className:"stat-label",children:"Actual Monthly Income"})]}),(0,o.jsxs)("span",{className:"variance-indicator "+(h.variance>=0?"variance-positive":"variance-negative"),children:[h.variance>=0?"\u2197":"\u2198"," ",n(Math.abs(h.variance))," vs projected"]})]}),(0,o.jsx)("div",{className:"help-accordion "+(l.actualIncome?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:"\ud83d\udcb5 Actual Monthly Income"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"What it shows:"})," The real money you've received this month from all income sources."]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"How it's calculated:"})}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"Takes your actual income amounts from each paycheck"}),(0,o.jsx)("li",{children:"Multiplies by pay frequency (weekly, bi-weekly, etc.)"}),(0,o.jsx)("li",{children:"Shows month-to-date total across all income sources"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"The variance indicator"})," shows how much you're above or below your projected income target for the month."]})]})})]})]})}),(0,o.jsx)("div",{className:"financial-overview-row featured-row",children:(0,o.jsxs)("div",{className:"overview-stat net-cash full-width card-with-help",children:[(0,o.jsx)("button",{className:"help-toggle",onClick:()=>c("netCashFlow"),"aria-label":"Help for Net Cash Flow",children:"?"}),(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc8"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsxs)("div",{className:"two-column-stat",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"stat-value "+(y>=0?"positive":"negative"),children:n(y)}),(0,o.jsx)("div",{style:{fontSize:"0.7rem",opacity:"0.8"},children:"Projected"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"stat-value "+(v>=0?"positive":"negative"),children:n(v)}),(0,o.jsx)("div",{style:{fontSize:"0.7rem",opacity:"0.8"},children:"Actual"})]})]}),(0,o.jsx)("div",{className:"stat-label",children:"Net Cash Flow"}),(0,o.jsx)("div",{className:"help-accordion "+(l.netCashFlow?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:"\ud83d\udcc8 Net Cash Flow"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"What it shows:"})," How much money you have left after paying all monthly expenses."]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Formula:"})," Income - Monthly Expenses = Net Cash Flow"]}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Projected:"})," Expected leftover money based on projected income"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Actual:"})," Real leftover money based on actual income received"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Positive (green):"})," You have money left over for savings/goals"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Negative (red):"})," You're spending more than you earn this month"]})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Goal:"})," Keep this positive to build emergency funds and reach financial goals."]})]})})]})]})}),(0,o.jsxs)("div",{className:"financial-overview-row second-row",children:[(0,o.jsxs)("div",{className:"overview-stat card-with-help",children:[(0,o.jsx)("button",{className:"help-toggle",onClick:()=>c("projectedIncome"),"aria-label":"Help for Projected Income",children:"?"}),(0,o.jsx)("div",{className:"stat-icon income",children:"\ud83c\udfaf"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-value income",children:n(h.totalProjectedIncome)}),(0,o.jsx)("div",{className:"stat-label",children:"Projected Monthly Income"}),(0,o.jsx)("div",{className:"help-accordion "+(l.projectedIncome?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:"\ud83c\udfaf Projected Monthly Income"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"What it shows:"})," Expected total income for the entire month."]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Based on:"})}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"Your projected income amounts per paycheck"}),(0,o.jsx)("li",{children:"Pay frequency (weekly = 4-5 checks, bi-weekly = 2-3 checks, etc.)"}),(0,o.jsx)("li",{children:"All active income sources combined"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Use this to:"})," Plan monthly spending, set savings goals, and budget for upcoming expenses."]})]})})]})]}),(0,o.jsxs)("div",{className:"overview-stat card-with-help",children:[(0,o.jsx)("button",{className:"help-toggle",onClick:()=>c("monthlyExpenses"),"aria-label":"Help for Monthly Expenses",children:"?"}),(0,o.jsx)("div",{className:"stat-icon expenses",children:"\ud83e\uddfe"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-value expenses",children:n(m)}),(0,o.jsx)("div",{className:"stat-label",children:"Monthly Expenses"}),(0,o.jsx)("div",{className:"help-accordion "+(l.monthlyExpenses?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:"\ud83e\uddfe Monthly Expenses"}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"What it includes:"})}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"All monthly recurring expenses (rent, utilities, subscriptions)"}),(0,o.jsx)("li",{children:"Monthly portion of annual expenses (car insurance, taxes)"}),(0,o.jsx)("li",{children:"Based on your actual or budgeted amounts"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Goal:"})," Keep this number lower than your projected income to maintain positive cash flow."]})]})})]})]})]}),(0,o.jsxs)("div",{className:"financial-overview-row third-row",children:[(0,o.jsxs)("div",{className:"overview-stat card-with-help",children:[(0,o.jsx)("button",{className:"help-toggle",onClick:()=>c("savingsRate"),"aria-label":"Help for Savings Rate",children:"?"}),(0,o.jsx)("div",{className:"stat-icon savings",children:"\ud83d\udcb0"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsxs)("div",{className:"stat-value savings",children:[b.toFixed(1),"%"]}),(0,o.jsx)("div",{className:"stat-label",children:"Actual Savings Rate"}),(0,o.jsx)("div",{className:"help-accordion "+(l.savingsRate?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:"\ud83d\udcb0 Savings Rate"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"What it shows:"})," What percentage of your income you're able to save."]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Formula:"})," (Net Cash Flow \xf7 Income) \xd7 100"]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Benchmarks:"})}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"20%+:"})," Excellent - building wealth quickly"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"10-20%:"})," Good - on track for financial goals"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"5-10%:"})," Okay - but could improve"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Below 5%:"})," Consider reducing expenses"]})]})]})})]})]}),(0,o.jsxs)("div",{className:"overview-stat projected card-with-help",children:[(0,o.jsx)("button",{className:"help-toggle",onClick:()=>c("monthComplete"),"aria-label":"Help for Month Complete",children:"?"}),(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udcc5"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsxs)("div",{className:"stat-value",children:[h.monthProgress.toFixed(1),"%"]}),(0,o.jsx)("div",{className:"stat-label",children:"Month Complete"}),(0,o.jsx)("div",{className:"help-accordion "+(l.monthComplete?"open":"closed"),children:(0,o.jsxs)("div",{className:"help-content",children:[(0,o.jsx)("h4",{children:"\ud83d\udcc5 Month Complete"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"What it shows:"})," How far through the current month you are, as a percentage."]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"Why it matters:"})}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"Helps evaluate if your income is on track"}),(0,o.jsx)("li",{children:"Useful for pacing monthly spending"}),(0,o.jsx)("li",{children:"Context for interpreting other financial metrics"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example:"})," If you're 50% through the month, you should ideally have received about 50% of your expected monthly income."]})]})})]})]})]})]})}),(0,o.jsxs)("div",{className:"charts-row",children:[(0,o.jsx)(eL,{title:"\ud83d\udcca Monthly Cash Flow",className:"chart-card cash-flow-card",children:(0,o.jsx)("div",{className:"chart-container",children:(0,o.jsx)(JR,{})})}),(0,o.jsx)(eL,{title:"\ud83e\udd67 Expense Categories",className:"chart-card expense-chart-card",children:(0,o.jsxs)("div",{className:"chart-container",children:[(0,o.jsx)(Qz,{data:w}),(0,o.jsx)("div",{className:"chart-summary",children:(0,o.jsxs)("div",{className:"chart-stat",children:[(0,o.jsx)("strong",{children:Object.keys(w.monthlyData).length+Object.keys(w.annualData).length})," Categories"]})})]})})]}),(0,o.jsx)(eL,{title:"\ud83c\udfe6 Account Balances",className:"accounts-table-card",children:0===S.length?(0,o.jsxs)("div",{className:"empty-accounts-state",children:[(0,o.jsx)("div",{className:"empty-icon",children:"\ud83c\udfe6"}),(0,o.jsx)("h4",{children:"No Accounts Added"}),(0,o.jsx)("p",{children:"Add your bank accounts to track balances and projected totals."}),(0,o.jsx)(gb,{variant:"primary",onClick:()=>s(!0),children:"Add Account"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"accounts-table",children:[(0,o.jsxs)("div",{className:"accounts-table-header",children:[(0,o.jsx)("div",{children:"Account"}),(0,o.jsx)("div",{children:"Current"}),(0,o.jsx)("div",{children:"Projected"}),(0,o.jsx)("div",{children:"Net"})]}),S.map(e=>{const t=E(e.id),r=(parseFloat(e.currentBalance)||0)-t;return(0,o.jsxs)("div",{className:"accounts-table-row",children:[(0,o.jsxs)("div",{className:"account-info",children:[(0,o.jsxs)("div",{className:"account-name",children:[(0,o.jsx)("span",{className:"account-icon",children:"\ud83d\udcb3"}),e.name]}),(0,o.jsxs)("div",{className:"account-details",children:[e.bank," ",e.transitNumber&&e.branchNumber&&`\u2022 ${e.transitNumber}-${e.branchNumber}`]})]}),(0,o.jsx)("div",{className:"balance-cell",children:(0,o.jsx)("input",{type:"number",value:e.currentBalance||"",onChange:t=>(e=>{const t=S.map(t=>t.id===e.id?e:t);a.updateAccounts(t)})({...e,currentBalance:parseFloat(t.target.value)||0}),className:"balance-input-compact",placeholder:"0.00"})}),(0,o.jsx)("div",{className:"balance-cell projected",children:n(t)}),(0,o.jsx)("div",{className:"balance-cell net "+(r>=0?"positive":"negative"),children:n(r)})]},e.id)}),(0,o.jsxs)("div",{className:"accounts-table-row totals",children:[(0,o.jsx)("div",{className:"account-info",children:(0,o.jsx)("div",{className:"account-name",children:(0,o.jsx)("strong",{children:"Total"})})}),(0,o.jsx)("div",{className:"balance-cell",children:(0,o.jsx)("strong",{children:n(A())})}),(0,o.jsx)("div",{className:"balance-cell projected",children:(0,o.jsx)("strong",{children:n(C())})}),(0,o.jsx)("div",{className:"balance-cell net "+(A()-C()>=0?"positive":"negative"),children:(0,o.jsx)("strong",{children:n(A()-C())})})]})]}),(0,o.jsx)("div",{className:"accounts-table-footer",children:(0,o.jsx)(gb,{variant:"outline",size:"sm",onClick:()=>a.setCurrentPage("accounts"),children:"Manage Accounts"})})]})})]}),(0,o.jsxs)("div",{className:"homepage-right-column",children:[(0,o.jsx)(eL,{title:"\u23f0 Upcoming Expenses",className:"upcoming-card-compact",children:(0,o.jsx)(yb,{expenses:x,maxDisplay:3})}),(0,o.jsx)(eL,{title:"\ud83e\ude7a Budget Health",className:"health-card-compact",children:(0,o.jsxs)("div",{className:"health-metrics-compact",children:[(0,o.jsxs)("div",{className:"health-item-compact",children:[(0,o.jsx)("div",{className:"health-label",children:"Income Progress"}),(0,o.jsxs)("div",{className:"health-indicator",children:[(0,o.jsx)("div",{className:"indicator-bar",children:(0,o.jsx)("div",{className:"indicator-fill",style:{width:`${Math.min(h.percentReceived,100)}%`,backgroundColor:k(h.percentReceived,h.isOnTrack)}})}),(0,o.jsxs)("span",{className:"indicator-text",children:[h.percentReceived.toFixed(0),"% received"]})]})]}),(0,o.jsxs)("div",{className:"health-item-compact",children:[(0,o.jsx)("div",{className:"health-label",children:"Emergency Fund"}),(0,o.jsxs)("div",{className:"health-indicator",children:[(0,o.jsx)("div",{className:"indicator-bar",children:(0,o.jsx)("div",{className:"indicator-fill",style:{width:`${Math.min(6*y/(6*m)*100,100)}%`,backgroundColor:y>0?"#27ae60":"#e74c3c"}})}),(0,o.jsx)("span",{className:"indicator-text",children:y>0?"Building":"Attention"})]})]}),(0,o.jsxs)("div",{className:"health-item-compact",children:[(0,o.jsx)("div",{className:"health-label",children:"Debt-to-Income"}),(0,o.jsxs)("div",{className:"health-value",children:[h.totalProjectedIncome>0?(m/h.totalProjectedIncome*100).toFixed(1):0,"%"]})]}),(0,o.jsxs)("div",{className:"health-item-compact",children:[(0,o.jsx)("div",{className:"health-label",children:"Budget Variance"}),(0,o.jsxs)("div",{className:"health-value "+(h.variance>=0?"positive":"negative"),children:[h.variance>=0?"+":"",n(h.variance)]})]})]})}),(0,o.jsx)(eL,{title:"\ud83d\udca1 Quick Insights",className:"insights-card-compact",children:(0,o.jsxs)("div",{className:"insights-list-compact",children:[!h.isOnTrack&&(0,o.jsxs)("div",{className:"insight-item warning",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\u23f0"}),(0,o.jsxs)("span",{className:"insight-text",children:["Income ",n(Math.abs(h.progressVariance))," behind schedule"]})]}),v<0&&(0,o.jsxs)("div",{className:"insight-item warning",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\u26a0\ufe0f"}),(0,o.jsxs)("span",{className:"insight-text",children:["Current net cash flow negative: ",n(v)]})]}),b<10&&v>=0&&(0,o.jsxs)("div",{className:"insight-item warning",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\ud83d\udcc9"}),(0,o.jsx)("span",{className:"insight-text",children:"Actual savings rate below 10%"})]}),x.length>0&&(0,o.jsxs)("div",{className:"insight-item info",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\ud83d\udcc5"}),(0,o.jsxs)("span",{className:"insight-text",children:[x.length," expense(s) due soon"]})]}),h.isOnTrack&&b>=20&&(0,o.jsxs)("div",{className:"insight-item success",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\u2705"}),(0,o.jsx)("span",{className:"insight-text",children:"Income on track & exceeding savings goals!"})]}),h.variance>500&&(0,o.jsxs)("div",{className:"insight-item success",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\ud83c\udf89"}),(0,o.jsxs)("span",{className:"insight-text",children:["Income ",n(h.variance)," above projected!"]})]}),0===S.length&&(0,o.jsxs)("div",{className:"insight-item info",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\ud83c\udfe6"}),(0,o.jsx)("span",{className:"insight-text",children:"Add accounts to track balances"})]}),h.isOnTrack&&v>=0&&b>=10&&0===x.length&&(0,o.jsxs)("div",{className:"insight-item success",children:[(0,o.jsx)("span",{className:"insight-icon",children:"\ud83c\udf89"}),(0,o.jsx)("span",{className:"insight-text",children:"Budget is looking healthy!"})]})]})})]})]}),(0,o.jsx)(tL,{isOpen:i,onClose:()=>s(!1),onAccountCreated:e=>{}}),(0,o.jsxs)("footer",{className:"legal-disclaimer-footer",style:{marginTop:"3rem",padding:"1rem",backgroundColor:"var(--bg-tertiary, #f8fafc)",borderRadius:"8px",border:"1px solid var(--border-light, #e5e7eb)"},children:[(0,o.jsxs)("button",{onClick:()=>u(e=>({...e,legalDisclaimer:!e.legalDisclaimer})),style:{width:"100%",padding:"0.5rem",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",fontSize:"0.8rem",color:"var(--text-muted, #6b7280)",borderRadius:"4px",transition:"background-color 0.2s ease"},onMouseOver:e=>e.target.style.backgroundColor="var(--bg-secondary, #f1f5f9)",onMouseOut:e=>e.target.style.backgroundColor="transparent",children:[(0,o.jsx)("span",{children:"\ud83d\udccb Legal Disclaimer & Terms of Use"}),(0,o.jsx)("span",{style:{fontSize:"0.7rem",opacity:.7},children:l.legalDisclaimer?"\u25b2":"\u25bc"})]}),(0,o.jsx)("div",{className:"help-accordion "+(l.legalDisclaimer?"open":"closed"),children:(0,o.jsxs)("div",{style:{backgroundColor:"var(--bg-primary, #ffffff)",borderRadius:"6px",padding:"1rem",marginTop:"0.5rem",fontSize:"0.75rem",color:"var(--text-muted, #6b7280)",lineHeight:"1.4",border:"1px solid var(--border-light, #e5e7eb)"},children:[(0,o.jsx)("div",{style:{textAlign:"center",marginBottom:"0.75rem"},children:(0,o.jsx)("strong",{style:{color:"var(--text-secondary, #4b5563)"},children:"Important Legal Notice"})}),(0,o.jsxs)("p",{style:{margin:"0 0 0.5rem 0"},children:[(0,o.jsx)("strong",{children:"Family Budget Simplified"})," is provided for informational and educational purposes only. This application is not intended to provide financial, investment, legal, tax, or accounting advice. The creators, developers, and distributors of this application disclaim any and all liability for decisions made based on information provided by this software."]}),(0,o.jsx)("p",{style:{margin:"0 0 0.5rem 0"},children:"Users acknowledge that all financial decisions are made at their own risk and discretion. This application does not constitute professional financial advice, and users are strongly encouraged to consult with qualified financial advisors, accountants, or other professionals before making any financial decisions."}),(0,o.jsx)("p",{style:{margin:"0"},children:"No warranty, express or implied, is provided regarding the accuracy, completeness, or reliability of any calculations, projections, or information provided. Users assume full responsibility for verifying all data and calculations before making financial decisions."})]})})]})]})},lL=[{value:"weekly",label:"Weekly"},{value:"bi-weekly",label:"Bi-Weekly"},{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"semi-annual",label:"Semi-Annual"},{value:"annual",label:"Annual"},{value:"one-time",label:"One-time"}],uL="__CREATE_NEW__",cL="__NO_ACCOUNT__",dL=e=>{switch(e){case"weekly":return 5;case"bi-weekly":return 3;case"monthly":case"one-time":return 1;default:return 0}},fL=e=>{let{data:t,width:n=900,height:r=320,topN:a=8,sortBy:i="projected",currencyFormatter:s=e=>`$${e.toFixed(2)}`}=e;if(!Array.isArray(t)||0===t.length)return null;const l=[...t].sort((e,t)=>(t[i]||0)-(e[i]||0)).slice(0,a),u=30,c=20,d=70,f=60,p=Math.max(300,n)-f-c,h=Math.max(200,r)-u-d,m=Math.max(1,...l.map(e=>Math.max(e.projected||0,e.actual||0))),g=p/l.length,y=Math.min(14,Math.max(8,.12*g)),v=Math.max(12,Math.min(34,(g-y)/2)),b=e=>h-e/m*h,x=Array.from({length:5},(e,t)=>m/4*t);return(0,o.jsx)("svg",{width:p+f+c,height:h+u+d,style:{display:"block"},children:(0,o.jsxs)("g",{transform:`translate(${f},${u})`,children:[x.map((e,t)=>(0,o.jsxs)("g",{children:[(0,o.jsx)("line",{x1:0,y1:b(e),x2:p,y2:b(e),stroke:"#e5e7eb",strokeDasharray:"3 3"}),(0,o.jsx)("text",{x:-10,y:b(e),textAnchor:"end",dominantBaseline:"middle",fontSize:"11",fill:"#6b7280",children:s(e)})]},`yt-${t}`)),(0,o.jsx)("line",{x1:"0",y1:h,x2:p,y2:h,stroke:"#e5e7eb"}),l.map((e,t)=>{const n=t*g+g/2,r=n-v-y/2,a=n+y/2,i=h-b(e.projected||0),l=h-b(e.actual||0);return(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{x:r,y:b(e.projected||0),width:v,height:i,fill:"#10b981",rx:"4"}),(0,o.jsx)("rect",{x:a,y:b(e.actual||0),width:v,height:l,fill:"#3b82f6",rx:"4"}),(0,o.jsx)("text",{x:r+v/2,y:b(e.projected||0)-6,fontSize:"10",fill:"#065f46",textAnchor:"middle",children:s(e.projected||0)}),(0,o.jsx)("text",{x:a+v/2,y:b(e.actual||0)-6,fontSize:"10",fill:"#1e3a8a",textAnchor:"middle",children:s(e.actual||0)}),(0,o.jsx)("text",{x:n,y:h+16,textAnchor:"middle",fontSize:"11",fill:"#374151",children:String(e.name).length>16?`${String(e.name).slice(0,16)}\u2026`:e.name})]},e.id||e.name||t)}),(0,o.jsxs)("g",{transform:"translate(0, -14)",children:[(0,o.jsx)("rect",{x:"0",y:"-10",width:"12",height:"12",fill:"#10b981",rx:"2"}),(0,o.jsx)("text",{x:"18",y:"0",fontSize:"12",fill:"#374151",children:"Projected"}),(0,o.jsx)("rect",{x:"100",y:"-10",width:"12",height:"12",fill:"#3b82f6",rx:"2"}),(0,o.jsx)("text",{x:"118",y:"0",fontSize:"12",fill:"#374151",children:"Actual"})]})]})})},pL={generatePrintContent(e,t){const n=e=>null==e?"":String(e),r=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=Number(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t},a=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projected";const a=Array.isArray(e.payDates)&&e.payDates.length>0,i=r(null!==(t=e.projectedAmount)&&void 0!==t?t:e.amount),o=r(e.actualAmount);if("actual"===n){if(Array.isArray(e.payActuals)&&e.payActuals.length>0)return e.payActuals.reduce((e,t)=>e+r(t),0);if("monthly-total"===(e.actualMode||"per-check"))return o||0}const s="projected"===n?i:o;switch(e.frequency){case"weekly":return a?s*e.payDates.length:s*(52/12);case"bi-weekly":return a?s*e.payDates.length:s*(26/12);case"monthly":default:return s;case"quarterly":return s/3;case"semi-annual":return s/6;case"annual":return s/12;case"one-time":return 0}},i=((null===e||void 0===e?void 0:e.income)||[]).map(e=>{var t;const n=e.name||e.source||"Untitled",i=e.account||"No Account",o=e.frequency||"monthly",s=Array.isArray(e.payDates)?e.payDates:[],l=Array.isArray(e.payActuals)?e.payActuals:[],u=r(null!==(t=e.projectedAmount)&&void 0!==t?t:e.amount),c=r(e.actualAmount),d=e.actualMode||"per-check",f=a({...e,projectedAmount:u},"projected"),p=a({...e,actualAmount:c,actualMode:d,payDates:s,payActuals:l},"actual"),h=p-f;return{id:e.id||n,name:n,account:i,frequency:o,projectedPerPay:u,actualPerPay:c,payDates:s,payActuals:l,projectedMonthly:f,actualMonthly:p,variance:h}}),o=i.reduce((e,t)=>(e.projected+=t.projectedMonthly,e.actual+=t.actualMonthly,e),{projected:0,actual:0}),s=o.actual-o.projected;return`<!doctype html>\n<html>\n<head>\n<meta charset="utf-8" />\n<title>Income Report</title>\n<style>\n  @page { size: Letter; margin: 0.5in; }\n  * { box-sizing: border-box; }\n  html, body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif; color: #111827; }\n  h1 { font-size: 22px; margin: 0 0 4px 0; }\n  .sub { color: #6b7280; font-size: 12px; margin-bottom: 18px; }\n\n  .badges { display: flex; gap: 10px; margin-bottom: 14px; flex-wrap: wrap; }\n  .pill {\n    font-size: 12px; padding: 6px 10px; border-radius: 999px;\n    border: 1px solid #e5e7eb; background: #f9fafb; display: inline-block;\n  }\n  .strong { font-weight: 700; }\n\n  table { width: 100%; border-collapse: separate; border-spacing: 0; }\n  thead th {\n    font-size: 12px; text-transform: none; letter-spacing: 0;\n    text-align: left; color: #374151; padding: 10px 12px; border-bottom: 2px solid #e5e7eb;\n    position: relative;\n  }\n  tbody td {\n    padding: 10px 12px; font-size: 13px; vertical-align: top; border-bottom: 1px solid #f1f5f9;\n  }\n  tbody tr:nth-child(even) td { background: #fafafa; }\n  tfoot td {\n    padding: 12px; font-weight: 700; border-top: 2px solid #e5e7eb; font-size: 13px;\n  }\n\n  .num { text-align: right; white-space: nowrap; font-variant-numeric: tabular-nums; }\n  .muted { color: #6b7280; }\n  .sourceCell { line-height: 1.35; }\n  .sourceTitle { font-weight: 700; margin-bottom: 4px; }\n  .acct { font-size: 12px; color: #6b7280; margin-bottom: 4px; }\n  .dates { margin-top: 8px; }\n  .dates ul { margin: 0; padding-left: 14px; }\n  .dates li { margin: 2px 0; color: #374151; }\n  .dates small { color: #6b7280; }\n\n  .variance-neg { color: #dc2626; }\n  .variance-pos { color: #059669; }\n\n  .grid { display: grid; grid-template-columns: 1fr; gap: 8px; }\n  .wrap { max-width: 8.5in; margin: 0 auto; }\n  .header { margin-bottom: 14px; }\n  .tableWrap { margin-top: 8px; }\n\n  /* Avoid splitting rows across pages */\n  tr { page-break-inside: avoid; }\n  thead { display: table-header-group; }\n  tfoot { display: table-footer-group; }\n</style>\n</head>\n<body>\n  <div class="wrap">\n    <div class="header">\n      <h1>Income Summary</h1>\n      <div class="sub">Printed ${(new Date).toLocaleDateString(void 0,{year:"numeric",month:"numeric",day:"numeric"})}</div>\n      <div class="badges">\n        <span class="pill"><span class="muted">Projected (month):</span> <span class="strong">${t(o.projected)}</span></span>\n        <span class="pill"><span class="muted">Actual (month):</span> <span class="strong">${t(o.actual)}</span></span>\n        <span class="pill"><span class="muted">Variance:</span> <span class="strong">${t(s)}</span></span>\n      </div>\n    </div>\n\n    <div class="tableWrap">\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 32%;">Source / Account / Pay Dates</th>\n            <th style="width: 10%;">Frequency</th>\n            <th class="num" style="width: 12%;">Projected<br/><span class="muted">(per pay)</span></th>\n            <th class="num" style="width: 12%;">Actual<br/><span class="muted">(per pay)</span></th>\n            <th class="num" style="width: 12%;">Projected<br/><span class="muted">(monthly)</span></th>\n            <th class="num" style="width: 12%;">Actual<br/><span class="muted">(monthly)</span></th>\n            <th class="num" style="width: 10%;">Variance</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${i.map(e=>{const a=(e.payDates.length?e.payDates:[]).map((a,i)=>{var o;const s=null===(o=e.payActuals)||void 0===o?void 0:o[i],l=s||0===s?` \u2014 <small>${t(r(s))}</small>`:"";return`<li>${n(a)}${l}</li>`}).join("");return`\n            <tr>\n              <td class="sourceCell">\n                <div class="sourceTitle">${n(e.name)}</div>\n                ${e.account&&"No Account"!==e.account?`<div class="acct">${n(e.account)}</div>`:""}\n                ${a?`<div class="dates"><ul>${a}</ul></div>`:""}\n              </td>\n              <td>${n(e.frequency)}</td>\n              <td class="num">${t(e.projectedPerPay)}</td>\n              <td class="num">${t(e.actualPerPay)}</td>\n              <td class="num">${t(e.projectedMonthly)}</td>\n              <td class="num">${t(e.actualMonthly)}</td>\n              <td class="num ${e.variance<0?"variance-neg":"variance-pos"}">${t(e.variance)}</td>\n            </tr>`}).join("")}\n        </tbody>\n        <tfoot>\n          <tr>\n            <td>Totals</td>\n            <td></td>\n            <td class="num muted">\u2014</td>\n            <td class="num muted">\u2014</td>\n            <td class="num">${t(o.projected)}</td>\n            <td class="num">${t(o.actual)}</td>\n            <td class="num ${s<0?"variance-neg":"variance-pos"}">${t(s)}</td>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  </div>\n</body>\n</html>`},openPrintWindow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Income Report";const n=window.open("","_blank");n&&(n.document.open(),n.document.write(e),n.document.close(),n.onload=()=>n.print(),n.document.title=t)}},hL=()=>{var e;const{state:t,actions:n,formatCurrency:a}=H(),[i,s]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),[c,d]=(0,r.useState)("overview"),[f,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)({name:"",projectedAmount:"",frequency:"monthly",account:"",newAccountName:"",notes:"",weeks:Array(5).fill(0),actualWeeks:Array(5).fill(0),payDates:[],payActuals:[],actualMode:"per-check"}),[y,b]=(0,r.useState)({}),[x,w]=(0,r.useState)({});(0,r.useEffect)(()=>{const e=dL(h.frequency);if(!Array.isArray(h.payDates))return;const t=h.payDates.length>e?h.payDates.slice(0,e):h.payDates,n=Array.isArray(h.payActuals)?h.payActuals:[],r=n.length>e?n.slice(0,e):n;t===h.payDates&&r===h.payActuals||g(e=>({...e,payDates:t,payActuals:r}))},[h.frequency]);const S=Array.isArray(t.data.accounts)?t.data.accounts:[],N=S.map(e=>e.name).filter(Boolean),E=(()=>{const e=[];return e.push({value:cL,label:"No Account"}),S.forEach(t=>{e.push({value:t.name,label:t.name})}),e.push({value:uL,label:"+ Create New Account"}),e})();(0,r.useEffect)(()=>{!h.account&&E.length>0&&g(e=>({...e,account:cL}))},[E.length]);const A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projected";const n=Array.isArray(e.payDates)&&e.payDates.length>0,r="number"===typeof e.projectedAmount?e.projectedAmount:v(e.projectedAmount),a="number"===typeof e.actualAmount?e.actualAmount:v(e.actualAmount);if("actual"===t){if(Array.isArray(e.payActuals)&&e.payActuals.length>0)return e.payActuals.reduce((e,t)=>e+(v(t)||0),0);if("monthly-total"===e.actualMode)return a||0;switch(e.frequency){case"weekly":return n?(a||0)*e.payDates.length:(a||0)*(52/12);case"bi-weekly":return n?(a||0)*e.payDates.length:(a||0)*(26/12);case"monthly":default:return a||0;case"quarterly":return(a||0)/3;case"semi-annual":return(a||0)/6;case"annual":return(a||0)/12;case"one-time":return 0}}switch(e.frequency){case"weekly":return n?(r||0)*e.payDates.length:(r||0)*(52/12);case"bi-weekly":return n?(r||0)*e.payDates.length:(r||0)*(26/12);case"monthly":default:return r||0;case"quarterly":return(r||0)/3;case"semi-annual":return(r||0)/6;case"annual":return(r||0)/12;case"one-time":return 0}},C=(t.data.income||[]).map(e=>{const t=Array.isArray(e.weeks)?e.weeks:Array(5).fill(0),n=Array.isArray(e.actualWeeks)?e.actualWeeks:Array(5).fill(0),r=Array.isArray(e.payDates)?e.payDates:[],a=Array.isArray(e.payActuals)?e.payActuals:[],i=void 0!==e.projectedAmount?v(e.projectedAmount):void 0!==e.amount?v(e.amount):t.reduce((e,t)=>e+(v(t)||0),0),o=void 0!==e.actualAmount?v(e.actualAmount):a.length>0?a.reduce((e,t)=>e+(v(t)||0),0):n.reduce((e,t)=>e+(v(t)||0),0);return{...e,name:e.name||e.source||"",projectedAmount:i,actualAmount:o,weeks:t,actualWeeks:n,frequency:e.frequency||"monthly",account:e.account||"",notes:e.notes||"",payDates:r,payActuals:a,actualMode:e.actualMode||"per-check"}}),k=C.reduce((e,t)=>e+A(t,"projected"),0),_=C.reduce((e,t)=>e+A(t,"actual"),0),D=(e=>{const t=e.map(e=>{const t=A(e,"projected"),n=A(e,"actual"),r=n-t;return{id:e.id,name:e.name||"Untitled",account:e.account||"No Account",frequency:e.frequency||"monthly",projected:t,actual:n,variance:r}}),n=[...t].sort((e,t)=>e.variance-t.variance).slice(0,5),r=[...t].sort((e,t)=>t.variance-e.variance).slice(0,5),a=t.reduce((e,t)=>{const n=t.account||"No Account";return e[n]=(e[n]||0)+t.actual,e},{});return{rows:t,topNegative:n,topPositive:r,byAccount:Object.entries(a).map(e=>{let[t,n]=e;return{account:t,actual:n}}).sort((e,t)=>t.actual-e.actual),chart:t}})(C),j=_-k,O=k>0?j/k*100:0,M=(e,t)=>{g(n=>({...n,[e]:"name"===e||"newAccountName"===e?m(t):t}))},T=()=>{g({name:"",frequency:"monthly",projectedAmount:"",account:cL,newAccountName:"",notes:"",weeks:Array(5).fill(0),actualWeeks:Array(5).fill(0),payDates:[],payActuals:[],actualMode:"per-check"}),u(!1),s(null)},P=e=>{let{id:t,label:n,active:r,onClick:a}=e;return(0,o.jsx)("button",{className:"tab-button "+(r?"active":""),onClick:a,"aria-selected":r,role:"tab",id:`tab-${t}`,children:n})},F=()=>{const e=C.filter(e=>dL(e.frequency)>0);return 0===e.length?(0,o.jsx)("div",{className:"quick-entry-section",children:(0,o.jsxs)("div",{className:"quick-entry-no-sources",children:[(0,o.jsx)("h3",{children:"\ud83d\udcb0 No Income Sources for Quick Entry"}),(0,o.jsx)("p",{children:"Add income sources with weekly, bi-weekly, or monthly frequencies to use quick paycheque entry."})]})}):(0,o.jsxs)("div",{className:"quick-entry-section",children:[(0,o.jsxs)("div",{className:"quick-entry-header",children:[(0,o.jsx)("h2",{className:"quick-entry-title",children:"\u26a1 Quick Paycheque Entry"}),(0,o.jsx)("p",{className:"quick-entry-subtitle",children:"Quickly update your actual paycheque amounts as you receive them"})]}),(0,o.jsx)("div",{className:"quick-entry-grid",children:e.map((e,t)=>{const r=dL(e.frequency),i=e.id||`name:${e.name||t}`,s=A(e,"projected"),l=A(e,"actual");return(0,o.jsxs)("div",{className:"quick-entry-card",children:[(0,o.jsxs)("div",{className:"quick-entry-card-header",children:[(0,o.jsx)("h3",{className:"quick-entry-source-name",children:e.name}),(0,o.jsx)("span",{className:"quick-entry-frequency",children:e.frequency})]}),(0,o.jsx)("div",{className:"quick-entry-pay-dates",children:Array.from({length:r}).map((t,r)=>{var a,s,l,u,c,d,f,p;const h=(null===(a=y[i])||void 0===a||null===(s=a.payDates)||void 0===s?void 0:s[r])||(null===(l=e.payDates)||void 0===l?void 0:l[r])||"",m=(null===(u=y[i])||void 0===u||null===(c=u.payActuals)||void 0===c?void 0:c[r])||(null===(d=e.payActuals)||void 0===d?void 0:d[r])||"",g="saved"===(x[i]||"idle");return(0,o.jsxs)("div",{className:"quick-entry-pay-row",children:[(0,o.jsx)("input",{type:"date",className:"quick-entry-date-input "+(null!==(f=e.payDates)&&void 0!==f&&f[r]?"has-existing-data":""),value:h,onChange:e=>((e,t,n)=>{b(r=>{const a={...r};a[e]||(a[e]={payDates:[...Array(10)].map(()=>""),payActuals:[...Array(10)].map(()=>"")});const i=[...a[e].payDates],o=[...a[e].payActuals];for(;i.length<=t;)i.push("");return i[t]=n,a[e]={payDates:i,payActuals:o},a})})(i,r,e.target.value),placeholder:"Pay date"}),(0,o.jsx)("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",autoComplete:"off",className:"quick-entry-amount-input "+(null!==(p=e.payActuals)&&void 0!==p&&p[r]?"has-existing-data":""),placeholder:"Amount received",value:m,onChange:e=>((e,t,n)=>{b(r=>{const a={...r};a[e]||(a[e]={payDates:[...Array(10)].map(()=>""),payActuals:[...Array(10)].map(()=>"")});const i=[...a[e].payDates],o=[...a[e].payActuals];for(;o.length<=t;)o.push("");return o[t]=n,a[e]={payDates:i,payActuals:o},a})})(i,r,e.target.value)}),(0,o.jsx)("button",{className:"quick-entry-update-btn "+(g?"updated":""),onClick:()=>(e=>{const t=C.find(t=>(t.id||`name:${t.name}`)===e);if(!t)return void console.warn("Income source not found for key:",e);const r=y[e];if(!r)return void console.warn("Quick entry data not found for key:",e);const a=dL(t.frequency),i=(r.payDates||[]).slice(0,a),o=(r.payActuals||[]).slice(0,a).map(e=>""===e?"":Number(e)||""),s=C.map(t=>(t.id||`name:${t.name}`)===e?{...t,payDates:i,payActuals:o}:t);n.updateIncome(s),w(t=>({...t,[e]:"saved"})),setTimeout(()=>{w(t=>({...t,[e]:"idle"}))},1500)})(i),disabled:!h&&!m,style:{background:g?"rgba(16, 185, 129, 0.3)":"",color:g?"#065f46":""},children:g?"Updated!":"Update"})]},`${i}:row:${r}`)})}),(0,o.jsxs)("div",{className:"quick-entry-summary",children:[(0,o.jsxs)("div",{className:"quick-entry-summary-item",children:[(0,o.jsx)("span",{className:"quick-entry-summary-label",children:"Projected:"}),(0,o.jsx)("span",{className:"quick-entry-summary-value",children:a(s)})]}),(0,o.jsxs)("div",{className:"quick-entry-summary-item",children:[(0,o.jsx)("span",{className:"quick-entry-summary-label",children:"Actual:"}),(0,o.jsx)("span",{className:"quick-entry-summary-value",children:a(l)})]})]})]},i)})})]})};return(0,o.jsxs)("div",{className:"income-page",children:[(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("h1",{className:"page-title",children:"\ud83d\udcb5 Income Management"}),(0,o.jsx)("p",{className:"page-description",children:"Track projected vs actual income with comprehensive analysis"})]}),(0,o.jsxs)("div",{className:"tabs-container",children:[(0,o.jsxs)("div",{className:"tabs-header",role:"tablist","aria-label":"Income Tabs",children:[(0,o.jsx)(P,{id:"overview",label:"\ud83d\udcca Overview",active:"overview"===c,onClick:()=>d("overview")}),(0,o.jsx)(P,{id:"sources",label:"\ud83d\udcb0 Income Sources",active:"sources"===c,onClick:()=>d("sources")}),(0,o.jsx)(P,{id:"analytics",label:"\ud83d\udcc8 Analytics",active:"analytics"===c,onClick:()=>d("analytics")})]}),(0,o.jsxs)("div",{className:"tab-content",role:"tabpanel","aria-labelledby":`tab-${c}`,children:["overview"===c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"summary-grid",children:[(0,o.jsxs)("div",{className:"summary-card projected",children:[(0,o.jsx)("div",{className:"card-icon",children:"\ud83c\udfaf"}),(0,o.jsx)("div",{className:"card-label",children:"Projected Monthly Income"}),(0,o.jsx)("div",{className:"card-value",children:a(k)}),(0,o.jsxs)("div",{className:"card-subtext",children:["Annual: ",a(12*k)]})]}),(0,o.jsxs)("div",{className:"summary-card actual",children:[(0,o.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),(0,o.jsx)("div",{className:"card-label",children:"Actual Monthly Income"}),(0,o.jsx)("div",{className:"card-value",children:a(_)}),(0,o.jsxs)("div",{className:"card-subtext",children:["Annual: ",a(12*_)]})]}),(0,o.jsxs)("div",{className:"summary-card variance "+(j>=0?"":"negative"),children:[(0,o.jsx)("div",{className:"card-icon",children:j>=0?"\ud83d\udcc8":"\ud83d\udcc9"}),(0,o.jsx)("div",{className:"card-label",children:"Income Variance"}),(0,o.jsx)("div",{className:"card-value",children:a(j)}),(0,o.jsxs)("div",{className:"variance-indicator "+(j>=0?"positive":"negative"),children:[j>=0?"\u2197\ufe0f":"\u2198\ufe0f"," ",O.toFixed(1),"%"]})]}),(0,o.jsxs)("div",{className:"summary-card",children:[(0,o.jsx)("div",{className:"card-icon",children:"\ud83d\udccb"}),(0,o.jsx)("div",{className:"card-label",children:"Income Sources"}),(0,o.jsx)("div",{className:"card-value",children:C.length}),(0,o.jsx)("div",{className:"card-subtext",children:"Active sources"})]})]}),(0,o.jsx)(F,{}),(0,o.jsxs)("div",{className:"page-actions",children:[(0,o.jsxs)("button",{className:"action-button primary",onClick:()=>{u(!0),d("sources"),setTimeout(()=>{const e=document.querySelector(".income-form");e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},children:[(0,o.jsx)("span",{children:"+"})," Add Income Source"]}),(0,o.jsxs)("button",{className:"action-button secondary",onClick:()=>{const e=pL.generatePrintContent(t.data,a);pL.openPrintWindow(e,"Income Report")},children:[(0,o.jsx)("span",{children:"\ud83d\udda8\ufe0f"})," Print Report"]}),(0,o.jsxs)("button",{className:"action-button secondary",onClick:()=>{const e=[["Source","Projected Amount","Actual Amount","Variance","Frequency","Account","Notes"].join(",")];C.forEach(t=>{const n=A(t,"projected"),r=A(t,"actual"),a=r-n,i=[t.name||"",n||0,r||0,a,t.frequency||"monthly",t.account||"No Account",t.notes||""].map(e=>`"${String(e).replace(/"/g,'""')}"`);e.push(i.join(","))});const t=e.join("\n"),n=new Blob([t],{type:"text/csv"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`income-report-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},children:[(0,o.jsx)("span",{children:"\ud83d\udcc1"})," Export CSV"]})]})]}),"sources"===c&&(0,o.jsxs)(o.Fragment,{children:[l&&(0,o.jsxs)("div",{className:"income-form",children:[(0,o.jsxs)("div",{className:"form-header",children:[(0,o.jsx)("h2",{className:"form-title",children:null!==i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"editing-indicator",children:"\u270f\ufe0f"}),"Edit Income Source: ",(null===(e=C[i])||void 0===e?void 0:e.name)||"Unknown"]}):"Add New Income Source"}),null!==i&&(0,o.jsxs)("p",{className:"form-subtitle",children:["Currently editing row ",i+1," from the table below"]})]}),(0,o.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=h.name&&""!==h.name.trim(),r=v(h.projectedAmount);if(!t||isNaN(r))return void alert("Please enter a name and a projected amount.");let a="";a=h.account===cL?"":h.account;const o=Array.isArray(h.payActuals)?h.payActuals.reduce((e,t)=>e+(v(t)||0),0):0,l=Array(5).fill(r>0?r/5:0),u=Array(5).fill(o>0?o/5:0),c={...h,projectedAmount:r,actualAmount:o,amount:r,weeks:l,actualWeeks:u,account:a,payDates:Array.isArray(h.payDates)?h.payDates:[],payActuals:Array.isArray(h.payActuals)?h.payActuals:[],actualMode:h.actualMode||"per-check",id:null!==i?C[i].id:Date.now().toString()},d=[...C];null!==i?(d[i]=c,s(null)):d.push(c),n.updateIncome(d),T()},children:(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"income-name",children:"Income Source Name *"}),(0,o.jsx)("input",{id:"income-name",type:"text",className:"form-input",value:h.name,onChange:e=>M("name",e.target.value),placeholder:"e.g., Salary, Freelance, Investment",required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"income-frequency",children:"Frequency *"}),(0,o.jsx)("select",{id:"income-frequency",className:"form-select",value:h.frequency,onChange:e=>M("frequency",e.target.value),required:!0,children:lL.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"income-account",children:"Account"}),(0,o.jsx)("select",{id:"income-account",className:"form-select",value:h.account,onChange:e=>(e=>{e!==uL?g(t=>({...t,account:e,newAccountName:""})):p(!0)})(e.target.value),children:E.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}),h.account===cL&&(0,o.jsx)("div",{className:"account-hint",children:"This income source will not be associated with any specific account."}),h.account===uL&&(0,o.jsx)("div",{className:"account-hint create-new",children:'Click "Create New Account" to open the account creation modal.'})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"actual-mode",children:"How should pay dates be calculated?"}),(0,o.jsxs)("div",{id:"actual-mode",role:"radiogroup",style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,o.jsx)("input",{type:"radio",name:"actualMode",value:"per-check",checked:"per-check"===h.actualMode,onChange:e=>M("actualMode",e.target.value)}),(0,o.jsx)("span",{children:"Per-paycheck (multiply by # of checks)"})]}),(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,o.jsx)("input",{type:"radio",name:"actualMode",value:"monthly-total",checked:"monthly-total"===h.actualMode,onChange:e=>M("actualMode",e.target.value)}),(0,o.jsx)("span",{children:"Monthly total (don't multiply)"})]})]}),(0,o.jsx)("small",{style:{color:"#6b7280"},children:'This setting only applies when you use the "Pay dates + actuals" section below. If you enter individual pay amounts, those are summed directly.'})]}),dL(h.frequency)>0&&(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{className:"form-label",children:"bi-weekly"===h.frequency?"Paycheque Dates (Bi-Weekly)":"weekly"===h.frequency?"Pay Dates (Weekly)":"Pay Date"}),(0,o.jsx)("div",{className:"projected-actual-grid",children:Array.from({length:dL(h.frequency)}).map((e,t)=>{var n,a,i;return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)("input",{type:"date",className:"form-input",value:(null===(n=h.payDates)||void 0===n?void 0:n[t])||"",onChange:e=>{const n=[...h.payDates||[]];n[t]=e.target.value,g(e=>({...e,payDates:n}))},placeholder:"Pay date"}),(0,o.jsx)("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",autoComplete:"off",className:"form-input",placeholder:"Actual $ received",value:null!==(a=null===(i=h.payActuals)||void 0===i?void 0:i[t])&&void 0!==a?a:"",onChange:e=>{const n=[...h.payActuals||[]];n[t]=e.target.value,g(e=>({...e,payActuals:n}))}})]},`payrow-${t}`)})}),(0,o.jsx)("small",{style:{color:"#6b7280"},children:"Track your actual income by entering the date and amount for each paycheck. This provides the most accurate monthly income calculation."})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{className:"form-label",children:"Projected Amount - per pay *"}),(0,o.jsx)("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",autoComplete:"off",className:"form-input",value:h.projectedAmount,onChange:e=>M("projectedAmount",e.target.value),placeholder:"0.00",required:!0}),(0,o.jsx)("small",{style:{color:"#6b7280"},children:"Enter the amount you expect to receive per paycheck (before taxes/deductions)"})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"income-notes",children:"Notes"}),(0,o.jsx)("textarea",{id:"income-notes",className:"form-textarea",value:h.notes,onChange:e=>M("notes",e.target.value),placeholder:"Additional notes about this income source..."})]}),(0,o.jsxs)("div",{className:"form-actions full-width",children:[(0,o.jsx)("button",{type:"submit",className:"action-button primary",children:null!==i?"Save Edits":"Add Income"}),(0,o.jsx)("button",{type:"button",className:"action-button secondary",onClick:T,children:"Cancel"})]})]})})]}),(0,o.jsx)("div",{className:"income-table-container",children:0===C.length?(0,o.jsxs)("div",{className:"empty-state",children:[(0,o.jsx)("div",{className:"empty-icon",children:"\ud83d\udcb0"}),(0,o.jsx)("h3",{children:"No Income Sources"}),(0,o.jsx)("p",{children:"Add your first income source to start tracking your budget."}),(0,o.jsx)("button",{className:"action-button primary",onClick:()=>{u(!0),setTimeout(()=>{const e=document.querySelector(".income-form");e&&e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)},children:"Add Income Source"})]}):(0,o.jsxs)("table",{className:"income-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Source"}),(0,o.jsx)("th",{children:"Projected"}),(0,o.jsx)("th",{children:"Actual"}),(0,o.jsx)("th",{children:"Variance"}),(0,o.jsx)("th",{children:"Frequency"}),(0,o.jsx)("th",{children:"Account"}),(0,o.jsx)("th",{children:"Actions"})]})}),(0,o.jsx)("tbody",{children:C.map((e,t)=>{const r=A(e,"projected"),l=A(e,"actual"),c=l-r;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"source-name",children:e.name}),(0,o.jsx)("td",{className:"amount-cell",children:(0,o.jsx)("span",{className:"amount projected",children:a(r)})}),(0,o.jsx)("td",{className:"amount-cell",children:(0,o.jsx)("span",{className:"amount actual",children:a(l)})}),(0,o.jsx)("td",{className:"variance-cell",children:(0,o.jsx)("span",{className:"variance "+(c>=0?"positive":"negative"),children:a(c)})}),(0,o.jsx)("td",{children:(0,o.jsx)("span",{className:"frequency-badge",children:e.frequency})}),(0,o.jsx)("td",{children:e.account||"No Account"}),(0,o.jsx)("td",{children:(0,o.jsxs)("div",{className:"action-buttons",children:[(0,o.jsx)("button",{className:"btn-small edit-btn "+(i===t?"editing":""),onClick:()=>(e=>{var t;const n=C[e],r=n.account||"";let a=cL;r&&N.includes(r)&&(a=r),g({name:n.name||"",projectedAmount:(null===(t=n.projectedAmount)||void 0===t?void 0:t.toString())||"",frequency:n.frequency||"monthly",account:a,newAccountName:"",notes:n.notes||"",weeks:Array.isArray(n.weeks)?n.weeks:Array(5).fill(0),actualWeeks:Array.isArray(n.actualWeeks)?n.actualWeeks:Array(5).fill(0),payDates:Array.isArray(n.payDates)?n.payDates:[],payActuals:Array.isArray(n.payActuals)?n.payActuals:[],actualMode:n.actualMode||"per-check"}),s(e),u(!0),d("sources"),setTimeout(()=>{const e=document.querySelector(".income-form");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100)})(t),disabled:null!==i&&i!==t,children:i===t?"Editing...":"Edit"}),(0,o.jsx)("button",{className:"btn-small delete-btn",onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this income source?")){const t=C.filter((t,n)=>n!==e);n.updateIncome(t)}})(t),disabled:null!==i,children:"Delete"})]})})]},e.id||t)})}),(0,o.jsx)("tfoot",{children:(0,o.jsxs)("tr",{style:{background:"#f9fafb"},children:[(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:"Monthly Totals"})}),(0,o.jsx)("td",{children:(0,o.jsx)("strong",{className:"amount projected",children:a(k)})}),(0,o.jsx)("td",{children:(0,o.jsx)("strong",{className:"amount actual",children:a(_)})}),(0,o.jsx)("td",{children:(0,o.jsx)("strong",{className:"variance "+(j>=0?"positive":"negative"),children:a(j)})}),(0,o.jsx)("td",{colSpan:"3"})]})})]})})]}),"analytics"===c&&(0,o.jsxs)("div",{className:"analytics-grid",children:[(0,o.jsxs)("div",{className:"analytics-cards",children:[(0,o.jsxs)("div",{className:"a-card",children:[(0,o.jsx)("div",{className:"a-title",children:"Projected (This Month)"}),(0,o.jsx)("div",{className:"a-value",children:a(k)})]}),(0,o.jsxs)("div",{className:"a-card",children:[(0,o.jsx)("div",{className:"a-title",children:"Actual (This Month)"}),(0,o.jsx)("div",{className:"a-value",children:a(_)})]}),(0,o.jsxs)("div",{className:"a-card "+(j<0?"neg":"pos"),children:[(0,o.jsx)("div",{className:"a-title",children:"Variance"}),(0,o.jsx)("div",{className:"a-value",children:a(j)}),(0,o.jsxs)("div",{className:"a-sub",children:[(k>0?j/k*100:0).toFixed(1),"%"]})]})]}),(0,o.jsxs)("div",{className:"a-panel",children:[(0,o.jsx)("div",{className:"a-panel-title",children:"Projected vs Actual by Source (Current Month)"}),(0,o.jsx)(fL,{data:D.chart,width:900,height:320,topN:8,sortBy:"projected",currencyFormatter:a})]}),(0,o.jsxs)("div",{className:"a-columns",children:[(0,o.jsxs)("div",{className:"a-panel",children:[(0,o.jsx)("div",{className:"a-panel-title",children:"Biggest Shortfalls"}),(0,o.jsxs)("table",{className:"mini-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Source"}),(0,o.jsx)("th",{children:"Projected"}),(0,o.jsx)("th",{children:"Actual"}),(0,o.jsx)("th",{children:"Variance"})]})}),(0,o.jsxs)("tbody",{children:[0===D.topNegative.length&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"4",className:"muted",children:"No data"})}),D.topNegative.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.name}),(0,o.jsx)("td",{className:"num",children:a(e.projected)}),(0,o.jsx)("td",{className:"num",children:a(e.actual)}),(0,o.jsx)("td",{className:"num "+(e.variance<0?"neg":"pos"),children:a(e.variance)})]},`neg-${e.id||e.name}`))]})]})]}),(0,o.jsxs)("div",{className:"a-panel",children:[(0,o.jsx)("div",{className:"a-panel-title",children:"Biggest Overages"}),(0,o.jsxs)("table",{className:"mini-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Source"}),(0,o.jsx)("th",{children:"Projected"}),(0,o.jsx)("th",{children:"Actual"}),(0,o.jsx)("th",{children:"Variance"})]})}),(0,o.jsxs)("tbody",{children:[0===D.topPositive.length&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"4",className:"muted",children:"No data"})}),D.topPositive.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.name}),(0,o.jsx)("td",{className:"num",children:a(e.projected)}),(0,o.jsx)("td",{className:"num",children:a(e.actual)}),(0,o.jsx)("td",{className:"num "+(e.variance<0?"neg":"pos"),children:a(e.variance)})]},`pos-${e.id||e.name}`))]})]})]})]}),(0,o.jsxs)("div",{className:"a-panel",children:[(0,o.jsx)("div",{className:"a-panel-title",children:"Actual Income by Account"}),(0,o.jsxs)("table",{className:"mini-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Account"}),(0,o.jsx)("th",{className:"num",children:"Actual (This Month)"})]})}),(0,o.jsxs)("tbody",{children:[0===D.byAccount.length&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"2",className:"muted",children:"No data"})}),D.byAccount.map(e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.account}),(0,o.jsx)("td",{className:"num",children:a(e.actual)})]},`acct-${e.account}`))]})]})]})]})]})]}),(0,o.jsx)(tL,{isOpen:f,onClose:()=>p(!1),onAccountCreated:e=>{g(t=>({...t,account:e.name,newAccountName:""}))}}),(0,o.jsxs)("div",{className:"income-help-section",style:{marginTop:"40px",padding:"20px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"1px solid #e5e7eb"},children:[(0,o.jsx)("h3",{style:{marginBottom:"10px",fontSize:"1.25rem",fontWeight:"600"},children:"\ud83d\udcd8 Income Overview \u2013 Help & Definitions"}),(0,o.jsxs)("ul",{style:{lineHeight:"1.6",fontSize:"0.95rem",color:"#374151"},children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Projected Monthly Income:"})," The total amount you expect to earn each month from all income sources. Annual value = monthly \xd7 12."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Actual Monthly Income:"})," The total income you have actually received this month, calculated from individual pay dates or frequency multipliers."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Income Variance:"})," The difference between actual and projected income. Negative means under target, positive means over target."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Account Selection:"}),' Choose "No Account" to skip account assignment, select an existing account, or create a new account using the quick creation modal.']}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Pay Dates & Actuals:"})," Enter specific pay dates and amounts for the most accurate income tracking. This overrides frequency-based calculations."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Per-paycheck vs Monthly Total:"})," Choose how to calculate monthly income when using frequency multipliers instead of individual pay date amounts."]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"Quick Paycheque Entry:"})," Use the quick entry section to rapidly update actual paycheque amounts as you receive them without editing source settings."]})]})]})]})},mL={housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts"},gL=()=>{const{state:e,actions:t,calculations:n,formatCurrency:a}=H(),[i,s]=(0,r.useState)(!0),[l,u]=(0,r.useState)(1),c=(t,n)=>{var r,a;const i=null===(r=e.data.plannerState)||void 0===r?void 0:r[t];return(null===i||void 0===i||null===(a=i[n])||void 0===a?void 0:a[l-1])||!1};(0,r.useEffect)(()=>{e.data.monthly&&Object.keys(e.data.monthly).length>0&&t.autoPopulatePlanner()},[e.data.monthly]);const d=(n,r,a,i)=>{const o=(e.data.monthly[n]||[])[r]||{},s={...o,[a]:"actual"===a||"projected"===a?parseFloat(i)||0:i,id:o.id||`${n}-${Date.now()}-${r}`};t.updateMonthlyExpense(n,s,r),"actual"===a&&s.name&&setTimeout(()=>{t.distributeMonthlyToWeekly(s.name,s.actual,s.date)},100)},f=(n,r,a,i)=>{const o=(e.data.monthly[n]||[])[r]||{},s={...o,[a]:i,id:o.id||`${n}-${Date.now()}-${r}`};t.updateMonthlyExpense(n,s,r),o.name&&t.updateExpenseStatus(s.id,o.name,l-1,a,i,"monthly")};return(0,o.jsxs)("div",{className:"main-content monthly-expenses-page no-top-gap",children:[(0,o.jsx)("style",{children:"\n      /* Remove inherited top spacing from global/components CSS just on these pages */\n        .main-content.no-top-gap { \n          margin-top: 0 !important; \n          padding-top: 8px !important; /* tweak to 0\u201312px if you want tighter/looser */\n        }\n\n        /* Make sure the first heading doesn\u2019t add extra space */\n        .monthly-expenses-page .page-title,\n        .weekly-planner-page .page-title,\n        .annual-expenses-page .page-title {\n          margin-top: 0 !important;\n        }\n\n        .monthly-expenses-page {\n          padding: 20px;\n          background-color: var(--bg-primary);\n          min-height: 100vh;\n        }\n\n        .page-title {\n          color: var(--text-primary);\n          margin-bottom: 20px;\n          font-size: 1.8rem;\n          font-weight: 600;\n        }\n\n        .page-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: var(--card-bg);\n          border-radius: 8px;\n          border: 1px solid var(--card-border);\n          flex-wrap: wrap;\n          gap: 15px;\n          box-shadow: var(--card-shadow);\n        }\n\n        .toggle-container {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .toggle-label {\n          font-weight: 500;\n          color: var(--text-primary);\n        }\n\n        .action-controls {\n          display: flex;\n          gap: 10px;\n          flex-wrap: wrap;\n        }\n\n        .current-week-selector {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n          padding: 15px;\n          background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(33, 150, 243, 0.05));\n          border-radius: 8px;\n          border: 1px solid rgba(33, 150, 243, 0.3);\n          box-shadow: 0 2px 4px rgba(33, 150, 243, 0.1);\n        }\n\n        .week-select {\n          padding: 8px 12px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.9rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .week-select:focus {\n          outline: none;\n          border-color: var(--primary);\n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);\n        }\n\n        .category {\n          margin-bottom: 30px;\n          border: 1px solid var(--card-border);\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: var(--card-shadow);\n          background: var(--card-bg);\n          transition: all 0.2s ease;\n        }\n\n        .category:hover {\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        }\n\n        .category-header {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          color: white;\n          padding: 20px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .category-name {\n          font-size: 1.2rem;\n          font-weight: 600;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n        }\n\n        .category-controls {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n\n        .category-total {\n          font-size: 1.2rem;\n          font-weight: bold;\n          background: rgba(255, 255, 255, 0.2);\n          padding: 8px 16px;\n          border-radius: 20px;\n          backdrop-filter: blur(10px);\n        }\n\n        .add-item-btn, .remove-category-btn {\n          background-color: rgba(255,255,255,0.2);\n          border: 1px solid rgba(255,255,255,0.3);\n          color: white;\n          padding: 8px 12px;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: bold;\n          transition: all 0.2s ease;\n        }\n\n        .add-item-btn:hover, .remove-category-btn:hover {\n          background-color: rgba(255,255,255,0.3);\n          transform: translateY(-1px);\n        }\n\n        .subcategory-header {\n          display: flex;\n          background: var(--bg-secondary);\n          padding: 12px;\n          font-weight: 600;\n          font-size: 0.9rem;\n          color: var(--text-secondary);\n          border-bottom: 1px solid var(--border-light);\n        }\n\n        .header-date {\n          width: 140px;\n        }\n\n        .header-name {\n          flex: 2;\n        }\n\n        .header-status {\n          width: 140px;\n          text-align: center;\n        }\n\n        .header-amounts {\n          width: 220px;\n          display: flex;\n          justify-content: space-between;\n        }\n\n        .subcategory-list {\n          background-color: var(--card-bg);\n        }\n\n        .subcategory {\n          display: flex;\n          align-items: center;\n          padding: 15px 12px;\n          border-bottom: 1px solid var(--border-light);\n          gap: 12px;\n          transition: background-color 0.2s ease;\n        }\n\n        .subcategory:hover {\n          background-color: var(--hover-bg);\n        }\n\n        .subcategory:last-child {\n          border-bottom: none;\n        }\n\n        .date-input {\n          width: 140px;\n          padding: 8px 10px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.85rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          transition: all 0.2s ease;\n        }\n\n        .date-input:focus {\n          outline: none;\n          border-color: var(--primary);\n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);\n        }\n\n        .expense-name-input {\n          flex: 2;\n          padding: 8px 10px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.85rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          transition: all 0.2s ease;\n        }\n\n        .expense-name-input:focus {\n          outline: none;\n          border-color: var(--primary);\n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);\n        }\n\n        .account-select {\n          width: 140px;\n          padding: 8px 10px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.85rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .account-select:focus {\n          outline: none;\n          border-color: var(--primary);\n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);\n        }\n\n        .status-control-group {\n          width: 140px;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .transfer-status-select {\n          width: 90px;\n          padding: 4px 6px;\n          border: 1px solid var(--input-border);\n          border-radius: 4px;\n          font-size: 0.8rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          cursor: pointer;\n        }\n\n        .status-none {\n          background-color: var(--input-bg);\n        }\n\n        .status-quarter {\n          background-color: #fff3cd;\n        }\n\n        .status-half {\n          background-color: #d4edda;\n        }\n\n        .status-full {\n          background-color: #cce5ff;\n        }\n\n        .status-paid {\n          background-color: #d1ecf1 !important;\n          border-color: #bee5eb !important;\n        }\n\n        .expense-status-checkboxes {\n          display: flex;\n          gap: 8px;\n        }\n\n        .status-checkbox-label {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 0.8rem;\n          cursor: pointer;\n          color: var(--text-primary);\n        }\n\n        .checkbox-label {\n          font-weight: bold;\n        }\n\n        .transferred-checkbox:checked {\n          accent-color: #ffc107;\n        }\n\n        .paid-checkbox:checked {\n          accent-color: var(--success);\n        }\n\n        .amount-input-group {\n          width: 220px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .amount-input {\n        width: 90px;\n        padding: 8px 10px;\n        border: 1px solid var(--input-border);\n        border-radius: 6px;\n        font-size: 0.85rem;\n        text-align: right;\n        background-color: var(--input-bg);\n        color: var(--text-primary);\n        transition: all 0.2s ease;\n        flex-shrink: 0; /* Add this line */\n        box-sizing: border-box; /* Add this line */\n      }\n\n        .amount-input:focus {\n          outline: none;\n          border-color: var(--primary);\n          box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);\n        }\n\n        .amount-input.has-value {\n          background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%) !important;\n          border-color: var(--success) !important;\n          font-weight: 600 !important;\n          color: #155724 !important;\n        }\n\n        .copy-to-actual-btn {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          border: none;\n          color: white;\n          padding: 6px 10px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          transition: all 0.2s ease;\n        }\n\n        .copy-to-actual-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);\n        }\n\n        .item-delete-btn {\n        background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%);\n        border: none;\n        color: white;\n        padding: 6px; /* Changed from 6px 10px */\n        border-radius: 4px;\n        cursor: pointer;\n        font-size: 0.8rem;\n        width: 32px; /* Reduced from 35px */\n        height: 32px; /* Added fixed height */\n        display: flex; /* Added for better centering */\n        align-items: center; /* Center vertically */\n        justify-content: center; /* Center horizontally */\n        transition: all 0.2s ease;\n        flex-shrink: 0; /* Prevent shrinking */\n        text-align: center;\n        line-height: 1;\n        overflow: hidden;\n        box-sizing: border-box;\n      }\n\n        .item-delete-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(220, 53, 69, 0.3);\n        }\n\n        .total {\n          font-size: 1.3rem;\n          font-weight: bold;\n          text-align: center;\n          padding: 25px;\n          background: linear-gradient(135deg, var(--card-bg) 0%, var(--bg-secondary) 100%);\n          border-radius: 12px;\n          margin: 30px 0;\n          border: 1px solid var(--card-border);\n          box-shadow: var(--card-shadow);\n          color: var(--text-primary);\n        }\n\n        .page-actions {\n          text-align: center;\n          margin: 30px 0;\n        }\n\n        .btn {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          font-weight: 500;\n          margin: 0 8px;\n          transition: all 0.2s ease;\n          text-transform: none;\n        }\n\n        .btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          color: white;\n        }\n\n        .btn-secondary {\n          background: linear-gradient(135deg, var(--btn-secondary-bg) 0%, #545b62 100%);\n          color: white;\n        }\n\n        .btn-success {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          color: white;\n        }\n\n        .btn-danger {\n          background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%);\n          color: white;\n        }\n\n        .weekly-sync-indicator {\n          margin-top: 30px;\n          padding: 20px;\n          background: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.05) 100%);\n          border-radius: 12px;\n          border: 1px solid rgba(33, 150, 243, 0.3);\n          box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);\n        }\n\n        .weekly-sync-indicator h4 {\n          margin: 0 0 15px 0;\n          color: var(--primary);\n          font-size: 1.1rem;\n        }\n\n        .sync-info {\n          font-size: 0.9rem;\n          color: var(--text-secondary);\n          line-height: 1.6;\n        }\n\n        .add-category-wrapper {\n          text-align: center;\n          margin: 30px 0;\n        }\n\n        .add-category-btn {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          color: white;\n          border: none;\n          padding: 12px 24px;\n          border-radius: 8px;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .add-category-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 16px rgba(40, 167, 69, 0.3);\n        }\n\n        @media (max-width: 768px) {\n          .page-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          \n          .subcategory {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n          }\n\n          .subcategory-header {\n            display: none;\n          }\n\n          .amount-input-group {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .status-control-group {\n            width: 100%;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n\n          .date-input, .expense-name-input, .account-select {\n            width: 100%;\n          }\n        }\n      "}),(0,o.jsx)("h2",{className:"page-title",children:"\ud83d\udcb3 Monthly Expenses"}),(0,o.jsxs)("div",{className:"current-week-selector",children:[(0,o.jsx)("label",{children:(0,o.jsx)("strong",{children:"Weekly Planner Sync - Current Week:"})}),(0,o.jsxs)("select",{value:l,onChange:e=>u(parseInt(e.target.value)),className:"week-select",children:[(0,o.jsx)("option",{value:1,children:"Week 1"}),(0,o.jsx)("option",{value:2,children:"Week 2"}),(0,o.jsx)("option",{value:3,children:"Week 3"}),(0,o.jsx)("option",{value:4,children:"Week 4"}),(0,o.jsx)("option",{value:5,children:"Week 5"})]}),(0,o.jsx)("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Status changes will sync with this week in the weekly planner"})]}),(0,o.jsxs)("div",{className:"page-controls",children:[(0,o.jsx)("div",{className:"toggle-container",children:(0,o.jsxs)("label",{className:"toggle-label",children:[(0,o.jsx)("input",{type:"checkbox",checked:i,onChange:e=>s(e.target.checked)}),"Show Zero-Value Items"]})}),(0,o.jsxs)("div",{className:"action-controls",children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>{window.confirm("Reset all projected amounts to $0.00?")&&Object.keys(e.data.monthly||{}).forEach(t=>{(e.data.monthly[t]||[]).forEach((e,n)=>{e.name&&d(t,n,"projected",0)})})},children:"Reset Funding"}),(0,o.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Reset all payment and transfer statuses?")&&Object.keys(e.data.monthly||{}).forEach(t=>{(e.data.monthly[t]||[]).forEach((e,n)=>{e.name&&(d(t,n,"paid",!1),d(t,n,"transferred",!1),d(t,n,"transferStatus","none"))})})},children:"Reset Statuses"}),(0,o.jsx)("button",{className:"btn btn-success",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Data"})]})]}),(0,o.jsxs)("div",{id:"monthly-expense-categories",children:[Object.entries(e.data.monthly||{}).map(n=>{let[r,s]=n;const l=mL[r]||r,u=(t=>(e.data.monthly[t]||[]).reduce((e,t)=>e+(parseFloat(t.actual)||0),0))(r);return(0,o.jsxs)("div",{className:"category","data-category":r,children:[(0,o.jsxs)("div",{className:"category-header",children:[(0,o.jsx)("span",{className:"category-name",children:l}),(0,o.jsxs)("div",{className:"category-controls",children:[(0,o.jsx)("span",{className:"category-total",children:a(u)}),(0,o.jsx)("button",{className:"add-item-btn",onClick:()=>(n=>{const r=e.data.monthly[n]||[],a={id:`${n}-${Date.now()}`,name:"",actual:0,projected:0,date:"",accountId:"",paid:!1,transferred:!1,transferStatus:"none"};t.updateMonthlyExpense(n,a,r.length)})(r),children:"+"}),(0,o.jsx)("button",{className:"remove-category-btn",onClick:()=>(e=>{window.confirm(`Remove category "${e}"?`)&&t.removeMonthlyCategory(e)})(r),title:"Delete Category",children:"\xd7"})]})]}),(0,o.jsxs)("div",{className:"subcategory-header",children:[(0,o.jsx)("span",{className:"header-date",children:"Date"}),(0,o.jsx)("span",{className:"header-name",children:"Expense Name"}),(0,o.jsx)("span",{style:{width:"140px",textAlign:"center"},children:"Account"}),(0,o.jsx)("span",{className:"header-status",children:"Status"}),(0,o.jsxs)("div",{className:"header-amounts",children:[(0,o.jsx)("span",{children:"Projected"}),(0,o.jsx)("span",{children:"Actual"})]}),(0,o.jsx)("span",{style:{width:"35px"}})]}),(0,o.jsx)("div",{className:"subcategory-list",children:s.map((n,a)=>{var s,l;const u=parseFloat(n.actual||0),p=parseFloat(n.projected||0);return i||u>0||n.name?(0,o.jsxs)("div",{className:"subcategory","data-expense-id":n.id,children:[(0,o.jsx)("input",{type:"date",className:"date-input",value:n.date||"",onChange:e=>d(r,a,"date",e.target.value)}),(0,o.jsx)("input",{className:"expense-name-input",value:n.name||"",placeholder:"Expense name",onChange:e=>d(r,a,"name",e.target.value)}),(0,o.jsxs)("select",{className:"account-select",value:n.accountId||"",onChange:e=>d(r,a,"accountId",e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Select Account"}),(Array.isArray(e.data.accounts)?e.data.accounts:[]).map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,o.jsxs)("div",{className:"status-control-group",children:[(0,o.jsxs)("select",{className:`transfer-status-select status-${n.transferStatus||"none"}${n.paid?" status-paid":""}`,value:n.transferStatus||"none",onChange:e=>d(r,a,"transferStatus",e.target.value),children:[(0,o.jsx)("option",{value:"none",children:"--"}),(0,o.jsx)("option",{value:"quarter",children:"\xbc"}),(0,o.jsx)("option",{value:"half",children:"\xbd"}),(0,o.jsx)("option",{value:"full",children:"Full"})]}),(0,o.jsxs)("div",{className:"expense-status-checkboxes",children:[(0,o.jsxs)("label",{className:"status-checkbox-label",children:[(0,o.jsx)("input",{type:"checkbox",className:"transferred-checkbox",checked:c(n.name,"transferred"),onChange:e=>f(r,a,"transferred",e.target.checked)}),(0,o.jsx)("span",{className:"checkbox-label",children:"T"})]}),(0,o.jsxs)("label",{className:"status-checkbox-label",children:[(0,o.jsx)("input",{type:"checkbox",className:"paid-checkbox",checked:c(n.name,"paid"),onChange:e=>f(r,a,"paid",e.target.checked)}),(0,o.jsx)("span",{className:"checkbox-label",children:"P"})]})]})]}),(0,o.jsxs)("div",{className:"amount-input-group",children:[(0,o.jsx)("input",{type:"number",className:"amount-input projected-input "+(p>0?"has-value":""),value:null!==(s=n.projected)&&void 0!==s?s:"",step:"0.01",placeholder:"Projected",onChange:e=>d(r,a,"projected",e.target.value)}),(0,o.jsx)("button",{className:"copy-to-actual-btn",onClick:()=>((t,n)=>{const r=(e.data.monthly[t]||[])[n]||{};d(t,n,"actual",r.projected||0)})(r,a),title:"Copy Projected to Actual",children:"\u2192"}),(0,o.jsx)("input",{type:"number",className:"amount-input actual-input "+(u>0?"has-value":""),value:null!==(l=n.actual)&&void 0!==l?l:"",step:"0.01",placeholder:"Actual",onChange:e=>d(r,a,"actual",e.target.value)})]}),(0,o.jsx)("button",{className:"item-delete-btn",onClick:()=>((e,n)=>{t.removeMonthlyExpense(e,n)})(r,a),title:"Delete Expense",children:"\xd7"})]},a):null})})]},r)}),(0,o.jsx)("div",{className:"add-category-wrapper",children:(0,o.jsx)("button",{className:"add-category-btn",onClick:()=>{const n=prompt("Enter new category name");n&&!e.data.monthly[n]&&t.addMonthlyCategory(n)},children:"Add Category"})})]}),(0,o.jsxs)("div",{className:"page-actions",children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>(()=>{const t=aL.generatePrintContent(e.data,n,a);aL.openPrintWindow(t,"Monthly Expenses Report")})(),children:"\ud83d\udda8\ufe0f Print this Page"}),(0,o.jsx)("button",{className:"btn btn-primary",children:"\ud83d\udcc1 Export Monthly CSV"})]}),(0,o.jsxs)("div",{className:"total",children:["Total Monthly Expenses: ",a(n.getTotalMonthlyExpenses())]}),(0,o.jsxs)("div",{className:"weekly-sync-indicator",children:[(0,o.jsx)("h4",{children:"\ud83d\udcca Weekly Planner Integration"}),(0,o.jsxs)("div",{className:"sync-info",children:["\u2022 Monthly expenses automatically populate the weekly planner",(0,o.jsx)("br",{}),"\u2022 Status changes (Paid/Transferred) sync with Week ",l," in the weekly planner",(0,o.jsx)("br",{}),"\u2022 Due dates determine which week expenses are planned for",(0,o.jsx)("br",{}),"\u2022 Changes here update the weekly planner in real-time"]})]})]})},yL={"yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car Expenses","yearly-bank":"Yearly Banking","yearly-insurance":"Yearly Insurance","yearly-tax":"Yearly Tax Expenses","yearly-medical":"Yearly Medical","yearly-home":"Yearly Home/Property","yearly-personal":"Yearly Personal"},vL=()=>{const{state:e,actions:t,calculations:n,formatCurrency:a}=H(),[i,s]=(0,r.useState)(1),l=(t,n)=>{var r,a;const o=null===(r=e.data.plannerState)||void 0===r?void 0:r[t];return(null===o||void 0===o||null===(a=o[n])||void 0===a?void 0:a[i-1])||!1};(0,r.useEffect)(()=>{e.data.annual&&Object.keys(e.data.annual).length>0&&t.autoPopulatePlanner()},[e.data.annual]);const u=(n,r,a,i)=>{const o=(e.data.annual[n]||[])[r]||{},s={...o,[a]:"actual"===a||"projected"===a?parseFloat(i)||0:i,id:o.id||`${n}-${Date.now()}-${r}`};if(t.updateAnnualExpense(n,s,r),"actual"===a&&s.name){const e=s.actual/12;setTimeout(()=>{t.distributeMonthlyToWeekly(s.name,e,s.date)},100)}},c=(n,r,a,o)=>{const s=(e.data.annual[n]||[])[r]||{},l={...s,[a]:o,id:s.id||`${n}-${Date.now()}-${r}`};t.updateAnnualExpense(n,l,r),s.name&&t.updateExpenseStatus(l.id,s.name,i-1,a,o,"annual")},d=()=>n.getTotalAnnualExpenses(),f=(()=>{const t=(new Date).getMonth()+1,n={};return Object.keys(e.data.annual||{}).forEach(r=>{(e.data.annual[r]||[]).forEach(e=>{if(e.date&&e.name&&e.actual>0){const r=new Date(e.date).getMonth()+1,a=parseFloat(e.actual)||0;n[r]||(n[r]=[]),n[r].push({name:e.name,amount:a,monthsToSave:Math.max(1,(r-t+12)%12)||1})}})}),n})();return(0,o.jsxs)("div",{className:"main-content annual-expenses-page no-top-gap",children:[(0,o.jsx)("style",{children:"\n          /* Remove inherited top spacing from global/components CSS just on these pages */\n          .main-content.no-top-gap { \n            margin-top: 0 !important; \n            padding-top: 8px !important; /* tweak to 0\u201312px if you want tighter/looser */\n          }\n\n          /* Make sure the first heading doesn\u2019t add extra space */\n          .monthly-expenses-page .page-title,\n          .weekly-planner-page .page-title,\n          .annual-expenses-page .page-title {\n            margin-top: 0 !important;\n          }\n\n        .annual-expenses-page {\n          padding: 20px 0;\n          background-color: var(--bg-primary);\n          min-height: 100vh;\n        }\n\n        .page-title {\n          color: var(--text-primary);\n          margin-bottom: 20px;\n          font-size: 1.8rem;\n          font-weight: 600;\n        }\n\n        .page-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: var(--card-bg);\n          border-radius: 8px;\n          border: 1px solid var(--card-border);\n          flex-wrap: wrap;\n          gap: 15px;\n          box-shadow: var(--card-shadow);\n        }\n\n        .action-controls {\n          display: flex;\n          gap: 10px;\n          flex-wrap: wrap;\n        }\n\n        .current-week-selector {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 20px;\n          padding: 15px;\n          background: linear-gradient(135deg, rgba(40, 167, 69, 0.1), rgba(40, 167, 69, 0.05));\n          border-radius: 8px;\n          border: 1px solid rgba(40, 167, 69, 0.3);\n          box-shadow: 0 2px 4px rgba(40, 167, 69, 0.1);\n        }\n\n        .week-select {\n          padding: 8px 12px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.9rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .week-select:focus {\n          outline: none;\n          border-color: var(--success);\n          box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n        }\n\n        .yearly-note {\n          background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(251, 191, 36, 0.05));\n          border: 1px solid rgba(251, 191, 36, 0.3);\n          border-radius: 8px;\n          padding: 16px;\n          margin-bottom: 20px;\n          font-size: 0.95rem;\n          color: var(--text-primary);\n          box-shadow: 0 2px 4px rgba(251, 191, 36, 0.1);\n        }\n\n        .category {\n          margin-bottom: 24px;\n          border: 1px solid var(--card-border);\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: var(--card-shadow);\n          background: var(--card-bg);\n          transition: all 0.2s ease;\n        }\n\n        .category:hover {\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n          transform: translateY(-1px);\n        }\n\n        .category-header {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          color: white;\n          padding: 18px 20px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .category-name {\n          font-size: 1.2rem;\n          font-weight: 600;\n          text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n        }\n\n        .category-controls {\n          display: flex;\n          align-items: center;\n          gap: 20px;\n        }\n\n        .category-total {\n          font-size: 1.2rem;\n          font-weight: bold;\n          background: rgba(255, 255, 255, 0.2);\n          padding: 8px 16px;\n          border-radius: 20px;\n          backdrop-filter: blur(10px);\n        }\n\n        .add-item-btn, .remove-category-btn {\n          background-color: rgba(255,255,255,0.2);\n          border: 1px solid rgba(255,255,255,0.3);\n          color: white;\n          padding: 8px 12px;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: bold;\n          transition: all 0.2s ease;\n        }\n\n        .add-item-btn:hover, .remove-category-btn:hover {\n          background-color: rgba(255,255,255,0.3);\n          transform: translateY(-1px);\n        }\n\n        .subcategory-header {\n          display: flex;\n          background: var(--bg-secondary);\n          padding: 12px;\n          font-weight: 600;\n          font-size: 0.9rem;\n          color: var(--text-secondary);\n          border-bottom: 1px solid var(--border-light);\n        }\n\n        .header-date {\n          width: 140px;\n        }\n\n        .header-name {\n          flex: 2;\n        }\n\n        .header-status {\n          width: 140px;\n          text-align: center;\n        }\n\n        .header-amounts {\n          width: 220px;\n          display: flex;\n          justify-content: space-between;\n        }\n\n        .header-monthly {\n          width: 100px;\n          text-align: center;\n        }\n\n        .subcategory-list {\n          background-color: var(--card-bg);\n        }\n\n        .subcategory {\n          display: flex;\n          align-items: center;\n          padding: 15px 12px;\n          border-bottom: 1px solid var(--border-light);\n          gap: 12px;\n          transition: all 0.2s ease;\n          min-height: 60px;\n        }\n\n        .subcategory:hover {\n          background-color: var(--hover-bg);\n        }\n\n        .subcategory:last-child {\n          border-bottom: none;\n        }\n\n        .due-date-input {\n          width: 140px;\n          padding: 8px 10px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.85rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          transition: all 0.2s ease;\n        }\n\n        .due-date-input:focus {\n          outline: none;\n          border-color: var(--success);\n          box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n        }\n\n        .expense-name-input {\n          flex: 2;\n          padding: 8px 10px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.85rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          transition: all 0.2s ease;\n        }\n\n        .expense-name-input:focus {\n          outline: none;\n          border-color: var(--success);\n          box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n        }\n\n        .account-select {\n          width: 140px;\n          padding: 8px 10px;\n          border: 1px solid var(--input-border);\n          border-radius: 6px;\n          font-size: 0.85rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .account-select:focus {\n          outline: none;\n          border-color: var(--success);\n          box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n        }\n\n        .status-control-group {\n          width: 140px;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .annual-status-checkboxes {\n          display: flex;\n          gap: 8px;\n        }\n\n        .status-checkbox-label {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 0.8rem;\n          cursor: pointer;\n          color: var(--text-primary);\n        }\n\n        .checkbox-label {\n          font-weight: bold;\n        }\n\n        .transferred-checkbox:checked {\n          accent-color: #ffc107;\n        }\n\n        .paid-checkbox:checked {\n          accent-color: var(--success);\n        }\n\n        .frequency-dropdown {\n          width: 90px;\n          padding: 4px 6px;\n          border: 1px solid var(--input-border);\n          border-radius: 4px;\n          font-size: 0.8rem;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          cursor: pointer;\n        }\n\n        .frequency-dropdown.paid {\n          background-color: #d1ecf1;\n          border-color: #bee5eb;\n        }\n\n        .frequency-dropdown.transferred {\n          background-color: #fff3cd;\n          border-color: #ffeaa7;\n        }\n\n        .amount-input-group {\n          width: 220px;\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .amount-input {\n        width: 90px;\n        padding: 8px 10px;\n        border: 1px solid var(--input-border);\n        border-radius: 6px;\n        font-size: 0.85rem;\n        text-align: right;\n        background-color: var(--input-bg);\n        color: var(--text-primary);\n        transition: all 0.2s ease;\n        flex-shrink: 0; /* Add this line */\n        box-sizing: border-box; /* Add this line */\n      }\n\n        .amount-input:focus {\n          outline: none;\n          border-color: var(--success);\n          box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);\n        }\n\n        .amount-input.has-value {\n          background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%) !important;\n          border-color: var(--success) !important;\n          font-weight: 600 !important;\n          color: #155724 !important;\n        }\n\n        .copy-to-actual-btn {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          border: none;\n          color: white;\n          padding: 6px 10px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          transition: all 0.2s ease;\n        }\n\n        .copy-to-actual-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);\n        }\n\n        .monthly-equivalent {\n          width: 100px;\n          text-align: center;\n          font-size: 0.85rem;\n          color: var(--text-secondary);\n          font-weight: 500;\n          background: rgba(40, 167, 69, 0.05);\n          padding: 4px 8px;\n          border-radius: 4px;\n          border: 1px solid rgba(40, 167, 69, 0.2);\n        }\n\n        .item-delete-btn {\n          background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%);\n          border: none;\n          color: white;\n          padding: 6px; /* Changed from 6px 10px */\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          width: 32px; /* Reduced from 35px */\n          height: 32px; /* Added fixed height */\n          display: flex; /* Added for better centering */\n          align-items: center; /* Center vertically */\n          justify-content: center; /* Center horizontally */\n          transition: all 0.2s ease;\n          flex-shrink: 0; /* Prevent shrinking */\n          text-align: center;\n          line-height: 1;\n          overflow: hidden; /* Prevent content overflow */\n          box-sizing: border-box;\n        }\n\n        .item-delete-btn {\n          background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%);\n          border: none;\n          color: white;\n          padding: 6px; /* Changed from 6px 10px */\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 0.8rem;\n          width: 32px; /* Reduced from 35px */\n          height: 32px; /* Added fixed height */\n          display: flex; /* Added for better centering */\n          align-items: center; /* Center vertically */\n          justify-content: center; /* Center horizontally */\n          transition: all 0.2s ease;\n          flex-shrink: 0; /* Prevent shrinking */\n          text-align: center;\n          line-height: 1;\n          overflow: hidden;\n          box-sizing: border-box;\n        }\n\n        .yearly-total {\n          font-size: 1.3rem;\n          font-weight: bold;\n          text-align: center;\n          padding: 25px;\n          background: linear-gradient(135deg, var(--card-bg) 0%, var(--bg-secondary) 100%);\n          border-radius: 12px;\n          margin: 30px 0;\n          border: 1px solid var(--card-border);\n          box-shadow: var(--card-shadow);\n          color: var(--text-primary);\n        }\n\n        .page-actions {\n          text-align: center;\n          margin: 30px 0;\n        }\n\n        .btn {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 8px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          font-weight: 500;\n          margin: 0 8px;\n          transition: all 0.2s ease;\n          text-transform: none;\n        }\n\n        .btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          color: white;\n        }\n\n        .btn-secondary {\n          background: linear-gradient(135deg, var(--btn-secondary-bg) 0%, #545b62 100%);\n          color: white;\n        }\n\n        .btn-success {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          color: white;\n        }\n\n        .btn-danger {\n          background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%);\n          color: white;\n        }\n\n        .savings-plan-section {\n          margin-top: 30px;\n          padding: 20px;\n          background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(33, 150, 243, 0.05));\n          border-radius: 12px;\n          border: 1px solid rgba(33, 150, 243, 0.3);\n          box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);\n        }\n\n        .savings-plan-table {\n          width: 100%;\n          border-collapse: collapse;\n          margin-top: 15px;\n          background: var(--card-bg);\n          border-radius: 8px;\n          overflow: hidden;\n        }\n\n        .savings-plan-table th,\n        .savings-plan-table td {\n          padding: 12px 15px;\n          border: 1px solid var(--border-light);\n          text-align: left;\n        }\n\n        .savings-plan-table th {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          color: white;\n          font-weight: 600;\n        }\n\n        .savings-plan-table td {\n          color: var(--text-primary);\n        }\n\n        .weekly-sync-indicator {\n          margin-top: 30px;\n          padding: 20px;\n          background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(40, 167, 69, 0.05) 100%);\n          border-radius: 12px;\n          border: 1px solid rgba(40, 167, 69, 0.3);\n          box-shadow: 0 2px 8px rgba(40, 167, 69, 0.1);\n        }\n\n        .weekly-sync-indicator h4 {\n          margin: 0 0 15px 0;\n          color: var(--success);\n          font-size: 1.1rem;\n        }\n\n        .sync-info {\n          font-size: 0.9rem;\n          color: var(--text-secondary);\n          line-height: 1.6;\n        }\n\n        .add-category-wrapper {\n          text-align: center;\n          margin: 30px 0;\n        }\n\n        .add-category-btn {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          color: white;\n          border: none;\n          padding: 12px 24px;\n          border-radius: 8px;\n          font-size: 1rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.2s ease;\n        }\n\n        .add-category-btn:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 6px 16px rgba(40, 167, 69, 0.3);\n        }\n\n        @media (max-width: 768px) {\n          .page-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          \n          .subcategory {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 12px;\n            padding: 15px;\n          }\n\n          .subcategory-header {\n            display: none;\n          }\n\n          .amount-input-group {\n            width: 100%;\n            justify-content: space-between;\n          }\n\n          .status-control-group {\n            width: 100%;\n            flex-direction: row;\n            justify-content: space-between;\n          }\n\n          .due-date-input, .expense-name-input, .account-select {\n            width: 100%;\n          }\n\n          .monthly-equivalent {\n            width: 100%;\n            text-align: center;\n          }\n        }\n      "}),(0,o.jsx)("h2",{className:"page-title",children:"\ud83d\udcc5 Annual Expenses"}),(0,o.jsxs)("div",{className:"current-week-selector",children:[(0,o.jsx)("label",{children:(0,o.jsx)("strong",{children:"Weekly Planner Sync - Current Week:"})}),(0,o.jsxs)("select",{value:i,onChange:e=>s(parseInt(e.target.value)),className:"week-select",children:[(0,o.jsx)("option",{value:1,children:"Week 1"}),(0,o.jsx)("option",{value:2,children:"Week 2"}),(0,o.jsx)("option",{value:3,children:"Week 3"}),(0,o.jsx)("option",{value:4,children:"Week 4"}),(0,o.jsx)("option",{value:5,children:"Week 5"})]}),(0,o.jsx)("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Status changes will sync with this week in the weekly planner"})]}),(0,o.jsxs)("div",{className:"page-controls",children:[(0,o.jsx)("div",{}),(0,o.jsxs)("div",{className:"action-controls",children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>{window.confirm("Reset all projected amounts to $0.00?")&&Object.keys(e.data.annual||{}).forEach(t=>{(e.data.annual[t]||[]).forEach((e,n)=>{e.name&&u(t,n,"projected",0)})})},children:"Reset Funding"}),(0,o.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Reset all payment and transfer statuses?")&&Object.keys(e.data.annual||{}).forEach(t=>{(e.data.annual[t]||[]).forEach((e,n)=>{e.name&&(u(t,n,"paid",!1),u(t,n,"transferred",!1),u(t,n,"transferStatus","full"))})})},children:"Reset Statuses"}),(0,o.jsx)("button",{className:"btn btn-success",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Data"})]})]}),(0,o.jsx)("div",{className:"yearly-note",children:"\ud83d\udca1 Annual expenses are divided by 12 to show their monthly impact on the budget and integrated into the weekly planner."}),(0,o.jsxs)("div",{id:"annual-expense-categories",children:[Object.entries(e.data.annual||{}).map(n=>{let[r,i]=n;const s=yL[r]||r,d=(t=>(e.data.annual[t]||[]).reduce((e,t)=>e+(parseFloat(t.actual)||0),0))(r);return(0,o.jsxs)("div",{className:"category","data-category":r,children:[(0,o.jsxs)("div",{className:"category-header",children:[(0,o.jsx)("span",{className:"category-name",children:s}),(0,o.jsxs)("div",{className:"category-controls",children:[(0,o.jsxs)("span",{className:"category-total",children:[a(d),"/yr"]}),(0,o.jsx)("button",{className:"add-item-btn",onClick:()=>(n=>{const r=e.data.annual[n]||[],a={id:`${n}-${Date.now()}`,name:"",actual:0,projected:0,date:"",accountId:"",paid:!1,transferred:!1,transferStatus:"full"};t.updateAnnualExpense(n,a,r.length)})(r),children:"+"}),(0,o.jsx)("button",{className:"remove-category-btn",onClick:()=>(e=>{window.confirm(`Remove category "${e}"?`)&&t.removeAnnualCategory(e)})(r),title:"Delete Category",children:"\xd7"})]})]}),(0,o.jsxs)("div",{className:"subcategory-header",children:[(0,o.jsx)("span",{className:"header-date",children:"Due Date"}),(0,o.jsx)("span",{className:"header-name",children:"Expense Name"}),(0,o.jsx)("span",{style:{width:"140px",textAlign:"center"},children:"Account"}),(0,o.jsx)("span",{className:"header-status",children:"Status"}),(0,o.jsxs)("div",{className:"header-amounts",children:[(0,o.jsx)("span",{children:"Projected"}),(0,o.jsx)("span",{children:"Actual"})]}),(0,o.jsx)("span",{className:"header-monthly",children:"Monthly"}),(0,o.jsx)("span",{style:{width:"35px"}})]}),(0,o.jsx)("div",{className:"subcategory-list",children:i.map((n,i)=>{var s,d;const f=parseFloat(n.actual||0),p=parseFloat(n.projected||0),h=f/12;return(0,o.jsxs)("div",{className:"subcategory","data-expense-id":n.id,children:[(0,o.jsx)("input",{type:"date",className:"due-date-input",value:n.date||"",onChange:e=>u(r,i,"date",e.target.value)}),(0,o.jsx)("input",{className:"expense-name-input",value:n.name||"",placeholder:"Expense name",onChange:e=>u(r,i,"name",e.target.value)}),(0,o.jsxs)("select",{className:"account-select",value:n.accountId||"",onChange:e=>u(r,i,"accountId",e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Select Account"}),(Array.isArray(e.data.accounts)?e.data.accounts:[]).map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,o.jsxs)("div",{className:"status-control-group",children:[(0,o.jsxs)("div",{className:"annual-status-checkboxes",children:[(0,o.jsxs)("label",{className:"status-checkbox-label",children:[(0,o.jsx)("input",{type:"checkbox",className:"paid-checkbox",checked:l(n.name,"paid"),onChange:e=>c(r,i,"paid",e.target.checked)}),(0,o.jsx)("span",{className:"checkbox-label",children:"P"})]}),(0,o.jsxs)("label",{className:"status-checkbox-label",children:[(0,o.jsx)("input",{type:"checkbox",className:"transferred-checkbox",checked:l(n.name,"transferred"),onChange:e=>c(r,i,"transferred",e.target.checked)}),(0,o.jsx)("span",{className:"checkbox-label",children:"T"})]})]}),(0,o.jsxs)("select",{className:"frequency-dropdown "+(n.paid?"paid":n.transferred?"transferred":""),value:n.transferStatus||"full",onChange:e=>u(r,i,"transferStatus",e.target.value),children:[(0,o.jsx)("option",{value:"full",children:"Full"}),(0,o.jsx)("option",{value:"half",children:"\xbd"}),(0,o.jsx)("option",{value:"quarter",children:"\xbc"})]})]}),(0,o.jsxs)("div",{className:"amount-input-group",children:[(0,o.jsx)("input",{type:"number",className:"amount-input projected-input "+(p>0?"has-value":""),value:null!==(s=n.projected)&&void 0!==s?s:"",step:"0.01",placeholder:"Projected",onChange:e=>u(r,i,"projected",e.target.value)}),(0,o.jsx)("button",{className:"copy-to-actual-btn",onClick:()=>((t,n)=>{const r=(e.data.annual[t]||[])[n]||{};u(t,n,"actual",r.projected||0)})(r,i),title:"Copy Projected to Actual",children:"\u2192"}),(0,o.jsx)("input",{type:"number",className:"amount-input actual-input "+(f>0?"has-value":""),value:null!==(d=n.actual)&&void 0!==d?d:"",step:"0.01",placeholder:"Actual",onChange:e=>u(r,i,"actual",e.target.value)})]}),(0,o.jsxs)("div",{className:"monthly-equivalent",children:[a(h),"/mo"]}),(0,o.jsx)("button",{className:"item-delete-btn",onClick:()=>((e,n)=>{t.removeAnnualExpense(e,n)})(r,i),title:"Delete Expense",children:"\xd7"})]},i)})})]},r)}),(0,o.jsx)("div",{className:"add-category-wrapper",children:(0,o.jsx)("button",{className:"add-category-btn",onClick:()=>{const n=prompt("Enter new category name");n&&!e.data.annual[n]&&t.addAnnualCategory(n)},children:"Add Category"})})]}),(0,o.jsxs)("div",{className:"page-actions",children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>(()=>{const t=iL.generatePrintContent(e.data,n,a);iL.openPrintWindow(t,"Annual Expenses Report")})(),children:"\ud83d\udda8\ufe0f Print this Page"}),(0,o.jsx)("button",{className:"btn btn-primary",children:"\ud83d\udcc1 Export Annual CSV"})]}),(0,o.jsxs)("div",{className:"yearly-total",children:["Total Annual Expenses: ",a(d()),"/yr (",a(d()/12),"/mo)"]}),Object.keys(f).length>0&&(0,o.jsxs)("div",{className:"savings-plan-section",children:[(0,o.jsx)("h3",{style:{margin:"0 0 10px 0",color:"var(--primary)"},children:"\ud83d\udcca Monthly Savings Plan"}),(0,o.jsxs)("table",{className:"savings-plan-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Month"}),(0,o.jsx)("th",{children:"Expenses Due"}),(0,o.jsx)("th",{children:"Monthly Savings Needed"})]})}),(0,o.jsx)("tbody",{children:Object.entries(f).map(e=>{var t;let[n,r]=e;const i=r.reduce((e,t)=>e+t.amount,0),s=i/((null===(t=r[0])||void 0===t?void 0:t.monthsToSave)||1);return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n-1]})}),(0,o.jsx)("td",{children:r.map(e=>`${e.name} (${a(e.amount)})`).join(", ")}),(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:a(s)})})]},n)})})]})]}),(0,o.jsxs)("div",{className:"weekly-sync-indicator",children:[(0,o.jsx)("h4",{children:"\ud83d\udcca Weekly Planner Integration"}),(0,o.jsxs)("div",{className:"sync-info",children:["\u2022 Annual expenses automatically populate the weekly planner as monthly equivalents (annual \xf7 12)",(0,o.jsx)("br",{}),"\u2022 Status changes (Paid/Transferred) sync with Week ",i," in the weekly planner",(0,o.jsx)("br",{}),"\u2022 Due dates determine which week expenses are planned for",(0,o.jsx)("br",{}),"\u2022 Changes here update the weekly planner in real-time"]})]})]})},bL=()=>{const{state:e,actions:t,formatCurrency:n}=H(),[a,i]=(0,r.useState)(null),[s,l]=(0,r.useState)({name:"",bank:"",accountNumber:"",transitNumber:"",branchNumber:"",currentBalance:""}),u=Array.isArray(e.data.accounts)?e.data.accounts:[],c=(e,t)=>l(n=>({...n,[e]:"name"===e||"bank"===e?m(t):t})),d=()=>{l({name:"",bank:"",accountNumber:"",transitNumber:"",branchNumber:"",currentBalance:""}),i(null)},f=u.reduce((e,t)=>e+(parseFloat(t.currentBalance)||0),0);return(0,o.jsxs)("div",{className:"accounts-page",children:[(0,o.jsxs)("div",{className:"accounts-header",children:[(0,o.jsx)("h1",{className:"accounts-title",children:"\ud83c\udfe6 Accounts"}),(0,o.jsx)("p",{className:"accounts-description",children:"Central place to add and edit accounts used throughout the app."})]}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!s.name.trim())return void alert("Account name is required");const n={...s,name:s.name.trim(),bank:s.bank.trim(),currentBalance:parseFloat(s.currentBalance)||0,id:a||`account-${Date.now()}`},r=a?u.map(e=>e.id===a?n:e):[...u,n];t.updateAccounts(r),d()},className:"account-form",children:[(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsx)("input",{className:"form-input",placeholder:"Account Name *",value:s.name,onChange:e=>c("name",e.target.value)}),(0,o.jsx)("input",{className:"form-input",placeholder:"Bank",value:s.bank,onChange:e=>c("bank",e.target.value)}),(0,o.jsx)("input",{className:"form-input",placeholder:"Account Number",value:s.accountNumber,onChange:e=>c("accountNumber",e.target.value)}),(0,o.jsx)("input",{className:"form-input",placeholder:"Transit Number",value:s.transitNumber,onChange:e=>c("transitNumber",e.target.value)}),(0,o.jsx)("input",{className:"form-input",placeholder:"Branch Number",value:s.branchNumber,onChange:e=>c("branchNumber",e.target.value)}),(0,o.jsx)("input",{className:"form-input",placeholder:"Current Balance",type:"number",step:"0.01",value:s.currentBalance,onChange:e=>c("currentBalance",e.target.value)})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)("button",{type:"button",onClick:d,className:"btn btn-reset",children:"Reset"}),(0,o.jsx)("button",{type:"submit",className:"btn btn-primary",children:a?"Update Account":"Save Account"})]})]}),(0,o.jsxs)("div",{className:"accounts-list",children:[u.map(e=>(0,o.jsxs)("div",{className:"account-card",children:[(0,o.jsxs)("div",{className:"account-info",children:[(0,o.jsx)("h3",{className:"account-name",children:e.name}),(0,o.jsx)("p",{className:"account-bank",children:e.bank||"\u2014"})]}),(0,o.jsxs)("div",{className:"account-detail",children:[(0,o.jsx)("span",{className:"account-detail-label",children:"Balance"}),(0,o.jsx)("span",{className:"account-detail-value account-balance",children:n(parseFloat(e.currentBalance)||0)})]}),(0,o.jsxs)("div",{className:"account-detail",children:[(0,o.jsx)("span",{className:"account-detail-label",children:"Account ID"}),(0,o.jsx)("span",{className:"account-detail-value account-id",children:e.id})]}),(0,o.jsxs)("div",{className:"account-actions",children:[(0,o.jsx)("button",{onClick:()=>(e=>{var t;i(e.id),l({name:e.name||"",bank:e.bank||"",accountNumber:e.accountNumber||"",transitNumber:e.transitNumber||"",branchNumber:e.branchNumber||"",currentBalance:String(null!==(t=e.currentBalance)&&void 0!==t?t:"")})})(e),className:"btn btn-edit",children:"Edit"}),(0,o.jsx)("button",{onClick:()=>{return n=e.id,void(window.confirm("Are you sure you want to delete this account?")&&t.updateAccounts(u.filter(e=>e.id!==n)));var n},className:"btn btn-delete",children:"Delete"})]})]},e.id)),0===u.length&&(0,o.jsx)("div",{className:"empty-state",children:"No accounts yet. Add one using the form above."})]}),(0,o.jsxs)("div",{className:"total-balance",children:[(0,o.jsx)("p",{className:"total-balance-label",children:"Total Balance"}),(0,o.jsx)("p",{className:"total-balance-amount",children:n(f)})]})]})},xL=()=>{const{state:e,actions:t,calculations:n,formatCurrency:a}=H(),[i,s]=(0,r.useState)(Array(5).fill(!0)),[l,u]=(0,r.useState)(!1),c=(0,r.useCallback)(()=>{for(const t of e.data.income||[])if(t.payDates&&t.payDates.length>0){const e=t.payDates[0],[n,r,a]=e.split("-").map(e=>parseInt(e,10));return{month:r-1,year:n}}return{month:(new Date).getMonth(),year:(new Date).getFullYear()}},[e.data.income]),{month:d,year:f}=c(),p=(0,r.useCallback)(()=>{const t=[0,0,0,0,0],n=e=>{if("number"===typeof e)return e;if(!e&&0!==e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return isNaN(t)?0:t};return(e.data.income||[]).forEach(e=>{const r=Array.isArray(e.payDates)?e.payDates:[],a=n(e.projectedAmount||e.amount),i=n(e.actualAmount);if(r.length>0&&Array.isArray(e.payActuals)&&e.payActuals.length>0)r.forEach((r,i)=>{if(void 0!==e.payActuals[i]&&null!==e.payActuals[i]){const[a,o,s]=r.split("-").map(e=>parseInt(e,10));if(o-1===d&&a===f){let r;if(s>=1&&s<=7?r=0:s>=8&&s<=14?r=1:s>=15&&s<=21?r=2:s>=22&&s<=28?r=3:s>=29&&(r=4),r>=0&&r<5){const a=n(e.payActuals[i]);t[r]+=a}}}else{const[e,n,i]=r.split("-").map(e=>parseInt(e,10));if(n-1===d&&e===f){let e;i>=1&&i<=7?e=0:i>=8&&i<=14?e=1:i>=15&&i<=21?e=2:i>=22&&i<=28?e=3:i>=29&&(e=4),e>=0&&e<5&&(t[e]+=a)}}});else if("monthly-total"===e.actualMode&&i>0)if(r.length>0){const e=i/r.length;r.forEach(n=>{const[r,a,i]=n.split("-").map(e=>parseInt(e,10));if(a-1===d&&r===f){let n;i>=1&&i<=7?n=0:i>=8&&i<=14?n=1:i>=15&&i<=21?n=2:i>=22&&i<=28?n=3:i>=29&&(n=4),n>=0&&n<5&&(t[n]+=e)}})}else{const e=i/4;for(let n=0;n<4;n++)t[n]+=e}else if(i>0)if(r.length>0)r.forEach(e=>{const[n,r,a]=e.split("-").map(e=>parseInt(e,10));if(r-1===d&&n===f){let e;a>=1&&a<=7?e=0:a>=8&&a<=14?e=1:a>=15&&a<=21?e=2:a>=22&&a<=28?e=3:a>=29&&(e=4),e>=0&&e<5&&(t[e]+=i)}});else switch(e.frequency){case"weekly":for(let n=0;n<4;n++)t[n]+=i;break;case"bi-weekly":case"semi-monthly":t[0]+=i,t[2]+=i;break;case"monthly":t[0]+=i;break;default:const e=i/4;for(let n=0;n<4;n++)t[n]+=e}else if(r.length>0)r.forEach(e=>{const[n,r,i]=e.split("-").map(e=>parseInt(e,10));if(r-1===d&&n===f){let e;i>=1&&i<=7?e=0:i>=8&&i<=14?e=1:i>=15&&i<=21?e=2:i>=22&&i<=28?e=3:i>=29&&(e=4),e>=0&&e<5&&(t[e]+=a)}});else if(e.weeks&&Array.isArray(e.weeks))e.weeks.forEach((e,r)=>{r<5&&(t[r]+=n(e))});else{let n=0;switch(e.frequency){case"weekly":n=a*(52/12);break;case"bi-weekly":n=a*(26/12);break;case"monthly":default:n=a;break;case"quarterly":n=a/3;break;case"semi-annual":n=a/6;break;case"annual":n=a/12;break;case"one-time":n=0}switch(e.frequency){case"weekly":const e=n/4.33;for(let n=0;n<4;n++)t[n]+=e;break;case"bi-weekly":t[0]+=a,t[2]+=a,n>2*a&&(t[4]+=n-2*a);break;case"monthly":t[0]+=n;break;default:const r=n/4;for(let n=0;n<4;n++)t[n]+=r}}}),t},[e.data.income,d,f]);(0,r.useEffect)(()=>{t.autoPopulatePlanner()},[e.data.monthly,e.data.annual]);const h=(0,r.useCallback)(()=>{const t=[];return e.data.monthly&&Object.entries(e.data.monthly).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{e.name&&e.name.trim()&&t.push({...e,categoryKey:n,categoryName:m(n),monthlyAmount:parseFloat(e.actual||e.amount||0),type:"monthly",isAnnual:!1})})}),e.data.annual&&Object.entries(e.data.annual).forEach(e=>{let[n,r]=e;Array.isArray(r)&&r.forEach(e=>{if(e.name&&e.name.trim()){const r=parseFloat(e.actual||e.amount||0);t.push({...e,categoryKey:`annual-${n}`,categoryName:`${m(n)} (Annual)`,monthlyAmount:r/12,type:"annual",isAnnual:!0,originalAnnualAmount:r})}})}),t},[e.data.monthly,e.data.annual]),m=e=>({housing:"Housing",taxes:"Taxes",utilities:"Utilities",insurance:"Insurance",banking:"Banking",loans:"Loans",credit:"Credit",subscriptions:"Subscriptions",food:"Food",transportation:"Transportation",medical:"Medical",personal:"Personal",shopping:"Shopping",dog:"Dog",maintenance:"Maintenance",gifts:"Gifts","yearly-subs":"Yearly Subscriptions","yearly-car":"Yearly Car","yearly-bank":"Yearly Banking"}[e]||e.charAt(0).toUpperCase()+e.slice(1)),g=t=>{var n;const r=null===(n=e.data.plannerState)||void 0===n?void 0:n[t],a=(e,t,n)=>Array.isArray(e)?e.slice(0,t).concat(Array(Math.max(0,t-e.length)).fill(n)):Array(t).fill(n);return{weeks:a(null===r||void 0===r?void 0:r.weeks,5,0),transferred:a(null===r||void 0===r?void 0:r.transferred,5,!1),paid:a(null===r||void 0===r?void 0:r.paid,5,!1)}},y=(n,r)=>{const a={...e.data.plannerState,[n]:r};t.updatePlanner(a)},v=(e,t,n)=>{const r=g(e),a=[...r.weeks];a[t]=parseFloat(n)||0,y(e,{...r,weeks:a})},b=(e,n,r,a)=>{t.updateExpenseStatus(e.id,e.name,n,r,a,"weekly")},x=e=>{const{month:t,year:n}=c(),r=new Date(n,t,1+7*e),a=new Date(r);a.setDate(r.getDate()+6);const i=new Date(n,t+1,0);a>i&&a.setTime(i.getTime());const o=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`;return{start:o(r),end:o(a)}},w=(()=>{const t=[0,0,0,0,0],n=e.data.plannerState||{};return Object.entries(n).forEach(e=>{let[n,r]=e;"weeklyIncome"!==n&&"weeklyExpenses"!==n&&"monthlyTargets"!==n&&r&&r.weeks&&Array.isArray(r.weeks)&&r.weeks.forEach((e,n)=>{if(n<5){const r=parseFloat(e)||0;t[n]+=r}})}),t})(),S=p(),N=(()=>{const e=h(),t={};return e.forEach(e=>{t[e.categoryKey]||(t[e.categoryKey]={name:e.categoryName,expenses:[]}),t[e.categoryKey].expenses.push(e)}),t})();return(0,o.jsxs)("div",{className:"main-content weekly-planner-page no-top-gap",children:[(0,o.jsx)("style",{children:"\n      /* Remove inherited top spacing from global/components CSS just on these pages */\n        .main-content.no-top-gap { \n          margin-top: 0 !important; \n          padding-top: 8px !important; /* tweak to 0\u201312px if you want tighter/looser */\n        }\n\n        /* Make sure the first heading doesn't add extra space */\n        .monthly-expenses-page .page-title,\n        .weekly-planner-page .page-title,\n        .annual-expenses-page .page-title {\n          margin-top: 0 !important;\n        }\n\n        .weekly-planner-page {\n          background-color: var(--bg-primary);\n          min-height: 100vh;\n        }\n\n        .page-title {\n          color: var(--text-primary);\n          margin-bottom: 20px;\n          font-size: 1.8rem;\n          font-weight: 600;\n        }\n\n        .page-controls {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: var(--card-bg);\n          border-radius: 8px;\n          border: 1px solid var(--card-border);\n          flex-wrap: wrap;\n          gap: 15px;\n          box-shadow: var(--card-shadow);\n        }\n\n        .week-visibility-controls {\n          display: flex;\n          align-items: center;\n          gap: 15px;\n          flex-wrap: wrap;\n        }\n\n        .week-visibility-controls label {\n          display: flex;\n          align-items: center;\n          gap: 5px;\n          font-weight: 500;\n          cursor: pointer;\n          color: var(--text-primary);\n        }\n\n        .action-controls {\n          display: flex;\n          gap: 10px;\n          flex-wrap: wrap;\n        }\n\n        .planner-table-container {\n          overflow-x: auto;\n          width: 100%;\n          border-radius: 12px;\n          border: 1px solid var(--card-border);\n          box-shadow: var(--card-shadow);\n          margin-bottom: 20px;\n          background: var(--card-bg);\n        }\n\n        .planner-table {\n          width: 100%;\n          border-collapse: collapse;\n          background-color: var(--card-bg);\n          font-size: 0.85rem;\n          min-width: 1400px;\n          table-layout: fixed;\n        }\n\n        .planner-table th,\n        .planner-table td {\n          padding: 10px 8px;\n          border: 1px solid var(--border-light);\n          text-align: center;\n          vertical-align: middle;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .planner-table th {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          color: white;\n          font-weight: 600;\n          font-size: 0.8rem;\n          position: sticky;\n          top: 0;\n          z-index: 10;\n          white-space: nowrap;\n        }\n\n        .planner-table th:first-child {\n          text-align: left;\n          width: 240px;\n          min-width: 240px;\n        }\n\n        .planner-table th:nth-child(2) {\n          width: 120px;\n          min-width: 120px;\n        }\n\n        .planner-table th.week-1-col,\n        .planner-table th.week-2-col,\n        .planner-table th.week-3-col,\n        .planner-table th.week-4-col,\n        .planner-table th.week-5-col {\n          width: 140px;\n          min-width: 140px;\n        }\n\n        .planner-table th.status-header {\n          width: 70px;\n          min-width: 70px;\n          font-size: 0.7rem;\n        }\n\n        .planner-table th:last-child {\n          width: 120px;\n          min-width: 120px;\n        }\n\n        .week-date-range-inputs {\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n          margin: 4px 0;\n        }\n\n        .week-date-start,\n        .week-date-end {\n          font-size: 0.65rem !important;\n          padding: 2px 4px !important;\n          border: 1px solid rgba(255,255,255,0.5) !important;\n          border-radius: 3px !important;\n          background-color: rgba(255,255,255,0.9) !important;\n          color: #495057 !important;\n          transition: all 0.2s ease;\n          cursor: default;\n          outline: none;\n          width: 100%;\n          text-align: center;\n        }\n\n        .week-date-start:hover,\n        .week-date-end:hover {\n          background-color: white !important;\n          border-color: rgba(255,255,255,0.8) !important;\n        }\n\n        .category-row {\n          background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--hover-bg) 100%) !important;\n          font-weight: bold;\n          color: var(--text-primary);\n        }\n\n        .category-row td {\n          text-align: left !important;\n          padding-left: 15px !important;\n          font-size: 0.9rem !important;\n          background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--hover-bg) 100%) !important;\n        }\n\n        .expense-name {\n          text-align: left !important;\n          padding-left: 20px !important;\n          font-weight: 500;\n          color: var(--text-primary);\n          width: 240px;\n          max-width: 240px;\n        }\n\n        .annual-indicator {\n          font-size: 0.7rem;\n          color: var(--text-muted);\n          font-style: italic;\n          margin-top: 2px;\n        }\n\n        .planner-input-group {\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n          gap: 4px;\n          position: relative;\n          width: 100%;\n        }\n\n        .table-input {\n          width: 100%;\n          padding: 6px 8px;\n          border: 1px solid var(--input-border);\n          border-radius: 4px;\n          font-size: 0.8rem;\n          text-align: right;\n          background-color: var(--input-bg);\n          color: var(--text-primary);\n          transition: all 0.2s ease;\n          box-sizing: border-box;\n        }\n\n        .table-input:focus {\n          outline: 2px solid var(--primary);\n          outline-offset: -1px;\n          border-color: var(--primary);\n        }\n\n        .table-input.has-value {\n          background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%) !important;\n          border-color: var(--success) !important;\n          font-weight: 600 !important;\n          color: #155724 !important;\n        }\n\n        .table-input.zero-value {\n          background-color: var(--input-bg);\n          border-color: var(--input-border);\n          font-weight: normal;\n        }\n\n        .planner-action-select {\n          font-size: 0.7rem;\n          padding: 2px 4px;\n          border: 1px solid var(--input-border);\n          border-radius: 3px;\n          background-color: var(--bg-secondary);\n          color: var(--text-primary);\n          cursor: pointer;\n          width: 100%;\n          box-sizing: border-box;\n        }\n\n        .planner-action-select:hover {\n          background-color: var(--hover-bg);\n        }\n\n        .status-cell {\n          text-align: center !important;\n          padding: 6px 4px !important;\n          width: 70px;\n          max-width: 70px;\n          vertical-align: middle;\n        }\n\n        .status-checkboxes {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 4px;\n          width: 100%;\n        }\n\n        .transferred-checkbox,\n        .paid-checkbox {\n          margin: 1px;\n          transform: scale(1.1);\n          cursor: pointer;\n        }\n\n        .transferred-checkbox:checked {\n          accent-color: #ffc107;\n        }\n\n        .paid-checkbox:checked {\n          accent-color: var(--success);\n        }\n\n        .remaining-amount {\n          font-weight: 600 !important;\n          text-align: right !important;\n          padding-right: 12px !important;\n          color: var(--text-primary);\n          width: 120px;\n          max-width: 120px;\n        }\n\n        .table-footer {\n          background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--hover-bg) 100%);\n          font-weight: bold;\n          border-top: 2px solid var(--primary);\n        }\n\n        .table-footer td {\n          padding: 12px 8px;\n          font-size: 0.8rem;\n          vertical-align: top;\n          color: var(--text-primary);\n        }\n\n        .table-footer .cash-flow-positive {\n          color: var(--success);\n        }\n\n        .table-footer .cash-flow-negative {\n          color: var(--danger);\n        }\n\n        .cash-flow-analysis {\n          margin-top: 20px;\n          padding: 20px;\n          background: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.05) 100%);\n          border-radius: 12px;\n          border: 1px solid rgba(33, 150, 243, 0.3);\n          box-shadow: 0 2px 8px rgba(33, 150, 243, 0.1);\n        }\n\n        .cash-flow-analysis h3 {\n          margin-bottom: 15px;\n          color: var(--text-primary);\n          font-size: 1.2rem;\n          font-weight: 600;\n        }\n\n        .cash-flow-grid {\n          display: grid;\n          grid-template-columns: repeat(5, 1fr);\n          gap: 15px;\n        }\n\n        .cash-flow-grid > div {\n          text-align: center;\n          padding: 15px 12px;\n          background: rgba(255,255,255,0.8);\n          border-radius: 8px;\n          border: 1px solid rgba(33, 150, 243, 0.2);\n          transition: all 0.2s ease;\n        }\n\n        .cash-flow-grid > div:hover {\n          background: rgba(255,255,255,0.95);\n          transform: translateY(-1px);\n        }\n\n        .week-label {\n          font-size: 0.9rem;\n          color: var(--text-secondary);\n          margin-bottom: 5px;\n          font-weight: 500;\n        }\n\n        .balance-amount {\n          font-size: 1.2rem;\n          font-weight: bold;\n        }\n\n        .balance-amount.positive {\n          color: var(--success);\n        }\n\n        .balance-amount.negative {\n          color: var(--danger);\n        }\n\n        .hidden {\n          display: none !important;\n        }\n\n        .income-section {\n          margin-bottom: 20px;\n          padding: 16px;\n          background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(40, 167, 69, 0.05) 100%);\n          border-radius: 8px;\n          border: 1px solid rgba(40, 167, 69, 0.3);\n          box-shadow: 0 2px 8px rgba(40, 167, 69, 0.1);\n        }\n\n        .income-summary {\n          display: grid;\n          grid-template-columns: repeat(5, 1fr);\n          gap: 12px;\n          margin-top: 12px;\n        }\n\n        .income-week {\n          text-align: center;\n          padding: 12px 8px;\n          background: rgba(255,255,255,0.8);\n          border-radius: 6px;\n          border: 1px solid rgba(40, 167, 69, 0.2);\n          transition: all 0.2s ease;\n        }\n\n        .income-week:hover {\n          background: rgba(255,255,255,0.95);\n          transform: translateY(-1px);\n        }\n\n        .btn {\n          padding: 8px 16px;\n          border: none;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 0.9rem;\n          font-weight: 500;\n          transition: all 0.2s ease;\n          text-transform: none;\n        }\n\n        .btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);\n          color: white;\n        }\n\n        .btn-secondary {\n          background: linear-gradient(135deg, var(--btn-secondary-bg) 0%, #545b62 100%);\n          color: white;\n        }\n\n        .btn-success {\n          background: linear-gradient(135deg, var(--success) 0%, #1e7e34 100%);\n          color: white;\n        }\n\n        .btn-success.active {\n          background: linear-gradient(135deg, #155724 0%, #0d4521 100%);\n        }\n\n        .btn-danger {\n          background: linear-gradient(135deg, var(--danger) 0%, #c82333 100%);\n          color: white;\n        }\n\n        .btn-sm {\n          padding: 4px 8px;\n          font-size: 0.75rem;\n        }\n\n        .income-indicator {\n          font-size: 0.75rem;\n          color: #155724;\n          margin-top: 2px;\n          font-style: italic;\n        }\n\n        .actual-income {\n          border-left: 3px solid var(--success);\n        }\n\n        .projected-income {\n          border-left: 3px solid #ffc107;\n        }\n\n        @media (max-width: 768px) {\n          .page-controls {\n            flex-direction: column;\n            align-items: stretch;\n          }\n          \n          .cash-flow-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .income-summary {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .planner-table {\n            min-width: 1000px;\n            font-size: 0.75rem;\n          }\n\n          .planner-table th,\n          .planner-table td {\n            padding: 6px 4px;\n          }\n\n          .table-input {\n            font-size: 0.7rem;\n            padding: 4px 6px;\n          }\n\n          .planner-action-select {\n            font-size: 0.65rem;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .cash-flow-grid,\n          .income-summary {\n            grid-template-columns: 1fr;\n            gap: 8px;\n          }\n\n          .planner-table {\n            min-width: 800px;\n            font-size: 0.7rem;\n          }\n\n          .btn {\n            font-size: 0.8rem;\n            padding: 6px 12px;\n          }\n        }\n      "}),(0,o.jsx)("h2",{className:"page-title",children:"\ud83d\udccb Weekly Budget Planner"}),(0,o.jsxs)("div",{className:"income-section",children:[(0,o.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#155724"},children:"\ud83d\udcb5 Weekly Income (Actual vs Projected)"}),(0,o.jsxs)("p",{style:{margin:"0 0 10px 0",fontSize:"0.9rem",color:"#155724"},children:["\u2728 ",(0,o.jsx)("strong",{children:"Smart Income Tracking:"})," Shows actual amounts when available, falls back to projected amounts as placeholders"]}),(0,o.jsx)("div",{className:"income-summary",children:S.map((t,n)=>{const r=(e.data.income||[]).some(e=>{const t=Array.isArray(e.payDates)?e.payDates:[],r=Array.isArray(e.payActuals)?e.payActuals:[];return t.some((t,a)=>{const[i,o,s]=t.split("-").map(e=>parseInt(e,10));if(o-1===d&&i===f){let t;return s>=1&&s<=7?t=0:s>=8&&s<=14?t=1:s>=15&&s<=21?t=2:s>=22&&s<=28?t=3:s>=29&&(t=4),t===n&&(void 0!==r[a]&&null!==r[a]||e.actualAmount>0)}return!1})});return(0,o.jsxs)("div",{className:`income-week ${i[n]?"":"hidden"} ${r?"actual-income":"projected-income"}`,children:[(0,o.jsxs)("div",{className:"week-label",children:["Week ",n+1]}),(0,o.jsx)("div",{style:{fontWeight:"bold",color:"#155724"},children:a(t)}),(0,o.jsx)("div",{className:"income-indicator",children:r?"\u2705 Actual":"\ud83d\udcca Projected"})]},n)})})]}),(0,o.jsxs)("div",{className:"page-controls",children:[(0,o.jsxs)("div",{className:"week-visibility-controls",children:[(0,o.jsx)("span",{style:{fontWeight:"600"},children:"Show Weeks:"}),Array.from({length:5},(e,t)=>(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"checkbox",checked:i[t],onChange:()=>(e=>{const t=[...i];t[e]=!t[e],s(t)})(t)}),t+1]},t))]}),(0,o.jsxs)("div",{className:"action-controls",children:[(0,o.jsx)("button",{className:"btn "+(l?"btn-success active":"btn-secondary"),onClick:()=>{u(!l)},title:l?"Currently hiding rows with $0.00 values. Click to show all rows.":"Currently showing all rows. Click to hide rows with $0.00 values.",children:l?"\ud83d\udc41\ufe0f Show $0 Rows":"\ud83d\udeab Hide $0 Rows"}),(0,o.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!window.confirm("Auto-distribute all expenses evenly across weeks? This will overwrite current weekly planning."))return;h().forEach(e=>{const t=e.monthlyAmount/5,n=g(e.name);y(e.name,{...n,weeks:Array(5).fill(t)})})},children:"Auto-Distribute"}),(0,o.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>{if(!window.confirm("Are you sure you want to reset all weekly planned amounts to zero?"))return;const n=e.data.plannerState||{},r={...n};Object.entries(n).forEach(e=>{let[t,n]=e;"weeklyIncome"!==t&&"weeklyExpenses"!==t&&"monthlyTargets"!==t&&n&&n.weeks&&Array.isArray(n.weeks)&&(r[t]={...n,weeks:Array(5).fill(0)})}),t.updatePlanner(r)},children:"Reset All Weeks"}),(0,o.jsx)("button",{className:"btn btn-success",onClick:()=>window.location.reload(),children:"\ud83d\udd04 Refresh Data"}),(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>(()=>{const t=rL.generatePrintContent(e.data,n,a);rL.openPrintWindow(t,"Weekly Budget Planner")})(),children:"\ud83d\udda8\ufe0f Print this Page"})]})]}),(0,o.jsxs)("div",{className:"planner-table-container",children:[l&&(0,o.jsx)("div",{style:{padding:"8px 15px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderBottom:"none",borderRadius:"8px 8px 0 0",fontSize:"0.9rem",color:"#856404"},children:'\u2139\ufe0f Filtering: Rows with $0.00 values are hidden. Click "Show $0 Rows" to see all expenses.'}),(0,o.jsxs)("table",{className:"planner-table",id:"planner-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:{width:"240px"},children:"Expense Category"}),(0,o.jsx)("th",{style:{width:"120px"},children:"Monthly Actual"}),Array.from({length:5},(n,a)=>(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("th",{className:`week-${a+1}-col ${i[a]?"":"hidden"}`,style:{width:"140px"},children:[(0,o.jsxs)("div",{children:["Week ",a+1]}),(0,o.jsxs)("div",{className:"week-date-range-inputs",children:[(0,o.jsx)("input",{type:"date",className:"week-date-start",value:x(a).start,readOnly:!0}),(0,o.jsx)("input",{type:"date",className:"week-date-end",value:x(a).end,readOnly:!0})]}),(0,o.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>(n=>{if(!window.confirm(`Are you sure you want to reset all Week ${n+1} planned amounts to zero?`))return;const r=e.data.plannerState||{},a={...r};Object.entries(r).forEach(e=>{let[t,r]=e;if("weeklyIncome"!==t&&"weeklyExpenses"!==t&&"monthlyTargets"!==t&&r&&r.weeks&&Array.isArray(r.weeks)){const e=[...r.weeks];e[n]=0,a[t]={...r,weeks:e}}}),t.updatePlanner(a)})(a),children:"Reset"})]}),(0,o.jsx)("th",{className:`week-${a+1}-status-col status-header ${i[a]?"":"hidden"}`,style:{width:"70px"},children:"Status"})]},a)),(0,o.jsx)("th",{style:{width:"120px"},children:"Remaining Balance"})]})}),(0,o.jsx)("tbody",{children:0===Object.keys(N).length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"13",style:{textAlign:"center",padding:"20px",color:"var(--text-muted)"},children:"No expense data found. Please add expenses in the Monthly and Annual Expenses tabs first."})}):Object.entries(N).map(e=>{let[t,n]=e;const s=n.expenses.filter(e=>!l||!(e=>{const t=g(e.name),n=e.monthlyAmount||0,r=(Array.isArray(t.weeks)?t.weeks:[]).reduce((e,t)=>e+(parseFloat(t)||0),0);return 0===n&&0===r})(e));return 0===s.length?null:(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)("tr",{className:"category-row",children:(0,o.jsx)("td",{colSpan:"13",children:n.name})}),s.map((e,n)=>{const s=g(e.name),l=((e,t)=>{const n=Number(null===e||void 0===e?void 0:e.monthlyAmount)||0,r=(Array.isArray(t)?t:[]).reduce((e,t)=>e+(Number(t)||0),0);return n-r})(e,s.weeks);return(0,o.jsxs)("tr",{"data-expense-id":e.id,children:[(0,o.jsxs)("td",{className:"expense-name",children:[e.name,e.isAnnual&&(0,o.jsxs)("div",{className:"annual-indicator",children:["(Annual: ",a(e.originalAnnualAmount),")"]})]}),(0,o.jsx)("td",{style:{textAlign:"center"},children:(0,o.jsx)("strong",{children:a(e.monthlyAmount)})}),Array.from({length:5},(t,n)=>(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)("td",{className:`week-${n+1}-col ${i[n]?"":"hidden"}`,children:(0,o.jsxs)("div",{className:"planner-input-group",children:[(0,o.jsx)("input",{type:"number",className:"table-input "+(Number(s.weeks[n]||0)>0?"has-value":"zero-value"),value:Number(s.weeks[n]||0).toFixed(2),step:"0.01",onChange:t=>v(e.name,n,t.target.value)}),(0,o.jsxs)("select",{className:"planner-action-select",onChange:t=>{((e,t,n,r)=>{let a=0;switch(n){case"reset":a=0;break;case"full":a=r;break;case"half":a=r/2;break;case"quarter":a=r/4;break;default:return}v(e,t,a)})(e.name,n,t.target.value,e.monthlyAmount),t.target.value=""},children:[(0,o.jsx)("option",{value:"",children:"Quick Fill"}),(0,o.jsx)("option",{value:"reset",children:"Reset to $0"}),(0,o.jsxs)("option",{value:"full",children:["Full Amount (",a(e.monthlyAmount),")"]}),(0,o.jsxs)("option",{value:"half",children:["Half Amount (",a(e.monthlyAmount/2),")"]}),(0,o.jsxs)("option",{value:"quarter",children:["Quarter Amount (",a(e.monthlyAmount/4),")"]})]})]})}),(0,o.jsx)("td",{className:`week-${n+1}-status-col status-cell ${i[n]?"":"hidden"}`,children:(0,o.jsxs)("div",{className:"status-checkboxes",children:[(0,o.jsx)("input",{type:"checkbox",className:"transferred-checkbox",title:"Transferred",checked:s.transferred[n],onChange:t=>b(e,n,"transferred",t.target.checked)}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"checkbox",className:"paid-checkbox",title:"Paid",checked:s.paid[n],onChange:t=>b(e,n,"paid",t.target.checked)})]})})]},n)),(0,o.jsx)("td",{className:"remaining-amount",style:{fontWeight:"bold",color:Math.abs(l)<.001?"var(--text-primary)":"var(--danger)"},children:a(l)})]},`${t}-${n}`)})]},t)})}),(0,o.jsx)("tfoot",{children:(0,o.jsxs)("tr",{className:"table-footer",children:[(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:"Weekly Totals"})}),(0,o.jsx)("td",{}),Array.from({length:5},(e,t)=>(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)("td",{className:`week-${t+1}-col ${i[t]?"":"hidden"}`,children:[(0,o.jsx)("div",{style:{fontSize:"0.75rem",marginBottom:"4px"},children:(0,o.jsxs)("strong",{children:["Income: ",a(S[t]||0)]})}),(0,o.jsx)("div",{style:{fontSize:"0.75rem",marginBottom:"4px"},children:(0,o.jsxs)("strong",{children:["Expenses: ",a(w[t]||0)]})}),(0,o.jsxs)("div",{style:{fontSize:"0.8rem",fontWeight:"bold",color:(S[t]||0)-(w[t]||0)>=0?"var(--success)":"var(--danger)",borderTop:"1px solid var(--border-light)",paddingTop:"4px"},children:["Cash Flow: ",a((S[t]||0)-(w[t]||0))]})]}),(0,o.jsx)("td",{className:`week-${t+1}-status-col ${i[t]?"":"hidden"}`})]},t)),(0,o.jsxs)("td",{style:{fontSize:"0.8rem"},children:[(0,o.jsx)("div",{children:(0,o.jsxs)("strong",{children:["Total Income: ",a(S.reduce((e,t)=>e+(t||0),0))]})}),(0,o.jsx)("div",{children:(0,o.jsxs)("strong",{children:["Total Expenses: ",a(w.reduce((e,t)=>e+(t||0),0))]})}),(0,o.jsxs)("div",{style:{fontWeight:"bold",color:S.reduce((e,t)=>e+(t||0),0)-w.reduce((e,t)=>e+(t||0),0)>=0?"var(--success)":"var(--danger)",borderTop:"1px solid var(--border-light)",paddingTop:"4px"},children:["Net Cash Flow: ",a(S.reduce((e,t)=>e+(t||0),0)-w.reduce((e,t)=>e+(t||0),0))]})]})]})})]})]}),(0,o.jsxs)("div",{className:"cash-flow-analysis",children:[(0,o.jsx)("h3",{children:"\ud83d\udcca Weekly Cash Flow Summary (Actual vs Projected Income)"}),(0,o.jsx)("div",{className:"cash-flow-grid",children:Array.from({length:5},(e,t)=>{const n=S[t]||0,r=w[t]||0,s=n-r;return(0,o.jsxs)("div",{className:`week-${t+1}-col ${i[t]?"":"hidden"}`,children:[(0,o.jsx)("div",{className:"week-label",children:(0,o.jsxs)("strong",{children:["Week ",t+1]})}),(0,o.jsxs)("div",{className:"week-label",style:{color:"var(--success)",fontWeight:"600"},children:["\ud83d\udcc8 Income: ",a(n)]}),(0,o.jsxs)("div",{className:"week-label",style:{color:"var(--danger)",fontWeight:"600"},children:["\ud83d\udcc9 Expenses: ",a(r)]}),(0,o.jsxs)("div",{style:{fontSize:"1.1rem",fontWeight:"bold",color:s>=0?"var(--success)":"var(--danger)",borderTop:"2px solid var(--border-light)",paddingTop:"8px",marginTop:"8px"},children:["\ud83d\udcb0 Cash Flow: ",a(s)]}),s<0&&(0,o.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--danger)",marginTop:"4px",fontStyle:"italic"},children:"\u26a0\ufe0f Deficit"}),s>0&&(0,o.jsx)("div",{style:{fontSize:"0.8rem",color:"var(--success)",marginTop:"4px",fontStyle:"italic"},children:"\u2705 Surplus"})]},t)})}),(0,o.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"8px",border:"2px solid var(--primary)",textAlign:"center"},children:[(0,o.jsx)("h4",{style:{margin:"0 0 10px 0",color:"var(--primary)"},children:"\ud83d\udccb Monthly Summary"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Total Monthly Income"}),(0,o.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--success)"},children:a(S.reduce((e,t)=>e+(t||0),0))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Total Planned Expenses"}),(0,o.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--danger)"},children:a(w.reduce((e,t)=>e+(t||0),0))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Net Monthly Cash Flow"}),(0,o.jsx)("div",{style:{fontSize:"1.3rem",fontWeight:"bold",color:S.reduce((e,t)=>e+(t||0),0)-w.reduce((e,t)=>e+(t||0),0)>=0?"var(--success)":"var(--danger)"},children:a(S.reduce((e,t)=>e+(t||0),0)-w.reduce((e,t)=>e+(t||0),0))})]})]})]})]})]})},wL=e=>{if("number"===typeof e)return e;if(null===e||void 0===e)return 0;const t=parseFloat(String(e).replace(/[^0-9.-]/g,""));return Number.isFinite(t)?t:0},SL=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"projected";const r=Array.isArray(e.payDates)&&e.payDates.length>0,a=wL(null!==(t=e.projectedAmount)&&void 0!==t?t:e.amount),i=wL(e.actualAmount);if("actual"===n){if(Array.isArray(e.payActuals)&&e.payActuals.length>0)return e.payActuals.reduce((e,t)=>e+(wL(t)||0),0);if("monthly-total"===e.actualMode)return i||0;switch(e.frequency){case"weekly":return r?(i||0)*e.payDates.length:(i||0)*(52/12);case"bi-weekly":return r?(i||0)*e.payDates.length:(i||0)*(26/12);case"semi-monthly":return r?(i||0)*e.payDates.length:2*(i||0);case"monthly":default:return i||0;case"quarterly":return(i||0)/3;case"semi-annual":return(i||0)/6;case"annual":return(i||0)/12;case"one-time":return 0}}switch(e.frequency){case"weekly":return r?(a||0)*e.payDates.length:(a||0)*(52/12);case"bi-weekly":return r?(a||0)*e.payDates.length:(a||0)*(26/12);case"semi-monthly":return r?(a||0)*e.payDates.length:2*(a||0);case"monthly":default:return a||0;case"quarterly":return(a||0)/3;case"semi-annual":return(a||0)/6;case"annual":return(a||0)/12;case"one-time":return 0}},NL={currency:e=>{try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(e||0)}catch{return`$${(e||0).toFixed(2)}`}},baseStyles:"\n    <style>\n      * { box-sizing: border-box; }\n      body { \n        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; \n        padding: 24px; \n        color: #111827;\n        line-height: 1.3;\n      }\n      h1 { margin: 0 0 12px; font-size: 20px; }\n      h2 { margin: 16px 0 8px; font-size: 16px; }\n      h3 { margin: 12px 0 6px; font-size: 14px; }\n      h4 { margin: 10px 0 6px; font-size: 13px; }\n      .kpi { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap: 10px; margin: 10px 0 16px; }\n      .tile { border: 1px solid #e5e7eb; border-radius: 6px; padding: 10px; }\n      .tile .label { color: #6b7280; font-size: 11px; margin-bottom: 4px; }\n      .tile .value { font-weight: 700; font-size: 14px; }\n      table { width: 100%; border-collapse: collapse; margin: 6px 0 16px; }\n      th, td { border: 1px solid #e5e7eb; padding: 6px 8px; text-align: left; font-size: 12px; }\n      th { background: #f8fafc; font-weight: 600; }\n      td.amount { text-align: right; font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }\n      tr.total-row td { background: #f9fafb; font-weight: 700; }\n      .positive { color: #059669; }\n      .negative { color: #dc2626; }\n      .muted { color: #6b7280; }\n      @media print {\n        @page { \n          size: Letter; \n          margin: 0.6in;\n        }\n        body { \n          padding: 0; \n          font-size: 10px;\n          line-height: 1.2;\n        }\n        h1 { font-size: 16px; page-break-after: avoid; margin-bottom: 8px; }\n        h2 { font-size: 14px; page-break-after: avoid; margin: 12px 0 6px 0; }\n        h3 { font-size: 12px; page-break-after: avoid; margin: 8px 0 4px 0; }\n        table { page-break-inside: auto; font-size: 8px; margin: 6px 0 10px 0; }\n        th, td { padding: 3px 5px; font-size: 8px; }\n        .kpi { grid-template-columns: repeat(4, 1fr); gap: 6px; margin: 8px 0 10px 0; }\n        .tile { padding: 6px; }\n        .tile .label { font-size: 8px; margin-bottom: 2px; }\n        .tile .value { font-size: 10px; }\n      }\n    </style>\n  ",wrap(e,t){const n=t.includes('id="pieChart"')||t.includes('id="barChart"')?"":"<script>window.onload = () => setTimeout(() => window.print(), 800);<\/script>";return`\n      <!doctype html>\n      <html>\n        <head>\n          <meta charset="utf-8" />\n          <title>${e}</title>\n          ${this.baseStyles}\n        </head>\n        <body>\n          <h1>${e}</h1>\n          ${t}\n          ${n}\n        </body>\n      </html>\n    `},open(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Report";const n=window.open("","_blank","width=1200,height=800");n&&(n.document.open(),n.document.write(this.wrap(t,e)),n.document.close())},sectionFinancialSummary(e){let{formatCurrency:t,projectedIncome:n,actualIncome:r,totalMonthlyExpenses:a,monthlyAnnualImpact:i,totalAnnualExpenses:o}=e;const s=n-a-i,l=r-a-i,u=n>0?s/n*100:0,c=r>0?l/r*100:0;return`\n      <h2>Financial Summary</h2>\n      <div class="kpi">\n        <div class="tile"><div class="label">Projected Monthly Income</div><div class="value">${t(n)}</div></div>\n        <div class="tile"><div class="label">Actual Month-to-Date Income</div><div class="value">${t(r)}</div></div>\n        <div class="tile"><div class="label">Monthly Expenses</div><div class="value">${t(a)}</div></div>\n        <div class="tile"><div class="label">Monthly Portion of Annual</div><div class="value">${t(i)}</div></div>\n        <div class="tile"><div class="label">Projected Net / mo</div><div class="value ${s>=0?"positive":"negative"}">${t(s)}</div></div>\n        <div class="tile"><div class="label">Actual Net / mo</div><div class="value ${l>=0?"positive":"negative"}">${t(l)}</div></div>\n        <div class="tile"><div class="label">Projected Savings Rate</div><div class="value">${u.toFixed(1)}%</div></div>\n        <div class="tile"><div class="label">Actual Savings Rate</div><div class="value">${c.toFixed(1)}%</div></div>\n        <div class="tile"><div class="label">Total Annual Expenses</div><div class="value">${t(o)}</div></div>\n      </div>\n    `},sectionIncomeDetails(e){let{formatCurrency:t,income:n}=e;const r=(n||[]).reduce((e,t)=>e+SL(t,"projected"),0),a=(n||[]).reduce((e,t)=>e+SL(t,"actual"),0);let i='\n      <h2>Income Details</h2>\n      <table>\n        <thead>\n          <tr>\n            <th style="width:35%;">Income Source</th>\n            <th style="width:15%;">Projected (mo.)</th>\n            <th style="width:15%;">Actual (mo.)</th>\n            <th style="width:15%;">Variance</th>\n            <th style="width:10%;">% of Projected</th>\n            <th style="width:10%;">Annual (proj.)</th>\n          </tr>\n        </thead>\n        <tbody>\n    ';return(n||[]).forEach(e=>{const n=SL(e,"projected"),a=SL(e,"actual"),o=a-n,s=r>0?n/r*100:0;i+=`\n        <tr>\n          <td><strong>${e.name||"Untitled"}</strong> <span class="muted">(${e.frequency||"monthly"})</span></td>\n          <td class="amount">${t(n)}</td>\n          <td class="amount">${t(a)}</td>\n          <td class="amount ${o>=0?"positive":"negative"}">${t(o)}</td>\n          <td class="amount">${s.toFixed(1)}%</td>\n          <td class="amount">${t(12*n)}</td>\n        </tr>\n      `}),i+=`\n      <tr class="total-row">\n        <td>Totals</td>\n        <td class="amount">${t(r)}</td>\n        <td class="amount">${t(a)}</td>\n        <td class="amount">${t(a-r)}</td>\n        <td class="amount">100.0%</td>\n        <td class="amount">${t(12*r)}</td>\n      </tr>\n      </tbody>\n      </table>\n    `,i},sectionExpenseStatus(e){let{formatCurrency:t,monthly:n,annual:r}=e;const a=[];Object.entries(n||{}).forEach(e=>{let[t,n]=e;(n||[]).forEach(e=>{var n,r;a.push({category:t,name:e.name||"Untitled",freq:"Monthly",amount:wL(null!==(n=null!==(r=e.actual)&&void 0!==r?r:e.amount)&&void 0!==n?n:0),account:e.accountId||"",date:e.date||"",paid:!!e.paid,transferred:!!e.transferred})})}),Object.entries(r||{}).forEach(e=>{let[t,n]=e;(n||[]).forEach(e=>{var n,r;const i=wL(null!==(n=null!==(r=e.actual)&&void 0!==r?r:e.amount)&&void 0!==n?n:0)/12;a.push({category:t,name:e.name||"Untitled",freq:e.frequency||"Annual",amount:i,account:e.accountId||"",date:e.date||e.dueDate||"",paid:!!e.paid,transferred:!!e.transferred})})});let i='\n      <h2>Expense Status (Monthly view)</h2>\n      <table>\n        <thead>\n          <tr>\n            <th>Category</th>\n            <th>Expense</th>\n            <th>Freq.</th>\n            <th>Account</th>\n            <th>Date</th>\n            <th style="width:12%;">Paid</th>\n            <th style="width:12%;">Transferred</th>\n            <th class="amount">Monthly Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n    ',o=0;return a.forEach(e=>{o+=e.amount||0,i+=`\n        <tr>\n          <td>${e.category}</td>\n          <td>${e.name}</td>\n          <td>${e.freq}</td>\n          <td>${e.account||"-"}</td>\n          <td>${e.date?new Date(e.date).toLocaleDateString():"-"}</td>\n          <td>${e.paid?"Yes":"No"}</td>\n          <td>${e.transferred?"Yes":"No"}</td>\n          <td class="amount">${t(e.amount||0)}</td>\n        </tr>\n      `}),i+=`\n      <tr class="total-row">\n        <td colspan="7">Total</td>\n        <td class="amount">${t(o)}</td>\n      </tr>\n      </tbody>\n      </table>\n    `,i},sectionExpenseCategories(e){let{formatCurrency:t,monthly:n,annual:r}=e;const a=Object.entries(n||{}).map(e=>{let[t,n]=e;return{category:t,total:(n||[]).reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0),count:(n||[]).length,monthlyImpact:(n||[]).reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0),items:n||[]}}),i=Object.entries(r||{}).map(e=>{let[t,n]=e;return{category:t,total:(n||[]).reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0),count:(n||[]).length,monthlyImpact:(n||[]).reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0)/12,items:n||[]}}),o={};a.forEach(e=>{o[e.category]={monthlyDirect:e.monthlyImpact,monthlyFromAnnual:0,totalMonthlyImpact:e.monthlyImpact,monthlyItems:e.items,annualItems:[]}}),i.forEach(e=>{o[e.category]?(o[e.category].monthlyFromAnnual=e.monthlyImpact,o[e.category].totalMonthlyImpact+=e.monthlyImpact,o[e.category].annualItems=e.items):o[e.category]={monthlyDirect:0,monthlyFromAnnual:e.monthlyImpact,totalMonthlyImpact:e.monthlyImpact,monthlyItems:[],annualItems:e.items}});const s=Object.entries(o).sort((e,t)=>t[1].totalMonthlyImpact-e[1].totalMonthlyImpact),l=s.reduce((e,t)=>{let[,n]=t;return e+n.totalMonthlyImpact},0),u=s.map(e=>{let[t,n]=e;return{category:t,amount:n.totalMonthlyImpact,percentage:l>0?n.totalMonthlyImpact/l*100:0}}),c=JSON.stringify(u.map(e=>e.category)),d=JSON.stringify(u.map(e=>e.amount)),f=JSON.stringify(u.map(e=>e.percentage)),p=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1","#14b8a6","#f43f5e","#a855f7","#22c55e","#eab308"],h=JSON.stringify(p),m=JSON.stringify(p.map(e=>e+"dd"));return`\n      <h2>Expense Categories Analysis</h2>\n      \n      <div class="kpi">\n        <div class="tile">\n          <div class="label">Total Monthly Impact</div>\n          <div class="value">${t(l)}</div>\n        </div>\n        <div class="tile">\n          <div class="label">Total Categories</div>\n          <div class="value">${s.length}</div>\n        </div>\n        <div class="tile">\n          <div class="label">Largest Category</div>\n          <div class="value">${s.length>0?s[0][0]:"N/A"}</div>\n        </div>\n        <div class="tile">\n          <div class="label">Annual Equivalent</div>\n          <div class="value">${t(12*l)}</div>\n        </div>\n      </div>\n\n      <div class="charts-container">\n        <div class="chart-card">\n          <h3>Expense Distribution</h3>\n          <div class="chart-wrapper pie-chart-wrapper">\n            <canvas id="pieChart"></canvas>\n          </div>\n        </div>\n        <div class="chart-card">\n          <h3>Monthly Impact by Category</h3>\n          <div class="chart-wrapper bar-chart-wrapper">\n            <canvas id="barChart"></canvas>\n          </div>\n        </div>\n      </div>\n\n      <h3>Category Breakdown</h3>\n      <table>\n        <thead>\n          <tr>\n            <th style="width: 25%;">Category</th>\n            <th style="width: 15%;">Monthly Direct</th>\n            <th style="width: 15%;">Monthly from Annual</th>\n            <th style="width: 15%;">Total Monthly Impact</th>\n            <th style="width: 10%;">% of Total</th>\n            <th style="width: 10%;">Items (Mo.)</th>\n            <th style="width: 10%;">Items (Ann.)</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${s.map(e=>{let[n,r]=e;const a=l>0?r.totalMonthlyImpact/l*100:0;return`\n              <tr>\n                <td><strong>${n}</strong></td>\n                <td class="amount">${t(r.monthlyDirect)}</td>\n                <td class="amount">${t(r.monthlyFromAnnual)}</td>\n                <td class="amount"><strong>${t(r.totalMonthlyImpact)}</strong></td>\n                <td class="amount">${a.toFixed(1)}%</td>\n                <td class="amount">${r.monthlyItems.length}</td>\n                <td class="amount">${r.annualItems.length}</td>\n              </tr>\n            `}).join("")}\n          <tr class="total-row">\n            <td>Total</td>\n            <td class="amount">${t(a.reduce((e,t)=>e+t.monthlyImpact,0))}</td>\n            <td class="amount">${t(i.reduce((e,t)=>e+t.monthlyImpact,0))}</td>\n            <td class="amount">${t(l)}</td>\n            <td class="amount">100.0%</td>\n            <td class="amount">${a.reduce((e,t)=>e+t.count,0)}</td>\n            <td class="amount">${i.reduce((e,t)=>e+t.count,0)}</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <h3>Detailed Category Items</h3>\n      ${s.map(e=>{let[n,r]=e;return 0===r.monthlyItems.length&&0===r.annualItems.length?"":`\n          <h4 style="margin-top: 20px; color: #374151;">${n} - ${t(r.totalMonthlyImpact)}/mo</h4>\n          ${r.monthlyItems.length>0?`\n            <table style="margin-bottom: 12px;">\n              <thead>\n                <tr style="background: #f3f4f6;">\n                  <th colspan="4">Monthly Expenses</th>\n                </tr>\n                <tr>\n                  <th>Item</th>\n                  <th>Amount</th>\n                  <th>Account</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${r.monthlyItems.map(e=>{var n;return`\n                  <tr>\n                    <td>${e.name||"Untitled"}</td>\n                    <td class="amount">${t(wL(null!==(n=e.actual)&&void 0!==n?n:e.amount))}</td>\n                    <td>${e.accountId||"-"}</td>\n                    <td>${e.paid?"\u2705 Paid":"\u23f3 Pending"}</td>\n                  </tr>\n                `}).join("")}\n              </tbody>\n            </table>\n          `:""}\n          ${r.annualItems.length>0?`\n            <table>\n              <thead>\n                <tr style="background: #fef3c7;">\n                  <th colspan="5">Annual Expenses (showing monthly impact)</th>\n                </tr>\n                <tr>\n                  <th>Item</th>\n                  <th>Annual Amount</th>\n                  <th>Monthly Impact</th>\n                  <th>Due Date</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${r.annualItems.map(e=>{var n,r;return`\n                  <tr>\n                    <td>${e.name||"Untitled"}</td>\n                    <td class="amount">${t(wL(null!==(n=e.actual)&&void 0!==n?n:e.amount))}</td>\n                    <td class="amount">${t(wL(null!==(r=e.actual)&&void 0!==r?r:e.amount)/12)}</td>\n                    <td>${e.date||e.dueDate?new Date(e.date||e.dueDate).toLocaleDateString():"-"}</td>\n                    <td>${e.paid?"\u2705 Paid":"\u23f3 Pending"}</td>\n                  </tr>\n                `}).join("")}\n              </tbody>\n            </table>\n          `:""}\n        `}).join("")}\n\n      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"><\/script>\n      <script>\n        // Prevent multiple print dialogs\n        let printTriggered = false;\n        \n        // Wait for Chart.js to load and charts to render before printing\n        window.addEventListener('load', function() {\n          if (typeof Chart !== 'undefined') {\n            const labels = ${c};\n            const data = ${d};\n            const percentages = ${f};\n            const backgroundColors = ${h};\n            const borderColors = ${m};\n            \n            let chartsRendered = 0;\n            const totalCharts = 2;\n            \n            function triggerPrint() {\n              if (!printTriggered) {\n                printTriggered = true;\n                setTimeout(() => {\n                  window.print();\n                }, 800);\n              }\n            }\n            \n            function chartComplete() {\n              chartsRendered++;\n              if (chartsRendered >= totalCharts) {\n                triggerPrint();\n              }\n            }\n\n            // Pie Chart\n            const pieCtx = document.getElementById('pieChart');\n            if (pieCtx) {\n              new Chart(pieCtx, {\n                type: 'pie',\n                data: {\n                  labels: labels,\n                  datasets: [{\n                    data: data,\n                    backgroundColor: backgroundColors,\n                    borderColor: borderColors,\n                    borderWidth: 1\n                  }]\n                },\n                options: {\n                  responsive: true,\n                  maintainAspectRatio: false,\n                  animation: {\n                    duration: 0,\n                    onComplete: chartComplete\n                  },\n                  plugins: {\n                    legend: {\n                      position: 'bottom',\n                      labels: {\n                        font: { size: 10 },\n                        padding: 8,\n                        boxWidth: 12,\n                        usePointStyle: false,\n                        generateLabels: function(chart) {\n                          const data = chart.data;\n                          return data.labels.map((label, i) => ({\n                            text: label + ' (' + percentages[i].toFixed(1) + '%)',\n                            fillStyle: data.datasets[0].backgroundColor[i],\n                            strokeStyle: data.datasets[0].borderColor[i],\n                            lineWidth: 1,\n                            index: i\n                          }));\n                        }\n                      }\n                    },\n                    tooltip: { enabled: false }\n                  },\n                  layout: {\n                    padding: {\n                      top: 5,\n                      bottom: 5,\n                      left: 5,\n                      right: 5\n                    }\n                  }\n                }\n              });\n            } else {\n              chartComplete();\n            }\n\n            // Bar Chart\n            const barCtx = document.getElementById('barChart');\n            if (barCtx) {\n              new Chart(barCtx, {\n                type: 'bar',\n                data: {\n                  labels: labels,\n                  datasets: [{\n                    label: 'Monthly Impact',\n                    data: data,\n                    backgroundColor: backgroundColors,\n                    borderColor: borderColors,\n                    borderWidth: 1\n                  }]\n                },\n                options: {\n                  responsive: true,\n                  maintainAspectRatio: true,\n                  aspectRatio: 1.5,\n                  animation: {\n                    duration: 0,\n                    onComplete: chartComplete\n                  },\n                  scales: {\n                    y: {\n                      beginAtZero: true,\n                      ticks: {\n                        font: { size: 9 },\n                        callback: function(value) {\n                          return new Intl.NumberFormat('en-US', { \n                            style: 'currency', \n                            currency: 'USD',\n                            minimumFractionDigits: 0,\n                            maximumFractionDigits: 0\n                          }).format(value);\n                        }\n                      }\n                    },\n                    x: {\n                      ticks: {\n                        font: { size: 8 },\n                        maxRotation: 45,\n                        minRotation: 0\n                      }\n                    }\n                  },\n                  plugins: {\n                    legend: { display: false },\n                    tooltip: { enabled: false }\n                  },\n                  layout: {\n                    padding: {\n                      top: 10,\n                      bottom: 5,\n                      left: 5,\n                      right: 5\n                    }\n                  }\n                }\n              });\n            } else {\n              chartComplete();\n            }\n          } else {\n            // Fallback if Chart.js doesn't load\n            if (!printTriggered) {\n              printTriggered = true;\n              setTimeout(() => window.print(), 1500);\n            }\n          }\n        });\n      <\/script>\n\n      <style>\n        .charts-container { \n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n          margin: 16px 0;\n        }\n        .chart-card {\n          background: #f9fafb;\n          padding: 12px;\n          border-radius: 6px;\n          border: 1px solid #e5e7eb;\n          page-break-inside: avoid;\n        }\n        .chart-card h3 {\n          margin: 0 0 10px 0;\n          font-size: 14px;\n          color: #374151;\n          text-align: center;\n        }\n        .chart-wrapper {\n          position: relative;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        .pie-chart-wrapper {\n          height: 280px;\n          width: 280px;\n          margin: 0 auto;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n        .bar-chart-wrapper {\n          height: 280px;\n          width: 100%;\n        }\n        .chart-card canvas {\n          max-width: 100%;\n          max-height: 100%;\n        }\n        @media print {\n          body { \n            margin: 0.5in;\n            font-size: 11px;\n            line-height: 1.2;\n          }\n          h2 {\n            margin: 8px 0 6px 0;\n            font-size: 16px;\n          }\n          .kpi {\n            grid-template-columns: repeat(4, 1fr) !important;\n            gap: 8px !important;\n            margin: 8px 0 12px 0 !important;\n          }\n          .tile {\n            padding: 6px !important;\n            font-size: 9px !important;\n          }\n          .tile .label {\n            font-size: 8px !important;\n            margin-bottom: 3px !important;\n          }\n          .tile .value {\n            font-size: 11px !important;\n          }\n          .charts-container {\n            display: flex !important;\n            flex-direction: column !important;\n            gap: 15px !important;\n            margin: 12px 0 !important;\n            page-break-inside: avoid;\n          }\n          .chart-card {\n            margin-bottom: 15px;\n            page-break-inside: avoid;\n            background: #fff !important;\n            border: 1px solid #ccc !important;\n            padding: 15px;\n            box-shadow: none !important;\n          }\n          .chart-card h3 {\n            font-size: 12px !important;\n            margin-bottom: 10px !important;\n          }\n          .pie-chart-wrapper {\n            height: 220px !important;\n            width: 220px !important;\n            margin: 0 auto;\n          }\n          .bar-chart-wrapper {\n            height: 200px !important;\n            width: 100% !important;\n          }\n          .chart-card canvas {\n            width: 100% !important;\n            height: 100% !important;\n          }\n          h1, h2, h3, h4 {\n            page-break-after: avoid;\n          }\n          table {\n            page-break-inside: auto;\n            font-size: 9px !important;\n            margin: 8px 0 12px 0 !important;\n          }\n          th, td {\n            padding: 4px 6px !important;\n            font-size: 9px !important;\n          }\n        }\n        @media (max-width: 768px) {\n          .charts-container {\n            grid-template-columns: 1fr !important;\n          }\n        }\n      </style>\n    `},sectionCompleteBudget(e){let{formatCurrency:t,monthly:n,annual:r,income:a}=e;const i=Object.entries(n||{}).map(e=>{let[t,n]=e;return{category:t,total:(n||[]).reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0),count:(n||[]).length}}),o=Object.entries(r||{}).map(e=>{let[t,n]=e;return{category:t,total:(n||[]).reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0),count:(n||[]).length}}),s=(a||[]).reduce((e,t)=>e+SL(t,"projected"),0);return`\n      <h2>Complete Budget (Snapshot)</h2>\n      <div class="kpi">\n        <div class="tile"><div class="label">Projected Income (mo.)</div><div class="value">${t(s)}</div></div>\n        <div class="tile"><div class="label">Monthly Expenses</div><div class="value">${t(i.reduce((e,t)=>e+t.total,0))}</div></div>\n        <div class="tile"><div class="label">Annual Expenses (total)</div><div class="value">${t(o.reduce((e,t)=>e+t.total,0))}</div></div>\n      </div>\n      <h3>Monthly Categories</h3>\n      <table>\n        <thead><tr><th>Category</th><th>Items</th><th class="amount">Total (mo.)</th></tr></thead>\n        <tbody>\n          ${i.map(e=>`\n            <tr><td>${e.category}</td><td>${e.count}</td><td class="amount">${t(e.total)}</td></tr>\n          `).join("")}\n          <tr class="total-row">\n            <td>All Monthly</td><td>${i.reduce((e,t)=>e+t.count,0)}</td>\n            <td class="amount">${t(i.reduce((e,t)=>e+t.total,0))}</td>\n          </tr>\n        </tbody>\n      </table>\n\n      <h3>Annual Categories</h3>\n      <table>\n        <thead><tr><th>Category</th><th>Items</th><th class="amount">Total (annual)</th></tr></thead>\n        <tbody>\n          ${o.map(e=>`\n            <tr><td>${e.category}</td><td>${e.count}</td><td class="amount">${t(e.total)}</td></tr>\n          `).join("")}\n          <tr class="total-row">\n            <td>All Annual</td><td>${o.reduce((e,t)=>e+t.count,0)}</td>\n            <td class="amount">${t(o.reduce((e,t)=>e+t.total,0))}</td>\n          </tr>\n        </tbody>\n      </table>\n    `}},EL=e=>{let{label:t,value:n}=e;return(0,o.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fff"},children:[(0,o.jsx)("div",{style:{color:"#6b7280",fontSize:12,marginBottom:6},children:t}),(0,o.jsx)("div",{style:{fontWeight:700},children:n})]})},AL=()=>{const{state:e,calculations:t,formatCurrency:n}=H(),a=(null===e||void 0===e?void 0:e.data)||{},i=e=>"function"===typeof n?n(e||0):NL.currency(e||0),s=(0,r.useMemo)(()=>({projectedIncome:t.getTotalProjectedIncome?t.getTotalProjectedIncome():(a.income||[]).reduce((e,t)=>e+SL(t,"projected"),0),actualIncome:t.getTotalActualIncome?t.getTotalActualIncome():(a.income||[]).reduce((e,t)=>e+SL(t,"actual"),0),totalMonthlyExpenses:t.getTotalMonthlyExpenses?t.getTotalMonthlyExpenses():Object.values(a.monthly||{}).flat().reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0),monthlyAnnualImpact:t.getMonthlyAnnualImpact?t.getMonthlyAnnualImpact():Object.values(a.annual||{}).flat().reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0)/12,totalAnnualExpenses:t.getTotalAnnualExpenses?t.getTotalAnnualExpenses():Object.values(a.annual||{}).flat().reduce((e,t)=>{var n,r;return e+wL(null!==(n=null!==(r=t.actual)&&void 0!==r?r:t.amount)&&void 0!==n?n:0)},0)}),[a,t]);return(0,o.jsxs)("div",{style:{padding:"20px"},children:[(0,o.jsxs)("div",{className:"page-header",style:{marginBottom:16},children:[(0,o.jsx)("h2",{className:"page-title",children:"\ud83d\udcc8 Reports"}),(0,o.jsx)("p",{className:"page-description",children:"Print-ready reports that use the same month-aware math as the Income page."})]}),(0,o.jsxs)(eL,{title:"Financial Summary",children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px,1fr))",gap:12},children:[(0,o.jsx)(EL,{label:"Projected Monthly Income",value:i(s.projectedIncome)}),(0,o.jsx)(EL,{label:"Actual Month-to-Date Income",value:i(s.actualIncome)}),(0,o.jsx)(EL,{label:"Monthly Expenses",value:i(s.totalMonthlyExpenses)}),(0,o.jsx)(EL,{label:"Monthly Portion of Annual",value:i(s.monthlyAnnualImpact)}),(0,o.jsx)(EL,{label:"Projected Net / mo",value:i(s.projectedIncome-s.totalMonthlyExpenses-s.monthlyAnnualImpact)}),(0,o.jsx)(EL,{label:"Actual Net / mo",value:i(s.actualIncome-s.totalMonthlyExpenses-s.monthlyAnnualImpact)})]}),(0,o.jsx)("div",{style:{marginTop:12},children:(0,o.jsx)(gb,{variant:"outline",onClick:()=>{const e=NL.sectionFinancialSummary({formatCurrency:i,projectedIncome:s.projectedIncome,actualIncome:s.actualIncome,totalMonthlyExpenses:s.totalMonthlyExpenses,monthlyAnnualImpact:s.monthlyAnnualImpact,totalAnnualExpenses:s.totalAnnualExpenses});NL.open(e,"Financial Summary")},children:"\ud83d\udda8\ufe0f Print Financial Summary"})})]}),(0,o.jsxs)(eL,{title:"Income Details",children:[(0,o.jsx)("p",{children:"Breakdown of each income source with month-aware projected vs actual and variance."}),(0,o.jsx)("div",{style:{marginTop:8},children:(0,o.jsx)(gb,{variant:"outline",onClick:()=>{const e=NL.sectionIncomeDetails({formatCurrency:i,income:a.income||[]});NL.open(e,"Income Details")},children:"\ud83d\udda8\ufe0f Print Income Details"})})]}),(0,o.jsxs)(eL,{title:"Expense Status (Monthly view)",children:[(0,o.jsx)("p",{children:"Shows monthly expense items and annual items (as monthly impact), including paid/transferred status."}),(0,o.jsx)("div",{style:{marginTop:8},children:(0,o.jsx)(gb,{variant:"outline",onClick:()=>{const e=NL.sectionExpenseStatus({formatCurrency:i,monthly:a.monthly||{},annual:a.annual||{}});NL.open(e,"Expense Status (Monthly View)")},children:"\ud83d\udda8\ufe0f Print Expense Status"})})]}),(0,o.jsxs)(eL,{title:"Expense Categories Analysis",children:[(0,o.jsx)("p",{children:"Interactive visual breakdown of expenses by category with pie charts, bar charts, and detailed analysis. Shows monthly impact from both monthly and annual expenses."}),(0,o.jsx)("div",{style:{marginTop:8},children:(0,o.jsx)(gb,{variant:"outline",onClick:()=>{const e=NL.sectionExpenseCategories({formatCurrency:i,monthly:a.monthly||{},annual:a.annual||{}});NL.open(e,"Expense Categories Analysis")},children:"\ud83d\udcca Print Interactive Expense Analysis"})})]}),(0,o.jsxs)(eL,{title:"Complete Budget Snapshot",children:[(0,o.jsx)("p",{children:"High-level snapshot combining monthly and annual categories with a quick income summary."}),(0,o.jsx)("div",{style:{marginTop:8},children:(0,o.jsx)(gb,{variant:"outline",onClick:()=>{const e=NL.sectionCompleteBudget({formatCurrency:i,monthly:a.monthly||{},annual:a.annual||{},income:a.income||[]});NL.open(e,"Complete Budget Snapshot")},children:"\ud83d\udda8\ufe0f Print Complete Budget"})})]})]})},CL=(0,r.createContext)(null);function kL(){const e=(0,r.useContext)(CL);return null==e&&function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}function _L(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const DL="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,jL=DL&&"documentMode"in document?document.documentMode:null,OL=DL&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ML=DL&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),TL=!(!DL||!("InputEvent"in window)||jL)&&"getTargetRanges"in new window.InputEvent("input"),PL=DL&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),FL=DL&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,IL=DL&&/Android/.test(navigator.userAgent),BL=DL&&/^(?=.*Chrome).*/i.test(navigator.userAgent),RL=DL&&IL&&BL,zL=DL&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!BL;function LL(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)if(a&&"string"==typeof a)for(const[t]of a.matchAll(/\S+/g))e.push(t);return e}const qL=0,UL=1,$L=2,WL=1,HL=2,KL=3,VL=4,YL=5,GL=6,XL=PL||FL||zL?"\xa0":"\u200b",JL="\n\n",ZL=ML?"\xa0":XL,QL="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",eq="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",tq=new RegExp("^[^"+eq+"]*["+QL+"]"),nq=new RegExp("^[^"+QL+"]*["+eq+"]"),rq={bold:1,capitalize:1024,code:16,highlight:128,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},aq={directionless:1,unmergeable:2},iq={center:2,end:6,justify:4,left:1,right:3,start:5},oq={[HL]:"center",[GL]:"end",[VL]:"justify",[WL]:"left",[KL]:"right",[YL]:"start"},sq={normal:0,segmented:2,token:1},lq={[qL]:"normal",[$L]:"segmented",[UL]:"token"},uq="$config";function cq(e,t,n,r,a,i){let o=e.getFirstChild();for(;null!==o;){const e=o.__key;o.__parent===t&&(dH(o)&&cq(o,e,n,r,a,i),n.has(e)||i.delete(e),a.push(e)),o=o.getNextSibling()}}let dq=!1,fq=0;function pq(e){fq=e.timeStamp}function hq(e,t,n){const r="BR"===e.nodeName,a=t.__lexicalLineBreak;return a&&(e===a||r&&e.previousSibling===a)||r&&void 0!==iK(e,n)}function mq(e,t,n){const r=KK(RK(n));let a=null,i=null;null!==r&&r.anchorNode===e&&(a=r.anchorOffset,i=r.focusOffset);const o=e.nodeValue;null!==o&&bK(t,o,a,i,!1)}function gq(e,t,n){if(fW(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return YH(t)&&n.isAttached()}function yq(e,t,n,r){for(let a=e;a&&!sV(a);a=PK(a)){const e=iK(a,t);if(void 0!==e){const t=rK(e,n);if(t)return hH(t)||!YK(a)?void 0:[a,t]}else if(a===r)return[r,cK(n)]}}function vq(e,t,n){dq=!0;const r=performance.now()-fq>100;try{sH(e,()=>{const a=DW()||function(e){return e.getEditorState().read(()=>{const e=DW();return null!==e?e.clone():null})}(e),i=new Map,o=e.getRootElement(),s=e._editorState,l=e._blockCursorElement;let u=!1,c="";for(let n=0;n<t.length;n++){const d=t[n],f=d.type,p=d.target,h=yq(p,e,s,o);if(!h)continue;const[m,g]=h;if("characterData"===f)r&&nW(g)&&YH(p)&&gq(a,p,g)&&mq(p,g,e);else if("childList"===f){u=!0;const t=d.addedNodes;for(let a=0;a<t.length;a++){const n=t[a],r=aK(n),i=n.parentNode;if(null!=i&&n!==l&&null===r&&!hq(n,i,e)){if(ML){const e=(YK(n)?n.innerText:null)||n.nodeValue;e&&(c+=e)}i.removeChild(n)}}const n=d.removedNodes,r=n.length;if(r>0){let t=0;for(let a=0;a<r;a++){const r=n[a];(hq(r,p,e)||l===r)&&(p.appendChild(r),t++)}r!==t&&i.set(m,g)}}}if(i.size>0)for(const[t,n]of i)n.reconcileObservedMutation(t,e);const d=n.takeRecords();if(d.length>0){for(let t=0;t<d.length;t++){const n=d[t],r=n.addedNodes,a=n.target;for(let t=0;t<r.length;t++){const n=r[t],i=n.parentNode;null==i||"BR"!==n.nodeName||hq(n,a,e)||i.removeChild(n)}}n.takeRecords()}null!==a&&(u&&dK(a),ML&&jK(e)&&a.insertRawText(c))})}finally{dq=!1}}function bq(e){const t=e._observer;null!==t&&vq(e,t.takeRecords(),t)}function xq(e){!function(e){0===fq&&RK(e).addEventListener("textInput",pq,!0)}(e),e._observer=new MutationObserver((t,n)=>{vq(e,t,n)})}function wq(e){const t=new Map,n=new Set;for(let r="function"==typeof e?e:e.replace;r.prototype&&void 0!==r.prototype.getType;r=Object.getPrototypeOf(r)){const{ownNodeConfig:e}=uV(r);if(e&&e.stateConfigs)for(const r of e.stateConfigs){let e;"stateConfig"in r?(e=r.stateConfig,r.flat&&n.add(e.key)):e=r,t.set(e.key,e)}}return{flatKeys:n,sharedConfigMap:t}}class Sq{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;this.node=e,this.sharedNodeState=t,this.unknownState=n,this.knownState=r;const{sharedConfigMap:i}=this.sharedNodeState,o=void 0!==a?a:function(e,t,n){let r=n.size;if(t)for(const a in t){const t=e.get(a);t&&n.has(t)||r++}return r}(i,n,r);this.size=o}getValue(e){const t=this.knownState.get(e);if(void 0!==t)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let n=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const t=this.unknownState[e.key];void 0!==t&&(n=e.parse(t)),this.updateFromKnown(e,n)}return n}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[n,r]of this.knownState)n.isEqual(r,n.defaultValue)?delete e[n.key]:e[n.key]=n.unparse(r);for(const n of this.sharedNodeState.flatKeys)n in e&&(t[n]=e[n],delete e[n]);return Aq(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:n}=this,r=new Map(this.knownState);return new Sq(e,t,function(e,t,n){let r;if(n)for(const[a,i]of Object.entries(n)){const n=e.get(a);n?t.has(n)||t.set(n,n.parse(i)):(r=r||{},r[a]=i)}return r}(t.sharedConfigMap,r,n),r,this.size)}updateFromKnown(e,t){const n=e.key;this.sharedNodeState.sharedConfigMap.set(n,e);const{knownState:r,unknownState:a}=this;r.has(e)||a&&n in a||(a&&(delete a[n],this.unknownState=Aq(a)),this.size++),r.set(e,t)}updateFromUnknown(e,t){const n=this.sharedNodeState.sharedConfigMap.get(e);n?this.updateFromKnown(n,n.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const n of t.keys())t.set(n,n.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[n,r]of Object.entries(e))this.updateFromUnknown(n,r)}}function Nq(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new Sq(t,Eq(t));return t.__state=n,n}function Eq(e){return e.__state?e.__state.sharedNodeState:BH(tV(),e.getType()).sharedNodeState}function Aq(e){if(e)for(const t in e)return e}function Cq(e,t,n){for(const[r,a]of t.knownState){if(e.has(r.key))continue;e.add(r.key);const t=n?n.getValue(r):r.defaultValue;if(t!==a&&!r.isEqual(t,a))return!0}return!1}function kq(e,t,n){const{unknownState:r}=t,a=n?n.unknownState:void 0;if(r)for(const[i,o]of Object.entries(r))if(!e.has(i)&&(e.add(i),o!==(a?a[i]:void 0)))return!0;return!1}function _q(e,t){const n=e.__state;return n&&n.node===e?n.getWritable(t):n}function Dq(e,t){const n=e.__mode,r=e.__format,a=e.__style,i=t.__mode,o=t.__format,s=t.__style,l=e.__state,u=t.__state;return(null===n||n===i)&&(null===r||r===o)&&(null===a||a===s)&&(null===e.__state||l===u||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;const n=new Set;return!(e&&Cq(n,e,t)||t&&Cq(n,t,e)||e&&kq(n,e,t)||t&&kq(n,t,e))}(l,u))}function jq(e,t){const n=e.mergeWithSibling(t),r=GW()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function Oq(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&nW(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Dq(t,r)){r=jq(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&nW(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Dq(r,n)){r=jq(r,n);break}break}n.remove()}}else r.remove()}function Mq(e){return Tq(e.anchor),Tq(e.focus),e}function Tq(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,a;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),a=!0):(r=t.getChildAtIndex(n),a=!1),nW(r)){e.set(r.__key,a?r.getTextContentSize():0,"text",!0);break}if(!dH(r))break;e.set(r.__key,a?r.getChildrenSize():0,"element",!0)}}let Pq,Fq,Iq,Bq,Rq,zq,Lq,qq,Uq,$q,Wq="",Hq="",Kq=null,Vq="",Yq="",Gq=!1,Xq=!1,Jq=null;function Zq(e,t){const n=Lq.get(e);if(null!==t){const n=pU(e);n.parentNode===t&&t.removeChild(n)}if(qq.has(e)||Fq._keyToDOMMap.delete(e),dH(n)){const e=uU(n,Lq);Qq(e,0,e.length-1,null)}void 0!==n&&kK($q,Iq,Bq,n,"destroyed")}function Qq(e,t,n,r){let a=t;for(;a<=n;++a){const t=e[a];void 0!==t&&Zq(t,r)}}function eU(e,t){e.setProperty("text-align",t)}const tU="40px";function nU(e,t){const n=Pq.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||tU;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function rU(e,t){const n=e.style;0===t?eU(n,""):1===t?eU(n,"left"):2===t?eU(n,"center"):3===t?eU(n,"right"):4===t?eU(n,"justify"):5===t?eU(n,"start"):6===t&&eU(n,"end")}function aU(e,t){const n=qq.get(e);void 0===n&&_L(60);const r=n.createDOM(Pq,Fq);if(function(e,t,n){const r=n._keyToDOMMap;(function(e,t,n){e[`__lexicalKey_${t._key}`]=n})(t,n,e),r.set(e,t)}(e,r,Fq),nW(n)?r.setAttribute("data-lexical-text","true"):hH(n)&&r.setAttribute("data-lexical-decorator","true"),dH(n)){const e=n.__indent,t=n.__size;if(0!==e&&nU(r,e),0!==t){const e=t-1;!function(e,t,n,r){const a=Hq;Hq="",iU(e,n,0,t,n.getDOMSlot(r)),lU(n,r),Hq=a}(uU(n,qq),e,n,r)}const a=n.__format;0!==a&&rU(r,a),n.isInline()||sU(null,n,r),MK(n)&&(Wq+=JL,Yq+=JL)}else{const t=n.getTextContent();if(hH(n)){const t=n.decorate(Fq,Pq);null!==t&&dU(e,t),r.contentEditable="false"}else nW(n)&&(n.isDirectionless()||(Hq+=t));Wq+=t,Yq+=t}return null!==t&&t.insertChild(r),kK($q,Iq,Bq,n,"created"),r}function iU(e,t,n,r,a){const i=Wq;Wq="";let o=n;for(;o<=r;++o){aU(e[o],a);const t=qq.get(e[o]);null!==t&&nW(t)&&(null===Kq&&(Kq=t.getFormat()),""===Vq&&(Vq=t.getStyle()))}MK(t)&&(Wq+=JL),a.element.__lexicalTextContent=Wq,Wq=i+Wq}function oU(e,t){if(e){const n=e.__last;if(n){const e=t.get(n);if(e)return R$(e)?"line-break":hH(e)&&e.isInline()?"decorator":null}return"empty"}return null}function sU(e,t,n){const r=oU(e,Lq),a=oU(t,qq);r!==a&&t.getDOMSlot(n).setManagedLineBreak(a)}function lU(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==Hq||r!==Jq){const n=""===Hq,a=n?Jq:function(e){return tq.test(e)?"rtl":nq.test(e)?"ltr":null}(Hq);if(a!==r){const i=t.classList,o=Pq.theme;let s=null!==r?o[r]:void 0,l=null!==a?o[a]:void 0;if(void 0!==s){if("string"==typeof s){const e=LL(s);s=o[r]=e}i.remove(...s)}if(null===a||n&&"ltr"===a)t.removeAttribute("dir");else{if(void 0!==l){if("string"==typeof l){const e=LL(l);l=o[a]=e}void 0!==l&&i.add(...l)}t.dir=a}Xq||(e.getWritable().__dir=a)}Jq=a,t.__lexicalDirTextContent=Hq,t.__lexicalDir=a}}function uU(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&_L(101),n.push(r),r=e.__next}return n}function cU(e,t){const n=Lq.get(e);let r=qq.get(e);void 0!==n&&void 0!==r||_L(61);const a=Gq||zq.has(e)||Rq.has(e),i=TK(Fq,e);if(n===r&&!a){if(dH(n)){const e=i.__lexicalTextContent;void 0!==e&&(Wq+=e,Yq+=e);const t=i.__lexicalDirTextContent;void 0!==t&&(Hq+=t)}else{const e=n.getTextContent();nW(n)&&!n.isDirectionless()&&(Hq+=e),Yq+=e,Wq+=e}return i}if(n!==r&&a&&kK($q,Iq,Bq,r,"updated"),r.updateDOM(n,i,Pq)){const n=aU(e,null);return null===t&&_L(62),t.replaceChild(n,i),Zq(e,null),n}if(dH(n)&&dH(r)){const e=r.__indent;e!==n.__indent&&nU(i,e);const t=r.__format;t!==n.__format&&rU(i,t),a&&(function(e,t,n){const r=Hq;var a;Hq="",Kq=null,Vq="",function(e,t,n){const r=Wq,a=e.__size,i=t.__size;Wq="";const o=n.element;if(1===a&&1===i){const n=e.__first,a=t.__first;if(n===a)cU(n,o);else{const e=pU(n),t=aU(a,null);try{o.replaceChild(t,e)}catch(r){if("object"==typeof r&&null!=r){const i=`${r.toString()} Parent: ${o.tagName}, new child: {tag: ${t.tagName} key: ${a}}, old child: {tag: ${e.tagName}, key: ${n}}.`;throw new Error(i)}throw r}Zq(n,null)}const i=qq.get(a);nW(i)&&(null===Kq&&(Kq=i.getFormat()),""===Vq&&(Vq=i.getStyle()))}else{const r=uU(e,Lq),s=uU(t,qq);if(r.length!==a&&_L(227),s.length!==i&&_L(228),0===a)0!==i&&iU(s,t,0,i-1,n);else if(0===i){if(0!==a){const e=null==n.after&&null==n.before&&null==n.element.__lexicalLineBreak;Qq(r,0,a-1,e?null:o),e&&(o.textContent="")}}else!function(e,t,n,r,a,i){const o=r-1,s=a-1;let l,u,c=i.getFirstChild(),d=0,f=0;for(;d<=o&&f<=s;){const e=t[d],r=n[f];if(e===r)c=fU(cU(r,i.element)),d++,f++;else{void 0===l&&(l=new Set(t)),void 0===u&&(u=new Set(n));const a=u.has(e),o=l.has(r);if(a)if(o){const e=TK(Fq,r);e===c?c=fU(cU(r,i.element)):(i.withBefore(c).insertChild(e),cU(r,i.element)),d++,f++}else aU(r,i.withBefore(c)),f++;else c=fU(pU(e)),Zq(e,i.element),d++}const a=qq.get(r);null!==a&&nW(a)&&(null===Kq&&(Kq=a.getFormat()),""===Vq&&(Vq=a.getStyle()))}const p=d>o,h=f>s;if(p&&!h){const t=n[s+1],r=void 0===t?null:Fq.getElementByKey(t);iU(n,e,f,s,i.withBefore(r))}else h&&!p&&Qq(t,d,o,i.element)}(t,r,s,a,i,n)}MK(t)&&(Wq+=JL),o.__lexicalTextContent=Wq,Wq=r+Wq}(e,t,t.getDOMSlot(n)),lU(t,n),a=t,null==Kq||Kq===a.__textFormat||Xq||a.setTextFormat(Kq),function(e){""===Vq||Vq===e.__textStyle||Xq||e.setTextStyle(Vq)}(t),Hq=r}(n,r,i),gH(r)||r.isInline()||sU(n,r,i)),MK(r)&&(Wq+=JL,Yq+=JL)}else{const t=r.getTextContent();if(hH(r)){const t=r.decorate(Fq,Pq);null!==t&&dU(e,t)}else nW(r)&&!r.isDirectionless()&&(Hq+=t);Wq+=t,Yq+=t}if(!Xq&&gH(r)&&r.__cachedText!==Yq){const e=r.getWritable();e.__cachedText=Yq,r=e}return i}function dU(e,t){let n=Fq._pendingDecorators;const r=Fq._decorators;if(null===n){if(r[e]===t)return;n=sK(Fq)}n[e]=t}function fU(e){let t=e.nextSibling;return null!==t&&t===Fq._blockCursorElement&&(t=t.nextSibling),t}function pU(e){const t=Uq.get(e);return void 0===t&&_L(75,e),t}function hU(e){return{type:e}}const mU=hU("SELECTION_CHANGE_COMMAND"),gU=hU("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),yU=hU("CLICK_COMMAND"),vU=hU("DELETE_CHARACTER_COMMAND"),bU=hU("INSERT_LINE_BREAK_COMMAND"),xU=hU("INSERT_PARAGRAPH_COMMAND"),wU=hU("CONTROLLED_TEXT_INSERTION_COMMAND"),SU=hU("PASTE_COMMAND"),NU=hU("REMOVE_TEXT_COMMAND"),EU=hU("DELETE_WORD_COMMAND"),AU=hU("DELETE_LINE_COMMAND"),CU=hU("FORMAT_TEXT_COMMAND"),kU=hU("UNDO_COMMAND"),_U=hU("REDO_COMMAND"),DU=hU("KEYDOWN_COMMAND"),jU=hU("KEY_ARROW_RIGHT_COMMAND"),OU=hU("MOVE_TO_END"),MU=hU("KEY_ARROW_LEFT_COMMAND"),TU=hU("MOVE_TO_START"),PU=hU("KEY_ARROW_UP_COMMAND"),FU=hU("KEY_ARROW_DOWN_COMMAND"),IU=hU("KEY_ENTER_COMMAND"),BU=hU("KEY_SPACE_COMMAND"),RU=hU("KEY_BACKSPACE_COMMAND"),zU=hU("KEY_ESCAPE_COMMAND"),LU=hU("KEY_DELETE_COMMAND"),qU=hU("KEY_TAB_COMMAND"),UU=hU("INSERT_TAB_COMMAND"),$U=hU("INDENT_CONTENT_COMMAND"),WU=hU("OUTDENT_CONTENT_COMMAND"),HU=hU("DROP_COMMAND"),KU=hU("FORMAT_ELEMENT_COMMAND"),VU=hU("DRAGSTART_COMMAND"),YU=hU("DRAGOVER_COMMAND"),GU=hU("DRAGEND_COMMAND"),XU=hU("COPY_COMMAND"),JU=hU("CUT_COMMAND"),ZU=hU("SELECT_ALL_COMMAND"),QU=hU("CLEAR_EDITOR_COMMAND"),e$=hU("CLEAR_HISTORY_COMMAND"),t$=hU("CAN_REDO_COMMAND"),n$=hU("CAN_UNDO_COMMAND"),r$=hU("FOCUS_COMMAND"),a$=hU("BLUR_COMMAND"),i$=hU("KEY_MODIFIER_COMMAND"),o$=Object.freeze({}),s$=[["keydown",function(e,t){if(l$=e.timeStamp,u$=e.key,!t.isComposing()&&!OK(t,DU,e)&&null!=e.key){if(y$&&EK(e))return sH(t,()=>{k$(t,v$)}),y$=!1,void(v$="");if(function(e){return wK(e,"ArrowRight",{shiftKey:"any"})}(e))OK(t,jU,e);else if(function(e){return wK(e,"ArrowRight",SK)}(e))OK(t,OU,e);else if(function(e){return wK(e,"ArrowLeft",{shiftKey:"any"})}(e))OK(t,MU,e);else if(function(e){return wK(e,"ArrowLeft",SK)}(e))OK(t,TU,e);else if(function(e){return wK(e,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))OK(t,PU,e);else if(function(e){return wK(e,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))OK(t,FU,e);else if(function(e){return wK(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))m$=!0,OK(t,IU,e);else if(function(e){return" "===e.key}(e))OK(t,BU,e);else if(function(e){return OL&&wK(e,"o",{ctrlKey:!0})}(e))e.preventDefault(),m$=!0,OK(t,bU,!0);else if(function(e){return wK(e,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))m$=!1,OK(t,IU,e);else if(function(e){return wK(e,"Backspace",{shiftKey:"any"})||OL&&wK(e,"h",{ctrlKey:!0})}(e))EK(e)?OK(t,RU,e):(e.preventDefault(),OK(t,vU,!0));else if(function(e){return"Escape"===e.key}(e))OK(t,zU,e);else if(function(e){return wK(e,"Delete",{})||OL&&wK(e,"d",{ctrlKey:!0})}(e))!function(e){return"Delete"===e.key}(e)?(e.preventDefault(),OK(t,vU,!1)):OK(t,LU,e);else if(function(e){return wK(e,"Backspace",NK)}(e))e.preventDefault(),OK(t,EU,!0);else if(function(e){return wK(e,"Delete",NK)}(e))e.preventDefault(),OK(t,EU,!1);else if(function(e){return OL&&wK(e,"Backspace",{metaKey:!0})}(e))e.preventDefault(),OK(t,AU,!0);else if(function(e){return OL&&(wK(e,"Delete",{metaKey:!0})||wK(e,"k",{ctrlKey:!0}))}(e))e.preventDefault(),OK(t,AU,!1);else if(function(e){return wK(e,"b",SK)}(e))e.preventDefault(),OK(t,CU,"bold");else if(function(e){return wK(e,"u",SK)}(e))e.preventDefault(),OK(t,CU,"underline");else if(function(e){return wK(e,"i",SK)}(e))e.preventDefault(),OK(t,CU,"italic");else if(function(e){return wK(e,"Tab",{shiftKey:"any"})}(e))OK(t,qU,e);else if(function(e){return wK(e,"z",SK)}(e))e.preventDefault(),OK(t,kU,void 0);else if(function(e){return OL?wK(e,"z",{metaKey:!0,shiftKey:!0}):wK(e,"y",{ctrlKey:!0})||wK(e,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),OK(t,_U,void 0);else{const n=t._editorState._selection;null===n||fW(n)?AK(e)&&(e.preventDefault(),OK(t,ZU,e)):function(e){return wK(e,"c",SK)}(e)?(e.preventDefault(),OK(t,XU,e)):function(e){return wK(e,"x",SK)}(e)?(e.preventDefault(),OK(t,JU,e)):AK(e)&&(e.preventDefault(),OK(t,ZU,e))}(function(e){return e.ctrlKey||e.shiftKey||e.altKey||e.metaKey})(e)&&OK(t,i$,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;GK(n)&&"touch"!==r&&"pen"!==r&&0===e.button&&sH(t,()=>{LH(n)||(h$=!0)})}],["compositionstart",function(e,t){sH(t,()=>{const n=DW();if(fW(n)&&!t.isComposing()){const r=n.anchor,a=n.anchor.getNode();tK(r.key),(e.timeStamp<l$+30||"element"===r.type||!n.isCollapsed()||a.getFormat()!==n.format||nW(a)&&a.getStyle()!==n.style)&&OK(t,wU,ZL)}})}],["compositionend",function(e,t){ML?g$=!0:FL||!PL&&!zL?sH(t,()=>{k$(t,e.data)}):(y$=!0,v$=e.data)}],["input",function(e,t){e.stopPropagation(),sH(t,()=>{if(YK(e.target)&&LH(e.target))return;const n=DW(),r=e.data,a=C$(e);if(null!=r&&fW(n)&&w$(n,a,r,e.timeStamp,!1)){g$&&(k$(t,r),g$=!1);const a=n.anchor.getNode(),i=KK(RK(t));if(null===i)return;const o=n.isBackward(),s=o?n.anchor.offset:n.focus.offset,l=o?n.focus.offset:n.anchor.offset;TL&&!n.isCollapsed()&&nW(a)&&null!==i.anchorNode&&a.getTextContent().slice(0,s)+r+a.getTextContent().slice(s+l)===yK(i.anchorNode)||OK(t,wU,r);const u=r.length;ML&&u>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=u),PL||FL||zL||!t.isComposing()||(l$=0,tK(null))}else vK(!1,t,null!==r?r:void 0),g$&&(k$(t,r||void 0),g$=!1);!function(){KW();bq(GW())}()},{event:e}),d$=null}],["click",function(e,t){sH(t,()=>{const n=DW(),r=KK(RK(t)),a=jW();if(r)if(fW(n)){const t=n.anchor,i=t.getNode();if("element"===t.type&&0===t.offset&&n.isCollapsed()&&!gH(i)&&1===uK().getChildrenSize()&&i.getTopLevelElementOrThrow().isEmpty()&&null!==a&&n.is(a))r.removeAllRanges(),n.dirty=!0;else if(3===e.detail&&!n.isCollapsed()&&i!==n.focus.getNode()){const e=function(e,t){let n=e;for(;n!==uK()&&null!=n;){if(t(n))return n;n=n.getParent()}return null}(i,e=>dH(e)&&!e.isInline());dH(e)&&e.select(0)}}else if("touch"===e.pointerType||"pen"===e.pointerType){const n=r.anchorNode;(YK(n)||YH(n))&&dK(_W(a,r,t,e))}OK(t,yU,e)})}],["cut",o$],["copy",o$],["dragstart",o$],["dragover",o$],["dragend",o$],["paste",o$],["focus",o$],["blur",o$],["drop",o$]];TL&&s$.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=C$(e);"deleteCompositionText"===n||ML&&jK(t)||"insertCompositionText"!==n&&sH(t,()=>{const a=DW();if("deleteContentBackward"===n){if(null===a){const e=jW();if(!fW(e))return;dK(e.clone())}if(fW(a)){const n=a.anchor.key===a.focus.key;if(i=e.timeStamp,"MediaLast"===u$&&i<l$+30&&t.isComposing()&&n){if(tK(null),l$=0,setTimeout(()=>{sH(t,()=>{tK(null)})},30),fW(a)){const e=a.anchor.getNode();e.markDirty(),nW(e)||_L(142),A$(a,e)}}else{tK(null),e.preventDefault();const r=a.anchor.getNode(),i=r.getTextContent(),o=r.canInsertTextAfter(),s=0===a.anchor.offset&&a.focus.offset===i.length;let l=RL&&n&&!s&&o;if(l&&a.isCollapsed()&&(l=!hH(DK(a.anchor,!0))),!l){OK(t,vU,!0);const e=DW();RL&&fW(e)&&e.isCollapsed()&&(b$=e,setTimeout(()=>b$=null))}}return}}var i;if(!fW(a))return;const o=e.data;null!==d$&&vK(!1,t,d$),a.dirty&&null===d$||!a.isCollapsed()||gH(a.anchor.getNode())||null===r||a.applyDOMRange(r),d$=null;const s=a.anchor,l=a.focus,u=s.getNode(),c=l.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":OK(t,wU,e);break;case"insertFromComposition":tK(null),OK(t,wU,e);break;case"insertLineBreak":tK(null),OK(t,bU,!1);break;case"insertParagraph":tK(null),m$&&!FL?(m$=!1,OK(t,bU,!1)):OK(t,xU,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":OK(t,SU,e);break;case"deleteByComposition":(function(e,t){return e!==t||dH(e)||dH(t)||!KH(e)||!KH(t)})(u,c)&&OK(t,NU,e);break;case"deleteByDrag":case"deleteByCut":OK(t,NU,e);break;case"deleteContent":OK(t,vU,!1);break;case"deleteWordBackward":OK(t,EU,!0);break;case"deleteWordForward":OK(t,EU,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":OK(t,AU,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":OK(t,AU,!1);break;case"formatStrikeThrough":OK(t,CU,"strikethrough");break;case"formatBold":OK(t,CU,"bold");break;case"formatItalic":OK(t,CU,"italic");break;case"formatUnderline":OK(t,CU,"underline");break;case"historyUndo":OK(t,kU,void 0);break;case"historyRedo":OK(t,_U,void 0)}else{if("\n"===o)e.preventDefault(),OK(t,bU,!1);else if(o===JL)e.preventDefault(),OK(t,xU,void 0);else if(null==o&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),a.insertRawText(t)}else null!=o&&w$(a,r,o,e.timeStamp,!0)?(e.preventDefault(),OK(t,wU,o)):d$=o;c$=e.timeStamp}})}(e,t)]);let l$=0,u$=null,c$=0,d$=null;const f$=new WeakMap;let p$=!1,h$=!1,m$=!1,g$=!1,y$=!1,v$="",b$=null,x$=[0,"",0,"root",0];function w$(e,t,n,r,a){const i=e.anchor,o=e.focus,s=i.getNode(),l=GW(),u=KK(RK(l)),c=null!==u?u.anchorNode:null,d=i.key,f=l.getElementByKey(d),p=n.length;return d!==o.key||!nW(s)||(!a&&(!TL||c$<r+50)||s.isDirty()&&p<2||hK(n))&&i.offset!==o.offset&&!s.isComposing()||VH(s)||s.isDirty()&&p>1||(a||!TL)&&null!==f&&!s.isComposing()&&c!==GH(f)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),a=KH(t);return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||a||function(e){const t=e.getPreviousSibling();return(nW(t)||dH(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||a)}(e,s)}function S$(e,t){return YH(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function N$(e,t,n){const{anchorNode:r,anchorOffset:a,focusNode:i,focusOffset:o}=e;p$&&(p$=!1,S$(r,a)&&S$(i,o)&&!b$)||sH(t,()=>{if(!n)return void dK(null);if(!UH(t,r,i))return;let s=DW();if(b$&&fW(s)&&s.isCollapsed()){const e=s.anchor,t=b$.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&(s=b$.clone(),dK(s))}if(b$=null,fW(s)){const n=s.anchor,r=n.getNode();if(s.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(s.dirty=!0);const a=RK(t).event,i=a?a.timeStamp:performance.now(),[o,l,u,c,d]=x$,f=uK(),p=!1===t.isComposing()&&""===f.getTextContent();if(i<d+200&&n.offset===u&&n.key===c)E$(s,o,l);else if("text"===n.type)nW(r)||_L(141),A$(s,r);else if("element"===n.type&&!p){dH(r)||_L(259);const e=n.getNode();e.isEmpty()?function(e,t){E$(e,t.getTextFormat(),t.getTextStyle())}(s,e):E$(s,0,"")}}else{const e=n.key,t=s.focus.key,r=s.getNodes(),i=r.length,l=s.isBackward(),u=l?o:a,c=l?a:o,d=l?t:e,f=l?e:t;let p=2047,h=!1;for(let n=0;n<i;n++){const e=r[n],t=e.getTextContentSize();if(nW(e)&&0!==t&&!(0===n&&e.__key===d&&u===t||n===i-1&&e.__key===f&&0===c)&&(h=!0,p&=e.getFormat(),0===p))break}s.format=h?p:0}}OK(t,mU,void 0)})}function E$(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function A$(e,t){E$(e,t.getFormat(),t.getStyle())}function C$(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function k$(e,t){const n=e._compositionKey;if(tK(null),null!==n&&null!=t){if(""===t){const t=rK(n),r=GH(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&nW(t)&&bK(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=DW();if(fW(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void OK(e,IU,null)}}}vK(!0,e,t)}function _$(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const D$=new Map;function j$(e){const t=function(e){const t=BK(e);return t?t.getSelection():null}(e.target);if(null===t)return;const n=WH(t.anchorNode);if(null===n)return;h$&&(h$=!1,sH(n,()=>{const r=jW(),a=t.anchorNode;(YK(a)||YH(a))&&dK(_W(r,t,n,e))}));const r=mK(n),a=r[r.length-1],i=a._key,o=D$.get(i),s=o||a;s!==n&&N$(t,s,!1),N$(t,n,!0),n!==a?D$.set(i,n):o&&D$.delete(i)}function O$(e){e._lexicalHandled=!0}function M$(e){return!0===e._lexicalHandled}function T$(e,t,n){KW();const r=e.__key,a=e.getParent();if(null===a)return;const i=function(e){const t=DW();if(!fW(t)||!dH(e))return t;const{anchor:n,focus:r}=t,a=n.getNode(),i=r.getNode();return IK(a,e)&&n.set(e.__key,0,"element"),IK(i,e)&&r.set(e.__key,0,"element"),t}(e);let o=!1;if(fW(i)&&t){const t=i.anchor,n=i.focus;t.key===r&&(TW(t,e,a,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(TW(n,e,a,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else hW(i)&&t&&e.isSelected()&&e.selectPrevious();if(fW(i)&&t&&!o){const t=e.getIndexWithinParent();QH(e),OW(i,a,t,-1)}else QH(e);n||LK(a)||a.canBeEmpty()||!a.isEmpty()||T$(a,t),t&&i&&gH(a)&&a.isEmpty()&&a.selectEnd()}class P${static getType(){const{ownNodeType:e}=uV(this);return void 0===e&&_L(64,this.name),e}static clone(e){_L(65,this.name)}$config(){return{}}config(e,t){const n=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:n,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ZH(this,e)}getType(){return this.__type}isInline(){_L(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=rK(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||DW();if(null==t)return!1;const n=t.getNodes().some(e=>e.__key===this.__key);if(nW(this))return n;if(fW(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;const e=this.getParent();if(hH(this)&&this.isInline()&&e){const n=t.isBackward()?t.focus:t.anchor;if(e.is(n.getNode())&&n.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:rK(e)}getParentOrThrow(){const e=this.getParent();return null===e&&_L(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(LK(t))return dH(e)||e===this&&hH(e)||_L(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&_L(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:rK(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:rK(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=dH(this)?this:this.getParent(),n=dH(e)?e:e.getParent(),r=t&&n?LV(t,n):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){const t=LV(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===BV(t):("same"!==t.type&&"ancestor"!==t.type&&_L(279),!1)))}isParentOf(e){const t=LV(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let a=this;for(;null!==a;){const i=a.__key;if(r.has(i)||(r.add(i),n.push(a)),a===e)break;const o=dH(a)?t?a.getFirstChild():a.getLastChild():null;if(null!==o){a=o;continue}const s=t?a.getNextSibling():a.getPreviousSibling();if(null!==s){a=s;continue}const l=a.getParentOrThrow();if(r.has(l.__key)||n.push(l),l===e)break;let u=null,c=l;do{if(null===c&&_L(68),u=t?c.getNextSibling():c.getPreviousSibling(),c=c.getParent(),null===c)break;null!==u||r.has(c.__key)||n.push(c)}while(null===u);a=u}return t||n.reverse(),n}isDirty(){const e=GW()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=rK(this.__key);return null===e&&_L(113),e}getWritable(){KW();const e=YW(),t=GW(),n=e._nodeMap,r=this.__key,a=this.getLatest(),i=t._cloneNotNeeded,o=DW();if(null!==o&&o.setCachedNodes(null),i.has(r))return eK(a),a;const s=iV(a);return i.add(r),eK(s),n.set(r,s),s}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){_L(70)}updateDOM(e,t,n){_L(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){_L(18,this.name)}updateFromJSON(e){return function(e,t){const n=e.getWritable(),r=t.$;let a=r;for(const i of Eq(n).flatKeys)i in t&&(void 0!==a&&a!==r||(a={...r}),a[i]=t[i]);return(n.__state||a)&&Nq(e).updateFromJSON(a),n}(this,e)}static transform(){return null}remove(e){T$(this,!0,e)}replace(e,t){KW();let n=DW();null!==n&&(n=n.clone()),$K(this,e);const r=this.getLatest(),a=this.__key,i=e.__key,o=e.getWritable(),s=this.getParentOrThrow().getWritable(),l=s.__size;QH(o);const u=r.getPreviousSibling(),c=r.getNextSibling(),d=r.__prev,f=r.__next,p=r.__parent;if(T$(r,!1,!0),null===u?s.__first=i:u.getWritable().__next=i,o.__prev=d,null===c?s.__last=i:c.getWritable().__prev=i,o.__next=f,o.__parent=p,s.__size=l,t&&(dH(this)&&dH(o)||_L(139),this.getChildren().forEach(e=>{o.append(e)})),fW(n)){dK(n);const e=n.anchor,t=n.focus;e.key===a&&cW(e,o),t.key===a&&cW(t,o)}return nK()===a&&tK(i),o}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];KW(),$K(this,e);const n=this.getWritable(),r=e.getWritable(),a=r.getParent(),i=DW();let o=!1,s=!1;if(null!==a){const t=e.getIndexWithinParent();if(QH(r),fW(i)){const e=a.__key,n=i.anchor,r=i.focus;o="element"===n.type&&n.key===e&&n.offset===t+1,s="element"===r.type&&r.key===e&&r.offset===t+1}}const l=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),c=r.__key,d=n.__next;if(null===l?u.__last=c:l.getWritable().__prev=c,u.__size++,n.__next=c,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&fW(i)){const e=this.getIndexWithinParent();OW(i,u,e+1);const t=u.__key;o&&i.anchor.set(t,e+2,"element"),s&&i.focus.set(t,e+2,"element")}return e}insertBefore(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];KW(),$K(this,e);const n=this.getWritable(),r=e.getWritable(),a=r.__key;QH(r);const i=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,l=this.getIndexWithinParent();null===i?o.__first=a:i.getWritable().__next=a,o.__size++,n.__prev=a,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent;const u=DW();return t&&fW(u)&&OW(u,this.getParentOrThrow(),l),e}isParentRequired(){return!1}createParentElementNode(){return DH()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){KW();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(dH(n))return n.select();if(!nW(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){KW();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(dH(n))return n.select(0,0);if(!nW(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class F$ extends P${static getType(){return"linebreak"}static clone(e){return new F$(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t&&ZK(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&z$(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&z$(n))return!0}}return!1}(e)||function(e){const t=e.parentElement;if(null!==t&&ZK(t)){const n=t.firstChild;if(n===e||n.nextSibling===e&&z$(n))return!1;const r=t.lastChild;if(r===e||r.previousSibling===e&&z$(r))return!0}return!1}(e)?null:{conversion:I$,priority:0}}}static importJSON(e){return B$().updateFromJSON(e)}}function I$(e){return{node:B$()}}function B$(){return UK(new F$)}function R$(e){return e instanceof F$}function z$(e){return YH(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function L$(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function q$(e,t){return 1&t?"strong":2&t?"em":"span"}function U$(e,t,n,r,a){const i=r.classList;let o=CK(a,"base");void 0!==o&&i.add(...o),o=CK(a,"underlineStrikethrough");let s=!1;const l=8&t&&4&t;void 0!==o&&(8&n&&4&n?(s=!0,l||i.add(...o)):l&&i.remove(...o));for(const u in rq){const e=rq[u];if(o=CK(a,u),void 0!==o)if(n&e){if(s&&("underline"===u||"strikethrough"===u)){t&e&&i.remove(...o);continue}t&e&&(!l||"underline"!==u)&&"strikethrough"!==u||i.add(...o)}else t&e&&i.remove(...o)}}function $$(e,t,n){const r=t.firstChild,a=n.isComposing(),i=e+(a?XL:"");if(null==r)t.textContent=i;else{const e=r.nodeValue;if(e!==i)if(a||ML){const[t,n,a]=function(e,t){const n=e.length,r=t.length;let a=0,i=0;for(;a<n&&a<r&&e[a]===t[a];)a++;for(;i+a<n&&i+a<r&&e[n-i-1]===t[r-i-1];)i++;return[a,n-a-i,t.slice(a,r-i)]}(e,i);0!==n&&r.deleteData(t,n),r.insertData(t,a)}else r.nodeValue=i}}function W$(e,t,n,r,a,i){$$(a,e,t);const o=i.theme.text;void 0!==o&&U$(0,0,r,e,o)}function H$(e,t){const n=document.createElement(t);return n.appendChild(e),n}class K$ extends P${static getType(){return"text"}static clone(e){return new K$(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(arguments.length>1?arguments[1]:void 0),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return lq[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===nK()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=rq[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return XH(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const n=this.__format,r=L$(0,n),a=q$(0,n),i=null===r?a:r,o=document.createElement(i);let s=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(s=document.createElement(a),o.appendChild(s)),W$(s,this,0,n,this.__text,e);const l=this.__style;return""!==l&&(o.style.cssText=l),o}updateDOM(e,t,n){const r=this.__text,a=e.__format,i=this.__format,o=L$(0,a),s=L$(0,i),l=q$(0,a),u=q$(0,i);if((null===o?l:o)!==(null===s?u:s))return!0;if(o===s&&l!==u){const e=t.firstChild;null==e&&_L(48);const a=document.createElement(u);return W$(a,this,0,i,r,n),t.replaceChild(a,e),!1}let c=t;null!==s&&null!==o&&(c=t.firstChild,null==c&&_L(49)),$$(r,c,this);const d=n.theme.text;void 0!==d&&a!==i&&U$(0,a,i,c,d);const f=e.__style,p=this.__style;return f!==p&&(t.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:J$,priority:0}),b:()=>({conversion:Y$,priority:0}),code:()=>({conversion:eW,priority:0}),em:()=>({conversion:eW,priority:0}),i:()=>({conversion:eW,priority:0}),mark:()=>({conversion:eW,priority:0}),s:()=>({conversion:eW,priority:0}),span:()=>({conversion:V$,priority:0}),strong:()=>({conversion:eW,priority:0}),sub:()=>({conversion:eW,priority:0}),sup:()=>({conversion:eW,priority:0}),u:()=>({conversion:eW,priority:0})}}static importJSON(e){return tW().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return YK(t)||_L(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=H$(t,"b")),this.hasFormat("italic")&&(t=H$(t,"i")),this.hasFormat("strikethrough")&&(t=H$(t,"s")),this.hasFormat("underline")&&(t=H$(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?rq[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?aq[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=XH(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=sq[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){KW();let n=e,r=t;const a=DW(),i=this.getTextContent(),o=this.__key;if("string"==typeof i){const e=i.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!fW(a))return AW(o,n,o,r,"text","text");{const e=nK();e!==a.anchor.key&&e!==a.focus.key||tK(o),a.setTextNodeRange(this,n,this,r)}return a}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const a=this.getWritable(),i=a.__text,o=n.length;let s=e;s<0&&(s=o+s,s<0&&(s=0));const l=DW();if(r&&fW(l)){const t=e+o;l.setTextNodeRange(a,t,a,t)}const u=i.slice(0,s)+n+i.slice(s+t);return a.__text=u,a}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(){KW();const e=this.getLatest(),t=e.getTextContent();if(""===t)return[];const n=e.__key,r=nK(),a=t.length;for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];o.sort((e,t)=>e-t),o.push(a);const l=[],u=o.length;for(let A=0,C=0;A<a&&C<=u;C++){const e=o[C];e>A&&(l.push(t.slice(A,e)),A=e)}const c=l.length;if(1===c)return[e];const d=l[0],f=e.getParent();let p;const h=e.getFormat(),m=e.getStyle(),g=e.__detail;let y=!1,v=null,b=null;const x=DW();if(fW(x)){const[e,t]=x.isBackward()?[x.focus,x.anchor]:[x.anchor,x.focus];"text"===e.type&&e.key===n&&(v=e),"text"===t.type&&t.key===n&&(b=t)}e.isSegmented()?(p=tW(d),p.__format=h,p.__style=m,p.__detail=g,p.__state=_q(e,p),y=!0):p=e.setTextContent(d);const w=[p];for(let A=1;A<c;A++){const t=tW(l[A]);t.__format=h,t.__style=m,t.__detail=g,t.__state=_q(e,t);const a=t.__key;r===n&&tK(a),w.push(t)}const S=v?v.offset:null,N=b?b.offset:null;let E=0;for(const A of w){if(!v&&!b)break;const e=E+A.getTextContentSize();if(null!==v&&null!==S&&S<=e&&S>=E&&(v.set(A.getKey(),S-E,"text"),S<e&&(v=null)),null!==b&&null!==N&&N<=e&&N>=E){b.set(A.getKey(),N-E,"text");break}E=e}if(null!==f){!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&eK(t),null!==n&&eK(n)}(this);const e=f.getWritable(),t=this.getIndexWithinParent();y?(e.splice(t,0,w),this.remove()):e.splice(t,1,w),fW(x)&&OW(x,f,t,c-1)}return w}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||_L(50);const n=this.__key,r=e.__key,a=this.__text,i=a.length;nK()===r&&tK(n);const o=DW();if(fW(o)){const a=o.anchor,s=o.focus;null!==a&&a.key===r&&PW(a,t,n,e,i),null!==s&&s.key===r&&PW(s,t,n,e,i)}const s=e.__text,l=t?s+a:a+s;this.setTextContent(l);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function V$(e){return{forChild:rW(e.style),node:null}}function Y$(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:rW(t.style,n?void 0:"bold"),node:null}}const G$=new WeakMap;function X$(e){if(!YK(e))return!1;if("PRE"===e.nodeName)return!0;const t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function J$(e){const t=e;null===e.parentElement&&_L(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=G$.get(n))&&!X$(n);)r.push(n),n=n.parentNode;const a=void 0===t?n:t;for(let i=0;i<r.length;i++)G$.set(r[i],a);return a}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(B$()):"\t"===r?t.push(iW()):""!==r&&t.push(tW(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=Z$(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=Z$(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:tW(n)}}function Z$(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,YK(n)){const e=n.style.display;if(""===e&&!JK(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(YH(n))return n;if("BR"===n.nodeName)return null}}const Q$={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function eW(e){const t=Q$[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:rW(e.style,t),node:null}}function tW(){return UK(new K$(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""))}function nW(e){return e instanceof K$}function rW(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),a="700"===n||"bold"===n,i=r.includes("line-through"),o="italic"===e.fontStyle,s=r.includes("underline"),l=e.verticalAlign;return e=>nW(e)?(a&&!e.hasFormat("bold")&&e.toggleFormat("bold"),i&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),o&&!e.hasFormat("italic")&&e.toggleFormat("italic"),s&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==l||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==l||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}class aW extends K${static getType(){return"tab"}static clone(e){return new aW(e.__key)}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),n=CK(e.theme,"tab");return void 0!==n&&t.classList.add(...n),t}static importJSON(e){return iW().updateFromJSON(e)}setTextContent(e){return"\t"!==e&&""!==e&&_L(126),super.setTextContent("\t")}spliceText(e,t,n,r){return""===n&&0===t||"\t"===n&&1===t||_L(286),this}setDetail(e){return 2!==e&&_L(127),this}setMode(e){return"normal"!==e&&_L(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function iW(){return UK(new aW)}function oW(e){return e instanceof aW}class sW{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:IV(GV(qV(this,"next")),GV(qV(e,"next")))<0}getNode(){const e=rK(this.key);return null===e&&_L(20),e}set(e,t,n,r){const a=this._selection,i=this.key;r&&this.key===e&&this.offset===t&&this.type===n||(this.key=e,this.offset=t,this.type=n,HW()||(nK()===i&&tK(e),null!==a&&(a.setCachedNodes(null),a.dirty=!0)))}}function lW(e,t,n){return new sW(e,t,n)}function uW(e,t){let n=t.__key,r=e.offset,a="element";if(nW(t)){a="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!dH(t)){const e=t.getNextSibling();if(nW(e))n=e.__key,r=0,a="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,a)}function cW(e,t){if(dH(t)){const n=t.getLastDescendant();dH(n)||nW(n)?uW(e,n):uW(e,t)}else uW(e,t)}class dW{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!hW(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new dW(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let a;if(nW(r))a=r.select();else{const e=r.getIndexWithinParent()+1;a=r.getParentOrThrow().select(e,e)}a.insertNodes(e);for(let i=0;i<n;i++)t[i].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const r of t){const e=rK(r);null!==e&&n.push(e)}return HW()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((DW()||jW())===this&&e[0]){const t=EV(e[0],"next");$V(PV(t,t))}for(const t of e)t.remove()}}function fW(e){return e instanceof pW}class pW{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!fW(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=function(e){const t=[],[n,r]=e.getTextSlices();n&&t.push(n.caret.origin);const a=new Set,i=new Set;for(const o of e)if(xV(o)){const{origin:e}=o;0===t.length?a.add(e):(i.add(e),t.push(e))}else{const{origin:e}=o;dH(e)&&i.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),bV(e.focus)&&dH(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let o=_V(e.focus.origin,"previous");xV(o)&&a.has(o.origin)&&!o.origin.isEmpty()&&o.origin.is(t[t.length-1]);o=DV(o))a.delete(o.origin),t.pop();for(;t.length>1;){const e=t[t.length-1];if(!dH(e)||i.has(e)||e.isEmpty()||a.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){const n=GV(e.anchor),r=GV(e.anchor.getFlipped()),a=e=>vV(e)?e.origin:e.getNodeAtCaret(),i=a(n)||a(r)||(e.anchor.getNodeAtCaret()?n.origin:r.origin);t.push(i)}return t}(ZV(HV(this),"next"));return HW()||(this._cachedNodes=t),t}setTextNodeRange(e,t,n,r){this.anchor.set(e.__key,t,"text"),this.focus.set(n.__key,r,"text")}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,a=this.focus,i=r.isBefore(a),[o,s]=gW(this);let l="",u=!0;for(let c=0;c<e.length;c++){const d=e[c];if(dH(d)&&!d.isInline())u||(l+="\n"),u=!d.isEmpty();else if(u=!1,nW(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===a.type&&a.offset!==r.offset||(e=o<s?e.slice(o,s):e.slice(s,o)):e=i?e.slice(o):e.slice(s):d===n&&(e=i?e.slice(0,s):e.slice(0,o)),l+=e}else!hH(d)&&!R$(d)||d===n&&this.isCollapsed()||(l+=d.getTextContent())}return l}applyDOMRange(e){const t=GW(),n=t.getEditorState()._selection,r=NW(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[a,i]=r;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(i.key,i.offset,i.type,!0),Mq(this)}clone(){const e=this.anchor,t=this.focus;return new pW(lW(e.key,e.offset,e.type),lW(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=XH(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=rq[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let a=0;a<r;a++){const e=t[a];"\n"===e||"\r\n"===e?n.push(B$()):"\t"===e?n.push(iW()):n.push(tW(e))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,a=this.style;let i=t,o=n;!this.isCollapsed()&&n.isBefore(t)&&(i=n,o=t),"element"===i.type&&function(e,t,n,r){const a=e.getNode(),i=a.getChildAtIndex(e.offset),o=tW(),s=gH(a)?DH().append(o):o;o.setFormat(n),o.setStyle(r),null===i?a.append(s):i.insertBefore(s),e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}(i,o,r,a),"element"===o.type&&UV(o,GV(qV(o,"next")));const s=i.offset;let l=o.offset;const u=this.getNodes(),c=u.length;let d=u[0];nW(d)||_L(26);const f=d.getTextContent().length,p=d.getParentOrThrow();let h=u[c-1];if(1===c&&"element"===o.type&&(l=f,o.set(i.key,l,"text")),this.isCollapsed()&&s===f&&(VH(d)||!d.canInsertTextAfter()||!p.canInsertTextAfter()&&null===d.getNextSibling())){let t=d.getNextSibling();if(nW(t)&&t.canInsertTextBefore()&&!VH(t)||(t=tW(),t.setFormat(r),t.setStyle(a),p.canInsertTextAfter()?d.insertAfter(t):p.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===s&&(VH(d)||!d.canInsertTextBefore()||!p.canInsertTextBefore()&&null===d.getPreviousSibling())){let t=d.getPreviousSibling();if(nW(t)&&!VH(t)||(t=tW(),t.setFormat(r),p.canInsertTextBefore()?d.insertBefore(t):p.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else if(d.isSegmented()&&s!==f){const e=tW(d.getTextContent());e.setFormat(r),d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=h.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||dH(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),SW(this.anchor,this.focus,null),void this.insertText(e)}if(1===c){if(KH(d)){const t=tW(e);return t.select(),void d.replace(t)}const t=d.getFormat(),n=d.getStyle();if(s!==l||t===r&&n===a){if(oW(d)){const t=tW(e);return t.setFormat(r),t.setStyle(a),t.select(),void d.replace(t)}}else{if(""!==d.getTextContent()){const t=tW(e);if(t.setFormat(r),t.setStyle(a),t.select(),0===s)d.insertBefore(t,!1);else{const[e]=d.splitText(s);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(r),d.setStyle(a)}const i=l-s;d=d.spliceText(s,i,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...d.getParentKeys(),...h.getParentKeys()]),n=dH(d)?d:d.getParentOrThrow();let r=dH(h)?h:h.getParentOrThrow(),a=h;if(!n.is(r)&&r.isInline())do{a=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===o.type&&(0!==l||""===h.getTextContent())||"element"===o.type&&h.getIndexWithinParent()<l)if(nW(h)&&!KH(h)&&l!==h.getTextContentSize()){if(h.isSegmented()){const e=tW(h.getTextContent());h.replace(e),h=e}gH(o.getNode())||"text"!==o.type||(h=h.spliceText(0,l,"")),t.add(h.__key)}else{const e=h.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?h.remove():e.remove()}else t.add(h.__key);const i=r.getChildren(),p=new Set(u),m=n.is(r),g=n.isInline()&&null===d.getNextSibling()?n:d;for(let e=i.length-1;e>=0;e--){const t=i[e];if(t.is(d)||dH(t)&&t.isParentOf(d))break;t.isAttached()&&(!p.has(t)||t.is(a)?m||g.insertAfter(t,!1):t.remove())}if(!m){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),a=r.length;(0===a||r[a-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(KH(d))if(s===f)d.select();else{const t=tW(e);t.select(),d.replace(t)}else d=d.spliceText(s,f-s,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<c;e++){const n=u[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){const e=DW()===this;WV(this,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"removeEmptySlices";if(e.isCollapsed())return e;const n="root",r="next";let a=t;const i=ZV(e,r),o=VV(i.anchor,n),s=VV(i.focus.getFlipped(),n),l=new Set,u=[];for(const h of i.iterNodeCarets(n))if(xV(h))l.add(h.origin.getKey());else if(bV(h)){const{origin:e}=h;dH(e)&&!l.has(e.getKey())||u.push(e)}for(const h of u)h.remove();for(const h of i.getTextSlices()){if(!h)continue;const{origin:e}=h.caret,t=e.getTextContentSize(),n=KV(EV(e,r)),i=e.getMode();if(Math.abs(h.distance)===t&&"removeEmptySlices"===a||"token"===i&&0!==h.distance)n.remove();else if(0!==h.distance){a="removeEmptySlices";let e=h.removeTextSlice();const t=h.caret.origin;if("segmented"===i){const t=e.origin,a=tW(t.getTextContent()).setStyle(t.getStyle()).setFormat(t.getFormat());n.replaceOrInsert(a),e=AV(a,r,e.offset)}t.is(o[0].origin)&&(o[0]=e),t.is(s[0].origin)&&(s[0]=e.getFlipped())}}let c,d;for(const h of o)if(YV(h)){c=GV(h);break}for(const h of s)if(YV(h)){d=GV(h);break}const f=function(e,t,n){if(!e||!t)return null;const r=e.getParentAtCaret(),a=t.getParentAtCaret();if(!r||!a)return null;const i=r.getParents().reverse();i.push(r);const o=a.getParents().reverse();o.push(a);const s=Math.min(i.length,o.length);let l;for(l=0;l<s&&i[l]===o[l];l++);const u=(e,t)=>{let n;for(let r=l;r<e.length;r++){const a=e[r];if(LK(a))return;!n&&t(a)&&(n=a)}return n},c=u(i,QK),d=c&&u(o,e=>n.has(e.getKey())&&QK(e));return c&&d?[c,d]:null}(c,d,l);if(f){const[e,t]=f;_V(e,"previous").splice(0,t.getChildren()),t.remove()}const p=[c,d,...o,...s].find(YV);if(p)return TV(JV(GV(p),e.direction));_L(269,JSON.stringify(o.map(e=>e.origin.__key)))}(HV(this))),e&&DW()!==this&&dK(this)}formatText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isCollapsed())return this.toggleFormat(e),void tK(null);const n=this.getNodes(),r=[];for(const b of n)nW(b)&&r.push(b);const a=t=>{n.forEach(n=>{if(dH(n)){const r=n.getFormatFlags(e,t);n.setTextFormat(r)}})},i=r.length;if(0===i)return this.toggleFormat(e),tK(null),void a(t);const o=this.anchor,s=this.focus,l=this.isBackward(),u=l?s:o,c=l?o:s;let d=0,f=r[0],p="element"===u.type?0:u.offset;if("text"===u.type&&p===f.getTextContentSize()&&(d=1,f=r[1],p=0),null==f)return;const h=f.getFormatFlags(e,t);a(h);const m=i-1;let g=r[m];const y="text"===c.type?c.offset:g.getTextContentSize();if(f.is(g)){if(p===y)return;if(VH(f)||0===p&&y===f.getTextContentSize())f.setFormat(h);else{const e=f.splitText(p,y),t=0===p?e[0]:e[1];t.setFormat(h),"text"===u.type&&u.set(t.__key,0,"text"),"text"===c.type&&c.set(t.__key,y-p,"text")}return void(this.format=h)}0===p||VH(f)||([,f]=f.splitText(p),p=0),f.setFormat(h);const v=g.getFormatFlags(e,h);y>0&&(y===g.getTextContentSize()||VH(g)||([g]=g.splitText(y)),g.setFormat(v));for(let b=d+1;b<m;b++){const t=r[b],n=t.getFormatFlags(e,v);t.setFormat(n)}"text"===u.type&&u.set(f.__key,p,"text"),"text"===c.type&&c.set(g.__key,y,"text"),this.format=h|v}insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();const t=DW();return fW(t)||_L(134),t.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),n=eV(t,QK),r=e[e.length-1];if(dH(n)&&"__language"in n){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const t=IW(this);n.splice(t,0,e),r.selectEnd()}return}if(!e.some(e=>(dH(e)||hH(e))&&!e.isInline())){dH(n)||_L(211,t.constructor.name,t.getType());const a=IW(this);return n.splice(a,0,e),void r.selectEnd()}const a=function(e){const t=DH();let n=null;for(let r=0;r<e.length;r++){const a=e[r],i=R$(a);if(i||hH(a)&&a.isInline()||dH(a)&&a.isInline()||nW(a)||a.isParentRequired()){if(null===n&&(n=a.createParentElementNode(),t.append(n),i))continue;null!==n&&n.append(a)}else t.append(a),n=null}return t}(e),i=a.getLastDescendant(),o=a.getChildren(),s=dH(n)&&n.isEmpty()?null:this.insertParagraph(),l=o[o.length-1];let u=o[0];var c;dH(c=u)&&QK(c)&&!c.isEmpty()&&dH(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(dH(n)||_L(211,t.constructor.name,t.getType()),n.append(...u.getChildren()),u=o[1]),u&&(null===n&&_L(212,t.constructor.name,t.getType()),function(e,t){const n=t.getParentOrThrow().getLastChild();let r=t;const a=[t];for(;r!==n;)r.getNextSibling()||_L(140),r=r.getNextSibling(),a.push(r);let i=e;for(const o of a)i=i.insertAfter(o)}(n,u));const d=eV(i,QK);s&&dH(d)&&(s.canMergeWhenEmpty()||QK(l))&&(d.append(...s.getChildren()),s.remove()),dH(n)&&n.isEmpty()&&n.remove(),i.selectEnd();const f=dH(n)?n.getLastChild():null;R$(f)&&d!==n&&f.remove()}insertParagraph(){if("root"===this.anchor.key){const e=DH();return uK().splice(this.anchor.offset,0,[e]),e.select(),e}const e=IW(this),t=eV(this.anchor.getNode(),QK);dH(t)||_L(213);const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],a=t.insertNewAfter(this,!1);return a?(a.append(...r),a.selectStart(),a):null}insertLineBreak(e){const t=B$();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,a=this.focus;let i=e[0],o=e[n];const[s,l]=gW(this);if(0===t)return[];if(1===t){if(nW(i)&&!this.isCollapsed()){const e=s>l?l:s,t=s>l?s:l,n=i.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[i]}const u=r.isBefore(a);if(nW(i)){const t=u?s:l;t===i.getTextContentSize()?e.shift():0!==t&&([,i]=i.splitText(t),e[0]=i)}if(nW(o)){const t=o.getTextContent().length,r=u?l:s;0===r?e.pop():r!==t&&([o]=o.splitText(r),e[n]=o)}return e}modify(e,t,n){if(RW(this,e,t,n))return;const r="move"===e,a=GW(),i=KK(RK(a));if(!i)return;const o=a._blockCursorElement,s=a._rootElement,l=this.focus.getNode();if(null===s||null===o||!dH(l)||l.isInline()||l.canBeEmpty()||HK(o,a,s),this.dirty){let e=TK(a,this.anchor.key),t=TK(a,this.focus.key);"text"===this.anchor.type&&(e=GH(e)),"text"===this.focus.type&&(t=GH(t)),e&&t&&FW(i,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,n,r){e.modify(t,n,r)}(i,e,t?"backward":"forward",n),i.rangeCount>0){const e=i.getRangeAt(0),n=this.anchor.getNode(),a=gH(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(LK(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!r){const n=this.getNodes(),r=[];let o=!1;for(let e=0;e<n.length;e++){const t=n[e];IK(t,a)?r.push(t):o=!0}if(o&&r.length>0)if(t){const e=r[0];dH(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=r[r.length-1];dH(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}i.anchorNode===e.startContainer&&i.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,a=n.offset,i=n.type;n.set(t.key,t.offset,t.type,!0),t.set(r,a,i,!0)}(this)}}"lineboundary"===n&&RW(this,e,t,n,"decorators")}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&dH(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(dH(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=MV(qV(t,e?"previous":"next"));if(r.getTextSlices().every(e=>null===e||0===e.distance)){let e={type:"initial"};for(const t of r.iterNodeCarets("shadowRoot"))if(xV(t))if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(dH(r.anchor.origin)&&r.anchor.origin.isEmpty()){const e=GV(t);WV(this,PV(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}else{if("merge-block"===e.type)break;if(bV(t)){if(dH(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(hH(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&dH(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();const e=kW();e.add(t.origin.getKey()),dK(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){const{caret:t,block:n}=e;return WV(this,PV(!t.origin.isEmpty()&&n.isEmpty()?KV(EV(n,t.direction)):r.anchor,t)),this.removeText()}}const a=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&yW(this,t.getNode()))return}else{const r="text"===a.type?a.getNode():null;if(n="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){const t=a.offset,i=r.getTextContentSize();if(r.is(n)||e&&t!==i||!e&&0!==t)return void bW(r,e,t)}else if(null!==n&&n.isSegmented()){const a=t.offset,i=n.getTextContentSize();if(n.is(r)||e&&0!==a||!e&&a!==i)return void bW(n,e,a)}!function(e,t){const n=e.anchor,r=e.focus,a=n.getNode();if(a===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,i=r.offset,o=e<i,s=o?e:i,l=o?i:e,u=l-1;s!==u&&function(e){return!(hK(e)||vW(e))}(a.getTextContent().slice(s,l))&&(t?r.set(r.key,u,r.type):n.set(n.key,u,n.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&gH(e.getParent())&&null===e.getPreviousSibling()&&yW(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function hW(e){return e instanceof dW}function mW(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function gW(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[mW(n),mW(r)]}function yW(e,t){for(let n=t;n;n=n.getParent()){if(dH(n)){if(n.collapseAtStart(e))return!0;if(LK(n))break}if(n.getPreviousSibling())break}return!1}const vW=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("\u2764\ufe0f")&&t("#\ufe0f\u20e3")&&t("\ud83d\udc4d"))return t}catch(e){}return()=>!1})();function bW(e,t,n){const r=e,a=r.getTextContent().split(/(?=\s)/g),i=a.length;let o=0,s=0;for(let u=0;u<i;u++){const e=u===i-1;if(s=o,o+=a[u].length,t&&o===n||o>n||e){a.splice(u,1),e&&(s=void 0);break}}const l=a.join("").trim();""===l?r.remove():(r.setTextContent(l),r.select(s,s))}function xW(e,t,n,r){let a,i=t;if(YK(e)){let o=!1;const s=e.childNodes,l=s.length,u=r._blockCursorElement;i===l&&(o=!0,i=l-1);let c=s[i],d=!1;if(c===u)c=s[i+1],d=!0;else if(null!==u){const n=u.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,u)&&i--}if(a=fK(c),nW(a))i=pK(a,o);else{let s=fK(e);if(null===s)return null;if(dH(s)){const l=r.getElementByKey(s.getKey());null===l&&_L(214);const u=s.getDOMSlot(l);[s,i]=u.resolveChildIndex(s,l,e,t),dH(s)||_L(215),o&&i>=s.getChildrenSize()&&(i=Math.max(0,s.getChildrenSize()-1));let c=s.getChildAtIndex(i);if(dH(c)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(c,0,n)){const e=o?c.getLastDescendant():c.getFirstDescendant();null===e?s=c:(c=e,s=dH(c)?c:c.getParentOrThrow()),i=0}nW(c)?(a=c,s=null,i=pK(c,o)):c!==s&&o&&!d&&(dH(s)||_L(216),i=Math.min(s.getChildrenSize(),i+1))}else{const n=s.getIndexWithinParent();i=0===t&&hH(s)&&fK(e)===s?n:n+1,s=s.getParentOrThrow()}if(dH(s))return lW(s.__key,i,"element")}}else a=fK(e);return nW(a)?lW(a.__key,i,"text"):null}function wW(e,t,n){const r=e.offset,a=e.getNode();if(0===r){const r=a.getPreviousSibling(),i=a.getParent();if(t){if((n||!t)&&null===r&&dH(i)&&i.isInline()){const t=i.getPreviousSibling();nW(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else dH(r)&&!n&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):nW(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===a.getTextContent().length){const r=a.getNextSibling(),i=a.getParent();if(t&&dH(r)&&r.isInline())e.set(r.__key,0,"element");else if((n||t)&&null===r&&dH(i)&&i.isInline()&&!i.canInsertTextAfter()){const t=i.getNextSibling();nW(t)&&e.set(t.__key,0,"text")}}}function SW(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),a=e.is(t);wW(e,r,a),wW(t,!r,a),a&&t.set(e.key,e.offset,e.type);const i=GW();if(i.isComposing()&&i._compositionKey!==e.key&&fW(n)){const r=n.anchor,a=n.focus;e.set(r.key,r.offset,r.type,!0),t.set(a.key,a.offset,a.type,!0)}}}function NW(e,t,n,r,a,i){if(null===e||null===n||!UH(a,e,n))return null;const o=xW(e,t,fW(i)?i.anchor:null,a);if(null===o)return null;const s=xW(n,r,fW(i)?i.focus:null,a);if(null===s)return null;if("element"===o.type&&"element"===s.type){const t=fK(e),r=fK(n);if(hH(t)&&hH(r))return null}return SW(o,s,i),[o,s]}function EW(e){return dH(e)&&!e.isInline()}function AW(e,t,n,r,a,i){const o=YW(),s=new pW(lW(e,t,a),lW(n,r,i),0,"");return s.dirty=!0,o._selection=s,s}function CW(){const e=lW("root",0,"element"),t=lW("root",0,"element");return new pW(e,t,0,"")}function kW(){return new dW(new Set)}function _W(e,t,n,r){const a=n._window;if(null===a)return null;const i=r||a.event,o=i?i.type:void 0,s="selectionchange"===o,l=!dq&&(s||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&i&&3===i.detail||"drop"===o||void 0===o);let u,c,d,f;if(fW(e)&&!l)return e.clone();if(null===t)return null;if(u=t.anchorNode,c=t.focusNode,d=t.anchorOffset,f=t.focusOffset,s&&fW(e)&&!UH(n,u,c))return e.clone();const p=NW(u,d,c,f,n,e);if(null===p)return null;const[h,m]=p;return new pW(h,m,fW(e)?e.format:0,fW(e)?e.style:"")}function DW(){return YW()._selection}function jW(){return GW()._editorState._selection}function OW(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.anchor,i=e.focus,o=a.getNode(),s=i.getNode();if(!t.is(o)&&!t.is(s))return;const l=t.__key;if(e.isCollapsed()){const t=a.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);a.set(l,n,"element"),i.set(l,n,"element"),MW(e)}}else{const o=e.isBackward(),s=o?i:a,u=s.getNode(),c=o?a:i,d=c.getNode();if(t.is(u)){const e=s.offset;(n<=e&&r>0||n<e&&r<0)&&s.set(l,Math.max(0,e+r),"element")}if(t.is(d)){const e=c.offset;(n<=e&&r>0||n<e&&r<0)&&c.set(l,Math.max(0,e+r),"element")}}MW(e)}function MW(e){const t=e.anchor,n=t.offset,r=e.focus,a=r.offset,i=t.getNode(),o=r.getNode();if(e.isCollapsed()){if(!dH(i))return;const e=i.getChildrenSize(),a=n>=e,o=a?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(nW(o)){let e=0;a&&(e=o.getTextContentSize()),t.set(o.__key,e,"text"),r.set(o.__key,e,"text")}}else{if(dH(i)){const e=i.getChildrenSize(),r=n>=e,a=r?i.getChildAtIndex(e-1):i.getChildAtIndex(n);if(nW(a)){let e=0;r&&(e=a.getTextContentSize()),t.set(a.__key,e,"text")}}if(dH(o)){const e=o.getChildrenSize(),t=a>=e,n=t?o.getChildAtIndex(e-1):o.getChildAtIndex(a);if(nW(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function TW(e,t,n,r,a){let i=null,o=0,s=null;null!==r?(i=r.__key,nW(r)?(o=r.getTextContentSize(),s="text"):dH(r)&&(o=r.getChildrenSize(),s="element")):null!==a&&(i=a.__key,nW(a)?s="text":dH(a)&&(s="element")),null!==i&&null!==s?e.set(i,o,s):(o=t.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function PW(e,t,n,r,a){"text"===e.type?e.set(n,e.offset+(t?0:a),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function FW(e,t,n,r,a){try{e.setBaseAndExtent(t,n,r,a)}catch(e){}}function IW(e){let t=e;e.isCollapsed()||t.removeText();const n=DW();fW(n)&&(t=n),fW(t)||_L(161);const r=t.anchor;let a=r.getNode(),i=r.offset;for(;!QK(a);){const e=a;if([a,i]=BW(a,i),e.is(a))break}return i}function BW(e,t){const n=e.getParent();if(!n){const e=DH();return uK().append(e),e.select(),[uK(),0]}if(nW(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const a=0===t?0:1;return[n,r[0].getIndexWithinParent()+a]}if(!dH(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new pW(lW(e.__key,t,"element"),lW(e.__key,t,"element"),0,""),a=e.insertNewAfter(n);a&&a.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function RW(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"decorators-and-blocks";if("move"===t&&"character"===r&&!e.isCollapsed()){const[t,r]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}const i=qV(e.focus,n?"previous":"next"),o="lineboundary"===r,s="move"===t;let l=i,u="decorators-and-blocks"===a;if(!XV(l)){for(const e of l){u=!1;const{origin:t}=e;if(!hH(t)||t.isIsolated()||(l=e,!o||!t.isInline()))break}if(u)for(const e of MV(i).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(xV(e))e.origin.isInline()||(l=e);else{if(dH(e.origin))continue;hH(e.origin)&&!e.origin.isInline()&&(l=e)}break}}if(l===i)return!1;if(s&&!o&&hH(l.origin)&&l.origin.isKeyboardSelectable()){const e=kW();return e.add(l.origin.getKey()),dK(e),!0}return l=GV(l),s&&UV(e.anchor,l),UV(e.focus,l),u||!o}let zW=null,LW=null,qW=!1,UW=!1,$W=0;const WW={characterData:!0,childList:!0,subtree:!0};function HW(){return qW||null!==zW&&zW._readOnly}function KW(){qW&&_L(13)}function VW(){$W>99&&_L(14)}function YW(){return null===zW&&_L(195,XW()),zW}function GW(){return null===LW&&_L(196,XW()),LW}function XW(){let e=0;const t=new Set,n=TH.version;if("undefined"!=typeof window)for(const a of document.querySelectorAll("[contenteditable]")){const r=HH(a);if($H(r))e++;else if(r){let e=String(r.constructor.version||"<0.17.1");e===n&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function JW(e,t,n){const r=t.__type,a=BH(e,r);let i=n.get(r);void 0===i&&(i=Array.from(a.transforms),n.set(r,i));const o=i.length;for(let s=0;s<o&&(i[s](t),t.isAttached());s++);}function ZW(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function QW(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const a of r)n.add(a)}function eH(e){return tH(e,GW()._nodes)}function tH(e,t){const n=e.type,r=t.get(n);void 0===r&&_L(17,n);const a=r.klass;e.type!==a.getType()&&_L(18,a.name);const i=a.importJSON(e),o=e.children;if(dH(i)&&Array.isArray(o))for(let s=0;s<o.length;s++){const e=tH(o[s],t);i.append(e)}return i}function nH(e,t,n){const r=zW,a=qW,i=LW;zW=t,qW=!0,LW=e;try{return n()}finally{zW=r,qW=a,LW=i}}function rH(e,t){const n=e._pendingEditorState,r=e._rootElement,a=e._headless||null===r;if(null===n)return;const i=e._editorState,o=i._selection,s=n._selection,l=0!==e._dirtyType,u=zW,c=qW,d=LW,f=e._updating,p=e._observer;let h=null;if(e._pendingEditorState=null,e._editorState=n,!a&&l&&null!==p){LW=e,zW=n,qW=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,a=e._dirtyLeaves;p.disconnect(),h=function(e,t,n,r,a,i){Wq="",Yq="",Hq="",Gq=2===r,Jq=null,Fq=n,Pq=n._config,Iq=n._nodes,Bq=Fq._listeners.mutation,Rq=a,zq=i,Lq=e._nodeMap,qq=t._nodeMap,Xq=t._readOnly,Uq=new Map(n._keyToDOMMap);const o=new Map;return $q=o,cU("root",null),Fq=void 0,Iq=void 0,Rq=void 0,zq=void 0,Lq=void 0,qq=void 0,Pq=void 0,Uq=void 0,$q=void 0,o}(i,n,e,t,r,a)}catch(t){if(t instanceof Error&&e._onError(t),UW)throw t;return OH(e,null,r,n),xq(e),e._dirtyType=2,UW=!0,rH(e,i),void(UW=!1)}finally{p.observe(r,WW),e._updating=f,zW=u,qW=c,LW=d}}n._readOnly||(n._readOnly=!0);const m=e._dirtyLeaves,g=e._dirtyElements,y=e._normalizedNodes,v=e._updateTags,b=e._deferred;l&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const a=t._nodeMap;let i;for(i in r)a.has(i)||(r===n&&(r=sK(e)),delete r[i])}(e,n);const x=a?null:KK(RK(e));if(e._editable&&null!==x&&(l||null===s||s.dirty)&&null!==r&&!v.has(AH)){LW=e,zW=n;try{if(null!==p&&p.disconnect(),l||null===s||s.dirty){const t=e._blockCursorElement;null!==t&&HK(t,e,r),function(e,t,n,r,a,i){const o=r.anchorNode,s=r.focusNode,l=r.anchorOffset,u=r.focusOffset,c=document.activeElement;if(a.has(NH)&&c!==i||null!==c&&qH(c))return;if(!fW(t))return void(null!==e&&UH(n,o,s)&&r.removeAllRanges());const d=t.anchor,f=t.focus,p=d.key,h=f.key,m=TK(n,p),g=TK(n,h),y=d.offset,v=f.offset,b=t.format,x=t.style,w=t.isCollapsed();let S=m,N=g,E=!1;if("text"===d.type){S=GH(m);const e=d.getNode();E=e.getFormat()!==b||e.getStyle()!==x}else fW(e)&&"text"===e.anchor.type&&(E=!0);var A,C,k,_,D;if("text"===f.type&&(N=GH(g)),null!==S&&null!==N&&(w&&(null===e||E||fW(e)&&(e.format!==b||e.style!==x))&&(A=b,C=x,k=y,_=p,D=performance.now(),x$=[A,C,k,_,D]),l!==y||u!==v||o!==S||s!==N||"Range"===r.type&&w||(null!==c&&i.contains(c)||i.focus({preventScroll:!0}),"element"===d.type))){if(FW(r,S,y,N,v),!a.has(EH)&&t.isCollapsed()&&null!==i&&i===document.activeElement){const e=fW(t)&&"element"===t.anchor.type?S.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=FK(n),a=BK(r);if(null===r||null===a)return;let{top:i,bottom:o}=t,s=0,l=0,u=n;for(;null!==u;){const t=u===r.body;if(t)s=0,l=RK(e).innerHeight;else{const e=u.getBoundingClientRect();s=e.top,l=e.bottom}let n=0;if(i<s?n=-(s-i):o>l&&(n=o-l),0!==n)if(t)a.scrollBy(0,n);else{const e=u.scrollTop;u.scrollTop+=n;const t=u.scrollTop-e;i-=t,o-=t}if(t)break;u=PK(u)}}(n,t,i)}}p$=!0}}(o,s,e,x,v,r)}!function(e,t,n){let r=e._blockCursorElement;if(fW(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const a=n.anchor,i=a.getNode(),o=a.offset;let s=!1,l=null;if(o===i.getChildrenSize())WK(i.getChildAtIndex(o-1))&&(s=!0);else{const t=i.getChildAtIndex(o);if(null!==t&&WK(t)){const n=t.getPreviousSibling();(null===n||WK(n))&&(s=!0,l=e.getElementByKey(t.__key))}}if(s){const n=e.getElementByKey(i.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=LL(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===l?n.appendChild(r):n.insertBefore(r,l))}}null!==r&&HK(r,e,t)}(e,r,s)}finally{null!==p&&p.observe(r,WW),LW=d,zW=u}}null!==h&&function(e,t,n,r,a){const i=Array.from(e._listeners.mutation),o=i.length;for(let s=0;s<o;s++){const[e,o]=i[s];for(const i of o){const o=t.get(i);void 0!==o&&e(o,{dirtyLeaves:r,prevEditorState:a,updateTags:n})}}}(e,h,v,m,i),fW(s)||null===s||null!==o&&o.is(s)||e.dispatchCommand(mU,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,aH("decorator",e,!0,w)),function(e,t,n){const r=lK(t),a=lK(n);r!==a&&aH("textcontent",e,!0,a)}(e,t||i,n),aH("update",e,!0,{dirtyElements:g,dirtyLeaves:m,editorState:n,mutatedNodes:h,normalizedNodes:y,prevEditorState:t||i,tags:v}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,b),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;oH(e,t,r)}}}(e)}function aH(e,t,n){const r=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(var a=arguments.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];for(let e=0;e<n.length;e++)n[e].apply(null,i)}finally{t._updating=r}}function iH(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,a]=t;let i;if(void 0!==a){if(i=a.onUpdate,a.skipTransforms&&(r=!0),a.discrete){const t=e._pendingEditorState;null===t&&_L(191),t._flushSync=!0}i&&e._deferred.push(i),QW(e,a.tag)}n()}}return r}function oH(e,t,n){const r=e._updateTags;let a,i=!1,o=!1;void 0!==n&&(a=n.onUpdate,QW(e,n.tag),i=n.skipTransforms||!1,o=n.discrete||!1),a&&e._deferred.push(a);const s=e._editorState;let l=e._pendingEditorState,u=!1;(null===l||l._readOnly)&&(l=e._pendingEditorState=yH(l||s),u=!0),l._flushSync=o;const c=zW,d=qW,f=LW,p=e._updating;zW=l,qW=!1,e._updating=!0,LW=e;const h=e._headless||null===e.getRootElement();FH(null);try{u&&(h?null!==s._selection&&(l._selection=s._selection.clone()):l._selection=function(e,t){const n=e.getEditorState()._selection,r=KK(RK(e));return fW(n)||null==n?_W(n,r,e,t):n.clone()}(e,n&&n.event||null));const r=e._compositionKey;t(),i=iH(e,i),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(fW(r)){const e=r.anchor,t=r.focus;let a;if("text"===e.type&&(a=e.getNode(),a.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();a!==e&&e.selectionTransform(n,r)}}}(l,e),0!==e._dirtyType&&(i?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const a of n){const e=r.get(a);nW(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&Oq(e)}}(l,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,a=e._nodeMap,i=nK(),o=new Map;let s=n,l=s.size,u=r,c=u.size;for(;l>0||c>0;){if(l>0){t._dirtyLeaves=new Set;for(const e of s){const r=a.get(e);nW(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&Oq(r),void 0!==r&&ZW(r,i)&&JW(t,r,o),n.add(e)}if(s=t._dirtyLeaves,l=s.size,l>0){$W++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map,u.delete("root")&&u.set("root",!0);for(const e of u){const n=e[0],s=e[1];if(r.set(n,s),!s)continue;const l=a.get(n);void 0!==l&&ZW(l,i)&&JW(t,l,o)}s=t._dirtyLeaves,l=s.size,u=t._dirtyElements,c=u.size,$W++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),iH(e),function(e,t,n,r){const a=e._nodeMap,i=t._nodeMap,o=[];for(const[s]of r){const e=i.get(s);void 0!==e&&(e.isAttached()||(dH(e)&&cq(e,s,a,i,o,r),a.has(s)||r.delete(s),o.push(s)))}for(const s of o)i.delete(s);for(const s of n){const e=i.get(s);void 0===e||e.isAttached()||(a.has(s)||n.delete(s),i.delete(s))}}(s,l,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(l._flushSync=!0);const a=l._selection;if(fW(a)){const e=l._nodeMap,t=a.anchor.key,n=a.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||_L(19)}else hW(a)&&0===a._nodes.size&&(l._selection=null)}catch(g){return g instanceof Error&&e._onError(g),e._pendingEditorState=s,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void rH(e)}finally{zW=c,qW=d,LW=f,e._updating=p,$W=0}const m=0!==e._dirtyType||e._deferred.length>0||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(l,e);m?l._flushSync?(l._flushSync=!1,rH(e)):u&&zH(()=>{rH(e)}):(l._flushSync=!1,u&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function sH(e,t,n){LW===e&&void 0===n?t():oH(e,t,n)}class lH{constructor(e,t,n){this.element=e,this.before=t||null,this.after=n||null}withBefore(e){return new lH(this.element,e,this.after)}withAfter(e){return new lH(this.element,this.before,e)}withElement(e){return this.element===e?this:new lH(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&_L(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&_L(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&_L(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{const t="decorator"===e&&(FL||PL);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,n="IMG"===e.nodeName?e.nextSibling:null;n&&t.removeChild(n),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}const n=this.element,r=this.before,a=document.createElement("br");if(n.insertBefore(a,r),e){const e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",n.insertBefore(e,a),n.__lexicalLineBreak=e}else n.__lexicalLineBreak=a}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,n,r){if(n===this.element){const t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}const a=uH(t,n);a.push(r);const i=uH(t,this.element);let o=e.getIndexWithinParent();for(let s=0;s<i.length;s++){const e=a[s],t=i[s];if(void 0===e||e<t)break;if(e>t){o+=1;break}}return[e.getParentOrThrow(),o]}}function uH(e,t){const n=[];let r=t;for(;r!==e&&null!==r;r=r.parentNode){let e=0;for(let t=r.previousSibling;null!==t;t=t.previousSibling)e++;n.push(e)}return r!==e&&_L(225),n.reverse()}class cH extends P${constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return oq[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=GW()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(nW(t)&&e.push(t),dH(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;dH(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;dH(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return dH(e)&&e.getLastDescendant()||e||null}const r=t[e];return dH(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:rK(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&_L(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:rK(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&_L(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const a=t[r];e+=a.getTextContent(),dH(a)&&r!==n-1&&!a.isInline()&&(e+=JL)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const a=t[r];e+=a.getTextContentSize(),dH(a)&&r!==n-1&&!a.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){const t=iq[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=rq[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return XH(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){KW();const n=DW();let r=e,a=t;const i=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(nW(e)||dH(e))return e.select(0,0)}else if(!(void 0!==e&&e!==i||void 0!==t&&t!==i)){const e=this.getLastChild();if(nW(e)||dH(e))return e.select()}void 0===r&&(r=i),void 0===a&&(a=i);const o=this.__key;return fW(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,a,"element"),n.dirty=!0,n):AW(o,r,o,a,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.splice(this.getChildrenSize(),0,t)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?iq[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,a=this.getChildrenSize(),i=this.getWritable();e+t<=a||_L(226,String(e),String(t),String(a));const o=i.__key,s=[],l=[],u=this.getChildAtIndex(e+t);let c=null,d=a-t+r;if(0!==e)if(e===a)c=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(c=t.getPreviousSibling())}if(t>0){let e=null===c?this.getFirstChild():c.getNextSibling();for(let n=0;n<t;n++){null===e&&_L(100);const t=e.getNextSibling(),n=e.__key;QH(e.getWritable()),l.push(n),e=t}}let f=c;for(let p=0;p<r;p++){const e=n[p];null!==f&&e.is(f)&&(c=f=f.getPreviousSibling());const t=e.getWritable();t.__parent===o&&d--,QH(t);const r=e.__key;if(null===f)i.__first=r,t.__prev=null;else{const e=f.getWritable();e.__next=r,t.__prev=e.__key}e.__key===o&&_L(76),t.__parent=o,s.push(r),f=e}if(e+t===a)null!==f&&(f.getWritable().__next=null,i.__last=f.__key);else if(null!==u){const e=u.getWritable();if(null!==f){const t=f.getWritable();e.__prev=f.__key,t.__next=u.__key}else e.__prev=null}if(i.__size=d,l.length){const e=DW();if(fW(e)){const t=new Set(l),n=new Set(s),{anchor:r,focus:a}=e;fH(r,t,n)&&TW(r,r.getNode(),this,c,u),fH(a,t,n)&&TW(a,a.getNode(),this,c,u),0!==d||this.canBeEmpty()||LK(this)||this.remove()}}return i}getDOMSlot(e){return new lH(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(YK(t)){const e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");const n=this.getDirection();n&&(t.dir=n)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),n=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==n&&(e.textStyle=n),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const n=this.getDOMSlot(e);let r=n.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){const e=t.getElementByKey(a.getKey());null!==e&&(null==r?(n.insertChild(e),r=e):r!==e&&n.replaceChild(e,r),r=r.nextSibling)}}}function dH(e){return e instanceof cH}function fH(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class pH extends P${decorate(e,t){_L(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function hH(e){return e instanceof pH}class mH extends cH{static getType(){return"root"}static clone(){return new mH}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){_L(51)}getTextContent(){const e=this.__cachedText;return!HW()&&0!==GW()._dirtyType||null===e?super.getTextContent():e}remove(){_L(52)}replace(e){_L(53)}insertBefore(e){_L(54)}insertAfter(e){_L(55)}updateDOM(e,t){return!1}splice(e,t,n){for(const r of n)dH(r)||hH(r)||_L(282);return super.splice(e,t,n)}static importJSON(e){return uK().updateFromJSON(e)}collapseAtStart(){return!0}}function gH(e){return e instanceof mH}function yH(e){return new xH(new Map(e._nodeMap))}function vH(){return new xH(new Map([["root",new mH]]))}function bH(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&_L(130,n.name),dH(e)){const r=t.children;Array.isArray(r)||_L(59,n.name);const a=e.getChildren();for(let e=0;e<a.length;e++){const t=bH(a[e]);r.push(t)}}return t}class xH{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return nH(t&&t.editor||null,this,e)}clone(e){const t=new xH(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return nH(null,this,()=>({root:bH(uK())}))}}const wH="historic",SH="history-merge",NH="collaboration",EH="skip-scroll-into-view",AH="skip-dom-selection";class CH extends cH{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class kH extends cH{static getType(){return"paragraph"}static clone(e){return new kH(e.__key)}createDOM(e){const t=document.createElement("p"),n=CK(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:_H,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(YK(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e)}return{element:t}}static importJSON(e){return DH().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const n=DH();n.setTextFormat(e.format),n.setTextStyle(e.style);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||nW(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function _H(e){const t=DH();return e.style&&(t.setFormat(e.style.textAlign),oV(e,t)),{node:t}}function DH(){return UK(new kH)}function jH(e){return e instanceof kH}function OH(e,t,n,r){const a=e._keyToDOMMap;a.clear(),e._editorState=vH(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const i=e._observer;null!==i&&(i.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",a.set("root",n))}function MH(e){const t=e||{},n=LW,r=t.theme||{},a=void 0===e?n:t.parentEditor||null,i=t.disableEvents||!1,o=vH(),s=t.namespace||(null!==a?a._config.namespace:gK()),l=t.editorState,u=[mH,K$,F$,aW,kH,CH,...t.nodes||[]],{onError:c,html:d}=t,f=void 0===t.editable||t.editable;let p;if(void 0===e&&null!==n)p=n._nodes;else{p=new Map;for(let e=0;e<u.length;e++){let t=u[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}const{ownNodeConfig:a}=uV(t),i=t.getType(),o=t.transform(),s=new Set;a&&a.$transform&&s.add(a.$transform),null!==o&&s.add(o),p.set(i,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,sharedNodeState:wq(u[e]),transforms:s})}}const h=new TH(o,a,p,{disableEvents:i,namespace:s,theme:r},c||console.error,function(e,t){const n=new Map,r=new Set,a=e=>{Object.keys(e).forEach(t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])})};return e.forEach(e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&a(n)}),t&&a(t),n}(p,d?d.import:void 0),f,e);return void 0!==l&&(h._pendingEditorState=l,h._dirtyType=2),h}class TH{constructor(e,t,n,r,a,i,o,s){this._createEditorArgs=s,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=gK(),this._onError=a,this._htmlConversions=i,this._editable=o,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&_L(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const a=r.get(e);void 0===a&&_L(36,String(e));const i=a[n];return i.add(t),()=>{i.delete(t),a.every(e=>0===e.size)&&r.delete(e)}}registerMutationListener(e,t,n){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,a=this._listeners.mutation;let i=a.get(t);void 0===i&&(i=new Set,a.set(t,i)),i.add(r);const o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{i.delete(r),0===i.size&&a.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return void 0===t&&_L(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const n=this._editorState,r=aV(n).get(t.getType());if(!r)return;const a=new Map;for(const i of r.keys())a.set(i,"created");a.size>0&&e(a,{dirtyLeaves:new Set,prevEditorState:n,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const n=this.getRegisteredNode(e);return n.transforms.add(t),n}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],a=n.replaceWithKlass;if(null!=a){const e=this.registerNodeTransformToKlass(a,t);r.push(e)}return function(e,t){const n=aV(e.getEditorState()),r=[];for(const a of t){const e=n.get(a);e&&r.push(e)}0!==r.length&&e.update(()=>{for(const e of r)for(const t of e.keys()){const e=rK(t);e&&e.markDirty()}},null===e._pendingEditorState?{tag:SH}:void 0)}(this,r.map(e=>e.klass.getType())),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return OK(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=CK(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,OH(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=f$.get(t);if(void 0===n)return;const r=n-1;r>=0||_L(164),f$.set(t,r),0===r&&t.removeEventListener("selectionchange",j$);const a=HH(e);$H(a)?(function(e){if(null!==e._parentEditor){const t=mK(e),n=t[t.length-1]._key;D$.get(n)===e&&D$.delete(n)}else D$.delete(e._key)}(a),e.__lexicalEditor=null):a&&_L(198);const i=_$(e);for(let o=0;o<i.length;o++)i[o]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=BK(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,xq(this),this._updateTags.add(SH),rH(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=f$.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",j$),f$.set(n,(r||0)+1),e.__lexicalEditor=t;const a=_$(e);for(let i=0;i<s$.length;i++){const[n,r]=s$[i],o="function"==typeof r?e=>{M$(e)||(O$(e),(t.isEditable()||"click"===n)&&r(e,t))}:e=>{if(M$(e))return;O$(e);const r=t.isEditable();switch(n){case"cut":return r&&OK(t,JU,e);case"copy":return OK(t,XU,e);case"paste":return r&&OK(t,SU,e);case"dragstart":return r&&OK(t,VU,e);case"dragover":return r&&OK(t,YU,e);case"dragend":return r&&OK(t,GU,e);case"focus":return r&&OK(t,r$,e);case"blur":return r&&OK(t,a$,e);case"drop":return r&&OK(t,HU,e)}};e.addEventListener(n,o),a.push(()=>{e.removeEventListener(n,o)})}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null,this._updateTags.add(SH),rH(this);aH("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&_L(38);let n=e;n._readOnly&&(n=yH(e),n._selection=e._selection?e._selection.clone():null),bq(this);const r=this._pendingEditorState,a=this._updateTags,i=void 0!==t?t.tag:null;null===r||r.isEmpty()||(null!=i&&a.add(i),rH(this)),this._pendingEditorState=n,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&a.add(i),this._updating||rH(this)}parseEditorState(e,t){return function(e,t,n){const r=vH(),a=zW,i=qW,o=LW,s=t._dirtyElements,l=t._dirtyLeaves,u=t._cloneNotNeeded,c=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,zW=r,qW=!1,LW=t,FH(null);try{const a=t._nodes;tH(e.root,a),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=s,t._dirtyLeaves=l,t._cloneNotNeeded=u,t._dirtyType=c,zW=a,qW=i,LW=o}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return rH(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,n){e._updating?e._updates.push([t,n]):oH(e,t,n)}(this,e,t)}focus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),sH(this,()=>{const r=DW(),a=uK();null!==r?r.dirty||dK(r.clone()):0!==a.getChildrenSize()&&("rootStart"===t.defaultSelection?a.selectStart():a.selectEnd()),function(e){KW(),GW()._updateTags.add(e)}("focus"),function(e){KW(),GW()._deferred.push(e)}(()=>{n.removeAttribute("autocapitalize"),e&&e()})}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=KK(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,aH("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}TH.version="0.33.1+prod.esm";let PH=null;function FH(e){PH=e}let IH=1;function BH(e,t){const n=RH(e,t);return void 0===n&&_L(30,t),n}function RH(e,t){return e._nodes.get(t)}const zH="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function LH(e){return hH(oK(e))}function qH(e){const t=document.activeElement;if(!YK(t))return!1;const n=t.nodeName;return hH(oK(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==HH(t))}function UH(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!qH(t)&&WH(t)===e}catch(e){return!1}}function $H(e){return e instanceof TH}function WH(e){let t=e;for(;null!=t;){const e=HH(t);if($H(e))return e;t=PK(t)}return null}function HH(e){return e?e.__lexicalEditor:null}function KH(e){return oW(e)||e.isToken()}function VH(e){return KH(e)||e.isSegmented()}function YH(e){return GK(e)&&3===e.nodeType}function GH(e){let t=e;for(;null!=t;){if(YH(t))return t;t=t.firstChild}return null}function XH(e,t,n){const r=rq[t];if(null!==n&&(e&r)==(n&r))return e;let a=e^r;return"subscript"===t?a&=~rq.superscript:"superscript"===t?a&=~rq.subscript:"lowercase"===t?(a&=~rq.uppercase,a&=~rq.capitalize):"uppercase"===t?(a&=~rq.lowercase,a&=~rq.capitalize):"capitalize"===t&&(a&=~rq.lowercase,a&=~rq.uppercase),a}function JH(e){return nW(e)||R$(e)||hH(e)}function ZH(e,t){const n=function(){const e=PH;return PH=null,e}();if(null!=(t=t||n&&n.__key))return void(e.__key=t);KW(),VW();const r=GW(),a=YW(),i=""+IH++;a._nodeMap.set(i,e),dH(e)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,e.__key=i}function QH(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),a=e.getPreviousSibling(),i=e.getNextSibling(),o=null!==i?i.__key:null,s=null!==a?a.__key:null,l=null!==a?a.getWritable():null,u=null!==i?i.getWritable():null;null===a&&(r.__first=o),null===i&&(r.__last=s),null!==l&&(l.__next=o),null!==u&&(u.__prev=s),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function eK(e){VW();const t=e.getLatest(),n=t.__parent,r=YW(),a=GW(),i=r._nodeMap,o=a._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,i,o);const s=t.__key;a._dirtyType=1,dH(e)?o.set(s,!0):a._dirtyLeaves.add(s)}function tK(e){KW();const t=GW(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=rK(n);null!==e&&e.getWritable()}if(null!==e){const t=rK(e);null!==t&&t.getWritable()}}}function nK(){return HW()?null:GW()._compositionKey}function rK(e,t){const n=(t||YW())._nodeMap.get(e);return void 0===n?null:n}function aK(e,t){const n=iK(e,GW());return void 0!==n?rK(n,t):null}function iK(e,t){return e[`__lexicalKey_${t._key}`]}function oK(e,t){let n=e;for(;null!=n;){const e=aK(n,t);if(null!==e)return e;n=PK(n)}return null}function sK(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function lK(e){return e.read(()=>uK().getTextContent())}function uK(){return cK(YW())}function cK(e){return e._nodeMap.get("root")}function dK(e){KW();const t=YW();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function fK(e){const t=GW(),n=function(e,t){let n=e;for(;null!=n;){const e=iK(n,t);if(void 0!==e)return e;n=PK(n)}return null}(e,t);return null===n?e===t.getRootElement()?rK("root"):null:rK(n)}function pK(e,t){return t?e.getTextContentSize():0}function hK(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function mK(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function gK(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function yK(e){return YH(e)?e.nodeValue:null}function vK(e,t,n){const r=KK(RK(t));if(null===r)return;const a=r.anchorNode;let{anchorOffset:i,focusOffset:o}=r;if(null!==a){let t=yK(a);const r=oK(a);if(null!==t&&nW(r)){if(t===XL&&n){const e=n.length;t=n,i=e,o=e}null!==t&&bK(r,t,i,o,e)}}}function bK(e,t,n,r,a){let i=e;if(i.isAttached()&&(a||!i.isDirty())){const o=i.isComposing();let s=t;(o||a)&&t[t.length-1]===XL&&(s=t.slice(0,-1));const l=i.getTextContent();if(a||s!==l){if(""===s){if(tK(null),PL||FL||zL)i.remove();else{const e=GW();setTimeout(()=>{e.update(()=>{i.isAttached()&&i.remove()})},20)}return}const t=i.getParent(),a=jW(),l=i.getTextContentSize(),u=nK(),c=i.getKey();if(i.isToken()||null!==u&&c===u&&!o||fW(a)&&(null!==t&&!t.canInsertTextBefore()&&0===a.anchor.offset||a.anchor.key===e.__key&&0===a.anchor.offset&&!i.canInsertTextBefore()&&!o||a.focus.key===e.__key&&a.focus.offset===l&&!i.canInsertTextAfter()&&!o))return void i.markDirty();const d=DW();if(!fW(d)||null===n||null===r)return void i.setTextContent(s);if(d.setTextNodeRange(i,n,i,r),i.isSegmented()){const e=tW(i.getTextContent());i.replace(e),i=e}i.setTextContent(s)}}}function xK(e,t,n){const r=t[n]||!1;return"any"===r||r===e[n]}function wK(e,t,n){return function(e,t){return xK(e,t,"altKey")&&xK(e,t,"ctrlKey")&&xK(e,t,"shiftKey")&&xK(e,t,"metaKey")}(e,n)&&e.key.toLowerCase()===t.toLowerCase()}const SK={ctrlKey:!OL,metaKey:OL},NK={altKey:OL,ctrlKey:!OL};function EK(e){return"Backspace"===e.key}function AK(e){return wK(e,"a",SK)}function CK(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const a=e[t];if("string"==typeof a){const e=LL(a);return n[t]=e,e}return a}function kK(e,t,n,r,a){if(0===n.size)return;const i=r.__type,o=r.__key,s=t.get(i);void 0===s&&_L(33,i);const l=s.klass;let u=e.get(l);void 0===u&&(u=new Map,e.set(l,u));const c=u.get(o),d="destroyed"===c&&"created"===a;(void 0===c||d)&&u.set(o,d?"updated":a)}function _K(e,t,n){const r=e.getParent();let a=n,i=e;return null!==r&&(t&&0===n?(a=i.getIndexWithinParent(),i=r):t||n!==i.getChildrenSize()||(a=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(t?a-1:a)}function DK(e,t){const n=e.offset;if("element"===e.type)return _K(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?_K(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function jK(e){const t=RK(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function OK(e,t,n){return function(e,t,n){const r=mK(e);for(let a=4;a>=0;a--)for(let i=0;i<r.length;i++){const o=r[i],s=o._commands.get(t);if(void 0!==s){const t=s[a];if(void 0!==t){const r=Array.from(t),a=r.length;let i=!1;if(sH(o,()=>{for(let t=0;t<a;t++)if(r[t](n,e))return void(i=!0)}),i)return i}}}return!1}(e,t,n)}function MK(e){return!gH(e)&&!e.isLastChild()&&!e.isInline()}function TK(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&_L(75,t),n}function PK(e){const t=e.assignedSlot||e.parentElement;return XK(t)?t.host:t}function FK(e){return function(e){return GK(e)&&9===e.nodeType}(e)?e:YK(e)?e.ownerDocument:null}function IK(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function BK(e){const t=FK(e);return t?t.defaultView:null}function RK(e){const t=e._window;return null===t&&_L(78),t}function zK(e){return dH(e)&&e.isInline()||hH(e)&&e.isInline()}function LK(e){return gH(e)||dH(e)&&e.isShadowRoot()}function qK(e){const t=e.constructor.clone(e);return ZH(t,null),t.afterCloneFrom(e),t}function UK(e){const t=GW(),n=e.getType(),r=RH(t,n);void 0===r&&_L(200,e.constructor.name,n);const{replace:a,replaceWithKlass:i}=r;if(null!==a){const t=a(e),r=t.constructor;return null!==i?t instanceof i||_L(201,i.name,i.getType(),r.name,r.getType(),e.constructor.name,n):t instanceof e.constructor&&r!==e.constructor||_L(202,r.name,r.getType(),e.constructor.name,n),t.__key===e.__key&&_L(203,e.constructor.name,n,r.name,r.getType()),t}return e}function $K(e,t){!gH(e.getParent())||dH(t)||hH(t)||_L(99)}function WK(e){return(hH(e)||dH(e)&&!e.canBeEmpty())&&!e.isInline()}function HK(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function KK(e){return DL?(e||window).getSelection():null}function VK(e){return YK(e)&&"A"===e.tagName}function YK(e){return GK(e)&&1===e.nodeType}function GK(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function XK(e){return GK(e)&&11===e.nodeType}function JK(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function ZK(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function QK(e){if(hH(e)&&!e.isInline())return!0;if(!dH(e)||LK(e))return!1;const t=e.getFirstChild(),n=null===t||R$(t)||nW(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function eV(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function tV(){return GW()}const nV=new WeakMap,rV=new Map;function aV(e){if(!e._readOnly&&e.isEmpty())return rV;e._readOnly||_L(192);let t=nV.get(e);return t||(t=function(e){const t=new Map;for(const[n,r]of e._nodeMap){const e=r.__type;let a=t.get(e);a||(a=new Map,t.set(e,a)),a.set(n,r)}return t}(e),nV.set(e,t)),t}function iV(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function oV(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function sV(e){return!0===e.__lexicalUnmanaged}function lV(e,t){return function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,t)&&e[t]!==P$[t]}function uV(e){const t=uq in e.prototype?e.prototype[uq]():void 0,n=function(e){return e===pH||e===cH||e===P$}(e),r=!n&&lV(e,"getType")?e.getType():void 0;let a,i=r;if(t)if(r)a=t[r];else for(const[o,s]of Object.entries(t))i=o,a=s;if(!n&&i&&(lV(e,"getType")||(e.getType=()=>i),lV(e,"clone")||(e.clone=t=>(FH(t),new e)),lV(e,"importJSON")||(e.importJSON=a&&a.$importJSON||(t=>(new e).updateFromJSON(t))),!lV(e,"importDOM")&&a)){const{importDOM:t}=a;t&&(e.importDOM=()=>t)}return{ownNodeConfig:a,ownNodeType:i}}const cV={next:"previous",previous:"next"};class dV{constructor(e){this.origin=e}[Symbol.iterator](){return FV({hasNext:bV,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return EV(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return EV(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const n=this.getNodeAtCaret();return e.is(this.origin)||e.is(n)||(null===n?this.insert(e):n.replace(e,t)),this}splice(e,t){const n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next")===this.direction?t:Array.from(t).reverse();let r=this;const a=this.getParentAtCaret(),i=new Map;for(let o=r.getAdjacentCaret();null!==o&&i.size<e;o=o.getAdjacentCaret()){const e=o.origin.getWritable();i.set(e.getKey(),e)}for(const o of n){if(i.size>0){const e=r.getNodeAtCaret();if(e)if(i.delete(e.getKey()),i.delete(o.getKey()),e.is(o)||r.origin.is(o));else{const t=o.getParent();t&&t.is(a)&&o.remove(),e.replace(o)}else null===e&&_L(263,Array.from(i).join(" "))}else r.insert(o);r=EV(o,this.direction)}for(const o of i.values())o.remove();return this}}class fV extends dV{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:_V(e,this.direction)}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return EV(mV(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=hV(this.direction);return EV(this.getNodeAtCaret(),e)||_V(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof fV&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const pV={root:gH,shadowRoot:LK};function hV(e){return cV[e]}function mV(e){return pV[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root"](e)?null:e}class gV extends dV{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:EV(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return dH(this.origin)?_V(this.origin,this.direction):null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return EV(mV(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=hV(this.direction);return EV(this.getNodeAtCaret(),e)||_V(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof gV&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof gV||e instanceof yV)&&this.direction===e.direction&&this.origin.is(e.origin)}}class yV extends dV{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:AV(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";return EV(mV(this.getParentAtCaret(),e),this.direction)}getFlipped(){return AV(this.origin,hV(this.direction),this.offset)}isSamePointCaret(e){return e instanceof yV&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof gV||e instanceof yV)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return EV(this.origin,this.direction)}}function vV(e){return e instanceof yV}function bV(e){return e instanceof gV}function xV(e){return e instanceof fV}const wV={next:class extends yV{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends yV{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},SV={next:class extends gV{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends gV{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},NV={next:class extends fV{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends fV{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function EV(e,t){return e?new SV[t](e):null}function AV(e,t,n){return e?new wV[t](e,CV(e,n)):null}function CV(e,t){const n=e.getTextContentSize();let r="next"===t?n:"previous"===t?0:t;return(r<0||r>n)&&(function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);t.search=n.toString(),console.warn(`Minified Lexical warning #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(t),String(n),e.getKey()),r=r<0?0:n),r}function kV(e,t){return new OV(e,t)}function _V(e,t){return dH(e)?new NV[t](e):null}function DV(e){return e&&function(e){return e&&e.getChildCaret()||e}(e.getAdjacentCaret())}class jV{type="node-caret-range";constructor(e,t,n){this.anchor=e,this.focus=t,this.direction=n}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new jV(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=e=>{const t=this[e].getLatest();return vV(t)?function(e,t){const{direction:n,origin:r}=e;return kV(e,CV(r,"focus"===t?hV(n):n)-e.offset)}(t,e):null},t=e("anchor"),n=e("focus");if(t&&n){const{caret:e}=t,{caret:r}=n;if(e.isSameNodeCaret(r))return[kV(e,r.offset-e.offset),null]}return[t,n]}iterNodeCarets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";const t=vV(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=vV(n),a=t=>t.isSameNodeCaret(n)?null:DV(t)||t.getParentCaret(e);return FV({hasNext:e=>null!==e&&!(r&&n.isSameNodeCaret(e)),initial:t.isSameNodeCaret(n)?null:a(t),map:e=>e,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class OV{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,n=t+e;return n<t?[n,t]:[t,n]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[n,r]=this.getSliceIndices(),a=e.getTextContent();return AV(e.setTextContent(a.slice(0,n)+a.slice(r)),t,n)}}function MV(e){return PV(e,EV(uK(),e.direction))}function TV(e){return PV(e,e)}function PV(e,t){return e.direction!==t.direction&&_L(265),new jV(e,t,e.direction)}function FV(e){const{initial:t,hasNext:n,step:r,map:a}=e;let i=t;return{[Symbol.iterator](){return this},next(){if(!n(i))return{done:!0,value:void 0};const e={done:!1,value:a(i)};return i=r(i),e}}}function IV(e,t){const n=LV(e.origin,t.origin);switch(null===n&&_L(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const n="text"===e.type,r="text"===t.type;return n&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:n?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return BV(n)}}function BV(e){const{a:t,b:n}=e,r=t.__key,a=n.__key;let i=t,o=n;for(;i&&o;i=i.getNextSibling(),o=o.getNextSibling()){if(i.__key===a)return-1;if(o.__key===r)return 1}return null===i?1:-1}function RV(e,t){return t.is(e)}function zV(e){return dH(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function LV(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[r,a]=zV(e);r;a=r,r=r.getParent())n.set(r,a);for(let[r,a]=zV(t);r;a=r,r=r.getParent()){const i=n.get(r);if(void 0!==i)return null===i?(RV(e,r)||_L(276),{commonAncestor:r,type:"ancestor"}):null===a?(RV(t,r)||_L(277),{commonAncestor:r,type:"descendant"}):((dH(i)||RV(e,i))&&(dH(a)||RV(t,a))&&r.is(i.getParent())&&r.is(a.getParent())||_L(278),{a:i,b:a,commonAncestor:r,type:"branch"})}return null}function qV(e,t){const{type:n,key:r,offset:a}=e,i=function(e){const t=rK(e);return null===t&&_L(63,e),t}(e.key);return"text"===n?(nW(i)||_L(266,i.getType(),r),AV(i,t,a)):(dH(i)||_L(267,i.getType(),r),function(e,t,n){let r=_V(e,"next");for(let a=0;a<t;a++){const e=r.getAdjacentCaret();if(null===e)break;r=e}return JV(r,n)}(i,e.offset,t))}function UV(e,t){const{origin:n,direction:r}=t,a="next"===r;vV(t)?e.set(n.getKey(),t.offset,"text"):bV(t)?nW(n)?e.set(n.getKey(),CV(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(a?1:0),"element"):(xV(t)&&dH(n)||_L(268),e.set(n.getKey(),a?0:n.getChildrenSize(),"element"))}function $V(e){const t=DW(),n=fW(t)?t:CW();return WV(n,e),dK(n),n}function WV(e,t){UV(e.anchor,t.anchor),UV(e.focus,t.focus)}function HV(e){const{anchor:t,focus:n}=e,r=qV(t,"next"),a=qV(n,"next"),i=IV(r,a)<=0?"next":"previous";return PV(JV(r,i),JV(a,i))}function KV(e){const{direction:t,origin:n}=e,r=EV(n,hV(t)).getNodeAtCaret();return r?EV(r,t):_V(n.getParentOrThrow(),t)}function VV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root";const n=[e];for(let r=xV(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))n.push(KV(r));return n}function YV(e){return!!e&&e.origin.isAttached()}function GV(e){const t=function(e){let t=e;for(;xV(t);){const e=DV(t);if(!xV(e))break;t=e}return t}(e.getLatest()),{direction:n}=t;if(nW(t.origin))return vV(t)?t:AV(t.origin,n,n);const r=t.getAdjacentCaret();return bV(r)&&nW(r.origin)?AV(r.origin,n,hV(n)):t}function XV(e){return vV(e)&&e.offset!==CV(e.origin,e.direction)}function JV(e,t){return e.direction===t?e:e.getFlipped()}function ZV(e,t){return e.direction===t?e:PV(JV(e.focus,t),JV(e.anchor,t))}function QV(e){const{origin:t,offset:n,direction:r}=e;if(n===CV(t,r))return e.getSiblingCaret();if(n===CV(t,hV(r)))return KV(e.getSiblingCaret());const[a]=t.splitText(n);return nW(a)||_L(281),JV(EV(a,"next"),r)}function eY(e,t){return!0}function tY(e){let{$copyElementNode:t=qK,$splitTextPointCaretNext:n=QV,rootMode:r="shadowRoot",$shouldSplit:a=eY}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(vV(e))return n(e);const i=e.getParentCaret(r);if(i){const{origin:n}=i;if(xV(e)&&(!n.canBeEmpty()||!a(n,"first")))return KV(i);const r=function(e){const t=[];for(let n=e.getAdjacentCaret();n;n=n.getAdjacentCaret())t.push(n.origin);return t}(e);(r.length>0||n.canBeEmpty()&&a(n,"last"))&&i.insert(t(n).splice(0,0,r))}return i}const nY="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,rY=nY?r.useLayoutEffect:r.useEffect,aY={tag:SH};function iY(e){let{initialConfig:t,children:n}=e;const a=(0,r.useMemo)(()=>{const{theme:e,namespace:n,nodes:r,onError:a,editorState:i,html:o}=t,s=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}}(null,e),l=MH({editable:t.editable,html:o,namespace:n,nodes:r,onError:e=>a(e,l),theme:e});return function(e,t){if(null!==t)if(void 0===t)e.update(()=>{const t=uK();if(t.isEmpty()){const n=DH();t.append(n);const r=nY?document.activeElement:null;(null!==DW()||null!==r&&r===e.getRootElement())&&n.select()}},aY);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,aY);break}case"object":e.setEditorState(t,aY);break;case"function":e.update(()=>{uK().isEmpty()&&t(e)},aY)}}(l,i),[l,s]},[]);return rY(()=>{const e=t.editable,[n]=a;n.setEditable(void 0===e||e)},[]),(0,o.jsx)(CL.Provider,{value:a,children:n})}const oY="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function sY(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function lY(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return!1;let n=uK().getTextContent();return t&&(n=n.trim()),""===n}function uY(e){return()=>function(e){if(!lY(e,!1))return!1;const t=uK().getChildren(),n=t.length;if(n>1)return!1;for(let r=0;r<n;r++){const e=t[r];if(hH(e))return!1;if(dH(e)){if(!jH(e))return!1;if(0!==e.__indent)return!1;const t=e.getChildren(),n=t.length;for(let e=0;e<n;e++)if(!nW(t[r]))return!1}}return!0}(e)}function cY(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const dY="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,fY=dY&&"documentMode"in document?document.documentMode:null,pY=(dY&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),dY&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!dY||!("InputEvent"in window)||fY)&&new window.InputEvent("input"),dY&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),dY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,dY&&/Android/.test(navigator.userAgent),dY&&/^(?=.*Chrome).*/i.test(navigator.userAgent));dY&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function hY(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)if(a&&"string"==typeof a)for(const[t]of a.matchAll(/\S+/g))e.push(t);return e}function mY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function gY(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=hY(...n);a.length>0&&e.classList.add(...a)}function yY(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const a=hY(...n);a.length>0&&e.classList.remove(...a)}function vY(e){return e?e.getAdjacentCaret():null}function bY(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null}const xY=(e,t)=>{let n=e;for(;n!==uK()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};function wY(e){const t=DW()||jW();let n;if(fW(t))n=qV(t.focus,"next");else{if(null!=t){const e=t.getNodes(),r=e[e.length-1];r&&(n=EV(r,"next"))}n=n||_V(uK(),"previous").getFlipped().insert(DH())}const r=function(e,t,n){let r=JV(t,"next");for(let a=r;a;a=tY(a,n))r=a;return vV(r)&&cY(283),r.insert(e.isInline()?DH().append(e):e),JV(EV(e.getLatest(),"next"),t.direction)}(e,n),a=DV(r);return $V(TV(xV(a)?GV(a):r)),e.getLatest()}function SY(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function NY(e,t){_V(e,"next").insert(t)}function EY(e,t){return AY(e,t,null)}function AY(e,t,n){let r=!1;for(const a of kY(e))t(a)?null!==n&&n(a):(r=!0,dH(a)&&AY(a,t,n||(e=>a.insertAfter(e))),a.remove());return r}function CY(e,t){const n=[],r=Array.from(e).reverse();for(let a=r.pop();void 0!==a;a=r.pop())if(t(a))n.push(a);else if(dH(a))for(const e of kY(a))r.push(e);return n}function kY(e){return _Y(_V(e,"previous"))}function _Y(e){return FV({hasNext:bV,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}const DY=new Map;function jY(e){const t={};if(!e)return t;const n=e.split(";");for(const r of n)if(""!==r){const[e,n]=r.split(/:([^]+)/);e&&n&&(t[e.trim()]=n.trim())}return t}function OY(e){let t=DY.get(e);return void 0===t&&(t=jY(e),DY.set(e,t)),t}function MY(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!VH(t)&&null!==n){const[r,a]=n,i=e.isBackward(),o=r.getNode(),s=a.getNode(),l=t.is(o),u=t.is(s);if(l||u){const[n,r]=gW(e),a=o.is(s),l=t.is(i?s:o),u=t.is(i?o:s);let c,d=0;a?(d=n>r?r:n,c=n>r?n:r):l?(d=i?r:n,c=void 0):u&&(d=0,c=i?n:r),t.__text=t.__text.slice(d,c)}}return t}function TY(e){const t=e.getStyle(),n=jY(t);DY.set(t,n)}function PY(e){const t=e.anchor.getNode(),n=gH(t)?t:t.getParentOrThrow(),r=tV().getElementByKey(n.getKey());if(null===r)return!1;const a=r.ownerDocument.defaultView;return null!==a&&"vertical-rl"===a.getComputedStyle(r).writingMode}function FY(e,t){const n=PY(e)?!t:t,r=qV(e.focus,n?"previous":"next");if(XV(r))return!1;for(const a of MV(r)){if(xV(a))return!a.origin.isInline();if(!dH(a.origin)){if(hH(a.origin))return!0;break}}return!1}function IY(e,t,n){const r=function(e){const t=e.anchor.getNode();return"rtl"===(gH(t)?t:t.getParentOrThrow()).getDirection()}(e);let a;a=PY(e)||r?!n:n,function(e,t,n,r){e.modify(t?"extend":"move",n,r)}(e,t,a,"character")}function BY(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null===r||t.isSelected(r);const i=dH(t)&&t.excludeFromCopy("html");let o=t;if(null!==r){let e=iV(t);e=nW(e)&&null!==r?MY(r,e):e,o=e}const s=dH(o)?o.getChildren():[],l=RH(e,o.getType());let u;u=l&&void 0!==l.exportDOM?l.exportDOM(e,o):o.exportDOM(e);const{element:c,after:d}=u;if(!c)return!1;const f=document.createDocumentFragment();for(let p=0;p<s.length;p++){const n=s[p],i=BY(e,n,f,r);!a&&dH(t)&&i&&t.extractWithChild(n,r,"html")&&(a=!0)}if(a&&!i){if((YK(c)||XK(c))&&c.append(f),n.append(c),d){const e=d.call(o,c);e&&(XK(c)?c.replaceChildren(e):c.replaceWith(e))}}else n.append(f);return a}const RY=new Set(["STYLE","SCRIPT"]);function zY(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Map,i=arguments.length>5?arguments[5]:void 0,o=[];if(RY.has(e.nodeName))return o;let s=null;const l=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let a=null;if(void 0!==r)for(const i of r){const t=i(e);null!==t&&(null===a||(a.priority||0)<=(t.priority||0))&&(a=t)}return null!==a?a.conversion:null}(e,t),u=l?l(e):null;let c=null;if(null!==u){c=u.after;const t=u.node;if(s=Array.isArray(t)?t[t.length-1]:t,null!==s){for(const[,e]of a)if(s=e(s,i),!s)break;s&&o.push(...Array.isArray(t)?t:[s])}null!=u.forChild&&a.set(e.nodeName,u.forChild)}const d=e.childNodes;let f=[];const p=(null==s||!LK(s))&&(null!=s&&EW(s)||r);for(let h=0;h<d.length;h++)f.push(...zY(d[h],t,n,p,new Map(a),s));return null!=c&&(f=c(f)),ZK(e)&&(f=function(e,t,n){const r=e.style.textAlign,a=[];let i=[];for(let o=0;o<t.length;o++){const e=t[o];if(EW(e))r&&!e.getFormat()&&e.setFormat(r),a.push(e);else if(i.push(e),o===t.length-1||o<t.length-1&&EW(t[o+1])){const e=n();e.setFormat(r),e.append(...i),a.push(e),i=[]}}return a}(e,f,p?()=>{const e=new CH;return n.push(e),e}:DH)),null==s?f.length>0?o=o.concat(f):ZK(e)&&function(e){return null!=e.nextSibling&&null!=e.previousSibling&&(JK(e.nextSibling)&&JK(e.previousSibling))}(e)&&(o=o.concat(B$())):dH(s)&&s.append(...f),o}function LY(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function qY(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const e=JSON.parse(r);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes))return UY(n,function(e){const t=[];for(let n=0;n<e.length;n++){const r=eH(e[n]);nW(r)&&TY(r),t.push(r)}return t}(e.nodes),t)}catch(e){}const a=e.getData("text/html"),i=e.getData("text/plain");if(a&&i!==a)try{return UY(n,function(e,t){const n=t.body?t.body.childNodes:[];let r=[];const a=[];for(let i=0;i<n.length;i++){const t=n[i];if(!RY.has(t.nodeName)){const n=zY(t,e,a,!1);null!==n&&(r=r.concat(n))}}return function(e){for(const t of e)t.getNextSibling()instanceof CH&&t.insertAfter(B$());for(const t of e){const e=t.getChildren();for(const n of e)t.insertBefore(n);t.remove()}}(a),r}(n,(new DOMParser).parseFromString(function(e){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:e=>e}).createHTML(e):e}(a),"text/html")),t)}catch(e){}const o=i||e.getData("text/uri-list");if(null!=o)if(fW(t)){const e=o.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const n=DW();if(fW(n)){const r=e[t];"\n"===r||"\r\n"===r?n.insertParagraph():"\t"===r?n.insertNodes([iW()]):n.insertText(r)}}}else t.insertRawText(o)}function UY(e,t,n){e.dispatchCommand(gU,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(fW(e)&&e.isCollapsed()){let t=null;const n=qV(e.anchor,"previous");if(n)if(vV(n))t=n.origin;else{const e=PV(n,_V(uK(),"next").getFlipped());for(const n of e){if(nW(n.origin)){t=n.origin;break}if(dH(n.origin)&&!n.origin.isInline())break}}if(t&&nW(t)){const n=t.getFormat(),r=t.getStyle();e.format===n&&e.style===r||(e.format=n,e.style=r,e.dirty=!0)}}}(n))}function $Y(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=null===t||n.isSelected(t);const i=dH(n)&&n.excludeFromCopy("html");let o=n;if(null!==t){let e=iV(n);e=nW(e)&&null!==t?MY(t,e):e,o=e}const s=dH(o)?o.getChildren():[],l=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&LY(58,n.name),dH(e)){const e=t.children;Array.isArray(e)||LY(59,n.name)}return t}(o);if(nW(o)){const e=o.__text;e.length>0?l.text=e:a=!1}for(let u=0;u<s.length;u++){const r=s[u],i=$Y(e,t,r,l.children);!a&&dH(n)&&i&&n.extractWithChild(r,t,"clone")&&(a=!0)}if(a&&!i)r.push(l);else if(Array.isArray(l.children))for(let u=0;u<l.children.length;u++){const e=l.children[u];r.push(e)}return a}let WY=null;async function HY(e,t,n){if(null!==WY)return!1;if(null!==t)return new Promise((r,a)=>{e.update(()=>{r(KY(e,t,n))})});const r=e.getRootElement(),a=e._window||window,i=window.document,o=KK(a);if(null===r||null===o)return!1;const s=i.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(i.createTextNode("#")),r.append(s);const l=new Range;return l.setStart(s,0),l.setEnd(s,1),o.removeAllRanges(),o.addRange(l),new Promise((t,r)=>{const a=e.registerCommand(XU,r=>(SY(r,ClipboardEvent)&&(a(),null!==WY&&(window.clearTimeout(WY),WY=null),t(KY(e,r,n))),!0),4);WY=window.setTimeout(()=>{a(),WY=null,t(!1)},50),i.execCommand("copy"),s.remove()})}function KY(e,t,n){if(void 0===n){const t=KK(e._window);if(!t)return!1;const r=t.anchorNode,a=t.focusNode;if(null!==r&&null!==a&&!UH(e,r,a))return!1;const i=DW();if(null===i)return!1;n=YY(i)}t.preventDefault();const r=t.clipboardData;return null!==r&&(function(e,t){for(const n in t){const r=t[n];void 0!==r&&e.setData(n,r)}}(r,n),!0)}const VY=[["text/html",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DW();return null==t&&LY(166),fW(t)&&t.isCollapsed()||0===t.getNodes().length?"":function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=uK().getChildren();for(let a=0;a<r.length;a++)BY(e,r[a],n,t);return n.innerHTML}(e,t)}],["application/x-lexical-editor",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DW();return null==t&&LY(166),fW(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(function(e,t){const n=[],r=uK().getChildren();for(let a=0;a<r.length;a++)$Y(e,t,r[a],n);return{namespace:e._config.namespace,nodes:n}}(e,t))}]];function YY(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DW();const t={"text/plain":e?e.getTextContent():""};if(e){const n=tV();for(const[r,a]of VY){const i=a(n,e);null!==i&&(t[r]=i)}}return t}function GY(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const XY="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,JY=XY&&"documentMode"in document?document.documentMode:null,ZY=!(!XY||!("InputEvent"in window)||JY)&&"getTargetRanges"in new window.InputEvent("input"),QY=XY&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),eG=XY&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,tG=XY&&/^(?=.*Chrome).*/i.test(navigator.userAgent),nG=XY&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!tG,rG=hU("DRAG_DROP_PASTE_FILE");class aG extends cH{static getType(){return"quote"}static clone(e){return new aG(e.__key)}createDOM(e){const t=document.createElement("blockquote");return gY(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:uG,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(YK(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return iG().updateFromJSON(e)}insertNewAfter(e,t){const n=DH(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=DH();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function iG(){return UK(new aG)}class oG extends cH{static getType(){return"heading"}static clone(e){return new oG(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,n=document.createElement(t),r=e.theme.heading;if(void 0!==r){gY(n,r[t])}return n}updateDOM(e,t,n){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:lG,priority:0}),h2:e=>({conversion:lG,priority:0}),h3:e=>({conversion:lG,priority:0}),h4:e=>({conversion:lG,priority:0}),h5:e=>({conversion:lG,priority:0}),h6:e=>({conversion:lG,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&sG(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>sG(e)?{conversion:e=>({node:cG("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(YK(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();e&&(t.style.textAlign=e);const n=this.getDirection();n&&(t.dir=n)}return{element:t}}static importJSON(e){return cG(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e?e.anchor.offset:0,r=this.getLastDescendant(),a=!r||e&&e.anchor.key===r.getKey()&&n===r.getTextContentSize()||!e?DH():cG(this.getTag()),i=this.getDirection();if(a.setDirection(i),this.insertAfter(a,t),0===n&&!this.isEmpty()&&e){const e=DH();e.select(),this.replace(e,!0)}return a}collapseAtStart(){const e=this.isEmpty()?DH():cG(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function sG(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function lG(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=cG(t),null!==e.style&&(oV(e,n),n.setFormat(e.style.textAlign))),{node:n}}function uG(e){const t=iG();return null!==e.style&&(t.setFormat(e.style.textAlign),oV(e,t)),{node:t}}function cG(){return UK(new oG(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"h1"))}function dG(e){let t=null;if(SY(e,DragEvent)?t=e.dataTransfer:SY(e,ClipboardEvent)&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),a=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),a]}function fG(e){const t=DW();if(!fW(t))return!1;const n=new Set,r=t.getNodes();for(let a=0;a<r.length;a++){const t=r[a],i=t.getKey();if(n.has(i))continue;const o=xY(t,e=>dH(e)&&!e.isInline());if(null===o)continue;const s=o.getKey();o.canIndent()&&!n.has(s)&&(n.add(s),e(o))}return n.size>0}function pG(e){return hH(oK(e))}function hG(e){for(const t of["lowercase","uppercase","capitalize"])e.hasFormat(t)&&e.toggleFormat(t)}function mG(e){return mY(e.registerCommand(yU,e=>{const t=DW();return!!hW(t)&&(t.clear(),!0)},0),e.registerCommand(vU,e=>{const t=DW();return fW(t)?(t.deleteCharacter(e),!0):!!hW(t)&&(t.deleteNodes(),!0)},0),e.registerCommand(EU,e=>{const t=DW();return!!fW(t)&&(t.deleteWord(e),!0)},0),e.registerCommand(AU,e=>{const t=DW();return!!fW(t)&&(t.deleteLine(e),!0)},0),e.registerCommand(wU,t=>{const n=DW();if("string"==typeof t)null!==n&&n.insertText(t);else{if(null===n)return!1;const r=t.dataTransfer;if(null!=r)qY(r,n,e);else if(fW(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0},0),e.registerCommand(NU,()=>{const e=DW();return!!fW(e)&&(e.removeText(),!0)},0),e.registerCommand(CU,e=>{const t=DW();return!!fW(t)&&(t.formatText(e),!0)},0),e.registerCommand(KU,e=>{const t=DW();if(!fW(t)&&!hW(t))return!1;const n=t.getNodes();for(const r of n){const t=xY(r,e=>dH(e)&&!e.isInline());null!==t&&t.setFormat(e)}return!0},0),e.registerCommand(bU,e=>{const t=DW();return!!fW(t)&&(t.insertLineBreak(e),!0)},0),e.registerCommand(xU,()=>{const e=DW();return!!fW(e)&&(e.insertParagraph(),!0)},0),e.registerCommand(UU,()=>(function(e){let t=DW()||jW();null===t&&(t=uK().selectEnd()),t.insertNodes(e)}([iW()]),!0),0),e.registerCommand($U,()=>fG(e=>{const t=e.getIndent();e.setIndent(t+1)}),0),e.registerCommand(WU,()=>fG(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),0),e.registerCommand(PU,e=>{const t=DW();if(hW(t)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(fW(t)){const n=DK(t.focus,!0);if(!e.shiftKey&&hH(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0}return!1},0),e.registerCommand(FU,e=>{const t=DW();if(hW(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(fW(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===uK().getChildrenSize()}(t))return e.preventDefault(),!0;const n=DK(t.focus,!1);if(!e.shiftKey&&hH(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},0),e.registerCommand(MU,e=>{const t=DW();if(hW(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectPrevious(),!0}if(!fW(t))return!1;if(FY(t,!0)){const n=e.shiftKey;return e.preventDefault(),IY(t,n,!0),!0}return!1},0),e.registerCommand(jU,e=>{const t=DW();if(hW(t)){const n=t.getNodes();if(n.length>0)return e.preventDefault(),n[0].selectNext(0,0),!0}if(!fW(t))return!1;const n=e.shiftKey;return!!FY(t,!1)&&(e.preventDefault(),IY(t,n,!1),!0)},0),e.registerCommand(RU,t=>{if(pG(t.target))return!1;const n=DW();if(fW(n)){if(function(e){if(!e.isCollapsed())return!1;const{anchor:t}=e;if(0!==t.offset)return!1;const n=t.getNode();if(gH(n))return!1;const r=function(e){const t=xY(e,e=>dH(e)&&!e.isInline());return dH(t)||cY(4,e.__key),t}(n);return r.getIndent()>0&&(r.is(n)||n.is(r.getFirstDescendant()))}(n))return t.preventDefault(),e.dispatchCommand(WU,void 0);if(eG&&"ko-KR"===navigator.language)return!1}else if(!hW(n))return!1;return t.preventDefault(),e.dispatchCommand(vU,!0)},0),e.registerCommand(LU,t=>{if(pG(t.target))return!1;const n=DW();return!(!fW(n)&&!hW(n))&&(t.preventDefault(),e.dispatchCommand(vU,!1))},0),e.registerCommand(IU,t=>{const n=DW();if(!fW(n))return!1;if(hG(n),null!==t){if((eG||QY||nG)&&ZY)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(bU,!1)}return e.dispatchCommand(xU,void 0)},0),e.registerCommand(zU,()=>!!fW(DW())&&(e.blur(),!0),0),e.registerCommand(HU,t=>{const[,n]=dG(t);if(n.length>0){const r=GY(t.clientX,t.clientY);if(null!==r){const{offset:t,node:a}=r,i=oK(a);if(null!==i){const e=CW();if(nW(i))e.anchor.set(i.getKey(),t,"text"),e.focus.set(i.getKey(),t,"text");else{const t=i.getParentOrThrow().getKey(),n=i.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}dK(Mq(e))}e.dispatchCommand(rG,n)}return t.preventDefault(),!0}return!!fW(DW())},0),e.registerCommand(VU,e=>{const[t]=dG(e),n=DW();return!(t&&!fW(n))},0),e.registerCommand(YU,e=>{const[t]=dG(e),n=DW();if(t&&!fW(n))return!1;const r=GY(e.clientX,e.clientY);if(null!==r){hH(oK(r.node))&&e.preventDefault()}return!0},0),e.registerCommand(ZU,()=>(function(e){const t=uK();if(fW(e)){const t=e.anchor,n=e.focus,r=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(r.getKey(),0,"element"),n.set(r.getKey(),r.getChildrenSize(),"element"),Mq(e),e}{const e=t.select(0,t.getChildrenSize());dK(Mq(e))}}(),!0),0),e.registerCommand(XU,t=>(HY(e,SY(t,ClipboardEvent)?t:null),!0),0),e.registerCommand(JU,t=>(async function(e,t){await HY(t,SY(e,ClipboardEvent)?e:null),t.update(()=>{const e=DW();fW(e)?e.removeText():hW(e)&&e.getNodes().forEach(e=>e.remove())})}(t,e),!0),0),e.registerCommand(SU,t=>{const[,n,r]=dG(t);return n.length>0&&!r?(e.dispatchCommand(rG,n),!0):(!GK(t.target)||!qH(t.target))&&(null!==DW()&&(function(e,t){e.preventDefault(),t.update(()=>{const n=DW(),r=SY(e,InputEvent)||SY(e,KeyboardEvent)?null:e.clipboardData;null!=r&&null!==n&&qY(r,n,t)},{tag:"paste"})}(t,e),!0))},0),e.registerCommand(BU,e=>{const t=DW();return fW(t)&&hG(t),!1},0),e.registerCommand(qU,e=>{const t=DW();return fW(t)&&hG(t),!1},0))}const gG="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function yG(e){return e.getEditorState().read(uY(e.isComposing()))}function vG(e){let{contentEditable:t,placeholder:n=null,ErrorBoundary:a}=e;const[s]=kL(),l=function(e,t){const[n,a]=(0,r.useState)(()=>e.getDecorators());return gG(()=>e.registerDecoratorListener(e=>{(0,i.flushSync)(()=>{a(e)})}),[e]),(0,r.useEffect)(()=>{a(e.getDecorators())},[e]),(0,r.useMemo)(()=>{const a=[],s=Object.keys(n);for(let l=0;l<s.length;l++){const u=s[l],c=(0,o.jsx)(t,{onError:t=>e._onError(t),children:(0,o.jsx)(r.Suspense,{fallback:null,children:n[u]})}),d=e.getElementByKey(u);null!==d&&a.push((0,i.createPortal)(c,d,u))}return a},[t,n,e])}(s,a);return function(e){gG(()=>mY(mG(e),function(e){const n=window.location.origin,r=r=>{if(r.origin!==n)return;const a=e.getRootElement();if(document.activeElement!==a)return;const i=r.data;if("string"==typeof i){let n;try{n=JSON.parse(i)}catch(t){return}if(n&&"nuanria_messaging"===n.protocol&&"request"===n.type){const t=n.payload;if(t&&"makeChanges"===t.functionId){const n=t.args;if(n){const[t,a,i,o,s,l]=n;e.update(()=>{const e=DW();if(fW(e)){const n=e.anchor;let l=n.getNode(),u=0,c=0;if(nW(l)&&t>=0&&a>=0&&(u=t,c=t+a,e.setTextNodeRange(l,u,l,c)),u===c&&""===i||(e.insertRawText(i),l=n.getNode()),nW(l)){u=o,c=o+s;const t=l.getTextContentSize();u=u>t?t:u,c=c>t?t:c,e.setTextNodeRange(l,u,l,c)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}(e)),[e])}(s),(0,o.jsxs)(o.Fragment,{children:[t,(0,o.jsx)(bG,{content:n}),l]})}function bG(e){let{content:t}=e;const[n]=kL(),a=function(e){const[t,n]=(0,r.useState)(()=>yG(e));return gG(()=>{function t(){const t=yG(e);n(t)}return t(),mY(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(n),i=function(e){const[t]=kL(),n=(0,r.useMemo)(()=>e(t),[t,e]),[a,i]=(0,r.useState)(()=>n.initialValueFn()),o=(0,r.useRef)(a);return oY(()=>{const{initialValueFn:e,subscribe:t}=n,r=e();return o.current!==r&&(o.current=r,i(r)),t(e=>{o.current=e,i(e)})},[n,e]),a}(sY);return a?"function"==typeof t?t(i):t:null}const xG="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;const wG=(0,r.forwardRef)(function(e,t){let{editor:n,ariaActiveDescendant:a,ariaAutoComplete:i,ariaControls:s,ariaDescribedBy:l,ariaErrorMessage:u,ariaExpanded:c,ariaInvalid:d,ariaLabel:f,ariaLabelledBy:p,ariaMultiline:h,ariaOwns:m,ariaRequired:g,autoCapitalize:y,className:v,id:b,role:x="textbox",spellCheck:w=!0,style:S,tabIndex:N,"data-testid":E,...A}=e;const[C,k]=(0,r.useState)(n.isEditable()),_=(0,r.useCallback)(e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView?n.setRootElement(e):n.setRootElement(null)},[n]),D=(0,r.useMemo)(()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}}(t,_),[_,t]);return xG(()=>(k(n.isEditable()),n.registerEditableListener(e=>{k(e)})),[n]),(0,o.jsx)("div",{"aria-activedescendant":C?a:void 0,"aria-autocomplete":C?i:"none","aria-controls":C?s:void 0,"aria-describedby":l,...null!=u?{"aria-errormessage":u}:{},"aria-expanded":C&&"combobox"===x?!!c:void 0,...null!=d?{"aria-invalid":d}:{},"aria-label":f,"aria-labelledby":p,"aria-multiline":h,"aria-owns":C?m:void 0,"aria-readonly":!C||void 0,"aria-required":g,autoCapitalize:y,className:v,contentEditable:C,"data-testid":E,id:b,ref:D,role:x,spellCheck:w,style:S,tabIndex:N,...A})});function SG(e){return e.getEditorState().read(uY(e.isComposing()))}const NG=(0,r.forwardRef)(function(e,t){const{placeholder:n,...r}=e,[a]=kL();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(wG,{editor:a,...r,ref:t}),null!=n&&(0,o.jsx)(EG,{editor:a,content:n})]})});function EG(e){let{content:t,editor:n}=e;const a=function(e){const[t,n]=(0,r.useState)(()=>SG(e));return xG(()=>{function t(){const t=SG(e);n(t)}return t(),mY(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(n),[i,s]=(0,r.useState)(n.isEditable());if((0,r.useLayoutEffect)(()=>(s(n.isEditable()),n.registerEditableListener(e=>{s(e)})),[n]),!a)return null;let l=null;return"function"==typeof t?l=t(i):null!==t&&(l=t),null===l?null:(0,o.jsx)("div",{"aria-hidden":!0,children:l})}function AG(e,t){let n=Date.now(),r=0;return(a,i,o,s,l,u)=>{const c=Date.now();if(u.has(wH))return r=0,n=c,2;const d=function(e,t,n,r,a){if(null===e||0===n.size&&0===r.size&&!a)return 0;const i=t._selection,o=e._selection;if(a)return 1;if(!(fW(i)&&fW(o)&&o.isCollapsed()&&i.isCollapsed()))return 0;const s=function(e,t,n){const r=e._nodeMap,a=[];for(const i of t){const e=r.get(i);void 0!==e&&a.push(e)}for(const[i,o]of n){if(!o)continue;const e=r.get(i);void 0===e||gH(e)||a.push(e)}return a}(t,n,r);if(0===s.length)return 0;if(s.length>1){const n=t._nodeMap,r=n.get(i.anchor.key),a=n.get(o.anchor.key);return r&&a&&!e._nodeMap.has(r.__key)&&nW(r)&&1===r.__text.length&&1===i.anchor.offset?2:0}const l=s[0],u=e._nodeMap.get(l.__key);if(!nW(u)||!nW(l)||u.__mode!==l.__mode)return 0;const c=u.__text,d=l.__text;if(c===d)return 0;const f=i.anchor,p=o.anchor;if(f.key!==p.key||"text"!==f.type)return 0;const h=f.offset,m=p.offset,g=d.length-c.length;return 1===g&&m===h-1?2:-1===g&&m===h+1?3:-1===g&&m===h?4:0}(a,i,s,l,e.isComposing()),f=(()=>{const f=null===o||o.editor===e,p=u.has("history-push");if(!p&&f&&u.has(SH))return 0;if(null===a)return 1;const h=i._selection;return s.size>0||l.size>0?!1===p&&0!==d&&d===r&&c<n+t&&f||1===s.size&&function(e,t,n){const r=t._nodeMap.get(e),a=n._nodeMap.get(e),i=t._selection,o=n._selection;return!(fW(i)&&fW(o)&&"element"===i.anchor.type&&"element"===i.focus.type&&"text"===o.anchor.type&&"text"===o.focus.type||!nW(r)||!nW(a)||r.__parent!==a.__parent)&&JSON.stringify(t.read(()=>r.exportJSON()))===JSON.stringify(n.read(()=>a.exportJSON()))}(Array.from(s)[0],a,i)?0:1:null!==h?0:2})();return n=c,r=d,f}}function CG(e){e.undoStack=[],e.redoStack=[],e.current=null}function kG(e){let{delay:t,externalHistoryState:n}=e;const[a]=kL();return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const a=(0,r.useMemo)(()=>t||{current:null,redoStack:[],undoStack:[]},[t]);(0,r.useEffect)(()=>function(e,t,n){const r=AG(e,n),a=mY(e.registerCommand(kU,()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==r.length){const a=t.current,i=r.pop();null!==a&&(n.push(a),e.dispatchCommand(t$,!0)),0===r.length&&e.dispatchCommand(n$,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:wH})}}(e,t),!0),0),e.registerCommand(_U,()=>(function(e,t){const n=t.redoStack,r=t.undoStack;if(0!==n.length){const a=t.current;null!==a&&(r.push(a),e.dispatchCommand(n$,!0));const i=n.pop();0===n.length&&e.dispatchCommand(t$,!1),t.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:wH})}}(e,t),!0),0),e.registerCommand(QU,()=>(CG(t),!1),0),e.registerCommand(e$,()=>(CG(t),e.dispatchCommand(t$,!1),e.dispatchCommand(n$,!1),!0),0),e.registerUpdateListener(n=>{let{editorState:a,prevEditorState:i,dirtyLeaves:o,dirtyElements:s,tags:l}=n;const u=t.current,c=t.redoStack,d=t.undoStack,f=null===u?null:u.editorState;if(null!==u&&a===f)return;const p=r(i,a,u,o,s,l);if(1===p)0!==c.length&&(t.redoStack=[],e.dispatchCommand(t$,!1)),null!==u&&(d.push({...u}),e.dispatchCommand(n$,!0));else if(2===p)return;t.current={editor:e,editorState:a}}));return a}(e,a,n),[n,e,a])}(a,n,t),null}const _G="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;function DG(e){let{ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:n=!1,onChange:r}=e;const[a]=kL();return _G(()=>{if(r)return a.registerUpdateListener(e=>{let{editorState:i,dirtyElements:o,dirtyLeaves:s,prevEditorState:l,tags:u}=e;n&&0===o.size&&0===s.size||t&&u.has(SH)||l.isEmpty()||r(i,a,u)})},[a,t,n,r]),null}function jG(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function OG(e){let t=1,n=e.getParent();for(;null!=n;){if(XG(n)){const e=n.getParent();if(rX(e)){t++,n=e.getParent();continue}jG(40)}return t}return t}function MG(e){let t=e.getParent();rX(t)||jG(40);let n=t;for(;null!==n;)n=n.getParent(),rX(n)&&(t=n);return t}function TG(e){let t=[];const n=e.getChildren().filter(XG);for(let r=0;r<n.length;r++){const e=n[r],a=e.getFirstChild();rX(a)?t=t.concat(TG(a)):t.push(e)}return t}function PG(e){return XG(e)&&rX(e.getFirstChild())}function FG(e){return GG().append(e)}function IG(e,t){return XG(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function BG(e){const t=DW();if(null!==t){let n=t.getNodes();if(fW(t)){const r=t.getStartEndPoints();null===r&&jG(143);const[a]=r,i=a.getNode(),o=i.getParent();if(LK(i)){const e=i.getFirstChild();if(e)n=e.selectStart().getNodes();else{const e=DH();i.append(e),n=e.select().getNodes()}}else if(IG(i,n)){const t=nX(e);if(LK(o)){i.replace(t);const e=GG();dH(i)&&(e.setFormat(i.getFormatType()),e.setIndent(i.getIndent())),t.append(e)}else if(XG(i)){const e=i.getParentOrThrow();RG(t,e.getChildren()),e.replace(t)}return}}const r=new Set;for(let t=0;t<n.length;t++){const a=n[t];if(dH(a)&&a.isEmpty()&&!XG(a)&&!r.has(a.getKey())){zG(a,e);continue}let i=JH(a)?a.getParent():XG(a)&&a.isEmpty()?a:null;for(;null!=i;){const t=i.getKey();if(rX(i)){if(!r.has(t)){const n=nX(e);RG(n,i.getChildren()),i.replace(n),r.add(t)}break}{const n=i.getParent();if(LK(n)&&!r.has(t)){r.add(t),zG(i,e);break}i=n}}}}}function RG(e,t){e.splice(e.getChildrenSize(),0,t)}function zG(e,t){if(rX(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),a=GG();let i;if(RG(a,e.getChildren()),rX(n)&&t===n.getListType())n.append(a),rX(r)&&t===r.getListType()&&(RG(n,r.getChildren()),r.remove()),i=n;else if(rX(r)&&t===r.getListType())r.getFirstChildOrThrow().insertBefore(a),i=r;else{const n=nX(t);n.append(a),e.replace(n),i=n}return a.setFormat(e.getFormatType()),a.setIndent(e.getIndent()),e.remove(),i}function LG(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&PG(n)&&PG(r)&&(LG(n.getFirstChild(),r.getFirstChild()),r.remove());const a=t.getChildren();a.length>0&&e.append(...a),t.remove()}function qG(){const e=DW();if(fW(e)){const t=new Set,n=e.getNodes(),r=e.anchor.getNode();if(IG(r,n))t.add(MG(r));else for(let e=0;e<n.length;e++){const r=n[e];if(JH(r)){const e=bY(r,KG);null!=e&&t.add(MG(e))}}for(const a of t){let t=a;const n=TG(a);for(const r of n){const n=DH().setTextStyle(e.style).setTextFormat(e.format);RG(n,r.getChildren()),t.insertAfter(n),t=n,r.__key===e.anchor.key&&UV(e.anchor,GV(_V(n,"next"))),r.__key===e.focus.key&&UV(e.focus,GV(_V(n,"next"))),r.remove()}a.remove()}}}function UG(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())XG(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),rX(r.getFirstChild())||n++)}function $G(e){const t=new Set;if(PG(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),a=e.getPreviousSibling();if(PG(r)&&PG(a)){const n=a.getFirstChild();if(rX(n)){n.append(e);const a=r.getFirstChild();rX(a)&&(RG(n,a.getChildren()),r.remove(),t.add(r.getKey()))}}else if(PG(r)){const t=r.getFirstChild();if(rX(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(PG(a)){const t=a.getFirstChild();rX(t)&&t.append(e)}else if(rX(n)){const t=GG().setTextFormat(e.getTextFormat()).setTextStyle(e.getTextStyle()),i=nX(n.getListType()).setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle());t.append(i),i.append(e),a?a.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function WG(e){if(PG(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(rX(n?n.getParent():void 0)&&XG(n)&&rX(t)){const r=t?t.getFirstChild():void 0,a=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(a))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),a=GG(),i=nX(r);a.append(i),e.getPreviousSiblings().forEach(e=>i.append(e));const o=GG(),s=nX(r);o.append(s),RG(s,e.getNextSiblings()),n.insertBefore(a),n.insertAfter(o),n.replace(e)}}}function HG(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const a of n)if(a&&"string"==typeof a)for(const[t]of a.matchAll(/\S+/g))e.push(t);return e}class KG extends cH{$config(){return this.config("listitem",{$transform:e=>{if(null==e.__checked)return;const t=e.getParent();rX(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)},extends:cH,importDOM:{li:()=>({conversion:VG,priority:0})}})}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(arguments.length>2?arguments[2]:void 0),this.__value=void 0===e?1:e,this.__checked=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,t,n){const r=this.getParent();rX(r)&&"check"===r.getListType()&&function(e,t,n){rX(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}(t,this,e),t.value=this.__value,function(e,t,n){const r=[],a=[],i=t.list,o=i?i.listitem:void 0;let s;if(i&&i.nested&&(s=i.nested.listitem),void 0!==o&&r.push(...HG(o)),i){const e=n.getParent(),t=rX(e)&&"check"===e.getListType(),o=n.getChecked();t&&!o||a.push(i.listitemUnchecked),t&&o||a.push(i.listitemChecked),t&&r.push(o?i.listitemChecked:i.listitemUnchecked)}if(void 0!==s){const e=HG(s);n.getChildren().some(e=>rX(e))?r.push(...e):a.push(...e)}a.length>0&&yY(e,...a),r.length>0&&gY(e,...r)}(t,n.theme,this);const a=e?e.__style:"",i=this.__style;a!==i&&(""===i?t.removeAttribute("style"):t.style.cssText=i),function(e,t,n){const r=OY(t.__textStyle);for(const a in r)e.style.setProperty(`--listitem-marker-${a}`,r[a]);if(n)for(const a in OY(n.__textStyle))a in r||e.style.removeProperty(`--listitem-marker-${a}`)}(t,this,e)}updateDOM(e,t,n){const r=t;return this.updateListItemDOM(e,r,n),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),n=this.getFormatType();n&&(t.style.textAlign=n);const r=this.getDirection();return r&&(t.dir=r),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(dH(t)&&this.canMergeWith(t)){const e=t.getChildren();this.append(...e),t.remove()}else super.append(t)}return this}replace(e,t){if(XG(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!rX(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=nX(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&(dH(e)||jG(139),this.getChildren().forEach(t=>{e.append(t)})),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow();if(rX(n)||jG(39),XG(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const a=nX(n.getListType());r.forEach(e=>a.append(e)),e.insertAfter(a,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&PG(t)&&PG(n)&&(LG(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=GG().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=DH();this.getChildren().forEach(e=>t.append(e));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),a=XG(r);if(1===n.getChildrenSize())if(a)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,a=e.focus,i=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(i,r.offset,"element"),"element"===a.type&&a.getNode().is(this)&&a.set(i,a.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const n=this.getParent();return rX(n)&&(t=n.getListType()),"check"===t?Boolean(e.__checked):void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;XG(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"!=typeof e&&jG(117),(e=Math.floor(e))>=0||jG(199);let t=this.getIndent();for(;t!==e;)t<e?($G(this),t++):(WG(this),t--);return this}canInsertAfter(e){return XG(e)}canReplaceWith(e){return XG(e)}canMergeWith(e){return XG(e)||jH(e)}extractWithChild(e,t){if(!fW(t))return!1;const n=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return nX("bullet")}canMergeWhenEmpty(){return!0}}function VG(e){if(e.classList.contains("task-list-item"))for(const n of e.children)if("INPUT"===n.tagName)return YG(n);const t=e.getAttribute("aria-checked");return{node:GG("true"===t||"false"!==t&&void 0)}}function YG(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:GG(e.hasAttribute("checked"))}}function GG(e){return UK(new KG(void 0,e))}function XG(e){return e instanceof KG}class JG extends cH{$config(){return this.config("list",{$transform:e=>{!function(e){const t=e.getNextSibling();rX(t)&&e.getListType()===t.getListType()&&LG(e,t)}(e),UG(e)},extends:cH,importDOM:{ol:()=>({conversion:eX,priority:0}),ul:()=>({conversion:eX,priority:0})}})}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;super(arguments.length>2?arguments[2]:void 0);const n=tX[e]||e;this.__listType=n,this.__tag="number"===n?"ol":"ul",this.__start=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,ZG(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(ZG(t,n.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return YK(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,n){let r=n;for(let a=0;a<n.length;a++){const e=n[a];XG(e)||(r===n&&(r=[...n]),r[a]=GG().append(!dH(e)||rX(e)||e.isInline()?e:tW(e.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return XG(e)}}function ZG(e,t,n){const r=[],a=[],i=t.list;if(void 0!==i){const e=i[`${n.__tag}Depth`]||[],t=OG(n)-1,o=t%e.length,s=e[o],l=i[n.__tag];let u;const c=i.nested,d=i.checklist;if(void 0!==c&&c.list&&(u=c.list),void 0!==l&&r.push(l),void 0!==d&&"check"===n.__listType&&r.push(d),void 0!==s){r.push(...HG(s));for(let t=0;t<e.length;t++)t!==o&&a.push(n.__tag+t)}if(void 0!==u){const e=HG(u);t>1?r.push(...e):a.push(...e)}}a.length>0&&yY(e,...a),r.length>0&&gY(e,...r)}function QG(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(XG(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach(e=>{rX(e)&&t.push(FG(e))})}else t.push(FG(r))}return t}function eX(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=nX("number",e.start):"ul"===t&&(n=function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(const t of e.childNodes)if(YK(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?nX("check"):nX("bullet")),{after:QG,node:n}}const tX={ol:"number",ul:"bullet"};function nX(){return UK(new JG(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"number",arguments.length>1&&void 0!==arguments[1]?arguments[1]:1))}function rX(e){return e instanceof JG}hU("INSERT_CHECK_LIST_COMMAND");const aX=hU("UPDATE_LIST_START_COMMAND"),iX=hU("INSERT_UNORDERED_LIST_COMMAND"),oX=hU("INSERT_ORDERED_LIST_COMMAND"),sX=hU("REMOVE_LIST_COMMAND");function lX(e){return mY(e.registerCommand(oX,()=>(BG("number"),!0),1),e.registerCommand(aX,e=>{const{listNodeKey:t,newStart:n}=e,r=rK(t);return!!rX(r)&&("number"===r.getListType()&&(r.setStart(n),UG(r)),!0)},1),e.registerCommand(iX,()=>(BG("bullet"),!0),1),e.registerCommand(sX,()=>(qG(),!0),1),e.registerCommand(xU,()=>function(){const e=DW();if(!fW(e)||!e.isCollapsed())return!1;const t=e.anchor.getNode();if(!XG(t)||0!==t.getChildrenSize())return!1;const n=MG(t),r=t.getParent();rX(r)||jG(40);const a=r.getParent();let i;if(LK(a))i=DH(),n.insertAfter(i);else{if(!XG(a))return!1;i=GG(),a.insertAfter(i)}i.setTextStyle(e.style).setTextFormat(e.format).select();const o=t.getNextSiblings();if(o.length>0){const e=nX(r.getListType());if(XG(i)){const t=GG();t.append(e),i.insertAfter(t)}else i.insertAfter(e);e.append(...o)}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!XG(e)&&!rX(e))break;t=e}t.remove()}(t),!0}(),1),e.registerNodeTransform(KG,e=>{const t=e.getFirstChild();if(t){if(nW(t)){const n=t.getStyle(),r=t.getFormat();e.getTextStyle()!==n&&e.setTextStyle(n),e.getTextFormat()!==r&&e.setTextFormat(r)}}else{const t=DW();fW(t)&&(t.style!==e.getTextStyle()||t.format!==e.getTextFormat())&&t.isCollapsed()&&e.is(t.anchor.getNode())&&e.setTextStyle(t.style).setTextFormat(t.format)}}),e.registerNodeTransform(K$,e=>{const t=e.getParent();if(XG(t)&&e.is(t.getFirstChild())){const n=e.getStyle(),r=e.getFormat();n===t.getTextStyle()&&r===t.getTextFormat()||t.setTextStyle(n).setTextFormat(r)}}))}function uX(e){let{hasStrictIndent:t=!1}=e;const[n]=kL();return(0,r.useEffect)(()=>{if(!n.hasNodes([JG,KG]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[n]),(0,r.useEffect)(()=>{if(t)return function(e){const t=e=>{const t=e.getParent();if(rX(e.getFirstChild())||!rX(t))return;const n=xY(e,e=>XG(e)&&rX(e.getParent())&&XG(e.getPreviousSibling()));if(null===n&&e.getIndent()>0)e.setIndent(0);else if(XG(n)){const r=n.getPreviousSibling();if(XG(r)){const n=function(e){let t=e,n=t.getFirstChild();for(;rX(n);){const e=n.getLastChild();if(!XG(e))break;t=e,n=t.getFirstChild()}return t}(r),a=n.getParent();if(rX(a)){const n=OG(a);n+1<OG(t)&&e.setIndent(n)}}}};return e.registerNodeTransform(JG,e=>{const n=[e];for(;n.length>0;){const e=n.shift();if(rX(e))for(const r of e.getChildren())if(XG(r)){t(r);const e=r.getFirstChild();rX(e)&&n.push(e)}}})}(n)},[n,t]),function(e){(0,r.useEffect)(()=>lX(e),[e])}(n),null}const cX=new Set(["http:","https:","mailto:","sms:","tel:"]);class dX extends cH{static getType(){return"link"}static clone(e){return new dX(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>2?arguments[2]:void 0);const{target:n=null,rel:r=null,title:a=null}=t;this.__url=e,this.__target=n,this.__rel=r,this.__title=a}createDOM(e){const t=document.createElement("a");return this.updateLinkDOM(null,t,e),gY(t,e.theme.link),t}updateLinkDOM(e,t,n){if(VK(t)){e&&e.__url===this.__url||(t.href=this.sanitizeUrl(this.__url));for(const n of["target","rel","title"]){const r=`__${n}`,a=this[r];e&&e[r]===a||(a?t[n]=a:t.removeAttribute(n))}}}updateDOM(e,t,n){return this.updateLinkDOM(e,t,n),!1}static importDOM(){return{a:e=>({conversion:fX,priority:1})}}static importJSON(e){return pX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=NX(e);try{const t=new URL(NX(e));if(!cX.has(t.protocol))return"about:blank"}catch(t){return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=pX(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,t),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,n){if(!fW(t))return!1;const r=t.anchor.getNode(),a=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(a)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}}function fX(e){let t=null;if(VK(e)){const n=e.textContent;(null!==n&&""!==n||e.children.length>0)&&(t=pX(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function pX(){return UK(new dX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function hX(e){return e instanceof dX}class mX extends dX{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e,arguments.length>2?arguments[2]:void 0),this.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked}static getType(){return"autolink"}static clone(e){return new mX(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,n){return super.updateDOM(e,t,n)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return gX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getParentOrThrow().insertNewAfter(e,t);if(dH(n)){const e=gX(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(e),e}return null}}function gX(){return UK(new mX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function yX(e){return e instanceof mX}const vX=hU("TOGGLE_LINK_COMMAND");function bX(e,t){if("element"===e.type){const n=e.getNode();return dH(n)||function(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function xX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{target:n,title:r}=t,a=void 0===t.rel?"noreferrer":t.rel,i=DW();if(null===i||!fW(i)&&!hW(i))return;if(hW(i)){const t=i.getNodes();if(0===t.length)return;return void t.forEach(t=>{if(null===e){const e=xY(t,e=>!yX(e)&&hX(e));e&&(e.insertBefore(t),0===e.getChildren().length&&e.remove())}else{const r=xY(t,e=>!yX(e)&&hX(e));if(r)r.setURL(e),void 0!==n&&r.setTarget(n),void 0!==a&&r.setRel(a);else{const r=pX(e,{rel:a,target:n});t.insertBefore(r),r.append(t)}}})}const o=i.extract();if(null===e)return void o.forEach(e=>{const t=xY(e,e=>!yX(e)&&hX(e));if(t){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}});const s=new Set,l=t=>{s.has(t.getKey())||(s.add(t.getKey()),t.setURL(e),void 0!==n&&t.setTarget(n),void 0!==a&&t.setRel(a),void 0!==r&&t.setTitle(r))};if(1===o.length){const e=wX(o[0],hX);if(null!==e)return l(e)}!function(e){const t=DW();if(!fW(t))return e();const n=Mq(t),r=n.isBackward(),a=bX(n.anchor,r?-1:0),i=bX(n.focus,r?0:-1);e();if(a||i){const e=DW();if(fW(e)){const t=e.clone();if(a){const e=a.getParent();e&&t.anchor.set(e.getKey(),a.getIndexWithinParent()+(r?1:0),"element")}if(i){const e=i.getParent();e&&t.focus.set(e.getKey(),i.getIndexWithinParent()+(r?0:1),"element")}dK(Mq(t))}}}(()=>{let t=null;for(const i of o){if(!i.isAttached())continue;const o=wX(i,hX);if(o){l(o);continue}if(dH(i)){if(!i.isInline())continue;if(hX(i)){if(!(yX(i)||null!==t&&t.getParentOrThrow().isParentOf(i))){l(i),t=i;continue}for(const e of i.getChildren())i.insertBefore(e);i.remove();continue}}const s=i.getPreviousSibling();hX(s)&&s.is(t)?s.append(i):(t=pX(e,{rel:a,target:n,title:r}),i.insertAfter(t),t.append(i))}})}function wX(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}const SX=/^\+?[0-9\s()-]{5,}$/;function NX(e){return e.match(/^[a-z][a-z0-9+.-]*:/i)||e.match(/^[/#.]/)?e:e.includes("@")?`mailto:${e}`:SX.test(e)?`tel:${e}`:`https://${e}`}function EX(e){let{validateUrl:t,attributes:n}=e;const[a]=kL();return(0,r.useEffect)(()=>{if(!a.hasNodes([dX]))throw new Error("LinkPlugin: LinkNode not registered on editor");return mY(a.registerCommand(vX,e=>{if(null===e)return xX(e),!0;if("string"==typeof e)return!(void 0!==t&&!t(e))&&(xX(e,n),!0);{const{url:t,target:r,rel:a,title:i}=e;return xX(t,{...n,rel:a,target:r,title:i}),!0}},1),void 0!==t?a.registerCommand(SU,e=>{const r=DW();if(!fW(r)||r.isCollapsed()||!SY(e,ClipboardEvent))return!1;if(null===e.clipboardData)return!1;const i=e.clipboardData.getData("text");return!!t(i)&&!r.getNodes().some(e=>dH(e))&&(a.dispatchCommand(vX,{...n,url:i}),e.preventDefault(),!0)},1):()=>{})},[a,t,n]),null}const AX=/^(\d+(?:\.\d+)?)px$/,CX=3,kX=2,_X=0,DX=1;class jX extends cH{static getType(){return"tablecell"}static clone(e){return new jX(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:MX,priority:0}),th:e=>({conversion:MX,priority:0})}}static importJSON(e){return TX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_X,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;super(arguments.length>3?arguments[3]:void 0),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),OX(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),gY(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(YK(t.element)){const e=t.element;e.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||75}px`,e.style.verticalAlign=this.getVerticalAlign()||"top",e.style.textAlign="start",null===this.__backgroundColor&&this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...OX(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CX;const n=this.getWritable();return n.__headerState=e&t|n.__headerState&~t,n}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==_X}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function OX(e){return"middle"===e||"bottom"===e}function MX(e){const t=e,n=e.nodeName.toLowerCase();let r;AX.test(t.style.width)&&(r=parseFloat(t.style.width));const a=TX("th"===n?DX:_X,t.colSpan,r);a.__rowSpan=t.rowSpan;const i=t.style.backgroundColor;""!==i&&(a.__backgroundColor=i);const o=t.style.verticalAlign;OX(o)&&(a.__verticalAlign=o);const s=t.style,l=(s&&s.textDecoration||"").split(" "),u="700"===s.fontWeight||"bold"===s.fontWeight,c=l.includes("line-through"),d="italic"===s.fontStyle,f=l.includes("underline");return{after:e=>{const t=[];let n=null;const r=()=>{if(n){const e=n.getFirstChild();R$(e)&&1===n.getChildrenSize()&&e.remove()}};for(const a of e)zK(a)||nW(a)||R$(a)?(nW(a)&&(u&&a.toggleFormat("bold"),c&&a.toggleFormat("strikethrough"),d&&a.toggleFormat("italic"),f&&a.toggleFormat("underline")),n?n.append(a):(n=DH().append(a),t.push(n))):(t.push(a),r(),n=null);return r(),0===t.length&&t.push(DH()),t},node:a}}function TX(){return UK(new jX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_X,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0))}function PX(e){return e instanceof jX}const FX=hU("INSERT_TABLE_COMMAND");function IX(e){const t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams;n.append("code",e);for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];for(const o of a)n.append("v",o);throw t.search=n.toString(),Error(`Minified Lexical error #${e}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class BX extends cH{static getType(){return"tablerow"}static clone(e){return new BX(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:RX,priority:0})}}static importJSON(e){return zX().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...void 0===e?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),gY(t,e.theme.tableRow),t}extractWithChild(e,t,n){return"html"===n}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function RX(e){const t=e;let n;return AX.test(t.style.height)&&(n=parseFloat(t.style.height)),{after:e=>CY(e,PX),node:zX(n)}}function zX(e){return UK(new BX(e))}function LX(e){return e instanceof BX}const qX="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,UX=qX&&"documentMode"in document?document.documentMode:null,$X=qX&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function WX(e){const t=xY(e,e=>XJ(e));if(XJ(t))return t;throw new Error("Expected table cell to be inside of table.")}qX&&"InputEvent"in window&&!UX&&new window.InputEvent("input");const HX=(e,t)=>e===CX||e===t?t:_X;function KX(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const[,,n]=tJ(e),[r,a]=QX(n,e,e),i=r[0].length,{startRow:o}=a;let s=null;if(t){const t=o+e.__rowSpan-1,a=r[t],l=zX();for(let e=0;e<i;e++){const{cell:n,startRow:r}=a[e];if(r+n.__rowSpan-1<=t){const t=a[e].cell.__headerState,n=HX(t,kX);l.append(TX(n).append(DH()))}else n.setRowSpan(n.__rowSpan+1)}const u=n.getChildAtIndex(t);LX(u)||IX(256),u.insertAfter(l),s=l}else{const e=o,t=r[e],a=zX();for(let n=0;n<i;n++){const{cell:r,startRow:i}=t[n];if(i===e){const e=t[n].cell.__headerState,r=HX(e,kX);a.append(TX(r).append(DH()))}else r.setRowSpan(r.__rowSpan+1)}const l=n.getChildAtIndex(e);LX(l)||IX(257),l.insertBefore(a),s=a}return s}function VX(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[,,r]=tJ(e),[a,i]=QX(r,e,e),o=a.length,{startColumn:s}=i,l=t?s+e.__colSpan-1:s-1,u=r.getFirstChild();LX(u)||IX(120);let c=null;function d(){const e=TX(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_X).append(DH());return null===c&&(c=e),e}let f=u;e:for(let h=0;h<o;h++){if(0!==h){const e=f.getNextSibling();LX(e)||IX(121),f=e}const e=a[h],t=e[l<0?0:l].cell.__headerState,n=HX(t,DX);if(l<0){GX(f,d(n));continue}const{cell:r,startColumn:i,startRow:o}=e[l];if(i+r.__colSpan-1<=l){let t=r,a=o,i=l;for(;a!==h&&t.__rowSpan>1;){if(i-=r.__colSpan,!(i>=0)){f.append(d(n));continue e}{const{cell:n,startRow:r}=e[i];t=n,a=r}}t.insertAfter(d(n))}else r.setColSpan(r.__colSpan+1)}null!==c&&n&&YX(c);const p=r.getColWidths();if(p){const e=[...p],t=l<0?0:l,n=e[t];e.splice(t,0,n),r.setColWidths(e)}return c}function YX(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function GX(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function XX(e){if(0===e.length)return null;const t=WX(e[0]),[n]=eJ(t,null,null);let r=1/0,a=-1/0,i=1/0,o=-1/0;const s=new Set;for(const p of n)for(const t of p){if(!t||!t.cell)continue;const n=t.cell.getKey();if(!s.has(n)&&e.some(e=>e.is(t.cell))){s.add(n);const e=t.startRow,l=t.startColumn,u=t.cell.__rowSpan||1,c=t.cell.__colSpan||1;r=Math.min(r,e),a=Math.max(a,e+u-1),i=Math.min(i,l),o=Math.max(o,l+c-1)}}if(r===1/0||i===1/0)return null;const l=a-r+1,u=o-i+1,c=n[r][i];if(!c.cell)return null;const d=c.cell;d.setColSpan(u),d.setRowSpan(l);const f=new Set([d.getKey()]);for(let p=r;p<=a;p++)for(let e=i;e<=o;e++){const t=n[p][e];if(!t.cell)continue;const r=t.cell,a=r.getKey();f.has(a)||(f.add(a),JX(r)||d.append(...r.getChildren()),r.remove())}return 0===d.getChildrenSize()&&d.append(DH()),d}function JX(e){if(1!==e.getChildrenSize())return!1;const t=e.getFirstChildOrThrow();return!(!jH(t)||!t.isEmpty())}function ZX(e){const[t,n,r]=tJ(e),a=t.__colSpan,i=t.__rowSpan;if(1===a&&1===i)return;const[o,s]=QX(r,t,t),{startColumn:l,startRow:u}=s,c=t.__headerState&kX,d=Array.from({length:a},(e,t)=>{let n=c;for(let r=0;0!==n&&r<o.length;r++)n&=o[r][t+l].cell.__headerState;return n}),f=t.__headerState&DX,p=Array.from({length:i},(e,t)=>{let n=f;for(let r=0;0!==n&&r<o[0].length;r++)n&=o[t+u][r].cell.__headerState;return n});if(a>1){for(let e=1;e<a;e++)t.insertAfter(TX(d[e]|p[0]).append(DH()));t.setColSpan(1)}if(i>1){let e;for(let t=1;t<i;t++){const r=u+t,i=o[r];e=(e||n).getNextSibling(),LX(e)||IX(125);let s=null;for(let e=0;e<l;e++){const t=i[e],n=t.cell;t.startRow===r&&(s=n),n.__colSpan>1&&(e+=n.__colSpan-1)}if(null===s)for(let n=a-1;n>=0;n--)GX(e,TX(d[n]|p[t]).append(DH()));else for(let e=a-1;e>=0;e--)s.insertAfter(TX(d[e]|p[t]).append(DH()))}t.setRowSpan(1)}}function QX(e,t,n){const[r,a,i]=eJ(e,t,n);return null===a&&IX(207),null===i&&IX(208),[r,a,i]}function eJ(e,t,n){const r=[];let a=null,i=null;function o(e){let t=r[e];return void 0===t&&(r[e]=t=[]),t}const s=e.getChildren();for(let l=0;l<s.length;l++){const e=s[l];LX(e)||IX(209);const r=o(l);for(let u=e.getFirstChild(),c=0;null!=u;u=u.getNextSibling()){for(PX(u)||IX(147);void 0!==r[c];)c++;const e={cell:u,startColumn:c,startRow:l},{__rowSpan:d,__colSpan:f}=u;for(let t=0;t<d&&!(l+t>=s.length);t++){const n=o(l+t);for(let t=0;t<f;t++)n[c+t]=e}null!==t&&null===a&&t.is(u)&&(a=e),null!==n&&null===i&&n.is(u)&&(i=e)}}return[r,a,i]}function tJ(e){let t;if(e instanceof jX)t=e;else if("__type"in e){const n=xY(e,PX);PX(n)||IX(148),t=n}else{const n=xY(e.getNode(),PX);PX(n)||IX(148),t=n}const n=t.getParent();LX(n)||IX(149);const r=n.getParent();return XJ(r)||IX(210),[t,n,r]}function nJ(e,t,n){let r,a=Math.min(t.startColumn,n.startColumn),i=Math.min(t.startRow,n.startRow),o=Math.max(t.startColumn+t.cell.__colSpan-1,n.startColumn+n.cell.__colSpan-1),s=Math.max(t.startRow+t.cell.__rowSpan-1,n.startRow+n.cell.__rowSpan-1);do{r=!1;for(let t=0;t<e.length;t++)for(let n=0;n<e[0].length;n++){const l=e[t][n];if(!l)continue;const u=l.startColumn+l.cell.__colSpan-1,c=l.startRow+l.cell.__rowSpan-1,d=l.startColumn<=o&&u>=a,f=l.startRow<=s&&c>=i;if(d&&f){const e=Math.min(a,l.startColumn),t=Math.max(o,u),n=Math.min(i,l.startRow),d=Math.max(s,c);e===a&&t===o&&n===i&&d===s||(a=e,o=t,i=n,s=d,r=!0)}}}while(r);return{maxColumn:o,maxRow:s,minColumn:a,minRow:i}}function rJ(e){const[t,,n]=tJ(e),r=n.getChildren(),a=r.length,i=r[0].getChildren().length,o=new Array(a);for(let s=0;s<a;s++)o[s]=new Array(i);for(let s=0;s<a;s++){const e=r[s].getChildren();let n=0;for(let r=0;r<e.length;r++){for(;o[s][n];)n++;const a=e[r],i=a.__rowSpan||1,l=a.__colSpan||1;for(let e=0;e<i;e++)for(let t=0;t<l;t++)o[s+e][n+t]=a;if(t===a)return{colSpan:l,columnIndex:n,rowIndex:s,rowSpan:i};n+=l}}return null}function aJ(e){const[[t,n,r,a],[i,o,s,l]]=["anchor","focus"].map(t=>{const n=e[t].getNode(),r=xY(n,PX);PX(r)||IX(238,t,n.getKey(),n.getType());const a=r.getParent();LX(a)||IX(239,t);const i=a.getParent();return XJ(i)||IX(240,t),[n,r,a,i]});return a.is(l)||IX(241),{anchorCell:n,anchorNode:t,anchorRow:r,anchorTable:a,focusCell:o,focusNode:i,focusRow:s,focusTable:l}}class iJ{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){return"root"!==this.tableKey&&"root"!==this.anchor.key&&"element"===this.anchor.type&&"root"!==this.focus.key&&"element"===this.focus.type}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return oJ(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||n!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new iJ(this.tableKey,lW(this.anchor.key,this.anchor.offset,this.anchor.type),lW(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(PX).forEach(e=>{const n=e.getFirstChild();jH(n)&&(t|=n.getTextFormat())});return!!(t&rq[e])}insertNodes(e){const t=this.focus.getNode();dH(t)||IX(151),Mq(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=aJ(this),n=rJ(e);null===n&&IX(153);const r=rJ(t);null===r&&IX(155);const a=Math.min(n.columnIndex,r.columnIndex),i=Math.max(n.columnIndex+n.colSpan-1,r.columnIndex+r.colSpan-1),o=Math.min(n.rowIndex,r.rowIndex),s=Math.max(n.rowIndex+n.rowSpan-1,r.rowIndex+r.rowSpan-1);return{fromX:Math.min(a,i),fromY:Math.min(o,s),toX:Math.max(a,i),toY:Math.max(o,s)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(null!==e)return e;const{anchorTable:t,anchorCell:n,focusCell:r}=aJ(this),a=r.getParents()[1];if(a!==t){if(t.isParentOf(r)){const e=a.getParent();null==e&&IX(159),this.set(this.tableKey,r.getKey(),e.getKey())}else{const e=t.getParent();null==e&&IX(158),this.set(this.tableKey,e.getKey(),r.getKey())}return this.getNodes()}const[i,o,s]=QX(t,n,r),{minColumn:l,maxColumn:u,minRow:c,maxRow:d}=nJ(i,o,s),f=new Map([[t.getKey(),t]]);let p=null;for(let m=c;m<=d;m++)for(let e=l;e<=u;e++){const{cell:t}=i[m][e],n=t.getParent();LX(n)||IX(160),n!==p&&(f.set(n.getKey(),n),p=n),f.has(t.getKey())||lJ(t,e=>{f.set(e.getKey(),e)})}const h=Array.from(f.values());return HW()||(this._cachedNodes=h),h}getTextContent(){const e=this.getNodes().filter(e=>PX(e));let t="";for(let n=0;n<e.length;n++){const r=e[n],a=r.__parent,i=(e[n+1]||{}).__parent;t+=r.getTextContent()+(i!==a?"\n":"\t")}return t}}function oJ(e){return e instanceof iJ}function sJ(){const e=lW("root",0,"element"),t=lW("root",0,"element");return new iJ("root",e,t)}function lJ(e,t){const n=[[e]];for(let r=n.at(-1);void 0!==r&&n.length>0;r=n.at(-1)){const e=r.pop();void 0===e?n.pop():!1!==t(e)&&dH(e)&&n.push(e.getChildren())}}function uJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tV();const n=rK(e);XJ(n)||IX(231,e);const r=pJ(n,t.getElementByKey(e));return null===r&&IX(232,e),{tableElement:r,tableNode:n}}class cJ{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(e=>e()),this.listenersToRemove.clear()}$lookup(){return uJ(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver(e=>{this.editor.getEditorState().read(()=>{let t=!1;for(let a=0;a<e.length;a++){const n=e[a].target.nodeName;if("TABLE"===n||"TBODY"===n||"THEAD"===n||"TR"===n){t=!0;break}}if(!t)return;const{tableNode:n,tableElement:r}=this.$lookup();this.table=NJ(n,r)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:t,tableElement:n}=this.$lookup();this.table=NJ(t,n),e.observe(n,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:n}=this.$lookup();EJ(e,NJ(t,n),null),null!==DW()&&(dK(null),e.dispatchCommand(mU,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();yY(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();gY(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(null!==e){e.tableKey!==this.tableNodeKey&&IX(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),EJ(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return null!==e&&(this.nextFocus=null),e}updateDOMSelection(){if(null!==this.anchorCell&&null!==this.focusCell){const e=KK(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.editor,{tableNode:r}=this.$lookup(),a=e.x,i=e.y;if(this.focusCell=e,this.isHighlightingCells||this.anchorX===a&&this.anchorY===i&&!t){if(a===this.focusX&&i===this.focusY)return!1}else this.isHighlightingCells=!0,this.$disableHighlightStyle();if(this.focusX=a,this.focusY=i,this.isHighlightingCells){const t=$J(r,e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&null!==t)return this.focusCellNodeKey=t.getKey(),this.tableSelection=function(e,t,n){e.getKey(),t.getKey(),n.getKey();const r=DW(),a=oJ(r)?r.clone():sJ();return a.set(e.getKey(),t.getKey(),n.getKey()),a}(r,this.$getAnchorTableCellOrThrow(),t),dK(this.tableSelection),n.dispatchCommand(mU,void 0),EJ(n,this.table,this.tableSelection),!0}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?rK(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return null===e&&IX(234),e}$getFocusTableCell(){return this.focusCellNodeKey?rK(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return null===e&&IX(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y;const{tableNode:t}=this.$lookup(),n=$J(t,e.elem);if(null!==n){const e=n.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():sJ(),this.anchorCellNodeKey=e}}$formatCells(e){const t=DW();oJ(t)||IX(236);const n=CW(),r=n.anchor,a=n.focus,i=t.getNodes().filter(PX);i.length>0||IX(237);const o=i[0].getFirstChild(),s=jH(o)?o.getFormatFlags(e,null):null;i.forEach(t=>{r.set(t.getKey(),0,"element"),a.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e,s)}),dK(t),this.editor.dispatchCommand(mU,void 0)}$clearText(){const{editor:e}=this,t=rK(this.tableNodeKey);if(!XJ(t))throw new Error("Expected TableNode.");const n=DW();oJ(n)||IX(253);const r=n.getNodes().filter(PX),a=t.getFirstChild(),i=t.getLastChild();if(r.length>0&&null!==a&&null!==i&&LX(a)&&LX(i)&&r[0]===a.getFirstChild()&&r[r.length-1]===i.getLastChild()){t.selectPrevious();const n=t.getParent();return t.remove(),void(gH(n)&&n.isEmpty()&&e.dispatchCommand(xU,void 0))}r.forEach(e=>{if(dH(e)){const t=DH(),n=tW();t.append(n),e.append(t),e.getChildren().forEach(e=>{e!==t&&e.remove()})}}),EJ(e,this.table,null),dK(null),e.dispatchCommand(mU,void 0)}}const dJ="__lexicalTableSelection";function fJ(e){return YK(e)&&"TABLE"===e.nodeName}function pJ(e,t){if(!t)return t;const n=fJ(t)?t:e.getDOMSlot(t).element;return"TABLE"!==n.nodeName&&IX(245,t.nodeName),n}function hJ(e){return e._window}function mJ(e,t){for(let n=t,r=null;null!==n;n=n.getParent()){if(e.is(n))return r;PX(n)&&(r=n)}return null}const gJ=[[FU,"down"],[PU,"up"],[MU,"backward"],[jU,"forward"]],yJ=[EU,AU,vU],vJ=[RU,LU];function bJ(e,t,n,r){const a=n.getRootElement(),i=hJ(n);null!==a&&null!==i||IX(246);const o=new cJ(n,e.getKey()),s=pJ(e,t);!function(e,t){null!==xJ(e)&&IX(205),e[dJ]=t}(s,o),o.listenersToRemove.add(()=>function(e,t){xJ(e)===t&&delete e[dJ]}(s,o));const l=t=>{if(o.pointerType=t.pointerType,0!==t.button||!GK(t.target)||!i)return;const r=wJ(t.target);null!==r&&n.update(()=>{const n=jW();if($X&&t.shiftKey&&OJ(n,e)&&(fW(n)||oJ(n))){const a=n.anchor.getNode(),i=mJ(e,n.anchor.getNode());i?(o.$setAnchorCellForSelection(UJ(o,i)),o.$setFocusCellForSelection(r),zJ(t)):(e.isBefore(a)?e.selectStart():e.selectEnd()).anchor.set(n.anchor.key,n.anchor.offset,n.anchor.type)}else"touch"!==t.pointerType&&o.$setAnchorCellForSelection(r)}),(()=>{if(o.isSelecting)return;const e=()=>{o.isSelecting=!1,i.removeEventListener("pointerup",e),i.removeEventListener("pointermove",t)},t=r=>{if(!(e=>!(1&~e.buttons))(r)&&o.isSelecting)return o.isSelecting=!1,i.removeEventListener("pointerup",e),void i.removeEventListener("pointermove",t);if(!GK(r.target))return;let a=null;const l=!($X||s.contains(r.target));if(l)a=SJ(s,r.target);else for(const e of document.elementsFromPoint(r.clientX,r.clientY))if(a=SJ(s,e),a)break;!a||null!==o.focusCell&&a.elem===o.focusCell.elem||(o.setNextFocus({focusCell:a,override:l}),n.dispatchCommand(mU,void 0))};o.isSelecting=!0,i.addEventListener("pointerup",e,o.listenerOptions),i.addEventListener("pointermove",t,o.listenerOptions)})()};s.addEventListener("pointerdown",l,o.listenerOptions),o.listenersToRemove.add(()=>{s.removeEventListener("pointerdown",l)});const u=e=>{e.detail>=3&&GK(e.target)&&null!==wJ(e.target)&&e.preventDefault()};s.addEventListener("mousedown",u,o.listenerOptions),o.listenersToRemove.add(()=>{s.removeEventListener("mousedown",u)});const c=e=>{const t=e.target;0===e.button&&GK(t)&&n.update(()=>{const e=DW();oJ(e)&&e.tableKey===o.tableNodeKey&&a.contains(t)&&o.$clearHighlight()})};i.addEventListener("pointerdown",c,o.listenerOptions),o.listenersToRemove.add(()=>{i.removeEventListener("pointerdown",c)});for(const[p,h]of gJ)o.listenersToRemove.add(n.registerCommand(p,t=>RJ(n,t,h,e,o),3));o.listenersToRemove.add(n.registerCommand(zU,t=>{const n=DW();if(oJ(n)){const r=mJ(e,n.focus.getNode());if(null!==r)return zJ(t),r.selectEnd(),!0}return!1},3));const d=t=>()=>{const n=DW();if(!OJ(n,e))return!1;if(oJ(n))return o.$clearText(),!0;if(fW(n)){if(!PX(mJ(e,n.anchor.getNode())))return!1;const r=n.anchor.getNode(),a=n.focus.getNode(),i=e.isParentOf(r),s=e.isParentOf(a);if(i&&!s||s&&!i)return o.$clearText(),!0;const l=xY(n.anchor.getNode(),e=>dH(e)),u=l&&xY(l,e=>dH(e)&&PX(e.getParent()));if(!dH(u)||!dH(l))return!1;if(t===AU&&null===u.getPreviousSibling())return!0}return!1};for(const p of yJ)o.listenersToRemove.add(n.registerCommand(p,d(p),4));const f=t=>{const n=DW();if(!oJ(n)&&!fW(n))return!1;const r=e.isParentOf(n.anchor.getNode());if(r!==e.isParentOf(n.focus.getNode())){const t=r?"anchor":"focus",a=r?"focus":"anchor",{key:i,offset:o,type:s}=n[a];return e[n[t].isBefore(n[a])?"selectPrevious":"selectNext"]()[a].set(i,o,s),!1}return!!OJ(n,e)&&!!oJ(n)&&(t&&(t.preventDefault(),t.stopPropagation()),o.$clearText(),!0)};for(const p of vJ)o.listenersToRemove.add(n.registerCommand(p,f,4));return o.listenersToRemove.add(n.registerCommand(JU,e=>{const t=DW();if(t){if(!oJ(t)&&!fW(t))return!1;HY(n,SY(e,ClipboardEvent)?e:null,YY(t));const r=f(e);return fW(t)?(t.removeText(),!0):r}return!1},4)),o.listenersToRemove.add(n.registerCommand(CU,t=>{const n=DW();if(!OJ(n,e))return!1;if(oJ(n))return o.$formatCells(t),!0;if(fW(n)){const e=xY(n.anchor.getNode(),e=>PX(e));if(!PX(e))return!1}return!1},4)),o.listenersToRemove.add(n.registerCommand(KU,t=>{const n=DW();if(!oJ(n)||!OJ(n,e))return!1;const r=n.anchor.getNode(),a=n.focus.getNode();if(!PX(r)||!PX(a))return!1;if(function(e,t){if(oJ(e)){const n=e.anchor.getNode(),r=e.focus.getNode();if(t&&n&&r){const[e]=QX(t,n,r);return n.getKey()===e[0][0].cell.getKey()&&r.getKey()===e[e.length-1].at(-1).cell.getKey()}}return!1}(n,e))return e.setFormat(t),!0;const[i,o,s]=QX(e,r,a),l=Math.max(o.startRow+o.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1),u=Math.max(o.startColumn+o.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),c=Math.min(o.startRow,s.startRow),d=Math.min(o.startColumn,s.startColumn),f=new Set;for(let e=c;e<=l;e++)for(let n=d;n<=u;n++){const r=i[e][n].cell;if(f.has(r))continue;f.add(r),r.setFormat(t);const a=r.getChildren();for(let e=0;e<a.length;e++){const n=a[e];dH(n)&&!n.isInline()&&n.setFormat(t)}}return!0},4)),o.listenersToRemove.add(n.registerCommand(wU,t=>{const r=DW();if(!OJ(r,e))return!1;if(oJ(r))return o.$clearHighlight(),!1;if(fW(r)){const a=xY(r.anchor.getNode(),e=>PX(e));if(!PX(a))return!1;if("string"==typeof t){const a=qJ(n,r,e);if(a)return LJ(a,e,[tW(t)]),!0}}return!1},4)),r&&o.listenersToRemove.add(n.registerCommand(qU,t=>{const n=DW();if(!fW(n)||!n.isCollapsed()||!OJ(n,e))return!1;const r=FJ(n.anchor.getNode());return!(null===r||!e.is(IJ(r)))&&(zJ(t),function(e,t){const n="next"===t?"getNextSibling":"getPreviousSibling",r="next"===t?"getFirstChild":"getLastChild",a=e[n]();if(dH(a))return a.selectEnd();const i=xY(e,LX);null===i&&IX(247);for(let s=i[n]();LX(s);s=s[n]()){const e=s[r]();if(dH(e))return e.selectEnd()}const o=xY(i,XJ);null===o&&IX(248),"next"===t?o.selectNext():o.selectPrevious()}(r,t.shiftKey?"previous":"next"),!0)},4)),o.listenersToRemove.add(n.registerCommand(r$,t=>e.isSelected(),3)),o.listenersToRemove.add(n.registerCommand(gU,(e,t)=>{if(n!==t)return!1;const{nodes:r,selection:a}=e,i=a.getStartEndPoints(),o=oJ(a),s=fW(a)&&null!==xY(a.anchor.getNode(),e=>PX(e))&&null!==xY(a.focus.getNode(),e=>PX(e))||o;if(1!==r.length||!XJ(r[0])||!s||null===i)return!1;const[l,u]=i,[c,d,f]=tJ(l),p=xY(u.getNode(),e=>PX(e));if(!(PX(c)&&PX(p)&&LX(d)&&XJ(f)))return!1;const h=r[0],[m,g,y]=QX(f,c,p),[v]=eJ(h,null,null),b=m.length,x=b>0?m[0].length:0;let w=g.startRow,S=g.startColumn,N=v.length,E=N>0?v[0].length:0;if(o){const e=nJ(m,g,y),t=e.maxRow-e.minRow+1,n=e.maxColumn-e.minColumn+1;w=e.minRow,S=e.minColumn,N=Math.min(N,t),E=Math.min(E,n)}let A=!1;const C=Math.min(b,w+N)-1,k=Math.min(x,S+E)-1,_=new Set;for(let n=w;n<=C;n++)for(let e=S;e<=k;e++){const t=m[n][e];_.has(t.cell.getKey())||1===t.cell.__rowSpan&&1===t.cell.__colSpan||(ZX(t.cell),_.add(t.cell.getKey()),A=!0)}let[D]=eJ(f.getWritable(),null,null);const j=N-b+w;for(let n=0;n<j;n++)KX(D[b-1][0].cell);const O=E-x+S;for(let n=0;n<O;n++)VX(D[0][x-1].cell,!0,!1);[D]=eJ(f.getWritable(),null,null);for(let n=w;n<w+N;n++)for(let e=S;e<S+E;e++){const t=n-w,r=e-S,a=v[t][r];if(a.startRow!==t||a.startColumn!==r)continue;const i=a.cell;if(1!==i.__rowSpan||1!==i.__colSpan){const t=[],r=Math.min(n+i.__rowSpan,w+N)-1,a=Math.min(e+i.__colSpan,S+E)-1;for(let i=n;i<=r;i++)for(let n=e;n<=a;n++){const e=D[i][n];t.push(e.cell)}XX(t),A=!0}const{cell:o}=D[n][e],s=o.getChildren();i.getChildren().forEach(e=>{nW(e)?(DH().append(e),o.append(e)):o.append(e)}),s.forEach(e=>e.remove())}if(o&&A){const[e]=eJ(f.getWritable(),null,null);e[g.startRow][g.startColumn].cell.selectEnd()}return!0},4)),o.listenersToRemove.add(n.registerCommand(mU,()=>{const t=DW(),r=jW(),a=o.getAndClearNextFocus();if(null!==a){const{focusCell:n}=a;if(oJ(t)&&t.tableKey===o.tableNodeKey)return(n.x!==o.focusX||n.y!==o.focusY)&&(o.$setFocusCellForSelection(n),!0);if(n!==o.anchorCell&&OJ(t,e))return o.$setFocusCellForSelection(n),!0}if(o.getAndClearShouldCheckSelection()&&fW(r)&&fW(t)&&t.isCollapsed()){const n=t.anchor.getNode(),r=e.getFirstChild(),a=FJ(n);if(null!==a&&LX(r)){const t=r.getFirstChild();if(PX(t)&&e.is(xY(a,n=>n.is(e)||n.is(t))))return t.selectStart(),!0}}if(fW(t)){const{anchor:a,focus:i}=t,s=a.getNode(),l=i.getNode(),u=FJ(s),c=FJ(l),d=!(!u||!e.is(IJ(u))),f=!(!c||!e.is(IJ(c))),p=d!==f,h=d&&f,m=t.isBackward();if(p){const r=t.clone();if(f){const[t]=QX(e,c,c),n=t[0][0].cell,a=t[t.length-1].at(-1).cell;r.focus.set(m?n.getKey():a.getKey(),m?n.getChildrenSize():a.getChildrenSize(),"element")}else if(d){const[t]=QX(e,u,u),n=t[0][0].cell,a=t[t.length-1].at(-1).cell;r.anchor.set(m?a.getKey():n.getKey(),m?a.getChildrenSize():0,"element")}dK(r),CJ(n,o)}else if(h&&(u.is(c)||(o.$setAnchorCellForSelection(UJ(o,u)),o.$setFocusCellForSelection(UJ(o,c),!0)),"touch"===o.pointerType&&o.isSelecting&&t.isCollapsed()&&fW(r)&&r.isCollapsed())){const e=FJ(r.anchor.getNode());e&&!e.is(c)&&(o.$setAnchorCellForSelection(UJ(o,e)),o.$setFocusCellForSelection(UJ(o,c),!0),o.pointerType=null)}}else if(t&&oJ(t)&&t.is(r)&&t.tableKey===e.getKey()){const r=KK(i);if(r&&r.anchorNode&&r.focusNode){const a=oK(r.focusNode),i=a&&!e.isParentOf(a),o=oK(r.anchorNode),s=o&&e.isParentOf(o);if(i&&s&&r.rangeCount>0){const a=function(e,t){return _W(null,e,t,null)}(r,n);a&&(a.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),r.removeAllRanges(),dK(a))}}}return t&&!t.is(r)&&(oJ(t)||oJ(r))&&o.tableSelection&&!o.tableSelection.is(r)?(oJ(t)&&t.tableKey===o.tableNodeKey?o.$updateTableTableSelection(t):!oJ(t)&&oJ(r)&&r.tableKey===o.tableNodeKey&&o.$updateTableTableSelection(null),!1):(o.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.$enableHighlightStyle(),AJ(t.table,t=>{const n=t.elem;t.highlighted=!1,PJ(e,t),n.getAttribute("style")||n.removeAttribute("style")})}(n,o):!o.hasHijackedSelectionStyles&&e.isSelected()&&CJ(n,o),!1)},4)),o.listenersToRemove.add(n.registerCommand(xU,()=>{const t=DW();if(!fW(t)||!t.isCollapsed()||!OJ(t,e))return!1;const r=qJ(n,t,e);return!!r&&(LJ(r,e),!0)},4)),o}function xJ(e){return e[dJ]||null}function wJ(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function SJ(e,t){if(!e.contains(t))return null;let n=null;for(let r=t;null!=r;r=r.parentNode){if(r===e)return n;const t=r.nodeName;"TD"!==t&&"TH"!==t||(n=r._cell||null)}return null}function NJ(e,t){const n=[],r={columns:0,domRows:n,rows:0};let a=pJ(e,t).querySelector("tr"),i=0,o=0;for(n.length=0;null!=a;){const e=a.nodeName;if("TD"===e||"TH"===e){const e={elem:a,hasBackgroundColor:""!==a.style.backgroundColor,highlighted:!1,x:i,y:o};a._cell=e;let t=n[o];void 0===t&&(t=n[o]=[]),t[i]=e}else{const e=a.firstChild;if(null!=e){a=e;continue}}const t=a.nextSibling;if(null!=t){i++,a=t;continue}const r=a.parentNode;if(null!=r){const e=r.nextSibling;if(null==e)break;o++,i=0,a=e}}return r.columns=i+1,r.rows=o+1,r}function EJ(e,t,n){const r=new Set(n?n.getNodes():[]);AJ(t,(t,n)=>{const a=t.elem;r.has(n)?(t.highlighted=!0,TJ(e,t)):(t.highlighted=!1,PJ(e,t),a.getAttribute("style")||a.removeAttribute("style"))})}function AJ(e,t){const{domRows:n}=e;for(let r=0;r<n.length;r++){const e=n[r];if(e)for(let n=0;n<e.length;n++){const a=e[n];if(!a)continue;const i=oK(a.elem);null!==i&&t(a,i,{x:n,y:r})}}}function CJ(e,t){t.$disableHighlightStyle(),AJ(t.table,t=>{t.highlighted=!0,TJ(e,t)})}const kJ=(e,t,n,r,a)=>{const i="forward"===a;switch(a){case"backward":case"forward":return n!==(i?e.table.columns-1:0)?MJ(t.getCellNodeFromCordsOrThrow(n+(i?1:-1),r,e.table),i):r!==(i?e.table.rows-1:0)?MJ(t.getCellNodeFromCordsOrThrow(i?0:e.table.columns-1,r+(i?1:-1),e.table),i):i?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?MJ(t.getCellNodeFromCordsOrThrow(n,r-1,e.table),!1):t.selectPrevious(),!0;case"down":return r!==e.table.rows-1?MJ(t.getCellNodeFromCordsOrThrow(n,r+1,e.table),!0):t.selectNext(),!0;default:return!1}};function _J(e,t){let n,r;if(t.startColumn===e.minColumn)n="minColumn";else{if(t.startColumn+t.cell.__colSpan-1!==e.maxColumn)return null;n="maxColumn"}if(t.startRow===e.minRow)r="minRow";else{if(t.startRow+t.cell.__rowSpan-1!==e.maxRow)return null;r="maxRow"}return[n,r]}function DJ(e){let[t,n]=e;return["minColumn"===t?"maxColumn":"minColumn","minRow"===n?"maxRow":"minRow"]}function jJ(e,t,n){let[r,a]=n;const i=t[a],o=e[i];void 0===o&&IX(250,a,String(i));const s=t[r],l=o[s];return void 0===l&&IX(250,r,String(s)),l}function OJ(e,t){if(fW(e)||oJ(e)){const n=t.isParentOf(e.anchor.getNode()),r=t.isParentOf(e.focus.getNode());return n&&r}return!1}function MJ(e,t){t?e.selectStart():e.selectEnd()}function TJ(e,t){const n=t.elem,r=e._config.theme;PX(oK(n))||IX(131),gY(n,r.tableCellSelected)}function PJ(e,t){const n=t.elem;PX(oK(n))||IX(131);yY(n,e._config.theme.tableCellSelected)}function FJ(e){const t=xY(e,PX);return PX(t)?t:null}function IJ(e){const t=xY(e,XJ);return XJ(t)?t:null}function BJ(e,t,n,r,a,i,o){const s=qV(n.focus,a?"previous":"next");if(XV(s))return!1;let l=s;for(const g of MV(s).iterNodeCarets("shadowRoot")){if(!bV(g)||!dH(g.origin))return!1;l=g}const u=l.getParentAtCaret();if(!PX(u))return!1;const c=u,d=function(e){for(const t of MV(e).iterNodeCarets("root")){const{origin:n}=t;if(PX(n)){if(xV(t))return _V(n,e.direction)}else if(!LX(n))break}return null}(EV(c,l.direction)),f=xY(c,XJ);if(!f||!f.is(i))return!1;const p=e.getElementByKey(c.getKey()),h=wJ(p);if(!p||!h)return!1;const m=function(e,t){const n=e.getElementByKey(t.getKey());return null===n&&IX(230),NJ(t,n)}(e,f);if(o.table=m,d)if("extend"===r){const t=wJ(e.getElementByKey(d.origin.getKey()));if(!t)return!1;o.$setAnchorCellForSelection(h),o.$setFocusCellForSelection(t,!0)}else{const e=GV(d);UV(n.anchor,e),UV(n.focus,e)}else if("extend"===r)o.$setAnchorCellForSelection(h),o.$setFocusCellForSelection(h,!0);else{const e=function(e){const t=DV(e);return xV(t)?GV(t):e}(EV(f,s.direction));UV(n.anchor,e),UV(n.focus,e)}return zJ(t),!0}function RJ(e,t,n,r,a){if(("up"===n||"down"===n)&&function(e){const t=e.getRootElement();return!!t&&(t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls"))}(e))return!1;const i=DW();if(!OJ(i,r)){if(fW(i)){if("backward"===n){if(i.focus.offset>0)return!1;const e=function(e){for(let t=e,n=e;null!==n;t=n,n=n.getParent())if(dH(n)){if(n!==t&&n.getFirstChild()!==t)return null;if(!n.isInline())return n}return null}(i.focus.getNode());if(!e)return!1;const n=e.getPreviousSibling();return!!XJ(n)&&(zJ(t),t.shiftKey?i.focus.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent(),"element"):n.selectEnd(),!0)}if(t.shiftKey&&("up"===n||"down"===n)){const e=i.focus.getNode();if(!i.isCollapsed()&&("up"===n&&!i.isBackward()||"down"===n&&i.isBackward())){let a=xY(e,e=>XJ(e));if(PX(a)&&(a=xY(a,XJ)),a!==r)return!1;if(!a)return!1;const o="down"===n?a.getNextSibling():a.getPreviousSibling();if(!o)return!1;let s=0;"up"===n&&dH(o)&&(s=o.getChildrenSize());let l=o;if("up"===n&&dH(o)){l=o.getLastChild()||o,s=nW(l)?l.getTextContentSize():0}const u=i.clone();return u.focus.set(l.getKey(),s,nW(l)?"text":"element"),dK(u),zJ(t),!0}if(LK(e)){const e="up"===n?i.getNodes()[i.getNodes().length-1]:i.getNodes()[0];if(e&&null!==mJ(r,e)){const e=r.getFirstDescendant(),t=r.getLastDescendant();if(!e||!t)return!1;const[n]=tJ(e),[i]=tJ(t),o=r.getCordsFromCellNode(n,a.table),s=r.getCordsFromCellNode(i,a.table),l=r.getDOMCellFromCordsOrThrow(o.x,o.y,a.table),u=r.getDOMCellFromCordsOrThrow(s.x,s.y,a.table);return a.$setAnchorCellForSelection(l),a.$setFocusCellForSelection(u,!0),!0}return!1}{let r=xY(e,e=>dH(e)&&!e.isInline());if(PX(r)&&(r=xY(r,XJ)),!r)return!1;const o="down"===n?r.getNextSibling():r.getPreviousSibling();if(XJ(o)&&a.tableNodeKey===o.getKey()){const e=o.getFirstDescendant(),r=o.getLastDescendant();if(!e||!r)return!1;const[a]=tJ(e),[s]=tJ(r),l=i.clone();return l.focus.set(("up"===n?a:s).getKey(),"up"===n?0:s.getChildrenSize(),"element"),zJ(t),dK(l),!0}}}}return"down"===n&&KJ(e)&&a.setShouldCheckSelection(),!1}if(fW(i)){if("backward"===n||"forward"===n)return BJ(e,t,i,t.shiftKey?"extend":"move","backward"===n,r,a);if(i.isCollapsed()){const{anchor:o,focus:s}=i,l=xY(o.getNode(),PX),u=xY(s.getNode(),PX);if(!PX(l)||!l.is(u))return!1;const c=IJ(l);if(c!==r&&null!=c){const r=pJ(c,e.getElementByKey(c.getKey()));if(null!=r)return a.table=NJ(c,r),RJ(e,t,n,c,a)}const d=e.getElementByKey(l.__key),f=e.getElementByKey(o.key);if(null==f||null==d)return!1;let p;if("element"===o.type)p=f.getBoundingClientRect();else{const t=KK(hJ(e));if(null===t||0===t.rangeCount)return!1;p=t.getRangeAt(0).getBoundingClientRect()}const h="up"===n?l.getFirstChild():l.getLastChild();if(null==h)return!1;const m=e.getElementByKey(h.__key);if(null==m)return!1;const g=m.getBoundingClientRect();if("up"===n?g.top>p.top-p.height:p.bottom+p.height>g.bottom){zJ(t);const e=r.getCordsFromCellNode(l,a.table);if(!t.shiftKey)return kJ(a,r,e.x,e.y,n);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,a.table);a.$setAnchorCellForSelection(t),a.$setFocusCellForSelection(t,!0)}return!0}}}else if(oJ(i)){const{anchor:o,focus:s}=i,l=xY(o.getNode(),PX),u=xY(s.getNode(),PX),[c]=i.getNodes();XJ(c)||IX(251);const d=pJ(c,e.getElementByKey(c.getKey()));if(!PX(l)||!PX(u)||!XJ(c)||null==d)return!1;a.$updateTableTableSelection(i);const f=NJ(c,d),p=r.getCordsFromCellNode(l,f),h=r.getDOMCellFromCordsOrThrow(p.x,p.y,f);if(a.$setAnchorCellForSelection(h),zJ(t),t.shiftKey){const[e,t,i]=QX(r,l,u);return function(e,t,n,r,a){const i=nJ(t,n,r),o=function(e,t){const{minColumn:n,maxColumn:r,minRow:a,maxRow:i}=t;let o=1,s=1,l=1,u=1;const c=e[a],d=e[i];for(let f=n;f<=r;f++)o=Math.max(o,c[f].cell.__rowSpan),u=Math.max(u,d[f].cell.__rowSpan);for(let f=a;f<=i;f++)s=Math.max(s,e[f][n].cell.__colSpan),l=Math.max(l,e[f][r].cell.__colSpan);return{bottomSpan:u,leftSpan:s,rightSpan:l,topSpan:o}}(t,i),{topSpan:s,leftSpan:l,bottomSpan:u,rightSpan:c}=o,d=function(e,t){const n=_J(e,t);return null===n&&IX(249,t.cell.getKey()),n}(i,n),[f,p]=DJ(d);let h=i[f],m=i[p];"forward"===a?h+="maxColumn"===f?1:l:"backward"===a?h-="minColumn"===f?1:c:"down"===a?m+="maxRow"===p?1:s:"up"===a&&(m-="minRow"===p?1:u);const g=t[m];if(void 0===g)return!1;const y=g[h];if(void 0===y)return!1;const[v,b]=function(e,t,n){const r=nJ(e,t,n),a=_J(r,t);if(a)return[jJ(e,r,a),jJ(e,r,DJ(a))];const i=_J(r,n);if(i)return[jJ(e,r,DJ(i)),jJ(e,r,i)];const o=["minColumn","minRow"];return[jJ(e,r,o),jJ(e,r,DJ(o))]}(t,n,y),x=UJ(e,v.cell),w=UJ(e,b.cell);return e.$setAnchorCellForSelection(x),e.$setFocusCellForSelection(w,!0),!0}(a,e,t,i,n)}return u.selectEnd(),!0}return!1}function zJ(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function LJ(e,t,n){const r=DH();"first"===e?t.insertBefore(r):t.insertAfter(r),r.append(...n||[]),r.selectEnd()}function qJ(e,t,n){const r=n.getParent();if(!r)return;const a=KK(hJ(e));if(!a)return;const i=a.anchorNode,o=e.getElementByKey(r.getKey()),s=pJ(n,e.getElementByKey(n.getKey()));if(!i||!o||!s||!o.contains(i)||s.contains(i))return;const l=xY(t.anchor.getNode(),e=>PX(e));if(!l)return;const u=xY(l,e=>XJ(e));if(!XJ(u)||!u.is(n))return;const[c,d]=QX(n,l,l),f=c[0][0],p=c[c.length-1][c[0].length-1],{startRow:h,startColumn:m}=d,g=h===f.startRow&&m===f.startColumn,y=h===p.startRow&&m===p.startColumn;return g?"first":y?"last":void 0}function UJ(e,t){const{tableNode:n}=e.$lookup(),r=n.getCordsFromCellNode(t,e.table);return n.getDOMCellFromCordsOrThrow(r.x,r.y,e.table)}function $J(e,t,n){return mJ(e,oK(t,n))}function WJ(e,t,n){if(!t.theme.tableAlignment)return;const r=[],a=[];for(const i of["center","right"]){const e=t.theme.tableAlignment[i];e&&(i===n?a:r).push(e)}yY(e,...r),gY(e,...a)}const HJ=new WeakSet;function KJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tV();return HJ.has(e)}class VJ extends cH{static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new VJ(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:YJ,priority:1})}}static importJSON(e){return GJ().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,n){return"html"===n}getDOMSlot(e){const t=fJ(e)?e:e.querySelector("table");return fJ(t)||IX(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const n=document.createElement("table");this.__style&&(n.style.cssText=this.__style);const r=document.createElement("colgroup");if(n.appendChild(r),function(e){e.__lexicalUnmanaged=!0}(r),gY(n,e.theme.table),this.updateTableElement(null,n,e),KJ(t)){const t=document.createElement("div"),r=e.theme.tableScrollableWrapper;return r?gY(t,r):t.style.cssText="overflow-x: auto;",t.appendChild(n),this.updateTableWrapper(null,t,n,e),t}return n}updateTableWrapper(e,t,n,r){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&function(e,t,n,r){r>0?(gY(e,n.theme.tableFrozenColumn),t.setAttribute("data-lexical-frozen-column","true")):(yY(e,n.theme.tableFrozenColumn),t.removeAttribute("data-lexical-frozen-column"))}(t,n,r,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&function(e,t,n,r){r>0?(gY(e,n.theme.tableFrozenRow),t.setAttribute("data-lexical-frozen-row","true")):(yY(e,n.theme.tableFrozenRow),t.removeAttribute("data-lexical-frozen-row"))}(t,n,r,this.__frozenRowCount)}updateTableElement(e,t,n){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&function(e,t,n){n?(gY(e,t.theme.tableRowStriping),e.setAttribute("data-lexical-row-striping","true")):(yY(e,t.theme.tableRowStriping),e.removeAttribute("data-lexical-row-striping"))}(t,n,this.__rowStriping),function(e,t,n,r){const a=e.querySelector("colgroup");if(!a)return;const i=[];for(let o=0;o<n;o++){const e=document.createElement("col"),t=r&&r[o];t&&(e.style.width=`${t}px`),i.push(e)}a.replaceChildren(...i)}(t,0,this.getColumnCount(),this.getColWidths()),WJ(t,n,this.getFormatType())}updateDOM(e,t,n){const r=this.getDOMSlot(t).element;return t===r===KJ()||(YK(a=t)&&"DIV"===a.nodeName&&this.updateTableWrapper(e,t,r,n),this.updateTableElement(e,r,n),!1);var a}exportDOM(e){const t=super.exportDOM(e),{element:n}=t;return{after:n=>{if(t.after&&(n=t.after(n)),!fJ(n)&&YK(n)&&(n=n.querySelector("table")),!fJ(n))return null;WJ(n,e._config,this.getFormatType());const[r]=eJ(this,null,null),a=new Map;for(const e of r)for(const t of e){const e=t.cell.getKey();a.has(e)||a.set(e,{colSpan:t.cell.getColSpan(),startColumn:t.startColumn})}const i=new Set;for(const e of n.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const t=e.getAttribute("data-temporary-table-cell-lexical-key");if(t){const n=a.get(t);if(e.removeAttribute("data-temporary-table-cell-lexical-key"),n){a.delete(t);for(let e=0;e<n.colSpan;e++)i.add(e+n.startColumn)}}}const o=n.querySelector(":scope > colgroup");if(o){const e=Array.from(n.querySelectorAll(":scope > colgroup > col")).filter((e,t)=>i.has(t));o.replaceChildren(...e)}const s=n.querySelectorAll(":scope > tr");if(s.length>0){const e=document.createElement("tbody");for(const t of s)e.appendChild(t);n.append(e)}return n},element:!fJ(n)&&YK(n)?n.querySelector("table"):n}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:r}=t;for(let a=0;a<n;a++){const t=r[a];if(null!=t)for(let n=0;n<t.length;n++){const r=t[n];if(null==r)continue;const{elem:i}=r,o=$J(this,i);if(null!==o&&e.is(o))return{x:n,y:a}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:r}=n,a=r[t];if(null==a)return null;const i=a[e<a.length?e:a.length-1];return null==i?null:i}getDOMCellFromCordsOrThrow(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(!r)throw new Error("Cell not found at cords.");return r}getCellNodeFromCords(e,t,n){const r=this.getDOMCellFromCords(e,t,n);if(null==r)return null;const a=oK(r.elem);return PX(a)?a:null}getCellNodeFromCordsOrThrow(e,t,n){const r=this.getCellNodeFromCords(e,t,n);if(!r)throw new Error("Node at cords not TableCellNode.");return r}getRowStriping(){return Boolean(this.getLatest().__rowStriping)}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(e=>{PX(e)&&(t+=e.getColSpan())}),t}}function YJ(e){const t=GJ();e.hasAttribute("data-lexical-row-striping")&&t.setRowStriping(!0),e.hasAttribute("data-lexical-frozen-column")&&t.setFrozenColumns(1),e.hasAttribute("data-lexical-frozen-row")&&t.setFrozenRows(1);const n=e.querySelector(":scope > colgroup");if(n){let e=[];for(const t of n.querySelectorAll(":scope > col")){let n=t.style.width||"";if(!AX.test(n)&&(n=t.getAttribute("width")||"",!/^\d+$/.test(n))){e=void 0;break}e.push(parseFloat(n))}e&&t.setColWidths(e)}return{after:e=>CY(e,LX),node:t}}function GJ(){return UK(new VJ)}function XJ(e){return e instanceof VJ}function JJ(e){let{rows:t,columns:n,includeHeaders:r}=e;const a=DW()||jW();if(!a||!fW(a))return!1;if(IJ(a.anchor.getNode()))return!1;const i=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=GJ();for(let a=0;a<e;a++){const e=zX();for(let r=0;r<t;r++){let t=_X;"object"==typeof n?(0===a&&n.rows&&(t|=DX),0===r&&n.columns&&(t|=kX)):n&&(0===a&&(t|=DX),0===r&&(t|=kX));const i=TX(t),o=DH();o.append(tW()),i.append(o),e.append(i)}r.append(e)}return r}(Number(t),Number(n),r);wY(i);const o=i.getFirstDescendant();return nW(o)&&o.select(),!0}function ZJ(e){LX(e.getParent())?e.isEmpty()&&e.append(DH()):e.remove()}function QJ(e){XJ(e.getParent())?EY(e,PX):e.remove()}function eZ(e){EY(e,LX);const[t]=eJ(e,null,null),n=t.reduce((e,t)=>Math.max(e,t.length),0),r=e.getChildren();for(let a=0;a<t.length;++a){const e=r[a];if(!e)continue;LX(e)||IX(254,e.constructor.name,e.getType());const i=t[a].reduce((e,t)=>t?1+e:e,0);if(i!==n)for(let t=i;t<n;++t){const t=TX();t.append(DH()),e.append(t)}}}function tZ(e){if(e.detail<3||!GK(e.target))return!1;const t=oK(e.target);if(null===t)return!1;const n=xY(t,e=>dH(e)&&!e.isInline());return null!==n&&(!!PX(n.getParent())&&(n.select(0),!0))}function nZ(e){let{hasCellMerge:t=!0,hasCellBackgroundColor:n=!0,hasTabHandler:a=!0,hasHorizontalScroll:i=!1}=e;const[o]=kL();return(0,r.useEffect)(()=>{KJ(o)!==i&&(function(e,t){t?HJ.add(e):HJ.delete(e)}(o,i),o.registerNodeTransform(VJ,()=>{})())},[o,i]),(0,r.useEffect)(()=>function(e){return e.hasNodes([VJ])||IX(255),mY(e.registerCommand(FX,JJ,0),e.registerCommand(gU,(t,n)=>{let{nodes:r,selection:a}=t;return!(e!==n||!fW(a))&&null!==IJ(a.anchor.getNode())&&r.some(XJ)},0),e.registerCommand(yU,tZ,0),e.registerNodeTransform(VJ,eZ),e.registerNodeTransform(BX,QJ),e.registerNodeTransform(jX,ZJ))}(o),[o]),(0,r.useEffect)(()=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=new Map,r=(r,a,i)=>{const o=pJ(r,i),s=bJ(r,o,e,t);n.set(a,[s,o])},a=e.registerMutationListener(VJ,t=>{e.getEditorState().read(()=>{for(const[e,a]of t){const t=n.get(e);if("created"===a||"updated"===a){const{tableNode:a,tableElement:i}=uJ(e);void 0===t?r(a,e,i):i!==t[1]&&(t[0].removeListeners(),n.delete(e),r(a,e,i))}else"destroyed"===a&&void 0!==t&&(t[0].removeListeners(),n.delete(e))}},{editor:e})},{skipInitialization:!1});return()=>{a();for(const[,[e]]of n)e.removeListeners()}}(o,a),[o,a]),(0,r.useEffect)(()=>{if(!t)return function(e){return e.registerNodeTransform(jX,e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=tJ(e),[n]=QX(t,e,e),r=n.length,a=n[0].length;let i=t.getFirstChild();LX(i)||IX(175);const o=[];for(let e=0;e<r;e++){0!==e&&(i=i.getNextSibling(),LX(i)||IX(175));let t=null;for(let r=0;r<a;r++){const a=n[e][r],s=a.cell;if(a.startRow===e&&a.startColumn===r)t=s,o.push(s);else if(s.getColSpan()>1||s.getRowSpan()>1){PX(s)||IX(176);const e=TX(s.__headerState);null!==t?t.insertAfter(e):NY(i,e)}}}for(const e of o)e.setColSpan(1),e.setRowSpan(1)}})}(o)},[o,t]),(0,r.useEffect)(()=>{if(!n)return o.registerNodeTransform(jX,e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)})},[o,n,t]),null}function rZ(e){let{src:t,altText:n}=e;return(0,o.jsx)("img",{src:t,alt:n,style:{maxWidth:"100%"}})}class aZ extends pH{static getType(){return"image"}static clone(e){return new aZ(e.__src,e.__altText,e.__key)}static importJSON(e){const{src:t,altText:n}=e;return iZ({src:t,altText:n})}exportJSON(){return{src:this.__src,altText:this.__altText,type:"image",version:1}}constructor(e,t,n){super(n),this.__src=e,this.__altText=t}createDOM(){return document.createElement("span")}updateDOM(){return!1}decorate(){return(0,o.jsx)(rZ,{src:this.__src,altText:this.__altText})}}function iZ(e){let{altText:t,src:n}=e;return new aZ(n,t)}const oZ=hU("INSERT_IMAGE_COMMAND");function sZ(){const[e]=kL();return(0,r.useEffect)(()=>e.registerCommand(oZ,t=>{const n=prompt("Enter image URL:",t.src||"https://via.placeholder.com/300");if(n){const r=iZ({altText:t.altText,src:n});e.update(()=>{e.getRootElement().append(r)})}return!0},0),[e]),null}n(2999),n(3241),n(3636),n(7956),n(8486),n(7646),n(944),n(7819),n(5775),n(8466),n(3817),n(9765),n(684),n(7932),n(6043),n(3782);!function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach(function(n){var r=t[n],a=[];/^\w+$/.test(n)||a.push(/\w+/.exec(n)[0]),"diff"===n&&a.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:a,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}}),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(Prism);const lZ=globalThis.Prism||window.Prism;const uZ=e=>{const t=/^diff-([\w-]+)/i;try{if(!e)return!1;const n=t.exec(e);return n?lZ.languages.hasOwnProperty("diff")&&lZ.languages.hasOwnProperty(n[1]):lZ.languages.hasOwnProperty(e)}catch(e){return!1}};function cZ(e,t){for(const n of e.childNodes){if(YK(n)&&n.tagName===t)return!0;cZ(n,t)}return!1}const dZ="data-language",fZ="data-highlight-language";class pZ extends cH{static getType(){return"code"}static clone(e){return new pZ(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=uZ(e)}createDOM(e){const t=document.createElement("code");gY(t,e.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(dZ,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(fZ,n)),t}updateDOM(e,t,n){const r=this.__language,a=e.__language;return r?r!==a&&(t.setAttribute(dZ,r),this.__isSyntaxHighlightSupported&&t.setAttribute(fZ,r)):a&&(t.removeAttribute(dZ),e.__isSyntaxHighlightSupported&&t.removeAttribute(fZ)),!1}exportDOM(e){const t=document.createElement("pre");gY(t,e._config.theme.code),t.setAttribute("spellcheck","false");const n=this.getLanguage();return n&&(t.setAttribute(dZ,n),this.getIsSyntaxHighlightSupported()&&t.setAttribute(fZ,n)),{element:t}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||cZ(e,"BR"))?{conversion:gZ,priority:1}:null,div:()=>({conversion:yZ,priority:1}),pre:()=>({conversion:gZ,priority:0}),table:e=>wZ(e)?{conversion:vZ,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&wZ(n)?{conversion:bZ,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&wZ(t)?{conversion:bZ,priority:3}:null}}}static importJSON(e){return hZ().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage()}}insertNewAfter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=DH();return this.insertAfter(e,t),e}const{anchor:a,focus:i}=e,o=(a.isBefore(i)?a:i).getNode();if(nW(o)){let e=kZ(o);const t=[];for(;;)if(oW(e))t.push(iW()),e=e.getNextSibling();else{if(!AZ(e))break;{let n=0;const r=e.getTextContent(),a=e.getTextContentSize();for(;n<a&&" "===r[n];)n++;if(0!==n&&t.push(EZ(" ".repeat(n))),n!==a)break;e=e.getNextSibling()}}const n=o.splitText(a.offset)[0],r=0===a.offset?0:1,i=n.getIndexWithinParent()+r,s=o.getParentOrThrow(),l=[B$(),...t];s.splice(i,0,l);const u=t[t.length-1];u?u.select():0===a.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(mZ(o)){const{offset:t}=e.anchor;o.splice(t,0,[B$()]),o.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=DH();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t.__isSyntaxHighlightSupported=uZ(e),t}getLanguage(){return this.getLatest().__language}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}}function hZ(e){return UK(new pZ(e))}function mZ(e){return e instanceof pZ}function gZ(e){return{node:hZ(e.getAttribute(dZ))}}function yZ(e){const t=e,n=xZ(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(xZ(t))return!0;t=t.parentElement}return!1}(t)?{node:n?hZ():null}:{node:null}}function vZ(){return{node:hZ()}}function bZ(){return{node:null}}function xZ(e){return null!==e.style.fontFamily.match("monospace")}function wZ(e){return e.classList.contains("js-file-line-container")}class SZ extends K${constructor(){let e=arguments.length>1?arguments[1]:void 0;super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>2?arguments[2]:void 0),this.__highlightType=e}static getType(){return"code-highlight"}static clone(e){return new SZ(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e);return gY(t,NZ(e.theme,this.__highlightType)),t}updateDOM(e,t,n){const r=super.updateDOM(e,t,n),a=NZ(n.theme,e.__highlightType),i=NZ(n.theme,this.__highlightType);return a!==i&&(a&&yY(t,a),i&&gY(t,i)),r}static importJSON(e){return EZ().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return hZ()}}function NZ(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function EZ(){return UK(new SZ(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",arguments.length>1?arguments[1]:void 0))}function AZ(e){return e instanceof SZ}function CZ(e,t){let n=e;for(let r=EV(e,t);r&&(AZ(r.origin)||oW(r.origin));r=vY(r))n=r.origin;return n}function kZ(e){return CZ(e,"previous")}new Set;const _Z={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",underline:"editor-text-underline"},code:"editor-code"},DZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jZ=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},OZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()},MZ=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var TZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PZ=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:u,...c}=e;return(0,r.createElement)("svg",{ref:t,...TZ,width:a,height:a,stroke:n,strokeWidth:o?24*Number(i)/Number(a):i,className:OZ("lucide",s),...!l&&!MZ(c)&&{"aria-hidden":"true"},...c},[...u.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),FZ=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:i,...o}=n;return(0,r.createElement)(PZ,{ref:a,iconNode:t,className:OZ(`lucide-${DZ(jZ(e))}`,`lucide-${e}`,i),...o})});return n.displayName=jZ(e),n},IZ=FZ("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]),BZ=FZ("redo-2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]),RZ=FZ("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),zZ=FZ("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),LZ=FZ("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),qZ=FZ("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),UZ=FZ("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),$Z=FZ("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),WZ=FZ("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),HZ=FZ("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),KZ=FZ("align-center",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),VZ=FZ("align-right",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),YZ=FZ("align-justify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]),GZ=[{value:"paragraph",label:"Normal"},{value:"h1",label:"Heading 1"},{value:"h2",label:"Heading 2"},{value:"h3",label:"Heading 3"},{value:"code",label:"Code Block"},{value:"quote",label:"Quote"}],XZ=e=>{let{icon:t,active:n,...r}=e;return(0,o.jsx)("button",{className:"icon-btn "+(n?"active":""),type:"button",...r,children:t})},JZ=()=>(0,o.jsx)("div",{className:"divider"}),ZZ=e=>{let{value:t,opts:n,onChange:r}=e;return(0,o.jsx)("select",{className:"select",value:t,onChange:e=>r(e.target.value),children:n.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})},QZ=()=>{const[e]=kL(),[t,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)("paragraph"),[u,c]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)("left"),y=(0,r.useCallback)(()=>{const e=DW();if(!fW(e))return;c(e.hasFormat("bold")),f(e.hasFormat("italic")),h(e.hasFormat("underline"));const t=e.anchor.getNode().getTopLevelElementOrThrow();l("heading"===t.getType()?t.getTag():t.getType()),g(t.getFormatType()||"left")},[]);return(0,r.useEffect)(()=>e.registerCommand(mU,()=>(y(),!1),1),[e,y]),(0,r.useEffect)(()=>e.registerCommand(n$,e=>(n(e),!1),1),[e]),(0,r.useEffect)(()=>e.registerCommand(t$,e=>(i(e),!1),1),[e]),(0,o.jsxs)("div",{className:"toolbar",children:[(0,o.jsx)(XZ,{icon:(0,o.jsx)(IZ,{size:18}),disabled:!t,onClick:()=>e.dispatchCommand(kU,void 0)}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(BZ,{size:18}),disabled:!a,onClick:()=>e.dispatchCommand(_U,void 0)}),(0,o.jsx)(JZ,{}),(0,o.jsx)(ZZ,{value:s,opts:GZ,onChange:t=>e.dispatchCommand(KU,t)}),(0,o.jsx)(JZ,{}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(RZ,{size:18}),active:u,onClick:()=>e.dispatchCommand(CU,"bold")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(zZ,{size:18}),active:d,onClick:()=>e.dispatchCommand(CU,"italic")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(LZ,{size:18}),active:p,onClick:()=>e.dispatchCommand(CU,"underline")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(qZ,{size:18}),onClick:()=>e.dispatchCommand(CU,"code")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(UZ,{size:18}),onClick:()=>e.dispatchCommand(vX,"https://")}),(0,o.jsx)(JZ,{}),(0,o.jsx)(XZ,{icon:(0,o.jsx)($Z,{size:18}),onClick:()=>e.dispatchCommand(oZ,{src:"",altText:"image"})}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(WZ,{size:18}),onClick:()=>e.dispatchCommand(FX,{rows:3,columns:3})}),(0,o.jsx)(JZ,{}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(HZ,{size:18}),active:"left"===m,onClick:()=>e.dispatchCommand(KU,"left")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(KZ,{size:18}),active:"center"===m,onClick:()=>e.dispatchCommand(KU,"center")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(VZ,{size:18}),active:"right"===m,onClick:()=>e.dispatchCommand(KU,"right")}),(0,o.jsx)(XZ,{icon:(0,o.jsx)(YZ,{size:18}),active:"justify"===m,onClick:()=>e.dispatchCommand(KU,"justify")})]})},eQ=e=>{let{templateToInsert:t}=e;const[n]=kL();return(0,r.useEffect)(()=>{t&&n.update(()=>{const e=uK(),n=t.key;switch(e.append(DH()),n){case"weeklyReview":e.append(cG("h2").append(tW("Weekly Review")),nX("bullet").append(GG().append(tW("Week 1: ")),GG().append(tW("Week 2: "))));break;case"savingsGoals":e.append(cG("h2").append(tW("Savings Goals")),nX("bullet").append(GG().append(tW("Emergency Fund: ")),GG().append(tW("Short-term Goal: "))))}})},[t,n]),null};function tQ(){return(0,o.jsx)("div",{className:"editor-placeholder",children:"Enter your notes..."})}const nQ=e=>{let{value:t,onChange:n,templateToInsert:r}=e;const a={namespace:"MyNotesEditor",theme:_Z,editorState:t,nodes:[oG,JG,KG,aG,pZ,mX,dX,aZ,VJ,jX,BX],onError:e=>console.error(e)};return(0,o.jsx)(iY,{initialConfig:a,children:(0,o.jsxs)("div",{className:"editor-container",children:[(0,o.jsx)(QZ,{}),(0,o.jsxs)("div",{className:"editor-inner",children:[(0,o.jsx)(vG,{contentEditable:(0,o.jsx)(NG,{className:"editor-input"}),placeholder:(0,o.jsx)(tQ,{}),ErrorBoundary:e=>{let{error:t}=e;return(0,o.jsx)("div",{children:t.message})}}),(0,o.jsx)(kG,{}),(0,o.jsx)(uX,{}),(0,o.jsx)(EX,{}),(0,o.jsx)(nZ,{}),(0,o.jsx)(sZ,{}),(0,o.jsx)(DG,{onChange:e=>{n(JSON.stringify(e.toJSON()))}}),(0,o.jsx)(eQ,{templateToInsert:r})]})]})})},rQ=(0,r.forwardRef)((e,t)=>{let{type:n="text",className:r="",error:a,helperText:i,label:s,required:l=!1,disabled:u=!1,...c}=e;const d=["form-input",a?"input-error":"",u?"input-disabled":"",r].filter(Boolean).join(" ");return(0,o.jsxs)("div",{className:"input-container",children:[s&&(0,o.jsxs)("label",{className:"input-label",children:[s,l&&(0,o.jsx)("span",{className:"required-indicator",children:"*"})]}),(0,o.jsx)("input",{ref:t,type:n,className:d,disabled:u,...c}),a&&(0,o.jsx)("div",{className:"input-error-message",children:a}),i&&!a&&(0,o.jsx)("div",{className:"input-helper-text",children:i})]})});rQ.displayName="Input";const aQ=rQ,iQ=["January","February","March","April","May","June","July","August","September","October","November","December"];function oQ(e){if("string"!==typeof e)return!1;try{JSON.parse(e)}catch(t){return!1}return!0}function sQ(e){return JSON.stringify({root:{children:[{children:[{detail:0,format:0,mode:"normal",style:"",text:e,type:"text",version:1}],direction:"ltr",format:"",indent:0,type:"paragraph",version:1}],direction:"ltr",format:"",indent:0,type:"root",version:1}})}const lQ=()=>{const{actions:e,formatCurrency:t}=H(),[n,a]=(0,r.useState)(null),[i,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(null),[c,d]=(0,r.useState)((new Date).getMonth()),[f,p]=(0,r.useState)(!0),[h,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),v=(0,r.useRef)(null),[b,x]=(0,r.useState)(null),[w,S]=(0,r.useState)(0),N=(0,r.useCallback)(()=>{var n,r;const a=(new Date).getFullYear(),i=iQ[c],o=(null===(n=e.calculations)||void 0===n||null===(r=n.getNetMonthlyIncome)||void 0===r?void 0:r.call(n))||0;return`{"root":{"children":[{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"# ${i} ${a} Budget Notes","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"heading","tag":"h1","version":1},{"children":[{"detail":0,"format":0,"mode":"normal","style":"","text":"- Net Income: ${t(o)}","type":"text","version":1}],"direction":"ltr","format":"","indent":0,"type":"paragraph","version":1}],"direction":"ltr","format":"","indent":0,"type":"root","version":1}}`},[c,e.calculations,t]),E=e=>{localStorage.setItem(`budget-notes-${c}`,e),localStorage.setItem(`budget-notes-title-${c}`,i);const t=new Date;localStorage.setItem(`budget-notes-lastsaved-${c}`,t.toISOString()),u(t)},A=(0,r.useCallback)(()=>{null!==n&&E(n)},[n,i,c]);(0,r.useEffect)(()=>{let e=localStorage.getItem(`budget-notes-${c}`);const t=localStorage.getItem(`budget-notes-title-${c}`);e&&!oQ(e)&&(e=sQ(e)),a(e||N()),s(t||`${iQ[c]} Budget Notes`),S(e=>e+1);const n=localStorage.getItem(`budget-notes-lastsaved-${c}`);u(n?new Date(n):null)},[c,N]),(0,r.useEffect)(()=>{if(!f)return;const e=setTimeout(A,2e3);return()=>clearTimeout(e)},[n,i,f,A]);const C=e=>x({key:e,timestamp:Date.now()}),k=e=>{y(e),m(!0)};return null===n?(0,o.jsx)("div",{children:"Loading notes..."}):(0,o.jsxs)("div",{className:"page-container",children:[h&&(0,o.jsx)("div",{className:"confirmation-overlay",children:(0,o.jsxs)("div",{className:"confirmation-modal",children:[(0,o.jsxs)("h3",{children:["\u26a0\ufe0f Confirm ",g]}),(0,o.jsxs)("p",{children:["Are you sure you want to ",g," the notes? This action cannot be undone."]}),(0,o.jsxs)("div",{className:"confirmation-actions",children:[(0,o.jsx)(gb,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,o.jsxs)(gb,{variant:"danger",onClick:()=>{const e="clear"===g?'{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}':N();a(e),E(e),S(e=>e+1),m(!1),y(null)},children:["Yes, ",g]})]})]})}),(0,o.jsxs)("div",{className:"page-content",children:[(0,o.jsxs)("div",{className:"notes-header",children:[(0,o.jsx)("h1",{className:"page-title",children:"\ud83d\udcdd Budget Notes"}),l&&(0,o.jsxs)("div",{className:"last-saved",children:["\u2705 Saved: ",l.toLocaleTimeString()]})]}),(0,o.jsxs)(eL,{className:"notes-editor-card",children:[(0,o.jsxs)("div",{className:"card-header",children:[(0,o.jsx)(aQ,{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Note title...",className:"note-title-input"}),(0,o.jsxs)("div",{className:"notes-actions",children:[(0,o.jsxs)("label",{className:"auto-save-toggle",children:[(0,o.jsx)("input",{type:"checkbox",checked:f,onChange:e=>p(e.target.checked)}),(0,o.jsx)("span",{children:"Auto-save"})]}),(0,o.jsx)(gb,{onClick:()=>A(),children:"\ud83d\udcbe Save"}),(0,o.jsx)(gb,{variant:"outline",onClick:()=>{var e;null===(e=v.current)||void 0===e||e.click()},children:"\ud83d\udce5 Import"}),(0,o.jsx)(gb,{variant:"outline",onClick:()=>{},children:"\ud83d\udcc4 Export MD"}),(0,o.jsx)(gb,{variant:"danger",onClick:()=>k("reset"),children:"\ud83d\udd04 Reset"}),(0,o.jsx)(gb,{variant:"danger",onClick:()=>k("clear"),children:"\u274c Clear"})]})]}),(0,o.jsx)(nQ,{value:n,onChange:a,templateToInsert:b},w)]}),(0,o.jsxs)(eL,{className:"quick-templates-card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("h3",{children:"\ud83d\udccb Quick Templates"})}),(0,o.jsx)("div",{className:"card-content",children:(0,o.jsxs)("div",{className:"templates-grid",children:[(0,o.jsx)(gb,{onClick:()=>C("weeklyReview"),children:"\ud83d\udcc5 Weekly Review"}),(0,o.jsx)(gb,{onClick:()=>C("savingsGoals"),children:"\ud83c\udfaf Savings Goals"}),(0,o.jsx)(gb,{onClick:()=>C("billTracker"),children:"\ud83d\udccb Bill Tracker"}),(0,o.jsx)(gb,{onClick:()=>C("reflection"),children:"\ud83e\udd14 Reflection"})]})})]})]}),(0,o.jsx)("input",{ref:v,type:"file",accept:".json,.md,.txt",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onload=e=>{const t=e.target.result,n=oQ(t)?t:sQ(t);a(n),E(n),S(e=>e+1)},n.readAsText(t),e.target.value=""},style:{display:"none"}})]})},uQ=()=>{const{state:e,actions:t}=H(),{exportToJSON:n,importFromJSON:a,exportToCSV:i,getCurrentState:s}=vb(),[l,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null),[p,h]=(0,r.useState)(""),m=(0,r.useRef)(null),g=async e=>{u(!0);try{const t=await i(e);t.success&&f({type:"export",success:!0,message:`${e} data exported successfully as ${t.filename}`,timestamp:(new Date).toLocaleString()})}catch(t){f({type:"export",success:!1,message:t.message,timestamp:(new Date).toLocaleString()})}u(!1)},y=(()=>{var t;const n=Object.values(e.data.monthly||{}).reduce((e,t)=>e+t.length,0),r=Object.values(e.data.annual||{}).reduce((e,t)=>e+t.length,0);return{income:(null===(t=e.data.income)||void 0===t?void 0:t.length)||0,monthlyExpenses:n,annualExpenses:r,totalExpenses:n+r,categories:Object.keys(e.data.monthly||{}).length+Object.keys(e.data.annual||{}).length,accounts:Array.isArray(e.data.accounts)?e.data.accounts.length:0,dataSize:JSON.stringify(e.data).length}})();return(0,o.jsxs)("div",{className:"import-export-redesigned",children:[(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsx)("h2",{className:"page-title",children:"\ud83d\udcc2 Data Management"}),(0,o.jsx)("p",{className:"page-description",children:"Import, export, and manage your budget data with comprehensive backup and restore options"})]}),(0,o.jsxs)("div",{className:"data-overview-dashboard",children:[(0,o.jsxs)("div",{className:"overview-stats",children:[(0,o.jsxs)("div",{className:"stat-card primary",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-number",children:y.totalExpenses}),(0,o.jsx)("div",{className:"stat-label",children:"Total Expenses"}),(0,o.jsxs)("div",{className:"stat-detail",children:[y.monthlyExpenses," monthly \u2022 ",y.annualExpenses," annual"]})]})]}),(0,o.jsxs)("div",{className:"stat-card success",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udcb5"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-number",children:y.income}),(0,o.jsx)("div",{className:"stat-label",children:"Income Sources"}),(0,o.jsx)("div",{className:"stat-detail",children:"Active revenue streams"})]})]}),(0,o.jsxs)("div",{className:"stat-card info",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83c\udff7\ufe0f"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-number",children:y.categories}),(0,o.jsx)("div",{className:"stat-label",children:"Categories"}),(0,o.jsx)("div",{className:"stat-detail",children:"Budget organization"})]})]}),(0,o.jsxs)("div",{className:"stat-card warning",children:[(0,o.jsx)("div",{className:"stat-icon",children:"\ud83d\udcbe"}),(0,o.jsxs)("div",{className:"stat-content",children:[(0,o.jsx)("div",{className:"stat-number",children:Math.round(y.dataSize/1024)}),(0,o.jsx)("div",{className:"stat-label",children:"KB Data Size"}),(0,o.jsx)("div",{className:"stat-detail",children:"Storage footprint"})]})]})]}),(0,o.jsx)("div",{className:"last-updated-info",children:(0,o.jsxs)("div",{className:"update-indicator",children:[(0,o.jsx)("span",{className:"update-dot"}),(0,o.jsxs)("span",{className:"update-text",children:["Last updated: ",new Date(e.lastUpdated).toLocaleDateString()]})]})})]}),(0,o.jsxs)("div",{className:"main-actions-grid",children:[(0,o.jsxs)("div",{className:"action-section export-section",children:[(0,o.jsxs)("div",{className:"section-header",children:[(0,o.jsx)("div",{className:"section-icon export",children:"\ud83d\udce4"}),(0,o.jsx)("div",{className:"section-title",children:"Export Data"}),(0,o.jsx)("div",{className:"section-subtitle",children:"Backup your budget data"})]}),(0,o.jsxs)("div",{className:"primary-action-card",children:[(0,o.jsxs)("div",{className:"action-header",children:[(0,o.jsx)("div",{className:"action-icon",children:"\ud83d\uddc2\ufe0f"}),(0,o.jsxs)("div",{className:"action-info",children:[(0,o.jsx)("h4",{children:"Complete Backup"}),(0,o.jsx)("p",{children:"Export all data as JSON for full backup"})]})]}),(0,o.jsxs)("div",{className:"action-form",children:[(0,o.jsx)(aQ,{type:"text",placeholder:"Custom filename (optional)",value:p,onChange:e=>h(e.target.value),className:"filename-input"}),(0,o.jsx)(gb,{variant:"primary",onClick:async()=>{u(!0);try{const e=await n(p);e.success&&!e.cancelled&&f({type:"export",success:!0,message:`Data exported successfully as ${e.filename}`,timestamp:(new Date).toLocaleString()})}catch(e){f({type:"export",success:!1,message:e.message,timestamp:(new Date).toLocaleString()})}u(!1)},disabled:l,className:"primary-action-btn",children:l?"Exporting...":"Create Backup"})]})]}),(0,o.jsxs)("div",{className:"secondary-actions",children:[(0,o.jsxs)("div",{className:"secondary-header",children:[(0,o.jsx)("h5",{children:"\ud83d\udccb Spreadsheet Exports"}),(0,o.jsx)("p",{children:"Export data in CSV format for Excel/Sheets"})]}),(0,o.jsxs)("div",{className:"csv-export-grid",children:[(0,o.jsxs)(gb,{variant:"outline",onClick:()=>g("income"),disabled:l,className:"csv-btn",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb5"}),(0,o.jsx)("span",{children:"Income"})]}),(0,o.jsxs)(gb,{variant:"outline",onClick:()=>g("monthly"),disabled:l,className:"csv-btn",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc5"}),(0,o.jsx)("span",{children:"Monthly"})]}),(0,o.jsxs)(gb,{variant:"outline",onClick:()=>g("annual"),disabled:l,className:"csv-btn",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcc6"}),(0,o.jsx)("span",{children:"Annual"})]}),(0,o.jsxs)(gb,{variant:"outline",onClick:()=>g("all"),disabled:l,className:"csv-btn featured",children:[(0,o.jsx)("span",{className:"btn-icon",children:"\ud83d\udcca"}),(0,o.jsx)("span",{children:"Complete"})]})]})]})]}),(0,o.jsxs)("div",{className:"action-section import-section",children:[(0,o.jsxs)("div",{className:"section-header",children:[(0,o.jsx)("div",{className:"section-icon import",children:"\ud83d\udce5"}),(0,o.jsx)("div",{className:"section-title",children:"Import Data"}),(0,o.jsx)("div",{className:"section-subtitle",children:"Restore from backup"})]}),(0,o.jsxs)("div",{className:"warning-banner",children:[(0,o.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,o.jsxs)("div",{className:"warning-content",children:[(0,o.jsx)("strong",{children:"Data Replacement Warning"}),(0,o.jsx)("p",{children:"Importing will replace all current data. Export a backup first!"})]})]}),(0,o.jsxs)("div",{className:"primary-action-card",children:[(0,o.jsxs)("div",{className:"action-header",children:[(0,o.jsx)("div",{className:"action-icon",children:"\ud83d\udcc2"}),(0,o.jsxs)("div",{className:"action-info",children:[(0,o.jsx)("h4",{children:"Restore Backup"}),(0,o.jsx)("p",{children:"Import complete data from JSON file"})]})]}),(0,o.jsxs)("div",{className:"action-form",children:[(0,o.jsx)(gb,{variant:"success",onClick:()=>{var e;null===(e=m.current)||void 0===e||e.click()},disabled:l,className:"primary-action-btn",children:l?"Importing...":"Select Backup File"}),(0,o.jsx)("input",{ref:m,type:"file",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t){u(!0);try{const e=await a(t);e.success&&!e.cancelled&&f({type:"import",success:!0,message:`Data imported successfully from ${e.filename}`,stats:e.stats,timestamp:(new Date).toLocaleString()})}catch(n){f({type:"import",success:!1,message:n.message,timestamp:(new Date).toLocaleString()})}u(!1),e.target.value=""}},style:{display:"none"}})]})]}),(0,o.jsxs)("div",{className:"import-requirements",children:[(0,o.jsx)("h5",{children:"\ud83d\udccb Import Requirements"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"JSON files from this application only"}),(0,o.jsx)("li",{children:"Data validation before import"}),(0,o.jsx)("li",{children:"Confirmation dialog with statistics"}),(0,o.jsx)("li",{children:"Complete data replacement"})]})]})]})]}),(0,o.jsxs)("div",{className:"management-tools-grid",children:[(0,o.jsxs)(eL,{className:"diagnostic-card",children:[(0,o.jsxs)("div",{className:"tool-header",children:[(0,o.jsx)("div",{className:"tool-icon",children:"\ud83d\udd0d"}),(0,o.jsxs)("div",{className:"tool-info",children:[(0,o.jsx)("h4",{children:"System Diagnostics"}),(0,o.jsx)("p",{children:"Analyze data structure and identify issues"})]})]}),(0,o.jsx)(gb,{variant:"outline",onClick:()=>{var t;const n=s(),r={totalIncome:(null===(t=e.data.income)||void 0===t?void 0:t.length)||0,totalMonthlyExpenses:Object.values(e.data.monthly||{}).reduce((e,t)=>e+t.length,0),totalAnnualExpenses:Object.values(e.data.annual||{}).reduce((e,t)=>e+t.length,0),dataSize:JSON.stringify(n).length,lastUpdated:e.lastUpdated,accounts:Array.isArray(e.data.accounts)?e.data.accounts.length:0};f({type:"diagnosis",success:!0,message:"Data diagnosis completed",stats:r,timestamp:(new Date).toLocaleString()})},disabled:l,className:"diagnostic-btn",children:"Run Diagnosis"})]}),(0,o.jsxs)(eL,{className:"danger-card",children:[(0,o.jsxs)("div",{className:"tool-header",children:[(0,o.jsx)("div",{className:"tool-icon",children:"\u26a0\ufe0f"}),(0,o.jsxs)("div",{className:"tool-info",children:[(0,o.jsx)("h4",{children:"Reset Data"}),(0,o.jsx)("p",{children:"Permanently delete all budget data"})]})]}),(0,o.jsx)(gb,{variant:"danger",onClick:()=>{window.confirm("Are you sure you want to reset ALL budget data? This action cannot be undone.")&&(t.resetData(),f({type:"reset",success:!0,message:"All budget data has been reset",timestamp:(new Date).toLocaleString()}))},disabled:l,className:"danger-btn",children:"Reset All Data"})]}),(0,o.jsxs)(eL,{className:"info-card",children:[(0,o.jsxs)("div",{className:"tool-header",children:[(0,o.jsx)("div",{className:"tool-icon",children:"\u2139\ufe0f"}),(0,o.jsxs)("div",{className:"tool-info",children:[(0,o.jsx)("h4",{children:"App Information"}),(0,o.jsxs)("p",{children:["Version ",c," \u2022 Local Storage"]})]})]}),(0,o.jsxs)("div",{className:"app-details",children:[(0,o.jsxs)("div",{className:"detail-row",children:[(0,o.jsx)("span",{children:"Data Format:"}),(0,o.jsx)("span",{children:"v2.0"})]}),(0,o.jsxs)("div",{className:"detail-row",children:[(0,o.jsx)("span",{children:"Backup Frequency:"}),(0,o.jsx)("span",{children:"Weekly"})]})]})]})]}),d&&(0,o.jsxs)("div",{className:"operation-result-banner "+(d.success?"success":"error"),children:[(0,o.jsxs)("div",{className:"result-content",children:[(0,o.jsx)("div",{className:"result-icon",children:d.success?"\u2705":"\u274c"}),(0,o.jsxs)("div",{className:"result-info",children:[(0,o.jsxs)("div",{className:"result-title",children:[d.type.charAt(0).toUpperCase()+d.type.slice(1),d.success?" Completed":" Failed"]}),(0,o.jsx)("div",{className:"result-message",children:d.message}),d.timestamp&&(0,o.jsx)("div",{className:"result-timestamp",children:d.timestamp})]}),d.stats&&(0,o.jsx)("div",{className:"result-stats",children:(0,o.jsx)("div",{className:"stats-summary",children:Object.entries(d.stats).slice(0,4).map(e=>{let[t,n]=e;return(0,o.jsxs)("div",{className:"stat-summary-item",children:[(0,o.jsxs)("span",{className:"stat-key",children:[t,":"]}),(0,o.jsx)("span",{className:"stat-value",children:n})]},t)})})})]}),(0,o.jsx)(gb,{variant:"outline",size:"sm",onClick:()=>f(null),className:"close-result-btn",children:"\u2715"})]})]})},cQ=()=>{var e,t;const{state:n,actions:a}=H(),[i,s]=(0,r.useState)(null),[l,u]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[b,x]=(0,r.useState)({name:"",url:"",description:"",category:"",tags:""}),[w,S]=(0,r.useState)({name:"",icon:"\ud83d\udd17",color:"#3498db"}),N=[{name:"Banking & Finance",icon:"\ud83c\udfe6",color:"#27ae60",examples:["Online banking","Credit cards","Investment accounts"]},{name:"Utilities",icon:"\u26a1",color:"#f39c12",examples:["Electricity","Gas","Water","Internet"]},{name:"Insurance",icon:"\ud83d\udee1\ufe0f",color:"#e74c3c",examples:["Health insurance","Auto insurance","Home insurance"]},{name:"Government",icon:"\ud83c\udfdb\ufe0f",color:"#9b59b6",examples:["Tax services","DMV","City services"]},{name:"Shopping",icon:"\ud83d\uded2",color:"#f1c40f",examples:["Amazon","Grocery stores","Clothing"]},{name:"Work & Professional",icon:"\ud83d\udcbc",color:"#34495e",examples:["Company portal","Professional tools","Training"]},{name:"Health & Medical",icon:"\u2695\ufe0f",color:"#16a085",examples:["Doctor portals","Pharmacy","Health records"]},{name:"Education",icon:"\ud83d\udcda",color:"#8e44ad",examples:["Online courses","School portals","Research"]},{name:"Home & Garden",icon:"\ud83c\udfe1",color:"#2ecc71",examples:["Home improvement","Gardening","Real estate"]},{name:"Travel",icon:"\u2708\ufe0f",color:"#3498db",examples:["Airlines","Hotels","Travel planning"]},{name:"Entertainment",icon:"\ud83c\udfac",color:"#e67e22",examples:["Streaming services","Gaming","Music"]},{name:"Social Media",icon:"\ud83d\udcf1",color:"#9b59b6",examples:["Facebook","Twitter","Instagram","LinkedIn"]},{name:"News & Media",icon:"\ud83d\udcf0",color:"#34495e",examples:["News websites","Magazines","Blogs"]},{name:"Technology",icon:"\ud83d\udcbb",color:"#3498db",examples:["Software tools","Tech news","Cloud services"]},{name:"Food & Dining",icon:"\ud83c\udf55",color:"#e74c3c",examples:["Food delivery","Restaurants","Recipes"]},{name:"Fitness & Sports",icon:"\ud83c\udfc3",color:"#27ae60",examples:["Gym memberships","Sports news","Fitness apps"]},{name:"Hobbies",icon:"\ud83c\udfa8",color:"#f39c12",examples:["Crafts","Photography","Music instruments"]},{name:"Reference",icon:"\ud83d\udcda",color:"#8e44ad",examples:["Dictionaries","Wikipedia","Research tools"]}],E=N,A=n.data.links||{},C=n.data.linkCategories||{},k=e=>{if(!e)return"";let t=String(e).trim();if(t=t.replace(/\s+/g,""),/^https?:\/\//i.test(t))return t;return 2===t.split("/")[0].split(".").length?`https://www.${t}`:`https://${t}`},_=e=>"string"===typeof e?e.replace(/[\u0000-\u001F\u007F]/g,"").replace(/[<>]/g,""):e,D=(0,r.useMemo)(()=>{const e={};if(Array.isArray(A))A.forEach(t=>{let n="uncategorized";if(t.categoryId){n={lc1:"banking_finance",lc2:"utilities",lc3:"insurance"}[t.categoryId]||"uncategorized"}else t.category&&(n=t.category);e[n]||(e[n]=[]),e[n].push({id:t.id||Date.now().toString(),name:t.title||t.name||"Untitled",url:t.url||"",description:t.description||"",tags:t.tags||[],addedDate:t.addedDate||(new Date).toISOString()})});else if("object"===typeof A){const t=Object.values(A);t.length>0&&t[0].categoryId?t.forEach(t=>{let n="uncategorized";if(t.categoryId){n={lc1:"banking_finance",lc2:"utilities",lc3:"insurance"}[t.categoryId]||"uncategorized"}else t.category&&(n=t.category);e[n]||(e[n]=[]),e[n].push({id:t.id||Date.now().toString(),name:t.title||t.name||"Untitled",url:t.url||"",description:t.description||"",tags:t.tags||[],addedDate:t.addedDate||(new Date).toISOString()})}):Object.keys(A).forEach(t=>{Array.isArray(A[t])&&(e[t]=A[t])})}return e},[A]),j=e=>{if(!e||"string"!==typeof e)return"Invalid URL";try{let t=e;e.match(/^https?:\/\//)||(t="https://"+e);return new URL(t).hostname}catch(t){return console.warn("Invalid URL detected:",e,t),"Invalid URL"}},O=e=>{if(e&&"string"===typeof e)try{let t=e.trim();t.match(/^https?:\/\//)||(t="https://"+t),new URL(t);const n=window.open(t,"_blank","noopener,noreferrer");n&&!n.closed&&"undefined"!=typeof n.closed||alert("Popup blocked. Please allow popups for this site or manually visit: "+t)}catch(t){console.error("Error opening URL:",t),alert("Invalid URL: "+e)}else alert("Invalid URL")},M=e=>{e.target===e.currentTarget&&(c&&(F(),g(!1)),f&&(p(!1),S({name:"",icon:"\ud83d\udd17",color:"#3498db"})))};(0,r.useEffect)(()=>{if(Object.keys(D).length>0){const e={...C};let t=!1;Object.keys(D).forEach(n=>{if(!e[n]){const r=N.find(e=>e.name.toLowerCase().replace(/[^a-z0-9]/g,"_")===n);r&&(e[n]={name:r.name,icon:r.icon,color:r.color,createdDate:(new Date).toISOString()},t=!0)}}),t&&a.updateData({...n.data,links:D,linkCategories:e})}},[D,C,N,a,n.data]),(0,r.useEffect)(()=>{const e=e=>{h&&!e.target.closest(".custom-select-wrapper")&&g(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[h]);const T=(e,t)=>{x(n=>({...n,[e]:"name"===e||"description"===e||"tags"===e?_(t):t}))},P=(e,t)=>{S(n=>({...n,[e]:"name"===e?m(t):t}))},F=()=>{x({name:"",url:"",description:"",category:"",tags:""}),d(!1),u(null),g(!1)},I=(0,r.useMemo)(()=>{if(!y)return A;const e={};return Object.keys(A).forEach(t=>{const n=A[t].filter(e=>e.name.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase())||e.tags&&e.tags.some(e=>e.toLowerCase().includes(y.toLowerCase())));n.length>0&&(e[t]=n)}),e},[A,y]),B=(0,r.useMemo)(()=>{let e=0,t=Object.keys(A).length,n=0;return Object.values(A).forEach(t=>{e+=t.length,n=Math.max(n,t.length)}),{totalLinks:e,totalCategories:t,largestCategorySize:n||0}},[A]),R=e=>{if(C[e])return C[e];const t=N.find(t=>t.name.toLowerCase().replace(/[^a-z0-9]/g,"_")===e);return t?{name:t.name,icon:t.icon,color:t.color}:{name:e.charAt(0).toUpperCase()+e.slice(1),icon:"\ud83d\udd17",color:"#3498db"}},z=()=>{const e={};return N.forEach(t=>{const n=t.name.toLowerCase().replace(/[^a-z0-9]/g,"_");e[n]={name:t.name,icon:t.icon,color:t.color,isDefault:!0}}),Object.keys(C).forEach(t=>{e[t]={...C[t],isDefault:!1}}),e};return(0,o.jsxs)("div",{className:"links-page",children:[(0,o.jsx)("div",{className:"links-header",children:(0,o.jsxs)("div",{className:"header-content",children:[(0,o.jsxs)("div",{className:"header-text",children:[(0,o.jsxs)("h1",{className:"page-title",children:[(0,o.jsx)("span",{className:"title-icon",children:"\ud83d\udd17"}),"My Links Hub"]}),(0,o.jsx)("p",{className:"page-description",children:"Organize and access all your important websites in one place. From banking and utilities to shopping and work resources - keep everything at your fingertips."})]}),(0,o.jsxs)("div",{className:"header-stats",children:[(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("div",{className:"stat-number",children:B.totalLinks}),(0,o.jsx)("div",{className:"stat-label",children:"Total Links"})]}),(0,o.jsxs)("div",{className:"stat-card",children:[(0,o.jsx)("div",{className:"stat-number",children:B.totalCategories}),(0,o.jsx)("div",{className:"stat-label",children:"Categories"})]})]})]})}),(0,o.jsxs)("div",{className:"action-bar",children:[(0,o.jsxs)("div",{className:"primary-actions",children:[(0,o.jsxs)(gb,{variant:"primary",onClick:()=>d(!0),className:"add-link-btn",children:[(0,o.jsx)("span",{children:"+"})," Add New Link"]}),(0,o.jsxs)(gb,{variant:"success",onClick:()=>p(!0),className:"add-category-btn",children:[(0,o.jsx)("span",{children:"\ud83d\udcc1"})," New Category"]})]}),(0,o.jsxs)("div",{className:"secondary-actions",children:[(0,o.jsxs)("div",{className:"search-box",children:[(0,o.jsx)(aQ,{type:"text",placeholder:"Search links...",value:y,onChange:e=>v(e.target.value),className:"search-input"}),(0,o.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,o.jsxs)(gb,{variant:"outline",onClick:()=>{const e={exportDate:(new Date).toISOString(),version:"1.0",links:A,categories:C},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=`my-links-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},className:"export-btn",children:[(0,o.jsx)("span",{children:"\ud83d\udce4"})," Export"]})]})]}),0===B.totalLinks&&(0,o.jsxs)("div",{className:"empty-state",children:[(0,o.jsxs)("div",{className:"empty-content",children:[(0,o.jsx)("div",{className:"empty-icon",children:"\ud83d\ude80"}),(0,o.jsx)("h2",{children:"Let's Get Started!"}),(0,o.jsx)("p",{children:"Create your first category and add links to websites you visit frequently. Choose from our suggested categories below or create your own."}),(0,o.jsx)("div",{className:"empty-actions",children:(0,o.jsx)(gb,{variant:"primary",onClick:()=>d(!0),size:"lg",children:"Add Your First Link"})})]}),(0,o.jsxs)("div",{className:"suggested-categories",children:[(0,o.jsx)("h4",{children:"Suggested Categories"}),(0,o.jsx)("div",{className:"suggestions-grid",children:E.map((e,t)=>{const n=e.name.toLowerCase().replace(/[^a-z0-9]/g,"").replace(/finance|medical|professional|garden/,"");return(0,o.jsxs)("div",{className:"suggestion-card","data-category":n,onClick:()=>{return S({name:(t=e).name,icon:t.icon,color:t.color}),void p(!0);var t},style:{"--suggestion-color":e.color,"--suggestion-color-light":e.color+"90"},children:[(0,o.jsxs)("div",{className:"suggestion-header",children:[(0,o.jsx)("span",{className:"suggestion-icon",style:{color:e.color},children:e.icon}),(0,o.jsx)("span",{className:"suggestion-name",children:e.name})]}),(0,o.jsx)("div",{className:"suggestion-examples",children:e.examples.join(", ")})]},t)})})]})]}),f&&(0,o.jsx)("div",{className:"modal-backdrop",onClick:M,children:(0,o.jsxs)(eL,{className:"form-modal",children:[(0,o.jsxs)("div",{className:"form-header",children:[(0,o.jsx)("h3",{children:"Create New Category"}),(0,o.jsx)(gb,{variant:"outline",size:"sm",onClick:()=>p(!1),children:"\u2715"})]}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!w.name)return void alert("Please provide a category name.");const t=w.name.toLowerCase().replace(/[^a-z0-9]/g,"_"),r={...C,[t]:{name:w.name,icon:w.icon,color:w.color,createdDate:(new Date).toISOString()}};a.updateData({...n.data,linkCategories:r}),S({name:"",icon:"\ud83d\udd17",color:"#3498db"}),p(!1),x(e=>({...e,category:t})),d(!0)},className:"category-form",children:[(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Category Name *"}),(0,o.jsx)(aQ,{type:"text",value:w.name,onChange:e=>P("name",e.target.value),placeholder:"e.g., Banking & Finance",required:!0})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Icon"}),(0,o.jsx)(aQ,{type:"text",value:w.icon,onChange:e=>P("icon",e.target.value),placeholder:"\ud83d\udd17"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Color"}),(0,o.jsx)(aQ,{type:"color",value:w.color,onChange:e=>P("color",e.target.value)})]})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)(gb,{type:"submit",variant:"primary",children:"Create Category"}),(0,o.jsx)(gb,{type:"button",variant:"secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),c&&(0,o.jsx)("div",{className:"modal-backdrop",onClick:M,children:(0,o.jsxs)(eL,{className:"form-modal",children:[(0,o.jsxs)("div",{className:"form-header",children:[(0,o.jsx)("h3",{children:l?"Edit Link":"Add New Link"}),(0,o.jsx)(gb,{variant:"outline",size:"sm",onClick:F,children:"\u2715"})]}),(0,o.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),console.log("Form data being submitted:",b),!(e=>{if(!e.name||!e.url||!e.category)return!1;const t=k(e.url);try{return new URL(t),!0}catch{return!1}})(b))return void alert("Please provide a valid name, URL, and category.");const t=b.category,r={...D};r[t]||(r[t]=[]);const i=k(b.url),o={...b,url:i,id:l?l.id:Date.now().toString(),addedDate:l?l.addedDate:(new Date).toISOString(),tags:b.tags?b.tags.split(",").map(e=>e.trim()):[]};if(console.log("Link item created:",o),l){const e=r[t].findIndex(e=>e.id===l.id);-1!==e&&(r[t][e]=o)}else r[t].push(o);console.log("Updated links data:",r);const s={...C};if(!s[t]){const e=N.find(e=>e.name.toLowerCase().replace(/[^a-z0-9]/g,"_")===t);e&&(s[t]={name:e.name,icon:e.icon,color:e.color,createdDate:(new Date).toISOString()})}a.updateData({...n.data,links:r,linkCategories:s}),alert(`Link "${o.name}" ${l?"updated":"added"} successfully!`),F()},className:"link-form",children:[(0,o.jsxs)("div",{className:"form-grid",children:[(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Link Name *"}),(0,o.jsx)(aQ,{type:"text",value:b.name,onChange:e=>T("name",e.target.value),placeholder:"e.g., TD Canada Trust",required:!0}),(0,o.jsx)("small",{className:"form-help",children:"Enter any name - spaces and special characters are allowed"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"URL *"}),(0,o.jsx)(aQ,{type:"text",value:b.url,onChange:e=>T("url",e.target.value),placeholder:"example.com or https://example.com",required:!0}),(0,o.jsx)("small",{className:"form-help",children:"Enter a domain (e.g., google.com) or full URL (e.g., https://google.com)"})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Category *"}),(0,o.jsxs)("div",{className:"custom-select-wrapper",children:[(0,o.jsxs)("div",{className:`custom-select ${h?"open":""} ${b.category?"":"error"}`,onClick:()=>g(!h),children:[(0,o.jsxs)("div",{className:"select-display",children:[b.category?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"category-icon",children:null===(e=z()[b.category])||void 0===e?void 0:e.icon}),(0,o.jsx)("span",{children:null===(t=z()[b.category])||void 0===t?void 0:t.name})]}):(0,o.jsx)("span",{className:"placeholder "+(b.category?"":"error"),children:"Select a category *"}),(0,o.jsx)("span",{className:"dropdown-arrow "+(h?"up":"down"),children:"\u25bc"})]}),h&&(0,o.jsx)("div",{className:"custom-dropdown",children:(0,o.jsx)("div",{className:"dropdown-list",children:Object.keys(z()).sort((e,t)=>{const n=z()[e],r=z()[t];return n.isDefault&&!r.isDefault?-1:!n.isDefault&&r.isDefault?1:n.name.localeCompare(r.name)}).map(e=>{const t=z()[e];return(0,o.jsxs)("div",{className:"dropdown-option "+(b.category===e?"selected":""),onClick:t=>{t.stopPropagation(),console.log("Selected category:",e),T("category",e),g(!1)},children:[(0,o.jsx)("span",{className:"option-icon",children:t.icon}),(0,o.jsx)("span",{className:"option-text",children:t.name})]},e)})})})]}),(0,o.jsx)("input",{type:"hidden",value:b.category,required:!0,onChange:()=>{}})]})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"Description"}),(0,o.jsx)(aQ,{type:"text",value:b.description,onChange:e=>T("description",e.target.value),placeholder:"Optional description"})]}),(0,o.jsxs)("div",{className:"form-group full-width",children:[(0,o.jsx)("label",{children:"Tags"}),(0,o.jsx)(aQ,{type:"text",value:b.tags,onChange:e=>T("tags",e.target.value),placeholder:"banking, finance, credit (comma separated)"})]})]}),(0,o.jsxs)("div",{className:"form-actions",children:[(0,o.jsx)(gb,{type:"submit",variant:"primary",children:l?"Update Link":"Add Link"}),(0,o.jsx)(gb,{type:"button",variant:"secondary",onClick:F,children:"Cancel"})]})]})]})}),B.totalLinks>0&&(0,o.jsx)("div",{className:"links-grid",children:Object.keys(I).map(e=>{const t=I[e],r=R(e),l=i===e;return(0,o.jsxs)(eL,{className:"category-card",children:[(0,o.jsxs)("div",{className:"category-header",style:{borderLeft:`4px solid ${r.color}`},children:[(0,o.jsxs)("button",{className:"category-toggle",onClick:()=>s(l?null:e),children:[(0,o.jsx)("span",{className:"category-icon",style:{color:r.color},children:r.icon}),(0,o.jsxs)("div",{className:"category-info",children:[(0,o.jsx)("span",{className:"category-name",children:r.name}),(0,o.jsxs)("span",{className:"category-count",children:[t.length," ",1===t.length?"link":"links"]})]}),(0,o.jsx)("span",{className:"expand-icon",children:l?"\u25bc":"\u25b6"})]}),(0,o.jsx)("div",{className:"category-actions",children:(0,o.jsx)(gb,{variant:"outline",size:"sm",onClick:()=>{const t=N.find(t=>t.name.toLowerCase().replace(/[^a-z0-9]/g,"_")===e);if(t&&!C[e]){const r={...C,[e]:{name:t.name,icon:t.icon,color:t.color,createdDate:(new Date).toISOString()}};a.updateData({...n.data,linkCategories:r})}x(t=>({...t,category:e})),d(!0)},children:"+ Add"})})]}),l&&(0,o.jsx)("div",{className:"category-content",children:(0,o.jsx)("div",{className:"links-list",children:t.map(t=>(0,o.jsxs)("div",{className:"link-item",children:[(0,o.jsxs)("div",{className:"link-main",children:[(0,o.jsxs)("button",{className:"link-button",onClick:()=>O(t.url),style:{color:r.color},title:`Click to visit ${t.name}`,children:[(0,o.jsx)("span",{className:"link-icon",children:"\ud83d\udd17"}),(0,o.jsxs)("div",{className:"link-info",children:[(0,o.jsx)("div",{className:"link-name",children:t.name}),(0,o.jsx)("div",{className:"link-url",children:j(t.url)})]})]}),t.description&&(0,o.jsx)("div",{className:"link-description",children:t.description}),t.tags&&t.tags.length>0&&(0,o.jsx)("div",{className:"link-tags",children:t.tags.map((e,t)=>(0,o.jsx)("span",{className:"tag",children:e},t))}),(0,o.jsxs)("div",{className:"link-metadata",children:["Added ",new Date(t.addedDate).toLocaleDateString()]})]}),(0,o.jsxs)("div",{className:"link-actions",children:[(0,o.jsx)(gb,{variant:"primary",size:"sm",onClick:e=>{e.stopPropagation(),O(t.url)},children:"Visit"}),(0,o.jsx)(gb,{variant:"outline",size:"sm",onClick:n=>{n.stopPropagation(),((e,t)=>{x({name:t.name||"",url:t.url||"",description:t.description||"",category:e,tags:t.tags?t.tags.join(", "):""}),u({...t,category:e}),d(!0)})(e,t)},children:"Edit"}),(0,o.jsx)(gb,{variant:"danger",size:"sm",onClick:n=>{n.stopPropagation(),((e,t)=>{if(window.confirm("Are you sure you want to delete this link?")){const n={...A};n[e]=n[e].filter(e=>e.id!==t),a.updateLinks(n)}})(e,t.id)},children:"Delete"})]})]},t.id))})})]},e)})}),B.totalLinks>0&&(0,o.jsxs)(eL,{className:"quick-access-section",children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("span",{children:"\u26a1"}),"Quick Access"]}),(0,o.jsx)("div",{className:"quick-links-grid",children:Object.keys(D).map(e=>{const t=D[e]||[],n=R(e);return 0===t.length?null:(0,o.jsxs)("div",{className:"quick-category",children:[(0,o.jsxs)("div",{className:"quick-category-header",children:[(0,o.jsx)("span",{className:"quick-icon",style:{color:n.color},children:n.icon}),(0,o.jsx)("span",{className:"quick-name",children:n.name})]}),(0,o.jsxs)("div",{className:"quick-links",children:[t.slice(0,4).map(e=>(0,o.jsx)("button",{className:"quick-link",onClick:()=>O(e.url),title:`Visit ${e.name} - ${e.url}`,children:e.name},e.id)),t.length>4&&(0,o.jsxs)("button",{className:"quick-more",onClick:()=>s(e),children:["+",t.length-4," more"]})]})]},e)})})]})]})},dQ=()=>{const{state:e}=H();switch(e.currentPage||"home"){case"home":default:return(0,o.jsx)(sL,{});case"income":return(0,o.jsx)(hL,{});case"monthly":return(0,o.jsx)(gL,{});case"annual":return(0,o.jsx)(vL,{});case"accounts":return(0,o.jsx)(bL,{});case"planner":return(0,o.jsx)(xL,{});case"reports":return(0,o.jsx)(AL,{});case"notes":return(0,o.jsx)(lQ,{});case"import":return(0,o.jsx)(uQ,{});case"links":return(0,o.jsx)(cQ,{})}},fQ=()=>{const{state:e,actions:t}=H(),n=!!e.isCalculatorOpen;return(0,o.jsxs)("div",{className:"app",children:[(0,o.jsx)(db,{}),(0,o.jsx)(K,{}),(0,o.jsx)("main",{className:"main-content",children:(0,o.jsx)(dQ,{})}),n&&(0,i.createPortal)((0,o.jsx)(hb,{onClose:t.toggleCalculator}),document.body)]})},pQ=()=>(0,o.jsx)(u,{children:(0,o.jsx)(W,{children:(0,o.jsx)(fQ,{})})}),hQ=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),r(e),a(e),i(e),o(e)})};a.createRoot(document.getElementById("root")).render((0,o.jsx)(r.StrictMode,{children:(0,o.jsx)(pQ,{})})),hQ()})()})();
//# sourceMappingURL=main.32da0539.js.map